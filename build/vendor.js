!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,o,a){for(var s,u,l,c=0,f=[];c<r.length;c++)i[u=r[c]]&&f.push(i[u][0]),i[u]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);for(n&&n(r,o,a);f.length;)f.shift()();if(a)for(c=0;c<a.length;c++)l=e(e.s=a[c]);return l};var r={},i={1:0};e.m=t,e.c=r,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/",e.oe=function(t){throw console.error(t),t}}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t,e,n,r){function o(t){if(this instanceof o)return a.call(this,t),this;var e=new o(t),n=function(t){return(t.hasOwnProperty(ki)?t[ki]:Object.defineProperty(t,ki,{value:[]})[ki]).push(e),t};return r&&r(n),n}var a=i(e);return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function i(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}function o(t,e,n){function r(){function t(t,e,n){for(var r=t.hasOwnProperty(Ti)?t[Ti]:Object.defineProperty(t,Ti,{value:[]})[Ti];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return o.apply(this,e),this;var i=new((a=r).bind.apply(a,[void 0].concat(e)));return t.annotation=i,t;var a}var o=i(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function a(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return o.apply(this,t),this;var n=new((i=r).bind.apply(i,[void 0].concat(t)));return function(t,e){var r=t.constructor,i=r.hasOwnProperty(Pi)?r[Pi]:Object.defineProperty(r,Pi,{value:{}})[Pi];i[e]=i.hasOwnProperty(e)&&i[e]||[],i[e].unshift(n)};var i}var o=i(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function s(t){return null==t||t===Li.Default}function u(){if(!uo){var t=ao.Symbol;if(t&&t.iterator)uo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(uo=r)}}return uo}function l(t){"undefined"==typeof Zone?so.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function c(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function f(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function p(t){return t.__forward_ref__=p,t.toString=function(){return f(this())},t}function d(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===p?t():t}function h(t){var e=function(t){var e=go,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=d(n[r]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var u=s[a];u instanceof Qi||u==Qi?i|=1:u instanceof no||u==no?i&=-3:u instanceof eo||u==eo?i&=-5:o=u instanceof Ji?u.token:d(u)}e.push({token:o,options:i})}}else if(t.useExisting){var o=d(t.useExisting);e=[{token:o,options:6}]}else if(!(n||wo in t))throw b("'deps' required",t);return e}(t),n=mo,r=go,i=!1,o=d(t.provide);if(wo in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=d(t.useClass);else{if("function"!=typeof o)throw b("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}function m(t){return b("Cannot mix multi providers and regular providers",t)}function g(t,e){if(e)if((e=d(e))instanceof Array)for(var n=0;n<e.length;n++)g(t,e[n]);else{if("function"==typeof e)throw b("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw b("Unexpected provider",e);var r=d(e.provide),i=h(e);if(!0===e.multi){var o=t.get(r);if(o){if(o.fn!==yo)throw m(r)}else t.set(r,o={token:e.provide,deps:[],useNew:!1,fn:yo,value:go});o.deps.push({token:r=e,options:6})}var a=t.get(r);if(a&&a.fn==yo)throw m(r);t.set(r,i)}}function v(t,e,n,r,i){try{return function(t,e,n,r,i){var o;if(e){if((o=e.value)==vo)throw Error(So+"Circular dependency");if(o===go){e.value=vo;var a=void 0,s=e.useNew,u=e.fn,l=e.deps,c=go;if(l.length){c=[];for(var f=0;f<l.length;f++){var p=l[f],d=p.options,h=2&d?n.get(p.token):void 0;c.push(v(p.token,h,n,h||4&d?r:Eo,1&d?null:ho.THROW_IF_NOT_FOUND))}}e.value=o=s?new((m=u).bind.apply(m,[void 0].concat(c))):u.apply(a,c)}}else o=r.get(t,i);return o;var m}(t,e,n,r,i)}catch(n){n instanceof Error||(n=new Error(n));throw(n[xo]=n[xo]||[]).unshift(t),e&&e.value==vo&&(e.value=go),n}}function y(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==So?t.substr(2):t;var r=f(e);if(e instanceof Array)r=e.map(f).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):f(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Co,"\n  ")}function b(t,e){return new Error(y(t,e))}function _(t){return t[ko]}function w(t){return t[To]}function x(t){if(t.length>1){return" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return f(t.token)}).join(" -> ")+")"}return""}function E(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[To]=e,r}(o,r):Error(o);return a.addKey=C,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[To]=r,a}function C(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function S(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(f).join(" "):"?")}return Error("Cannot resolve all parameters for '"+f(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+f(t)+"' is decorated with Injectable.")}function O(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function k(t){return"function"==typeof t}function T(t){return t?t.map(function(t){var e=t.type.annotationCls;return new(e.bind.apply(e,[void 0].concat(t.args?t.args:[])))}):[]}function P(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function N(t){var e,n;if(t.useClass){var r=d(t.useClass);e=zo.factory(r),n=D(r)}else t.useExisting?(e=function(t){return t},n=[Fo.fromKey(Io.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return R(t,e,n)})}return D(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Bo);return new Uo(e,n)}function I(t){return new Vo(Io.get(t.provide),[N(t)],t.multi||!1)}function A(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw O(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a=void 0;a=r.multiProvider?new Vo(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(M(t,[]).map(I),new Map);return Array.from(e.values())}function M(t,e){return t.forEach(function(t){if(t instanceof Mo)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw function(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}(t);M(t,e)}}),e}function D(t){var e=zo.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw S(t,e);return e.map(function(n){return R(t,n,e)})}function R(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return j(e instanceof Ji?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof Mo?r=s:s instanceof Ji?r=s.token:s instanceof Qi?i=!0:s instanceof eo||s instanceof no?o=s:s instanceof Oi&&(r=s)}if(null!=(r=d(r)))return j(r,i,o);throw S(t,n)}function j(t,e,n){return new Fo(Io.get(t),e,n)}function L(t){return!!t&&"function"==typeof t.then}function z(t){return!!t&&"function"==typeof t.subscribe}function F(){return""+B()+B()+B()}function B(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function V(){throw new Error("Runtime compiler is not loaded")}function U(t){var e=Error("No component factory found for "+f(t)+". Did you add it to @NgModule.entryComponents?");return e[sa]=t,e}function W(){var t=ao.wtf;return!(!t||!(hi=t.trace))&&(mi=hi.events,!0)}function q(t,e){return void 0===e&&(e=null),mi.createScope(t,e)}function H(t,e){return hi.leaveScope(t,e),e}function G(t,e){return hi.beginTimeRange(t,e)}function $(t){hi.endTimeRange(t)}function Y(t,e){return null}function K(){}function X(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Z(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function J(t){t._nesting--,X(t)}function Q(t){Sa=t}function tt(){if(ka)throw new Error("Cannot enable prod mode after platform setup.");Oa=!1}function et(){return ka=!0,Oa}function nt(t){if(gi&&!gi.destroyed&&!gi.injector.get(Ta,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gi=t.get(Na);var e=t.get(Xo,null);return e&&e.forEach(function(t){return t()}),gi}function rt(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new Oi(r);return function(e){void 0===e&&(e=[]);var o=at();if(!o||o.injector.get(Ta,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});nt(ho.create({providers:a,name:r}))}return it(i)}}function it(t){var e=at();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function ot(){gi&&!gi.destroyed&&gi.destroy()}function at(){return gi&&!gi.destroyed?gi:null}function st(t,e){return t=Array.isArray(e)?e.reduce(st,t):Object(_i.__assign)({},t,e)}function ut(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function lt(t,e){var n=Va.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Va.set(t,e)}function ct(t){var e=Va.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}function ft(t){return t.reduce(function(t,e){var n=Array.isArray(e)?ft(e):e;return t.concat(n)},[])}function pt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function dt(t){return t.map(function(t){return t.nativeElement})}function ht(t,e,n){t.childNodes.forEach(function(t){t instanceof Qa&&(e(t)&&n.push(t),ht(t,e,n))})}function mt(t,e,n){t instanceof Qa&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Qa&&mt(t,e,n)})}function gt(t){return ts.get(t)||null}function vt(t){ts.set(t.nativeNode,t)}function yt(t,e){var n=bt(t),r=bt(e);if(n&&r)return function(t,e,n){var r=t[u()](),i=e[u()]();for(;;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,yt);return!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||c(t,e)}function bt(t){return!!_t(t)&&(Array.isArray(t)||!(t instanceof Map)&&u()in t)}function _t(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function wt(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function xt(){return ms}function Et(){return gs}function Ct(t){return t||"en-US"}function St(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Ot(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function kt(t,e){return t.nodes[e]}function Tt(t,e){return t.nodes[e]}function Pt(t,e){return t.nodes[e]}function Nt(t,e){return t.nodes[e]}function It(t,e){return t.nodes[e]}function At(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Mt(n,e),n}(i,t)}function Mt(t,e){t[ko]=e,t[Po]=e.logError.bind(e)}function Dt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Rt(t){var e=Ts.get(t);return e||(e=f(t)+"_"+Ts.size,Ts.set(t,e)),e}function jt(t,e,n,r){if(es.isWrapped(r)){r=es.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=es.unwrap(t.oldValues[i]);t.oldValues[i]=new es(o)}return r}function Lt(t){return{id:Ps,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function zt(t){if(t&&t.id===Ps){var e=null!=t.encapsulation&&t.encapsulation!==Ki.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Is++:Ns}return t&&t.id===Ns&&(t=null),t||null}function Ft(t,e,n,r){return!(!(2&t.state)&&c(t.oldValues[e.bindingIndex+n],r))}function Bt(t,e,n,r){return!!Ft(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Vt(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!yt(i,r)){var o=e.bindings[n].name;throw At(Os.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Ut(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Wt(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function qt(t,e,n,r){try{return Ut(33554432&t.def.nodes[e].flags?Tt(t,e).componentView:t),Os.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function Ht(t){if(t.parent){return Tt(t.parent,t.parentNodeDef.nodeIndex)}return null}function Gt(t){return t.parent?t.parentNodeDef.parent:null}function $t(t,e){switch(201347067&e.flags){case 1:return Tt(t,e.nodeIndex).renderElement;case 2:return kt(t,e.nodeIndex).renderText}}function Yt(t,e){return t?t+":"+e:e}function Kt(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Xt(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Zt(t){return 1<<t%32}function Jt(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=Zt(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Qt(t,e){return t.map(function(t){var n,r;return Array.isArray(t)?(r=t[0],n=t[1]):(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,lo,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Rt(n)}})}function te(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ki.Native?Tt(t,n.renderParent.nodeIndex).renderElement:void 0:e}function ee(t){var e=As.get(t);return e||((e=t(function(){return ks})).factory=t,As.set(t,e)),e}function ne(t,e,n,r,i){3===e&&(n=t.renderer.parentNode($t(t,t.def.lastRenderRootNode))),re(t,e,0,t.def.nodes.length-1,n,r,i)}function re(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&oe(t,u,e,i,o,a),s+=u.childCount}}function ie(t,e,n,r,i,o){for(var a=t;a&&!Kt(a);)a=a.parent;for(var s=a.parent,u=Gt(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var f=s.def.nodes[c];f.ngContentIndex===e&&oe(s,f,n,r,i,o),c+=f.childCount}if(!s.parent){var p=t.root.projectableNodes[e];if(p)for(c=0;c<p.length;c++)ae(t,p[c],n,r,i,o)}}function oe(t,e,n,r,i,o){if(8&e.flags)ie(t,e.ngContent.index,n,r,i,o);else{var a=$t(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&ae(t,a,n,r,i,o),32&e.bindingFlags){ae(Tt(t,e.nodeIndex).componentView,a,n,r,i,o)}}else ae(t,a,n,r,i,o);if(16777216&e.flags)for(var s=Tt(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)ne(s[u],n,r,i,o);1&e.flags&&!e.element.name&&re(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function ae(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}function se(t){if(":"===t[0]){var e=t.match(Ms);return[e[1],e[2]]}return["",t]}function ue(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function le(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+fe(e[r+1]);return n+e[2*t]}function ce(t,e,n,r,i,o,a,s,u,l,c,f,p,d,h,m,g,v,y,b){switch(t){case 1:return e+fe(n)+r;case 2:return e+fe(n)+r+fe(i)+o;case 3:return e+fe(n)+r+fe(i)+o+fe(a)+s;case 4:return e+fe(n)+r+fe(i)+o+fe(a)+s+fe(u)+l;case 5:return e+fe(n)+r+fe(i)+o+fe(a)+s+fe(u)+l+fe(c)+f;case 6:return e+fe(n)+r+fe(i)+o+fe(a)+s+fe(u)+l+fe(c)+f+fe(p)+d;case 7:return e+fe(n)+r+fe(i)+o+fe(a)+s+fe(u)+l+fe(c)+f+fe(p)+d+fe(h)+m;case 8:return e+fe(n)+r+fe(i)+o+fe(a)+s+fe(u)+l+fe(c)+f+fe(p)+d+fe(h)+m+fe(g)+v;case 9:return e+fe(n)+r+fe(i)+o+fe(a)+s+fe(u)+l+fe(c)+f+fe(p)+d+fe(h)+m+fe(g)+v+fe(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function fe(t){return null!=t?t.toString():""}function pe(t,e,n,r,i,o){t|=1;var a=Jt(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ee(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||ks},provider:null,text:null,query:null,ngContent:null}}function de(t,e,n,r,i,o,a,s,u,l,c,f){void 0===a&&(a=[]),l||(l=ks);var p=Jt(n),d=p.matchedQueries,h=p.references,m=p.matchedQueryIds,g=null,v=null;o&&(g=(N=se(o))[0],v=N[1]),s=s||[];for(var y=new Array(s.length),b=0;b<s.length;b++){var _=s[b],w=_[0],x=_[2],E=se(_[1]),C=E[1],S=void 0,O=void 0;switch(15&w){case 4:O=x;break;case 1:case 8:S=x}y[b]={flags:w,ns:E[0],name:C,nonMinifiedName:C,securityContext:S,suffix:O}}u=u||[];var k=new Array(u.length);for(b=0;b<u.length;b++){var T=u[b];k[b]={type:0,target:T[0],eventName:T[1],propName:null}}var P=(a=a||[]).map(function(t){var e=t[1],n=se(t[0]);return[n[0],n[1],e]});return f=zt(f),c&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:h,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:ue(y),outputs:k,element:{ns:g,name:v,attrs:P,template:null,componentProvider:null,componentView:c||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||ks},provider:null,text:null,query:null,ngContent:null};var N}function he(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=te(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u];a.setAttribute(r,l[1],l[2],l[0])}return r}function me(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=function(t,e,n){return function(r){return qt(t,e,n,r)}}(t,n.nodeIndex,Yt(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function ge(t,e,n,r){if(!Bt(t,e,n,r))return!1;var i=e.bindings[n],o=Tt(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Es.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}function ve(t,e,n,r){n=d(n);return{index:-1,deps:Qt(r,f(e)),flags:t,token:e,value:n}}function ye(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[Rt(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function be(t,e,n){if(void 0===n&&(n=ho.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Ls:case zs:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=_e(t,i)),o===js?void 0:o}return t._parent.get(e.token,n)}function _e(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(be(t,n[0]));case 2:return new e(be(t,n[0]),be(t,n[1]));case 3:return new e(be(t,n[0]),be(t,n[1]),be(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=be(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(be(t,n[0]));case 2:return e(be(t,n[0]),be(t,n[1]));case 3:return e(be(t,n[0]),be(t,n[1]),be(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=be(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=be(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?js:n}function we(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Se(i,n,r),function(t,e){var n=Ht(e);if(!n||n===t||16&e.state)return;e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;var n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Os.dirtyParentQueries(r);Ee(e,n>0?i[n-1]:null,r)}function xe(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Oe(n,e),Os.dirtyParentQueries(r),Ce(r),r}function Ee(t,e,n){var r=e?$t(e,e.def.lastRenderRootNode):t.renderElement;ne(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Ce(t){ne(t,3,null,null,void 0)}function Se(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Oe(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function ke(t,e,n,r,i,o){return new Bs(t,e,n,r,i,o)}function Te(t){return t.viewDefFactory}function Pe(t,e,n){return new Us(t,e,n)}function Ne(t){return new Ws(t)}function Ie(t,e){return new qs(t,e)}function Ae(t,e){return new Hs(t,e)}function Me(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Tt(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return kt(t,n.nodeIndex).renderText;if(20240&n.flags)return Pt(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function De(t){return new Gs(t.renderer)}function Re(t,e,n,r){return new $s(t,e,n,r)}function je(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=a[l];u[c[0]]={flags:8,name:l,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var p in s)f.push({type:1,propName:p,target:null,eventName:s[p]});return e|=16384,Fe(t,e,n,r,i,i,o,u,f)}function Le(t,e,n){return t|=16,Fe(-1,t,null,0,e,e,n)}function ze(t,e,n,r,i){return Fe(-1,t,e,0,n,r,i)}function Fe(t,e,n,r,i,o,a,s,u){var l=Jt(n),c=l.matchedQueries,p=l.references,h=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=d(o);var m=Qt(a,f(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:ue(s),outputs:u,element:null,provider:{token:i,value:o,deps:m},text:null,query:null,ngContent:null}}function Be(t,e){return We(t,e)}function Ve(t,e){for(var n=t;n.parent&&!Kt(n);)n=n.parent;return qe(n.parent,Gt(n),!0,e.provider.value,e.provider.deps)}function Ue(t,e){var n=qe(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(function(t,e,n){return function(r){return qt(t,e,n,r)}}(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function We(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return qe(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(He(t,e,n,i[0]));case 2:return r(He(t,e,n,i[0]),He(t,e,n,i[1]));case 3:return r(He(t,e,n,i[0]),He(t,e,n,i[1]),He(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=He(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return He(t,e.parent,n,r.deps[0]);case 256:return r.value}}function qe(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(He(t,e,n,i[0]));case 2:return new r(He(t,e,n,i[0]),He(t,e,n,i[1]));case 3:return new r(He(t,e,n,i[0]),He(t,e,n,i[1]),He(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=He(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}function He(t,e,n,r,i){if(void 0===i&&(i=ho.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;for(a===Qs&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case Ys:return De(Ge(t,e,n));case Ks:return Ge(t,e,n).renderer;case Xs:return new Fa(Tt(t,e.nodeIndex).renderElement);case Zs:return Tt(t,e.nodeIndex).viewContainer;case Js:if(e.element.template)return Tt(t,e.nodeIndex).template;break;case Qs:return Ne(Ge(t,e,n));case tu:return Ae(t,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var u=Pt(t,s.nodeIndex);return u||(u={instance:We(t,s)},t.nodes[s.nodeIndex]=u),u.instance}}n=Kt(t),e=Gt(t),t=t.parent}var l=o.root.injector.get(r.token,eu);return l!==eu||i===eu?l:o.root.ngModule.injector.get(r.token,i)}function Ge(t,e,n){var r;if(n)r=Tt(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Kt(r);)r=r.parent;return r}function $e(t,e,n,r,i,o){if(32768&n.flags){var a=Tt(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=es.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new ns(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ye(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Ke(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=function(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Ke(t,i,o.flags&n,r++),i+=o.childCount}return r}(t,a,e,r)),a=a.parent}}function Ke(t,e,n,r){var i=Pt(t,e);if(i){var o=i.instance;o&&(Os.setCurrentNode(t,e),1048576&n&&Ot(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Ot(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Xe(t,e,n){var r=[];for(var i in n){r.push({propName:i,bindingType:n[i]})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Zt(e),bindings:r},ngContent:null}}function Ze(){return new Ua}function Je(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Xt(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&It(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&It(t,i).setDirty(),i+=o.childCount}}function Qe(t,e){var n=It(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=tn(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Pt(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=tn(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function tn(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(en(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Tt(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(tn(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var f=l[c],p=Ht(f);p&&p===u&&tn(f,0,f.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(c=0;c<d.length;c++){var h=d[c];tn(h,0,h.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function en(t,e,n){if(null!=n)switch(n){case 1:return Tt(t,e.nodeIndex).renderElement;case 0:return new Fa(Tt(t,e.nodeIndex).renderElement);case 2:return Tt(t,e.nodeIndex).template;case 3:return Tt(t,e.nodeIndex).viewContainer;case 4:return Pt(t,e.nodeIndex).instance}}function nn(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function rn(t,e,n){var r=te(t,e,n);if(r){ie(t,n.ngContent.index,1,r,null,void 0)}}function on(t,e){return un(128,t,new Array(e+1))}function an(t,e){return un(32,t,new Array(e))}function sn(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return un(64,t,i)}function un(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ue(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ln(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function cn(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=te(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function fn(t,e){return(null!=t?t.toString():"")+e.suffix}function pn(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,f=!1,p=!1,d=null,h=0;h<e.length;h++){var m=e[h];if(m.nodeIndex=h,m.parent=l,m.bindingIndex=i,m.outputIndex=o,m.renderParent=c,a|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,f=!1,p=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(function(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags){var i=t?t.flags:0;if(0==(1&i))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!")}if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}(l,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(d=m),20224&m.flags){f||(f=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var v=0!=(32768&m.flags);!(0!=(8192&m.flags))||v?l.element.publicProviders[Rt(m.provider.token)]=m:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Rt(m.provider.token)]=m),v&&(l.element.componentProvider=m)}if(l?(l.childFlags|=m.flags,l.directChildFlags|=m.flags,l.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(l.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)l=m,dn(m)||(c=m);else for(;l&&h===l.nodeIndex+l.childCount;){var y=l.parent;y&&(y.childFlags|=l.childFlags,y.childMatchedQueries|=l.childMatchedQueries),c=(l=y)&&dn(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ks,updateRenderer:r||ks,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function dn(t){return 0!=(1&t.flags)&&null===t.element.name}function hn(t,e,n,r){var i=vn(t.root,t.renderer,t,e,n);return yn(i,t.component,r),bn(i),i}function mn(t,e,n){var r=vn(t,t.renderer,null,null,e);return yn(r,n,n),bn(r),r}function gn(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,vn(t.root,i,t,e.element.componentProvider,n)}function vn(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function yn(t,e,n){t.component=e,t.context=n}function bn(t){var e;if(Kt(t)){e=Tt(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement}for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Os.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=he(t,e,o),u=void 0;if(33554432&o.flags){var l=ee(o.element.componentView);u=Os.createComponentView(t,o,l,s)}me(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Ie(t,o):void 0},16777216&o.flags&&(a.viewContainer=Pe(t,o,a));break;case 2:a=cn(t,e,o);break;case 512:case 1024:case 2048:case 256:if(!((a=r[i])||4096&o.flags)){a={instance:Be(t,o)}}break;case 16:a={instance:Ve(t,o)};break;case 16384:if(!(a=r[i])){a={instance:Ue(t,o)}}if(32768&o.flags){yn(Tt(t,o.parent.nodeIndex).componentView,a.instance,a.instance)}break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=Ze();break;case 8:rn(t,e,o),a=void 0}r[i]=a}kn(t,nu.CreateViewNodes),In(t,201326592,268435456,0)}function _n(t){En(t),Os.updateDirectives(t,1),Tn(t,nu.CheckNoChanges),Os.updateRenderer(t,1),kn(t,nu.CheckNoChanges),t.state&=-97}function wn(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,St(t,0,256),En(t),Os.updateDirectives(t,0),Tn(t,nu.CheckAndUpdate),In(t,67108864,536870912,0);var e=St(t,256,512);Ye(t,2097152|(e?1048576:0)),Os.updateRenderer(t,0),kn(t,nu.CheckAndUpdate),In(t,134217728,536870912,0),Ye(t,8388608|((e=St(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,St(t,768,1024)}function xn(t,e,n,r,i,o,a,s,u,l,c,f,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,f){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,f){var p=e.bindings.length,d=!1;return p>0&&ge(t,e,0,n)&&(d=!0),p>1&&ge(t,e,1,r)&&(d=!0),p>2&&ge(t,e,2,i)&&(d=!0),p>3&&ge(t,e,3,o)&&(d=!0),p>4&&ge(t,e,4,a)&&(d=!0),p>5&&ge(t,e,5,s)&&(d=!0),p>6&&ge(t,e,6,u)&&(d=!0),p>7&&ge(t,e,7,l)&&(d=!0),p>8&&ge(t,e,8,c)&&(d=!0),p>9&&ge(t,e,9,f)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,l,c,f);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,f){var p=!1,d=e.bindings,h=d.length;if(h>0&&Bt(t,e,0,n)&&(p=!0),h>1&&Bt(t,e,1,r)&&(p=!0),h>2&&Bt(t,e,2,i)&&(p=!0),h>3&&Bt(t,e,3,o)&&(p=!0),h>4&&Bt(t,e,4,a)&&(p=!0),h>5&&Bt(t,e,5,s)&&(p=!0),h>6&&Bt(t,e,6,u)&&(p=!0),h>7&&Bt(t,e,7,l)&&(p=!0),h>8&&Bt(t,e,8,c)&&(p=!0),h>9&&Bt(t,e,9,f)&&(p=!0),p){var m=e.text.prefix;h>0&&(m+=fn(n,d[0])),h>1&&(m+=fn(r,d[1])),h>2&&(m+=fn(i,d[2])),h>3&&(m+=fn(o,d[3])),h>4&&(m+=fn(a,d[4])),h>5&&(m+=fn(s,d[5])),h>6&&(m+=fn(u,d[6])),h>7&&(m+=fn(l,d[7])),h>8&&(m+=fn(c,d[8])),h>9&&(m+=fn(f,d[9]));var g=kt(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return p}(t,e,n,r,i,o,a,s,u,l,c,f);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,f){var p=Pt(t,e.nodeIndex),d=p.instance,h=!1,m=void 0,g=e.bindings.length;return g>0&&Ft(t,e,0,n)&&(h=!0,m=$e(t,p,e,0,n,m)),g>1&&Ft(t,e,1,r)&&(h=!0,m=$e(t,p,e,1,r,m)),g>2&&Ft(t,e,2,i)&&(h=!0,m=$e(t,p,e,2,i,m)),g>3&&Ft(t,e,3,o)&&(h=!0,m=$e(t,p,e,3,o,m)),g>4&&Ft(t,e,4,a)&&(h=!0,m=$e(t,p,e,4,a,m)),g>5&&Ft(t,e,5,s)&&(h=!0,m=$e(t,p,e,5,s,m)),g>6&&Ft(t,e,6,u)&&(h=!0,m=$e(t,p,e,6,u,m)),g>7&&Ft(t,e,7,l)&&(h=!0,m=$e(t,p,e,7,l,m)),g>8&&Ft(t,e,8,c)&&(h=!0,m=$e(t,p,e,8,c,m)),g>9&&Ft(t,e,9,f)&&(h=!0,m=$e(t,p,e,9,f,m)),m&&d.ngOnChanges(m),65536&e.flags&&Ot(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),h}(t,e,n,r,i,o,a,s,u,l,c,f);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,f){var p=e.bindings,d=!1,h=p.length;if(h>0&&Bt(t,e,0,n)&&(d=!0),h>1&&Bt(t,e,1,r)&&(d=!0),h>2&&Bt(t,e,2,i)&&(d=!0),h>3&&Bt(t,e,3,o)&&(d=!0),h>4&&Bt(t,e,4,a)&&(d=!0),h>5&&Bt(t,e,5,s)&&(d=!0),h>6&&Bt(t,e,6,u)&&(d=!0),h>7&&Bt(t,e,7,l)&&(d=!0),h>8&&Bt(t,e,8,c)&&(d=!0),h>9&&Bt(t,e,9,f)&&(d=!0),d){var m=Nt(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(p.length),h>0&&(g[0]=n),h>1&&(g[1]=r),h>2&&(g[2]=i),h>3&&(g[3]=o),h>4&&(g[4]=a),h>5&&(g[5]=s),h>6&&(g[6]=u),h>7&&(g[7]=l),h>8&&(g[8]=c),h>9&&(g[9]=f);break;case 64:g={},h>0&&(g[p[0].name]=n),h>1&&(g[p[1].name]=r),h>2&&(g[p[2].name]=i),h>3&&(g[p[3].name]=o),h>4&&(g[p[4].name]=a),h>5&&(g[p[5].name]=s),h>6&&(g[p[6].name]=u),h>7&&(g[p[7].name]=l),h>8&&(g[p[8].name]=c),h>9&&(g[p[9].name]=f);break;case 128:var v=n;switch(h){case 1:g=v.transform(n);break;case 2:g=v.transform(r);break;case 3:g=v.transform(r,i);break;case 4:g=v.transform(r,i,o);break;case 5:g=v.transform(r,i,o,a);break;case 6:g=v.transform(r,i,o,a,s);break;case 7:g=v.transform(r,i,o,a,s,u);break;case 8:g=v.transform(r,i,o,a,s,u,l);break;case 9:g=v.transform(r,i,o,a,s,u,l,c);break;case 10:g=v.transform(r,i,o,a,s,u,l,c,f)}}m.value=g}return d}(t,e,n,r,i,o,a,s,u,l,c,f);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)ge(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Bt(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=fn(n[o],r[o]);a=e.text.prefix+a;var s=kt(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Pt(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Ft(t,e,s,n[s])&&(o=!0,a=$e(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Ot(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Bt(t,e,o,n[o])&&(i=!0);if(i){var a=Nt(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,l)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function En(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Tt(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Wt(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Cn(t,e,n,r,i,o,a,s,u,l,c,f,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,f){var p=e.bindings.length;p>0&&Vt(t,e,0,n);p>1&&Vt(t,e,1,r);p>2&&Vt(t,e,2,i);p>3&&Vt(t,e,3,o);p>4&&Vt(t,e,4,a);p>5&&Vt(t,e,5,s);p>6&&Vt(t,e,6,u);p>7&&Vt(t,e,7,l);p>8&&Vt(t,e,8,c);p>9&&Vt(t,e,9,f)}(t,e,r,i,o,a,s,u,l,c,f,p):function(t,e,n){for(var r=0;r<n.length;r++)Vt(t,e,r,n[r])}(t,e,r),!1}function Sn(t,e){if(It(t,e.nodeIndex).dirty)throw At(Os.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function On(t){if(!(128&t.state)){if(Tn(t,nu.Destroy),kn(t,nu.Destroy),Ye(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Ht(t);if(e){var n=e.template._projectedViews;n&&(Oe(n,n.indexOf(t)),Os.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Tt(t,n).renderElement):2&r.flags?t.renderer.destroyNode(kt(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&It(t,n).destroy()}}(t),Kt(t)&&t.renderer.destroy(),t.state|=128}}function kn(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Pn(Tt(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Tn(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Tt(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Pn(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Pn(t,e){var n=t.state;switch(e){case nu.CheckNoChanges:0==(128&n)&&(12==(12&n)?_n(t):64&n&&Nn(t,nu.CheckNoChangesProjectedViews));break;case nu.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?_n(t):64&n&&Nn(t,e));break;case nu.CheckAndUpdate:0==(128&n)&&(12==(12&n)?wn(t):64&n&&Nn(t,nu.CheckAndUpdateProjectedViews));break;case nu.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?wn(t):64&n&&Nn(t,e));break;case nu.Destroy:On(t);break;case nu.CreateViewNodes:bn(t)}}function Nn(t,e){Tn(t,e),kn(t,e)}function In(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Os.setCurrentNode(t,a.nodeIndex),r){case 0:Qe(t,a);break;case 1:Sn(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}function An(){if(!ru){ru=!0;var t=et()?{setCurrentNode:Yn,createRootView:Dn,createEmbeddedView:jn,createComponentView:Ln,createNgModuleRef:zn,overrideProvider:Fn,overrideComponentView:Bn,clearOverrides:Vn,checkAndUpdateView:Hn,checkNoChangesView:Gn,destroyView:$n,createDebugContext:function(t,e){return new uu(t,e)},handleEvent:Kn,updateDirectives:Xn,updateRenderer:Zn}:{setCurrentNode:function(){},createRootView:Mn,createEmbeddedView:hn,createComponentView:gn,createNgModuleRef:Re,overrideProvider:ks,overrideComponentView:ks,clearOverrides:ks,checkAndUpdateView:wn,checkNoChangesView:_n,destroyView:On,createDebugContext:function(t,e){return new uu(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Wn:qn,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Wn:qn,t)}};Os.setCurrentNode=t.setCurrentNode,Os.createRootView=t.createRootView,Os.createEmbeddedView=t.createEmbeddedView,Os.createComponentView=t.createComponentView,Os.createNgModuleRef=t.createNgModuleRef,Os.overrideProvider=t.overrideProvider,Os.overrideComponentView=t.overrideComponentView,Os.clearOverrides=t.clearOverrides,Os.checkAndUpdateView=t.checkAndUpdateView,Os.checkNoChangesView=t.checkNoChangesView,Os.destroyView=t.destroyView,Os.resolveDep=He,Os.createDebugContext=t.createDebugContext,Os.handleEvent=t.handleEvent,Os.updateDirectives=t.updateDirectives,Os.updateRenderer=t.updateRenderer,Os.dirtyParentQueries=Je}}function Mn(t,e,n,r,i,o){return mn(Rn(t,i,i.injector.get(ja),e,n),r,o)}function Dn(t,e,n,r,i,o){var a=i.injector.get(ja),s=Rn(t,i,new lu(a),e,n),u=Un(r);return rr(au.create,mn,null,[s,u,o])}function Rn(t,e,n,r,i){var o=e.injector.get(Cs),a=e.injector.get(No);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function jn(t,e,n,r){var i=Un(n);return rr(au.create,hn,null,[t,e,i,r])}function Ln(t,e,n,r){var i=ou.get(e.element.componentProvider.provider.token);return n=i||Un(n),rr(au.create,gn,null,[t,e,n,r])}function zn(t,e,n,r){return Re(t,e,n,function(t){var e=function(t){var e=!1,n=!1;if(0===iu.size)return{hasOverrides:e,hasDeprecatedOverrides:n};return t.providers.forEach(function(t){var r=iu.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n}}(t),n=e.hasDeprecatedOverrides;if(!e.hasOverrides)return t;return t=t.factory(function(){return ks}),function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=iu.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Qt(i.deps),r.value=i.value)}}(t),t}(r))}function Fn(t){iu.set(t.token,t)}function Bn(t,e){var n=ee(ee(Te(e)).nodes[0].element.componentView);ou.set(t,n)}function Vn(){iu.clear(),ou.clear()}function Un(t){if(0===iu.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&iu.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return ks});for(var n=0;n<e.length;n++)!function(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=iu.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Qt(o.deps),i.value=o.value)}}}(t,e[n]);return t}function Wn(t,e,n,r,i,o,a,s,u,l,c,f,p){var d=t.def.nodes[e];return xn(t,d,n,r,i,o,a,s,u,l,c,f,p),224&d.flags?Nt(t,e).value:void 0}function qn(t,e,n,r,i,o,a,s,u,l,c,f,p){var d=t.def.nodes[e];return Cn(t,d,n,r,i,o,a,s,u,l,c,f,p),224&d.flags?Nt(t,e).value:void 0}function Hn(t){return rr(au.detectChanges,wn,null,[t])}function Gn(t){return rr(au.checkNoChanges,_n,null,[t])}function $n(t){return rr(au.destroy,On,null,[t])}function Yn(t,e){yi=t,bi=e}function Kn(t,e,n,r){return Yn(t,e),rr(au.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Xn(t,e){if(128&t.state)throw Dt(au[vi]);return Yn(t,tr(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Jn(t,a,r,i):Qn(t,a,r,i),16384&a.flags&&Yn(t,tr(t,n)),224&a.flags?Nt(t,a.nodeIndex).value:void 0},t)}function Zn(t,e){if(128&t.state)throw Dt(au[vi]);return Yn(t,er(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Jn(t,a,r,i):Qn(t,a,r,i),3&a.flags&&Yn(t,er(t,n)),224&a.flags?Nt(t,a.nodeIndex).value:void 0},t)}function Jn(t,e,n,r){if(xn.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[function(t){return"ng-reflect-"+(t=function(t){return t.replace(su,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}(t.replace(/[$@]/g,"_")))}(s.nonMinifiedName)]=function(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}(u))}var l=e.parent,c=Tt(t,l.nodeIndex).renderElement;if(l.element.name)for(var f in o){null!=(u=o[f])?t.renderer.setAttribute(c,f,u):t.renderer.removeAttribute(c,f)}else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function Qn(t,e,n,r){Cn.apply(void 0,[t,e,n].concat(r))}function tr(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function er(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function nr(t,e,n){for(var r in e.references)n[r]=en(t,e,e.references[r])}function rr(t,e,n,r){var i=vi,o=yi,a=bi;try{vi=t;var s=e.apply(n,r);return yi=o,bi=a,vi=i,s}catch(t){if(function(t){return!!_(t)}(t)||!yi)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Mt(t,e),t}(t,ir())}}function ir(){return yi?new uu(yi,bi):null}function or(t){return An(),Os.overrideProvider(t)}function ar(t,e){return An(),Os.overrideComponentView(t,e)}function sr(){return An(),Os.clearOverrides()}function ur(t,e,n){return new fu(t,e,n)}function lr(t){return"string"==typeof t?'"'+t+'"':""+t}function cr(t,e,n,r){t!=e&&dr(t,e,n,"==",r)}function fr(t,e){pr(t,null,e)}function pr(t,e,n){t==e&&dr(t,e,n,"!=")}function dr(t,e,n,r,i){throw void 0===i&&(i=lr),new Error("ASSERT: expected "+n+" "+r+" "+i(e)+" but was "+i(t)+"!")}function hr(t,e){pr(t,null,"node"),cr(3&t.flags,e,"Node.type",mr)}function mr(t){return 1==t?"Projection":0==t?"Container":2==t?"View":3==t?"Element":"??? "+t+" ???"}function gr(t,e,n,r){ngDevMode&&hr(t,0),ngDevMode&&hr(e,2);var i=function(t){for(var e=t;e;){ngDevMode&&hr(e,0);var n=e.data.renderParent;if(null!==n)return n.native;var r=e.parent;if(ngDevMode&&fr(r,"container.parent"),3==(3&r.flags))return null;ngDevMode&&hr(r,2),e=r.parent}return null}(t),o=e.child;if(i)for(;o;){var a=3&o.flags,s=null,u=t.view.renderer,l=u.listen;if(3===a)n?l?u.insertBefore(i,o.native,r):i.insertBefore(o.native,r,!0):l?u.removeChild(i,o.native):i.removeChild(o.native),s=o.next;else if(0===a){var c=o.data;n?l?u.appendChild(i,o.native):i.appendChild(o.native):l?u.removeChild(i,o.native):i.removeChild(o.native),s=c.views.length?c.views[0].child:null}else s=1===a?o.data[0]:o.child;if(null===s){for(;o&&!o.next;)(o=o.parent)===e&&(o=null);o=o&&o.next}else o=s}}function vr(t,e){var n=t.data.views,r=n[e];return e>0&&yr(n[e-1],r.next),n.splice(e,1),function(t){for(var e=t;e;){var n=null;if(e.views&&e.views.length?n=e.views[0].data:e.child?n=e.child:e.next&&(br(e),n=e.next),null==n){for(;e&&!e.next;)br(e),e=function(t,e){var n;return(n=t.node)&&2==(3&n.flags)?n.parent.data:t.parent===e?null:t.parent}(e,t);br(e||t),n=e&&e.next}e=n}}(r.data),gr(t,r,!1),t.query&&t.query.removeView(t,r,e),r}function yr(t,e){t.next=e,t.data.next=e?e.data:null}function br(t){if(t.cleanup){for(var e=t.cleanup,n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(e[n+1].removeEventListener(e[n],e[n+2],e[n+3]),n+=2):e[n].call(e[n+1]);t.cleanup=null}}function _r(t,e,n){if(null!==e&&3==(3&t.flags)&&(t.view!==n||null===t.data)){var r=n.renderer;return r.listen?r.appendChild(t.native,e):t.native.appendChild(e),!0}return!1}function wr(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":""+t}function xr(t,e){var n=vu;return Eu=t.data,Cu=t.bindingStartIndex||0,gu=t.ngStaticData,xu=t.creationMode,Su=t.viewHookStartIndex,t.cleanup,pu=t.renderer,null!=e&&(hu=e,mu=!0),vu=t,n}function Er(t){!function(){if(null==Su)return;var t=Su,e=t;for(;t<Eu.length;)Eu[t+1].call(Eu[t+2]),16===Eu[t]&&(e<t&&(Eu[e]=Eu[t],Eu[e+1]=Eu[t+1],Eu[e+2]=Eu[t+2]),e+=3),t+=3;Eu.length=e}(),xr(t,null)}function Cr(t,e,n){return{parent:vu,id:t,node:null,data:[],ngStaticData:n,cleanup:null,renderer:e,child:null,tail:null,next:null,bindingStartIndex:null,creationMode:!0,viewHookStartIndex:null}}function Sr(t,e,n,r){var i=mu?hu:hu&&hu.parent,o=(mu?wu:hu&&hu.query)||i&&i.query&&i.query.child(),a=null!=r,s={flags:e,native:n,view:vu,parent:i,child:null,next:null,nodeInjector:i?i.nodeInjector:null,data:a?r:null,query:o,staticData:null};return 2==(2&e)&&a&&(ngDevMode&&cr(r.node,null,"viewState.node"),r.node=s),null!=t&&(ngDevMode&&cr(Eu.length,t,"data.length not in sequence"),Eu[t]=s,t>=gu.length?gu[t]=null:s.staticData=gu[t],mu?(wu=null,hu.view!==vu&&2!=(3&hu.flags)||(ngDevMode&&cr(hu.child,null,"previousNode.child"),hu.child=s)):hu&&(ngDevMode&&cr(hu.next,null,"previousNode.next"),hu.next=s)),hu=s,mu=!0,s}function Or(t,e,n,r){var i,o;if(null==e){var a=Eu[t];o=a&&a.native}else{ngDevMode&&cr(vu.bindingStartIndex,null,"bindingStartIndex");var s="string"!=typeof e,u=s?e.tag:e;if(null===u)throw"for now name is required";o=pu.createElement(u);var l=null;if(s){var c=kr(e.template);l=Wr(Cr(-1,du.createRenderer(o,e.rendererType),c))}null==(i=Sr(t,3,o,l)).staticData&&(ngDevMode&&$r(t-1),i.staticData=gu[t]=Ar(u,n||null,null,r||null)),n&&function(t,e){ngDevMode&&cr(e.length%2,0,"attrs.length % 2");for(var n=pu.setAttribute,r=0;r<e.length;r+=2)n?pu.setAttribute(t,e[r],e[1|r]):t.setAttribute(e[r],e[1|r])}(o,n),_r(i.parent,o,vu)}return o}function kr(t){return t.ngStaticData||(t.ngStaticData=[])}function Tr(t,e){return new Error("Renderer: "+t+" ["+wr(e)+"]")}function Pr(t,e){mu=!1,hu=null,Sr(0,3,t,Cr(-1,pu,kr(e.template)))}function Nr(){mu?mu=!1:(ngDevMode&&Gr(),hu=hu.parent),ngDevMode&&hr(hu,3);var t=hu.query;t&&t.addNode(hu)}function Ir(t,e,n){if(n!==ku){var r=Eu[t],i=r.staticData;void 0===i.inputs&&(i.inputs=null,i=function(t,e,n){void 0===n&&(n=!1);for(var r=t>>12,i=r,o=r+((4092&t)>>2);i<o;i++){var a=gu[i],s=n?a.inputs:a.outputs;for(var u in s)if(s.hasOwnProperty(u)){var l=s[u],c=n?e.inputs||(e.inputs={}):e.outputs||(e.outputs={}),f=c.hasOwnProperty(u);f?c[u].push(i,l):c[u]=[i,l]}}return e}(r.flags,i,!0));var o,a=i.inputs;if(a&&(o=a[e]))!function(t,e){for(var n=0;n<t.length;n+=2)ngDevMode&&$r(t[n]),Eu[t[n]][t[1|n]]=e}(o,n);else{var s=r.native;pu.setProperty?pu.setProperty(s,e,n):s.setProperty?s.setProperty(e,n):s[e]=n}}}function Ar(t,e,n,r){return{tagName:t,attrs:e,localNames:r?[r,-1]:null,initialInputs:void 0,inputs:void 0,outputs:void 0,containerStatic:n}}function Mr(t,e,n,r){if(n!==ku){var i=Eu[t];null==n?pu.removeStyle?pu.removeStyle(i.native,e,yu.DashCase):i.native.style.removeProperty(e):pu.setStyle?pu.setStyle(i.native,e,r?wr(n)+r:wr(n),yu.DashCase):i.native.style.setProperty(e,r?wr(n)+r:wr(n))}}function Dr(t,e){ngDevMode&&cr(vu.bindingStartIndex,null,"bindingStartIndex");var n=null!=e?pu.createText?pu.createText(wr(e)):pu.createTextNode(wr(e)):null,r=Sr(t,3,n);mu=!1,_r(r.parent,n,vu)}function Rr(t,e){var n=t<Eu.length&&Eu[t];n&&n.native?e!==ku&&(pu.setValue?pu.setValue(n.native,wr(e)):n.native.textContent=wr(e)):n?(n.native=pu.createText?pu.createText(wr(e)):pu.createTextNode(wr(e)),function(t,e){var n=t.parent;if(3==(3&n.flags)&&(n.view!==e||null===n.data)){for(var r=t.next,i=null;r&&null===(i=r.native);)r=r.next;var o=e.renderer;o.listen?o.insertBefore(n.native,t.native,i):n.native.insertBefore(t.native,i,!1)}}(n,vu)):Dr(t,e)}function jr(t,e,n,r){var i;if(null==e)ngDevMode&&$r(t),i=Eu[t];else{ngDevMode&&cr(vu.bindingStartIndex,null,"bindingStartIndex"),ngDevMode&&cr(mu,!0,"isParent");var o=hu.flags;if(0===(4092&o)?o=t<<12|4|3&o:o+=4,hu.flags=o,ngDevMode&&$r(t-1),Object.defineProperty(e,_u,{enumerable:!1,value:hu}),Eu[t]=i=e,t>=gu.length&&(gu[t]=n,r)){ngDevMode&&fr(hu.staticData,"previousOrParentNode.staticData");var a=hu.staticData;(a.localNames||(a.localNames=[])).push(r,t)}var s=n.diPublic;s&&s(n);var u=hu.staticData;u&&u.attrs&&function(t,e,n){var r=((4092&hu.flags)>>2)-1,i=n.initialInputs;(void 0===i||r>=i.length)&&(i=function(t,e,n){var r=n.initialInputs||(n.initialInputs=[]);r[t]=null;for(var i=n.attrs,o=0;o<i.length;o+=2){var a=i[o],s=e[a];if(void 0!==s){var u=r[t]||(r[t]=[]);u.push(s,i[1|o])}}return r}(r,e,n));var o=i[r];if(o)for(var a=0;a<o.length;a+=2)t[o[a]]=o[1|a]}(i,n.inputs,u)}return i}function Lr(t,e,n,r,i){ngDevMode&&cr(vu.bindingStartIndex,null,"bindingStartIndex");var o=pu.createComment(ngDevMode?"container":""),a=null,s=mu?hu:hu.parent;ngDevMode&&pr(s,null,"currentParent"),_r(s,o,vu)&&(a=s);var u=Sr(t,0,o,{views:[],nextIndex:0,renderParent:a,template:null==e?null:e,next:null,parent:vu});null==u.staticData&&(u.staticData=gu[t]=Ar(n||null,r||null,[],i||null)),Wr(u.data)}function zr(){mu?mu=!1:(ngDevMode&&Gr(),hu=hu.parent),ngDevMode&&hr(hu,0);var t=hu.query;t&&t.addNode(hu)}function Fr(t){ngDevMode&&$r(t),hu=Eu[t],ngDevMode&&hr(hu,0),mu=!0,hu.data.nextIndex=0}function Br(){mu?mu=!1:(ngDevMode&&hr(hu,2),ngDevMode&&Gr(),hu=hu.parent),ngDevMode&&hr(hu,0);var t=hu;ngDevMode&&hr(t,0);for(var e=t.data.nextIndex;e<t.data.views.length;)vr(t,e)}function Vr(t){var e=mu?hu:hu.parent;ngDevMode&&hr(e,0);var n=e.data,r=n.views,i=!xu&&n.nextIndex<r.length&&r[n.nextIndex],o=i&&t===i.data.id;if(o)hu=r[n.nextIndex++],ngDevMode&&hr(hu,2),mu=!0,xr(i.data,hu);else{var a=Cr(t,pu,function(t,e){ngDevMode&&hr(e,0);var n=e.staticData.containerStatic;(t>=n.length||null==n[t])&&(n[t]=[]);return n[t]}(t,e));xr(a,Sr(null,2,null,a)),n.nextIndex++}return!o}function Ur(){mu=!1;var t=hu=vu.node,e=hu.parent;ngDevMode&&hr(t,2),ngDevMode&&hr(e,0);var n=e.data,r=n.nextIndex<=n.views.length?n.views[n.nextIndex-1]:null;(null==r||r.data.id!==t.data.id)&&(!function(t,e,n){var r=t.data,i=r.views;n>0&&yr(i[n-1],e),n<i.length&&i[n].data.id!==e.data.id?(yr(e,i[n]),i.splice(n,0,e)):n>=i.length&&i.push(e),r.nextIndex<=n&&r.nextIndex++,null!==t.data.renderParent&&gr(t,e,!0,function(t,e,n){var r=e.views;return t+1<r.length?r[t+1].child.native:n}(n,r,t.native)),t.query&&t.query.insertView(t,e,n)}(e,t,n.nextIndex-1),vu.creationMode=!1),Er(vu.parent),ngDevMode&&cr(mu,!1,"isParent"),ngDevMode&&hr(hu,2)}function Wr(t){return vu.tail?vu.tail.next=t:vu.child=t,vu.tail=t,t}function qr(t){var e;return(e=xu)?("number"!=typeof vu.bindingStartIndex&&(Cu=vu.bindingStartIndex=Eu.length),Eu[Cu++]=t):((e=t!==ku&&function(t,e){return!(t!=t&&e!=e)&&t!==e}(Eu[Cu],t))&&(Eu[Cu]=t),Cu++),e?t:ku}function Hr(t,e,n){return qr(e)===ku?ku:t+wr(e)+n}function Gr(){pr(hu.parent,null,"isParent")}function $r(t,e){null==e&&(e=Eu),function(t,e,n){t<e&&dr(t,e,n,">")}(e?e.length:0,t,"data.length")}function Yr(t,e){void 0===e&&(e={});var n,r=e.rendererFactory||bu,i=t.ngComponentDef,o=function(t,e){ngDevMode&&$r(-1),du=t;var n=t.createRenderer(null,null),r="string"==typeof e?n.selectRootElement?n.selectRootElement(e):n.querySelector(e):e;if(ngDevMode&&!r)throw Tr("string"==typeof e?"Host node with selector not found:":"Host node is required:",e);return r}(r,e.host||i.tag),a=xr(Cr(-1,r.createRenderer(o,i.rendererType),[]),null);try{Pr(o,i),n=jr(1,i.n(),i)}finally{Er(a)}return e.features&&e.features.forEach(function(t){return t(n,i)}),Kr(n),n}function Kr(t){ngDevMode&&fr(t,"component");var e=t[_u];ngDevMode&&!e&&Tr("Not a directive instance",t),ngDevMode&&fr(e.data,"hostNode.data"),function(t,e,n,r){var i=xr(e,t);try{du.begin&&du.begin(),r?(gu=r.ngStaticData||(r.ngStaticData=[]),r(n,xu)):n.constructor.ngComponentDef.r(1,0)}finally{du.end&&du.end(),e.creationMode=!1,Er(i)}}(e,e.view,t),!1}function Xr(t){var e={type:t.type,diPublic:null,n:t.factory,tag:t.tag||null,template:t.template||null,r:t.refresh||function(e,n){Ou(e,n,t.template)},h:t.hostBindings||function(){},inputs:Zr(t.inputs),outputs:Zr(t.outputs),methods:Zr(t.methods),rendererType:zt(t.rendererType)||null},n=t.features;return n&&n.forEach(function(t){return t(e)}),e}function Zr(t){if(null==t)return Tu;var e={};for(var n in t)e[t[n]]=n;return e}function Jr(t,e){return{type:7,name:t,definitions:e,options:{}}}function Qr(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function ti(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function ei(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function ni(t){return{type:6,styles:t,offset:null}}function ri(t,e,n){return{type:0,name:t,styles:e,options:n}}function ii(t){return{type:5,steps:t}}function oi(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function ai(t,e){return Jr(t,e)}function si(t,e){return Qr(t,e)}function ui(t){return ti(t)}function li(t){return ei(t)}function ci(t){return ni(t)}function fi(t,e){return ri(t,e)}function pi(t){return ii(t)}function di(t,e){return oi(t,e)}n.d(e,"createPlatform",function(){return nt}),n.d(e,"assertPlatform",function(){return it}),n.d(e,"destroyPlatform",function(){return ot}),n.d(e,"getPlatform",function(){return at}),n.d(e,"PlatformRef",function(){return Na}),n.d(e,"ApplicationRef",function(){return Ia}),n.d(e,"enableProdMode",function(){return tt}),n.d(e,"isDevMode",function(){return et}),n.d(e,"createPlatformFactory",function(){return rt}),n.d(e,"NgProbeToken",function(){return Pa}),n.d(e,"APP_ID",function(){return Yo}),n.d(e,"PACKAGE_ROOT_URL",function(){return Qo}),n.d(e,"PLATFORM_INITIALIZER",function(){return Xo}),n.d(e,"PLATFORM_ID",function(){return Zo}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return Jo}),n.d(e,"APP_INITIALIZER",function(){return Go}),n.d(e,"ApplicationInitStatus",function(){return $o}),n.d(e,"DebugElement",function(){return Qa}),n.d(e,"DebugNode",function(){return Ja}),n.d(e,"asNativeElements",function(){return dt}),n.d(e,"getDebugNode",function(){return gt}),n.d(e,"Testability",function(){return Ea}),n.d(e,"TestabilityRegistry",function(){return Ca}),n.d(e,"setTestabilityGetter",function(){return Q}),n.d(e,"TRANSLATIONS",function(){return bs}),n.d(e,"TRANSLATIONS_FORMAT",function(){return _s}),n.d(e,"LOCALE_ID",function(){return ys}),n.d(e,"MissingTranslationStrategy",function(){return ws}),n.d(e,"ApplicationModule",function(){return xs}),n.d(e,"wtfCreateScope",function(){return ma}),n.d(e,"wtfLeave",function(){return ga}),n.d(e,"wtfStartTimeRange",function(){return va}),n.d(e,"wtfEndTimeRange",function(){return ya}),n.d(e,"Type",function(){return Mo}),n.d(e,"EventEmitter",function(){return ba}),n.d(e,"ErrorHandler",function(){return No}),n.d(e,"Sanitizer",function(){return Cs}),n.d(e,"SecurityContext",function(){return Es}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return Ni}),n.d(e,"Attribute",function(){return Ii}),n.d(e,"ContentChild",function(){return Di}),n.d(e,"ContentChildren",function(){return Mi}),n.d(e,"Query",function(){return Ai}),n.d(e,"ViewChild",function(){return ji}),n.d(e,"ViewChildren",function(){return Ri}),n.d(e,"Component",function(){return Bi}),n.d(e,"Directive",function(){return Fi}),n.d(e,"HostBinding",function(){return qi}),n.d(e,"HostListener",function(){return Hi}),n.d(e,"Input",function(){return Ui}),n.d(e,"Output",function(){return Wi}),n.d(e,"Pipe",function(){return Vi}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return Gi}),n.d(e,"NO_ERRORS_SCHEMA",function(){return $i}),n.d(e,"NgModule",function(){return Yi}),n.d(e,"ViewEncapsulation",function(){return Ki}),n.d(e,"Version",function(){return Xi}),n.d(e,"VERSION",function(){return Zi}),n.d(e,"forwardRef",function(){return p}),n.d(e,"resolveForwardRef",function(){return d}),n.d(e,"Injector",function(){return ho}),n.d(e,"ReflectiveInjector",function(){return qo}),n.d(e,"ResolvedReflectiveFactory",function(){return Uo}),n.d(e,"ReflectiveKey",function(){return Io}),n.d(e,"InjectionToken",function(){return Oi}),n.d(e,"Inject",function(){return Ji}),n.d(e,"Optional",function(){return Qi}),n.d(e,"Injectable",function(){return to}),n.d(e,"Self",function(){return eo}),n.d(e,"SkipSelf",function(){return no}),n.d(e,"Host",function(){return ro}),n.d(e,"NgZone",function(){return _a}),n.d(e,"RenderComponentType",function(){return Aa}),n.d(e,"Renderer",function(){return Da}),n.d(e,"Renderer2",function(){return za}),n.d(e,"RendererFactory2",function(){return ja}),n.d(e,"RendererStyleFlags2",function(){return La}),n.d(e,"RootRenderer",function(){return Ra}),n.d(e,"COMPILER_OPTIONS",function(){return ra}),n.d(e,"Compiler",function(){return na}),n.d(e,"CompilerFactory",function(){return ia}),n.d(e,"ModuleWithComponentFactories",function(){return ea}),n.d(e,"ComponentFactory",function(){return aa}),n.d(e,"ComponentRef",function(){return oa}),n.d(e,"ComponentFactoryResolver",function(){return la}),n.d(e,"ElementRef",function(){return Fa}),n.d(e,"NgModuleFactory",function(){return da}),n.d(e,"NgModuleRef",function(){return pa}),n.d(e,"NgModuleFactoryLoader",function(){return Ba}),n.d(e,"getModuleFactory",function(){return ct}),n.d(e,"QueryList",function(){return Ua}),n.d(e,"SystemJsNgModuleLoader",function(){return Ha}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return Wa}),n.d(e,"TemplateRef",function(){return Ga}),n.d(e,"ViewContainerRef",function(){return $a}),n.d(e,"EmbeddedViewRef",function(){return Xa}),n.d(e,"ViewRef",function(){return Ka}),n.d(e,"ChangeDetectionStrategy",function(){return Li}),n.d(e,"ChangeDetectorRef",function(){return Ya}),n.d(e,"DefaultIterableDiffer",function(){return os}),n.d(e,"IterableDiffers",function(){return ps}),n.d(e,"KeyValueDiffers",function(){return ds}),n.d(e,"SimpleChange",function(){return ns}),n.d(e,"WrappedValue",function(){return es}),n.d(e,"platformCore",function(){return vs}),n.d(e,"ALLOW_MULTIPLE_PLATFORMS",function(){return Ta}),n.d(e,"APP_ID_RANDOM_PROVIDER",function(){return Ko}),n.d(e,"devModeEqual",function(){return yt}),n.d(e,"isListLikeIterable",function(){return bt}),n.d(e,"ChangeDetectorStatus",function(){return zi}),n.d(e,"isDefaultChangeDetectionStrategy",function(){return s}),n.d(e,"Console",function(){return ta}),n.d(e,"ComponentFactory",function(){return aa}),n.d(e,"CodegenComponentFactoryResolver",function(){return ca}),n.d(e,"ReflectionCapabilities",function(){return Lo}),n.d(e,"RenderDebugInfo",function(){return Ma}),n.d(e,"global",function(){return ao}),n.d(e,"looseIdentical",function(){return c}),n.d(e,"stringify",function(){return f}),n.d(e,"makeDecorator",function(){return r}),n.d(e,"isObservable",function(){return z}),n.d(e,"isPromise",function(){return L}),n.d(e,"clearOverrides",function(){return sr}),n.d(e,"overrideComponentView",function(){return ar}),n.d(e,"overrideProvider",function(){return or}),n.d(e,"NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return eu}),n.d(e,"defineComponent",function(){return Xr}),n.d(e,"detectChanges",function(){return Kr}),n.d(e,"renderComponent",function(){return Yr}),n.d(e,"C",function(){return Lr}),n.d(e,"D",function(){return jr}),n.d(e,"E",function(){return Or}),n.d(e,"T",function(){return Dr}),n.d(e,"V",function(){return Vr}),n.d(e,"b",function(){return qr}),n.d(e,"b1",function(){return Hr}),n.d(e,"c",function(){return zr}),n.d(e,"cR",function(){return Fr}),n.d(e,"cr",function(){return Br}),n.d(e,"e",function(){return Nr}),n.d(e,"p",function(){return Ir}),n.d(e,"s",function(){return Mr}),n.d(e,"t",function(){return Rr}),n.d(e,"v",function(){return Ur}),n.d(e,"registerModuleFactory",function(){return lt}),n.d(e,"EMPTY_ARRAY",function(){return Ds}),n.d(e,"EMPTY_MAP",function(){return Rs}),n.d(e,"and",function(){return pe}),n.d(e,"ccf",function(){return ke}),n.d(e,"cmf",function(){return ur}),n.d(e,"crt",function(){return Lt}),n.d(e,"did",function(){return je}),n.d(e,"eld",function(){return de}),n.d(e,"elementEventFullName",function(){return Yt}),n.d(e,"getComponentViewDefinitionFactory",function(){return Te}),n.d(e,"inlineInterpolate",function(){return ce}),n.d(e,"interpolate",function(){return le}),n.d(e,"mod",function(){return ye}),n.d(e,"mpd",function(){return ve}),n.d(e,"ncd",function(){return nn}),n.d(e,"nov",function(){return Me}),n.d(e,"pid",function(){return Le}),n.d(e,"prd",function(){return ze}),n.d(e,"pad",function(){return an}),n.d(e,"pod",function(){return sn}),n.d(e,"ppd",function(){return on}),n.d(e,"qud",function(){return Xe}),n.d(e,"ted",function(){return ln}),n.d(e,"unv",function(){return jt}),n.d(e,"vid",function(){return pn}),n.d(e,"AUTO_STYLE",function(){return Pu}),n.d(e,"trigger",function(){return ai}),n.d(e,"animate",function(){return si}),n.d(e,"group",function(){return ui}),n.d(e,"sequence",function(){return li}),n.d(e,"style",function(){return ci}),n.d(e,"state",function(){return fi}),n.d(e,"keyframes",function(){return pi}),n.d(e,"transition",function(){return di}),n.d(e,"bf",function(){return Qr}),n.d(e,"bg",function(){return ti}),n.d(e,"bk",function(){return ii}),n.d(e,"bh",function(){return ei}),n.d(e,"bj",function(){return ri}),n.d(e,"bi",function(){return ni}),n.d(e,"bl",function(){return oi}),n.d(e,"be",function(){return Jr}),n.d(e,"n",function(){return xt}),n.d(e,"o",function(){return Et}),n.d(e,"q",function(){return Ct}),n.d(e,"i",function(){return F}),n.d(e,"j",function(){return ms}),n.d(e,"k",function(){return gs}),n.d(e,"l",function(){return rs}),n.d(e,"m",function(){return ls}),n.d(e,"f",function(){return Ho}),n.d(e,"g",function(){return Fo}),n.d(e,"h",function(){return A}),n.d(e,"r",function(){return ha}),n.d(e,"w",function(){return q}),n.d(e,"u",function(){return W}),n.d(e,"z",function(){return $}),n.d(e,"x",function(){return H}),n.d(e,"y",function(){return G}),n.d(e,"bc",function(){return wr}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"ba",function(){return Fe}),n.d(e,"bb",function(){return Ss});var hi,mi,gi,vi,yi,bi,_i=n(2),wi=n(21),xi=n(345),Ei=n(355),Ci=n(51),Si=n(63),Oi=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),ki="__annotations__",Ti="__paramaters__",Pi="__prop__metadata__",Ni=new Oi("AnalyzeForEntryComponents"),Ii=o("Attribute",function(t){return{attributeName:t}}),Ai=function(){return function(){}}(),Mi=a("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(_i.__assign)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},Ai),Di=a("ContentChild",function(t,e){return void 0===e&&(e={}),Object(_i.__assign)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},Ai),Ri=a("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(_i.__assign)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},Ai),ji=a("ViewChild",function(t,e){return Object(_i.__assign)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},Ai),Li=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),zi=function(){var t={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return t[t.CheckOnce]="CheckOnce",t[t.Checked]="Checked",t[t.CheckAlways]="CheckAlways",t[t.Detached]="Detached",t[t.Errored]="Errored",t[t.Destroyed]="Destroyed",t}(),Fi=r("Directive",function(t){return void 0===t&&(t={}),t}),Bi=r("Component",function(t){return void 0===t&&(t={}),Object(_i.__assign)({changeDetection:Li.Default},t)},Fi),Vi=r("Pipe",function(t){return Object(_i.__assign)({pure:!0},t)}),Ui=a("Input",function(t){return{bindingPropertyName:t}}),Wi=a("Output",function(t){return{bindingPropertyName:t}}),qi=a("HostBinding",function(t){return{hostPropertyName:t}}),Hi=a("HostListener",function(t,e){return{eventName:t,args:e}}),Gi={name:"custom-elements"},$i={name:"no-errors-schema"},Yi=r("NgModule",function(t){return t}),Ki=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),Xi=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Zi=new Xi("5.2.11"),Ji=o("Inject",function(t){return{token:t}}),Qi=o("Optional"),to=r("Injectable"),eo=o("Self"),no=o("SkipSelf"),ro=o("Host"),io="undefined"!=typeof window&&window,oo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ao=io||void 0!==t&&t||oo,so=Promise.resolve(0),uo=null,lo="__source",co=new Object,fo=co,po=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=co),e===co)throw new Error("NullInjectorError: No provider for "+f(t)+"!");return e},t}(),ho=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Oo(t,e):new Oo(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=co,t.NULL=new po,t}(),mo=function(t){return t},go=[],vo=mo,yo=function(){return Array.prototype.slice.call(arguments)},bo={},_o=bo,wo=function(t){for(var e in t)if(t[e]===bo)return e;throw Error("!prop")}({provide:String,useValue:_o}),xo="ngTempTokenPath",Eo=ho.NULL,Co=/\n/gm,So="",Oo=function(){function t(t,e,n){void 0===e&&(e=Eo),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(ho,{token:ho,fn:mo,deps:go,value:this,useNew:!1}),g(r,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return v(t,n,this._records,this.parent,e)}catch(e){var r=e[xo];throw t[lo]&&r.unshift(t[lo]),e.message=y("\n"+e.message,r,this.source),e.ngTokenPath=r,e[xo]=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(f(n))}),"StaticInjector["+t.join(", ")+"]"},t}(),ko="ngDebugContext",To="ngOriginalError",Po="ngErrorLogger",No=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Po]||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?_(t)?_(t):this._findContext(w(t)):null},t.prototype._findOriginalError=function(t){for(var e=w(t);e&&w(e);)e=w(e);return e},t}(),Io=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=f(this.token)}return t.get=function(t){return Ao.get(d(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Ao.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Ao=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Io)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Io(t,Io.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Mo=Function,Do=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ro=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,jo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,Lo=function(){function t(t){this._reflect=t||ao.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(Do.exec(n)||Ro.exec(n)&&!jo.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&T(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(Ti)&&t[Ti],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!k(t))return[];var e=P(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?T(t.decorators):t.hasOwnProperty(ki)?t[ki]:null},t.prototype.annotations=function(t){if(!k(t))return[];var e=P(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=T(r[t])}),i}return t.hasOwnProperty(Pi)?t[Pi]:null},t.prototype.propMetadata=function(t){if(!k(t))return{};var e=P(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Mo&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+f(t)},t.prototype.resourceUri=function(t){return"./"+f(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),zo=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Lo),Fo=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Bo=[],Vo=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),Uo=function(){return function(t,e){this.factory=t,this.dependencies=e}}(),Wo=new Object,qo=function(){function t(){}return t.resolve=function(t){return A(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Ho(t,e)},t}(),Ho=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Wo}return t.prototype.get=function(t,e){return void 0===e&&(e=fo),this._getByKey(Io.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=qo.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(qo.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(t,e){return E(t,e,function(t){return"Cannot instantiate cyclic dependency!"+x(t)})}(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var o;try{o=i.apply(void 0,n)}catch(e){throw function(t,e,n,r){return E(t,r,function(t){var n=f(t[0].token);return e.message+": Error during instantiation of "+n+"!"+x(t)+"."},e)}(this,e,0,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:fo)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof eo?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Wo&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Wo},t.prototype._throwOrNull=function(t,e){if(e!==fo)return e;throw function(t,e){return E(t,e,function(t){return"No provider for "+f(t[0].token)+"!"+x(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Wo?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof no?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==Wo)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Io.get(ho),t}(),Go=new Oi("Application Initializer"),$o=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();L(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Yo=new Oi("AppId"),Ko={provide:Yo,useFactory:F,deps:[]},Xo=new Oi("Platform Initializer"),Zo=new Oi("Platform ID"),Jo=new Oi("appBootstrapListener"),Qo=new Oi("Application Packages Root URL"),ta=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}(),ea=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}(),na=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw V()},t.prototype.compileModuleAsync=function(t){throw V()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw V()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw V()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),ra=new Oi("compilerOptions"),ia=function(){return function(){}}(),oa=function(){return function(){}}(),aa=function(){return function(){}}(),sa="ngComponent",ua=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw U(t)},t}(),la=function(){function t(){}return t.NULL=new ua,t}(),ca=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw U(t);return new fa(e,this._ngModule)},t}(),fa=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(_i.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(aa),pa=function(){return function(){}}(),da=function(){return function(){}}(),ha=W(),ma=ha?q:function(t,e){return Y},ga=ha?H:function(t,e){return e},va=ha?G:function(t,e){return null},ya=ha?$:function(t){return null},ba=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(_i.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof Si.Subscription&&e.add(s),s},e}(Ci.Subject),_a=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba(!1),this.onMicrotaskEmpty=new ba(!1),this.onStable=new ba(!1),this.onError=new ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return Z(t),e.invokeTask(r,i,o,a)}finally{J(t)}},onInvoke:function(e,n,r,i,o,a,s){try{return Z(t),e.invoke(r,i,o,a,s)}finally{J(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,X(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}(this)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,wa,K,K);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),wa={},xa=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ba,this.onMicrotaskEmpty=new ba,this.onStable=new ba,this.onError=new ba}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Ea=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){_a.assertNotInAngularZone(),l(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?l(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Ca=function(){function t(){this._applications=new Map,Sa.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Sa.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),Sa=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Oa=!0,ka=!1,Ta=new Oi("AllowMultipleToken"),Pa=function(){return function(t,e){this.name=t,this.token=e}}(),Na=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n=this,r=function(t){return"noop"===t?new xa:("zone.js"===t?void 0:t)||new _a({enableLongStackTrace:et()})}(e?e.ngZone:void 0),i=[{provide:_a,useValue:r}];return r.run(function(){var e=ho.create({providers:i,parent:n.injector,name:t.moduleType.name}),o=t.create(e),a=o.injector.get(No,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(function(){return ut(n._modules,o)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,n){try{var r=n();return L(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}(a,r,function(){var t=o.injector.get($o);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(o),o})})})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(ia),i=st({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Ia);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+f(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}(),Ia=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=et(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new wi.Observable(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new wi.Observable(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){_a.assertNotInAngularZone(),l(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){_a.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(xi.merge)(s,Ei.share.call(u))}return t.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);var i=r instanceof fa?null:this._injector.get(pa),o=r.create(ho.NULL,[],e||r.selector,i);o.onDestroy(function(){n._unloadComponent(o)});var a=o.injector.get(Ea,null);return a&&o.injector.get(Ca).registerApplication(o.location.nativeElement,a),this._loadComponent(o),et()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,ga(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;ut(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t);this._injector.get(Jo,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),ut(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=ma("ApplicationRef#tick()"),t}(),Aa=function(){return function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}(),Ma=function(){return function(){}}(),Da=function(){return function(){}}(),Ra=function(){return function(){}}(),ja=function(){return function(){}}(),La=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),za=function(){return function(){}}(),Fa=function(){return function(t){this.nativeElement=t}}(),Ba=function(){return function(){}}(),Va=new Map,Ua=function(){function t(){this.dirty=!0,this._results=[],this.changes=new ba,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[u()]=function(){return this._results[u()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=ft(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Wa=function(){return function(){}}(),qa={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ha=function(){function t(t,e){this._compiler=t,this._config=e||qa}return t.prototype.load=function(t){return this._compiler instanceof na?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n(205)(i).then(function(t){return t[o]}).then(function(t){return pt(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n(205)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return pt(t,r,i)})},t}(),Ga=function(){return function(){}}(),$a=function(){return function(){}}(),Ya=function(){return function(){}}(),Ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_i.__extends)(e,t),e}(Ya),Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_i.__extends)(e,t),e}(Ka),Za=function(){return function(t,e){this.name=t,this.callback=e}}(),Ja=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Qa?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Qa=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(_i.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ht(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return mt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Ja),ts=new Map,es=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),ns=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),rs=function(){function t(){}return t.prototype.supports=function(t){return bt(t)},t.prototype.create=function(t){return new os(t)},t}(),is=function(t,e){return e},os=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||is}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<wt(n,r,i)?e:n,a=wt(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var f=c<i.length?i[c]:i[c]=0,p=f+c;l<=p&&p<u&&(i[c]=f+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!bt(t))throw new Error("Error trying to diff '"+f(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&c(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),c(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[u()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&c(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),c(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(c(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(c(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new as(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new us),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new us),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),as=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),ss=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&c(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),us=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new ss,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}(),ls=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||_t(t)},t.prototype.create=function(){return new cs},t}(),cs=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||_t(t)))throw new Error("Error trying to diff '"+f(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new fs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){c(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),fs=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),ps=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new no,new Qi]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+function(t){return t.name||typeof t}(t)+"'")},t}(),ds=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new no,new Qi]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),hs=[new ls],ms=new ps([new rs]),gs=new ds(hs),vs=rt(null,"core",[{provide:Zo,useValue:"unknown"},{provide:Na,deps:[ho]},{provide:Ca,deps:[]},{provide:ta,deps:[]}]),ys=new Oi("LocaleId"),bs=new Oi("Translations"),_s=new Oi("TranslationsFormat"),ws=function(){var t={Error:0,Warning:1,Ignore:2};return t[t.Error]="Error",t[t.Warning]="Warning",t[t.Ignore]="Ignore",t}(),xs=function(){return function(t){}}(),Es=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Cs=function(){return function(){}}(),Ss=function(){return function(){}}(),Os={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},ks=function(){},Ts=new Map,Ps="$$undefined",Ns="$$empty",Is=0,As=new WeakMap,Ms=/^:([^:]+):(.+)$/,Ds=[],Rs={},js=new Object,Ls=Rt(ho),zs=Rt(pa),Fs=new Object,Bs=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(_i.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){t.push({propName:n,templateName:e[n]})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){t.push({propName:e,templateName:this._outputs[e]})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=ee(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Os.createRootView(t,e||[],n,i,r,Fs),s=Pt(a,o).instance;return n&&a.renderer.setAttribute(Tt(a,0).renderElement,"ng-version",Zi.full),new Vs(a,new Ws(a),s)},e}(aa),Vs=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(_i.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Fa(Tt(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Hs(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(oa),Us=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Fa(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Hs(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Gt(t),t=t.parent;return t?new Hs(t,e):new Hs(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=xe(this._data,t);Os.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Ws(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof fa||(i=o.get(pa));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t;return we(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return function(t,e,n){var r=t.viewContainer._embeddedViews,i=r[e];Oe(r,e),null==n&&(n=r.length),Se(r,n,i),Os.dirtyParentQueries(i),Ce(i),Ee(t,n>0?r[n-1]:null,i)}(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=xe(this._data,t);e&&Os.destroyView(e)},t.prototype.detach=function(t){var e=xe(this._data,t);return e?new Ws(e):null},t}(),Ws=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return function(t){var e=[];return ne(t,0,void 0,void 0,e),e}(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ut(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Os.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Os.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Os.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ce(this._view),Os.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),qs=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(_i.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Ws(Os.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Fa(Tt(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Ga),Hs=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=ho.THROW_IF_NOT_FOUND);return Os.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Rt(t)},e)},t}(),Gs=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=se(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=se(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),$s=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=_e(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=ho.THROW_IF_NOT_FOUND),be(this,{token:t,tokenKey:Rt(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(la)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+f(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==js&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Ys=Rt(Da),Ks=Rt(za),Xs=Rt(Fa),Zs=Rt($a),Js=Rt(Ga),Qs=Rt(Ya),tu=Rt(ho),eu={},nu=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}(),ru=!1,iu=new Map,ou=new Map,au=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}(),su=/([A-Z])/g,uu=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Gt(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Tt(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ae(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){nr(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&nr(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Kt(t);)t=t.parent;return t.parent?Tt(t.parent,Gt(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?$t(this.view,this.nodeDef):$t(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.nodeIndex):(r=this.elView.def,i=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(r,i),a=-1;r.factory(function(){return++a===o?(n=t.error).bind.apply(n,[t].concat(e)):ks;var n}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),lu=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new cu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),cu=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){ts.delete(t.nativeNode)}(gt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=ir();if(r){var i=new Qa(n,null,r);i.name=t,vt(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=ir();return n&&vt(new Ja(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=ir();return n&&vt(new Ja(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=gt(t),r=gt(e);n&&r&&n instanceof Qa&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=gt(t),i=gt(e),o=gt(n);r&&i&&r instanceof Qa&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=gt(t),r=gt(e);n&&r&&n instanceof Qa&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=ir();return n&&vt(new Qa(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=gt(t);if(i&&i instanceof Qa){i.attributes[r?r+":"+e:e]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=gt(t);if(r&&r instanceof Qa){r.attributes[n?n+":"+e:e]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=gt(t);n&&n instanceof Qa&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=gt(t);n&&n instanceof Qa&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=gt(t);i&&i instanceof Qa&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=gt(t);r&&r instanceof Qa&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=gt(t);r&&r instanceof Qa&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=gt(t);r&&r.listeners.push(new Za(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),fu=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(_i.__extends)(e,t),e.prototype.create=function(t){An();var e=ee(this._ngModuleDefFactory);return Os.createNgModuleRef(this.moduleType,t||ho.NULL,this._bootstrapComponents,e)},e}(da);"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),void 0!==t&&(t.ngDevMode=!0));var pu,du,hu,mu,gu,vu,yu=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),bu={createRenderer:function(t,e){return document}},_u="__ngHostLNode__";vu=Cr(null,null,[]);var wu,xu,Eu,Cu,Su,Ou=function(t,e,n){ngDevMode&&$r(e);var r=Eu[e];ngDevMode&&hr(r,3),ngDevMode&&pr(r.data,null,"isComponent"),ngDevMode&&$r(t);var i=r.data;ngDevMode&&pr(i,null,"hostView");var o=Eu[t],a=xr(i,r);try{n(o,xu)}finally{i.creationMode=!1,Er(a)}},ku={},Tu={},Pu="*"}.call(e,n(20))},function(t,e,n){"use strict";function r(t){return null==t?null:t.fname}function i(t){return null==t?null:t.fields}function o(t){return w(t)?"["+t.map(o)+"]":x(t)||E(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function a(t,e,n){var r=[e].concat([].slice.call(n));console[t].apply(console,r)}function s(t){return function(e){return t*Math.exp(e)}}function u(t){return function(e){return Math.log(t*e)}}function l(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function c(t,e,n,r){var i=n(t[0]),o=n(M(t)),a=(o-i)*e;return[r(i-a),r(o-a)]}function f(t,e){return c(t,e,D,k)}function p(t,e){var n=Math.sign(t[0]);return c(t,e,u(n),s(n))}function d(t,e,n){return c(t,e,l(n),l(1/n))}function h(t,e,n,r,i){var o=r(t[0]),a=r(M(t)),s=null!=e?r(e):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function m(t,e,n){return h(t,e,n,D,k)}function g(t,e,n){var r=Math.sign(t[0]);return h(t,e,n,u(r),s(r))}function v(t,e,n,r){return h(t,e,n,l(r),l(1/r))}var y=function(t,e,n){return t.fields=e||[],t.fname=n,t},b=function(t){throw Error(t)},_=function(t){function e(){o.push(l+t.substring(n,r)),l="",n=r+1}var n,r,i,o=[],a=null,s=0,u=t.length,l="";for(t+="",n=r=0;r<u;++r)if("\\"===(i=t[r]))l+=t.substring(n,r),n=++r;else if(i===a)e(),a=null,s=-1;else{if(a)continue;n===s&&'"'===i?(n=r+1,a=i):n===s&&"'"===i?(n=r+1,a=i):"."!==i||s?"["===i?(r>n&&e(),s=n=r+1):"]"===i&&(s||b("Access path missing open bracket: "+t),s>0&&e(),s=0,n=r+1):r>n?e():n=r+1}return s&&b("Access path missing closing bracket: "+t),a&&b("Access path missing closing quote: "+t),r>n&&(r++,e()),o},w=Array.isArray,x=function(t){return t===Object(t)},E=function(t){return"string"==typeof t},C=function(t,e){var n=_(t),r="return _["+n.map(o).join("][")+"];";return y(Function("_",r),[t=1===n.length?n[0]:t],e||t)},S=[],O=C("id"),k=y(function(t){return t},S,"identity"),T=y(function(){return 0},S,"zero"),P=y(function(){return 1},S,"one"),N=y(function(){return!0},S,"true"),I=y(function(){return!1},S,"false"),A=function(t){var e=t||0;return{level:function(t){return arguments.length?(e=+t,this):e},error:function(){return e>=1&&a("error","ERROR",arguments),this},warn:function(){return e>=2&&a("warn","WARN",arguments),this},info:function(){return e>=3&&a("log","INFO",arguments),this},debug:function(){return e>=4&&a("log","DEBUG",arguments),this}}},M=function(t){return t[t.length-1]},D=function(t){return null==t||""===t?null:+t},R=function(t){return null!=t?w(t)?t:[t]:[]},j=function(t){return"function"==typeof t},L=function(t,e){var n,r,a,s,u,l,c,f,p,d=[],h=(t=R(t)).map(function(t,e){return null==t?null:(d.push(e),j(t)?t:_(t).map(o).join("]["))}),m=d.length-1,g=R(e),v="var u,v;return ";if(m<0)return null;for(r=0;r<=m;++r)j(a=h[n=d[r]])?(s="(u=this."+(l="f"+n)+"(a))",u="(v=this."+l+"(b))",(c=c||{})[l]=a):(s="(u=a["+a+"])",u="(v=b["+a+"])"),l="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[n]?(p=1,f=-1):(p=-1,f=1),v+="("+s+"<"+u+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+p+":"+l+"!==u&&v===v?"+f+":v!==v&&u===u?"+p+(n<m?":":":0");return a=Function("a","b",v+";"),c&&(a=a.bind(c)),t=t.reduce(function(t,e){return j(e)?(i(e)||[]).forEach(function(e){t[e]=1}):null!=e&&(t[e+""]=1),t},{}),y(a,Object.keys(t))},z=function(t){return j(t)?t:function(){return t}},F=function(t,e){function n(){e(i),r=i=null}var r,i;return function(e){i=e,r&&clearTimeout(r),r=setTimeout(n,t)}},B=function(t){for(var e,n,r=1,i=arguments.length;r<i;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t},V=function(t,e){var n,r,i,o,a,s=-1,u=t.length;if(null==e){for(;++s<u;)if(null!=(r=t[s])&&r>=r){n=i=r;break}for(o=a=s;++s<u;)null!=(r=t[s])&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}else{for(;++s<u;)if(null!=(r=e(t[s],s,t))&&r>=r){n=i=r;break}for(o=a=s;++s<u;)null!=(r=e(t[s],s,t))&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}return[o,a]},U={},W=function(t){function e(t){return i.hasOwnProperty(t)&&i[t]!==U}var n,r,i={};return n={size:0,empty:0,object:i,has:e,get:function(t){return e(t)?i[t]:void 0},set:function(t,r){return e(t)||(++n.size,i[t]===U&&--n.empty),i[t]=r,this},delete:function(t){return e(t)&&(--n.size,++n.empty,i[t]=U),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(t){return arguments.length?(r=t,n):r},clean:function(){var t,e,o={},a=0;for(t in i)(e=i[t])===U||r&&r(e)||(o[t]=e,++a);n.size=a,n.empty=0,n.object=i=o}},t&&Object.keys(t).forEach(function(e){n.set(e,t[e])}),n},q=function(t,e){var n=t.prototype=Object.create(e.prototype);return n.constructor=t,n},H=function(t){return"boolean"==typeof t},G=function(t){return"[object Date]"===Object.prototype.toString.call(t)},$=function(t){return"number"==typeof t},Y=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},K=function(t,e){t&&(t=e?R(t).map(function(t){return t.replace(/\\(.)/g,"$1")}):R(t));var n=t&&t.length?Function("_","return ''+"+t.map(function(t){return"_["+(e?o(t):_(t).map(o).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return y(n,t,"key")},X=function(t,e,n,r){var i=e.length,o=n.length;if(!o)return e;if(!i)return n;for(var a=r||new e.constructor(i+o),s=0,u=0,l=0;s<i&&u<o;++l)a[l]=t(e[s],n[u])>0?n[u++]:e[s++];for(;s<i;++s,++l)a[l]=e[s];for(;u<o;++u,++l)a[l]=n[u];return a},Z=function(t,e){for(var n="";--e>=0;)n+=t;return n},J=function(t,e,n,r){var i=n||" ",o=t+"",a=e-o.length;return a<=0?o:"left"===r?Z(i,a)+o:"center"===r?Z(i,~~(a/2))+o+Z(i,Math.ceil(a/2)):o+Z(i,a)},Q=function(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t},tt=function(t,e){return e=e||function(t){return $(t)?t:G(t)?t:Date.parse(t)},null==t||""===t?null:e(t)},et=function(t){return null==t||""===t?null:t+""},nt=function(t){for(var e={},n=0,r=t.length;n<r;++n)e[t[n]]=!0;return e},rt=function(t,e,n,r){var i=null!=r?r:"",o=t+"",a=o.length,s=Math.max(0,e-i.length);return a<=e?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i},it=function(t,e,n){if(t){var r,i=0,o=t.length;if(e)for(;i<o;++i)(r=e(t[i]))&&n(r,i,t);else t.forEach(n)}};n.d(e,"f",function(){return y}),n.d(e,"h",function(){return r}),n.d(e,"g",function(){return i}),n.d(e,"s",function(){return O}),n.d(e,"t",function(){return k}),n.d(e,"X",function(){return T}),n.d(e,"G",function(){return P}),n.d(e,"V",function(){return N}),n.d(e,"p",function(){return I}),n.d(e,"E",function(){return A}),n.d(e,"d",function(){return 0}),n.d(e,"b",function(){return 1}),n.d(e,"e",function(){return 2}),n.d(e,"c",function(){return 3}),n.d(e,"a",function(){return 4}),n.d(e,"I",function(){return f}),n.d(e,"J",function(){return p}),n.d(e,"K",function(){return d}),n.d(e,"Y",function(){return m}),n.d(e,"Z",function(){return g}),n.d(e,"_0",function(){return v}),n.d(e,"i",function(){return R}),n.d(e,"j",function(){return L}),n.d(e,"k",function(){return z}),n.d(e,"l",function(){return F}),n.d(e,"m",function(){return b}),n.d(e,"n",function(){return B}),n.d(e,"o",function(){return V}),n.d(e,"q",function(){return W}),n.d(e,"r",function(){return C}),n.d(e,"u",function(){return q}),n.d(e,"v",function(){return w}),n.d(e,"w",function(){return H}),n.d(e,"x",function(){return G}),n.d(e,"y",function(){return j}),n.d(e,"z",function(){return $}),n.d(e,"A",function(){return x}),n.d(e,"B",function(){return Y}),n.d(e,"C",function(){return E}),n.d(e,"D",function(){return K}),n.d(e,"F",function(){return X}),n.d(e,"H",function(){return J}),n.d(e,"L",function(){return M}),n.d(e,"M",function(){return Z}),n.d(e,"N",function(){return _}),n.d(e,"O",function(){return o}),n.d(e,"P",function(){return Q}),n.d(e,"Q",function(){return tt}),n.d(e,"R",function(){return D}),n.d(e,"T",function(){return et}),n.d(e,"S",function(){return nt}),n.d(e,"U",function(){return rt}),n.d(e,"W",function(){return it})},function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(t){return this instanceof o?(this.v=t,this):new o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return s}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},e.__param=function(t,e){return function(n,r){e(n,r,t)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},e.__generator=function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=r,e.__read=i,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},e.__await=o,e.__asyncGenerator=function(t,e,n){function r(t){c[t]&&(l[t]=function(e){return new Promise(function(n,r){f.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{!function(t){t.value instanceof o?Promise.resolve(t.value.v).then(a,s):u(f[0][2],t)}(c[t](e))}catch(t){u(f[0][3],t)}}function a(t){i("next",t)}function s(t){i("throw",t)}function u(t,e){t(e),f.shift(),f.length&&i(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(t,e||[]),f=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l},e.__asyncDelegator=function(t){function e(e,i){n[e]=t[e]?function(n){return(r=!r)?{value:o(t[e](n)),done:"return"===e}:i?i(n):n}:i}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n},e.__asyncValues=function(t){function e(e){n[e]=t[e]&&function(n){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(n=t[e](n)).done,n.value)})}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=t[Symbol.asyncIterator];return i?i.call(t):(t=r(t),n={},e("next"),e("throw"),e("return"),n[Symbol.asyncIterator]=function(){return this},n)},e.__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},e.__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__importDefault=function(t){return t&&t.__esModule?t:{default:t}};var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../util/util"),i=function(){function t(){this._c={},this._s={},this._modes={},this._trns={}}return t.prototype.init=function(t,e){this._s=t&&r.isObject(t)&&!r.isArray(t)?t:{},this.plt=e},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=this.plt;if(!r.isDefined(this._c[t])){if(!r.isDefined(t))throw"config key is not defined";var i=void 0,o=this._s[t],a=void 0,s=void 0,u=void 0,l=void 0,c=null;if(n){var f=n.getQueryParam("ionic"+t);if(r.isDefined(f))return this._c[t]="true"===f||"false"!==f&&f;for(var p=n.platforms(),d=0,h=p.length;d<h;d++)this._s.platforms&&(c=this._s.platforms[p[d]])&&(r.isDefined(c[t])&&(i=c[t]),(c=this.getModeConfig(c.mode))&&r.isDefined(c[t])&&(a=c[t])),(c=n.getPlatformConfig(p[d]))&&c.settings&&(r.isDefined(c.settings[t])&&(u=c.settings[t]),(c=this.getModeConfig(c.settings.mode))&&r.isDefined(c[t])&&(l=c[t]))}(c=this.getModeConfig(this._s.mode))&&r.isDefined(c[t])&&(s=c[t]),this._c[t]=r.isDefined(i)?i:r.isDefined(o)?o:r.isDefined(a)?a:r.isDefined(s)?s:r.isDefined(u)?u:r.isDefined(l)?l:null}var m=this._c[t];return r.isFunction(m)&&(m=m(n)),null!==m?m:e},t.prototype.getBoolean=function(t,e){void 0===e&&(e=!1);var n=this.get(t);return null===n?e:"string"==typeof n?"true"===n:!!n},t.prototype.getNumber=function(t,e){void 0===e&&(e=NaN);var n=parseFloat(this.get(t));return isNaN(n)?e:n},t.prototype.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];switch(t.length){case 2:this._s[n]=r,delete this._c[n];break;case 3:this._s.platforms=this._s.platforms||{},this._s.platforms[n]=this._s.platforms[n]||{},this._s.platforms[n][r]=t[2],delete this._c[r]}return this},t.prototype.settings=function(t,e){switch(arguments.length){case 0:return this._s;case 1:this._s=t,this._c={};break;case 2:this._s.platforms=this._s.platforms||{},this._s.platforms[t]=e,this._c={}}return this},t.prototype.setModeConfig=function(t,e){this._modes[t]=e},t.prototype.getModeConfig=function(t){return this._modes[t]||null},t.prototype.setTransition=function(t,e){this._trns[t]=e},t.prototype.getTransition=function(t){return this._trns[t]||null},t}();e.Config=i,e.setupConfig=function(t,e){var n=new i;n.init(t,e);var r=e.win();return r.Ionic=r.Ionic||{},r.Ionic.config=n,n},e.ConfigToken=new n.InjectionToken("USERCONFIG")})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){return"boolean"==typeof t}function r(t){return"string"==typeof t}function i(t){return"number"==typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=function(t,e,n){return Math.max(t,Math.min(e,n))},e.deepCopy=function(t){return JSON.parse(JSON.stringify(t))},e.deepEqual=function(t,e){return t===e||JSON.stringify(t)===JSON.stringify(e)},e.debounce=function(t,e,n){void 0===n&&(n=!1);var r,i,o,a,s;return function(){o=this,i=arguments,a=Date.now();var u=function(){var l=Date.now()-a;l<e?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(o,i)))},l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,i)),s}},e.normalizeURL=function(t){var e=window.Ionic;return e&&e.normalizeURL?e.normalizeURL(t):t},e.defaults=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=arguments.length-1;r>=1;r--){var i=arguments[r];if(i)for(var o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}return t},e.isBoolean=n,e.isString=r,e.isNumber=i,e.isFunction=function(t){return"function"==typeof t},e.isDefined=function(t){return void 0!==t},e.isUndefined=function(t){return void 0===t},e.isPresent=function(t){return void 0!==t&&null!==t},e.isBlank=function(t){return void 0===t||null===t},e.isObject=function(t){return"object"==typeof t},e.isArray=function(t){return Array.isArray(t)},e.isPrimitive=function(t){return r(t)||n(t)||i(t)&&!isNaN(t)},e.isTrueProperty=function(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:!!t},e.isCheckedProperty=function(t,e){return void 0===t||null===t||""===t?void 0===e||null===e||""===e:!0===t||"true"===t?!0===e||"true"===e:!1===t||"false"===t?!1===e||"false"===e:0===t||"0"===t?0===e||"0"===e:t==e},e.isRightSide=function(t,e,n){switch(void 0===n&&(n=!1),t){case"right":return!0;case"left":return!1;case"end":return!e;case"start":return e;default:return n?!e:e}},e.reorderArray=function(t,e){var n=t[e.from];return t.splice(e.from,1),t.splice(e.to,0,n),t},e.removeArrayItem=function(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)},e.swipeShouldReset=function(t,e,n){return!e&&n||t&&e};var o=!0;e.runInDev=function(t){if(!0===o)return t()},e.assert=function(t,e){if(!t&&!0===o){var n="IONIC ASSERT: "+e;throw console.error(n),new Error(n)}},e.requestIonicCallback=function(t){return"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,500)}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(19),n(626),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../util/dom"),i=t("./query-params"),o=t("../util/util"),a=function(){function t(){var t=this;this._versions={},this._qp=new i.QueryParams,this._bbActions=[],this._pW=0,this._pH=0,this._lW=0,this._lH=0,this._isPortrait=null,this._uiEvtOpts=!1,this._platforms=[],this.backButton=new n.EventEmitter,this.pause=new n.EventEmitter,this.resume=new n.EventEmitter,this.resize=new n.EventEmitter,this._readyPromise=new Promise(function(e){t._readyResolve=e}),this.backButton.subscribe(function(){t.runBackButtonAction()})}return t.prototype.setWindow=function(t){this._win=t},t.prototype.win=function(){return this._win},t.prototype.setDocument=function(t){this._doc=t},t.prototype.doc=function(){return this._doc},t.prototype.setZone=function(t){this.zone=t},t.prototype.setCssProps=function(t){this.Css=r.getCss(t)},t.prototype.is=function(t){return this._platforms.indexOf(t)>-1},t.prototype.platforms=function(){return this._platforms},t.prototype.versions=function(){return this._versions},t.prototype.version=function(){for(var t in this._versions)if(this._versions[t])return this._versions[t];return{}},t.prototype.ready=function(){return this._readyPromise},t.prototype.triggerReady=function(t){var e=this;this.zone.run(function(){e._readyResolve(t)})},t.prototype.prepareReady=function(){function t(){e._doc.removeEventListener("DOMContentLoaded",t,!1),e._win.removeEventListener("load",t,!1),e.triggerReady("dom")}var e=this;"complete"===e._doc.readyState||"interactive"===e._doc.readyState?e.triggerReady("dom"):(e._doc.addEventListener("DOMContentLoaded",t,!1),e._win.addEventListener("load",t,!1))},t.prototype.setDir=function(t,e){this._dir=t,this.isRTL="rtl"===t,!1!==e&&this._doc.documentElement.setAttribute("dir",t)},t.prototype.dir=function(){return this._dir},t.prototype.setLang=function(t,e){this._lang=t,!1!==e&&this._doc.documentElement.setAttribute("lang",t)},t.prototype.lang=function(){return this._lang},t.prototype.exitApp=function(){},t.prototype.registerBackButtonAction=function(t,e){var n=this;void 0===e&&(e=0);var r={fn:t,priority:e};return this._bbActions.push(r),function(){o.removeArrayItem(n._bbActions,r)}},t.prototype.runBackButtonAction=function(){var t=null;this._bbActions.forEach(function(e){(!t||e.priority>=t.priority)&&(t=e)}),t&&t.fn&&t.fn()},t.prototype.setUserAgent=function(t){this._ua=t},t.prototype.setQueryParams=function(t){this._qp.parseUrl(t)},t.prototype.getQueryParam=function(t){return this._qp.get(t)},t.prototype.url=function(){return this._win.location.href},t.prototype.userAgent=function(){return this._ua||""},t.prototype.setNavigatorPlatform=function(t){this._nPlt=t},t.prototype.navigatorPlatform=function(){return this._nPlt||""},t.prototype.width=function(){return this._calcDim(),this._isPortrait?this._pW:this._lW},t.prototype.height=function(){return this._calcDim(),this._isPortrait?this._pH:this._lH},t.prototype.getElementComputedStyle=function(t,e){return this._win.getComputedStyle(t,e)},t.prototype.getElementFromPoint=function(t,e){return this._doc.elementFromPoint(t,e)},t.prototype.getElementBoundingClientRect=function(t){return t.getBoundingClientRect()},t.prototype.isPortrait=function(){return this._calcDim(),this._isPortrait},t.prototype.isLandscape=function(){return!this.isPortrait()},t.prototype._calcDim=function(){if(null===this._isPortrait||!1===this._isPortrait&&this._win.innerWidth<this._win.innerHeight){var t=this._win,e=t.innerWidth,n=t.innerHeight;t.screen.width>0&&t.screen.height>0&&(e<n?(this._pW<=e&&(this._isPortrait=!0,this._pW=e),this._pH<=n&&(this._isPortrait=!0,this._pH=n)):(this._lW!==e&&(this._isPortrait=!1,this._lW=e),this._lH!==n&&(this._isPortrait=!1,this._lH=n)))}},t.prototype.raf=function(t){return this._win.__zone_symbol__requestAnimationFrame(t)},t.prototype.cancelRaf=function(t){return this._win.__zone_symbol__cancelAnimationFrame(t)},t.prototype.timeout=function(t,e){return this._win.__zone_symbol__setTimeout(t,e)},t.prototype.cancelTimeout=function(t){this._win.__zone_symbol__clearTimeout(t)},t.prototype.registerListener=function(t,e,n,r,i){var o,a=this._uiEvtOpts?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;return!r.zone&&t.__zone_symbol__addEventListener?(t.__zone_symbol__addEventListener(e,n,a),o=function(){t.__zone_symbol__removeEventListener(e,n,a)}):(t.addEventListener(e,n,a),o=function(){t.removeEventListener(e,n,a)}),i&&i.push(o),o},t.prototype.transitionEnd=function(t,e,n){function r(){o.forEach(function(t){t()})}function i(n){t===n.target&&(r(),e(n))}void 0===n&&(n=!0);var o=[];return t&&(this.registerListener(t,"webkitTransitionEnd",i,{zone:n},o),this.registerListener(t,"transitionend",i,{zone:n},o)),r},t.prototype.windowLoad=function(t){var e,n=this._win,r=this._doc;"complete"===r.readyState?t(n,r):e=this.registerListener(n,"load",function(){e&&e(),t(n,r)},{zone:!1})},t.prototype.isActiveElement=function(t){return!(!t||this.getActiveElement()!==t)},t.prototype.getActiveElement=function(){return this._doc.activeElement},t.prototype.hasFocus=function(t){return!(!t||this.getActiveElement()!==t||t.parentElement.querySelector(":focus")!==t)},t.prototype.hasFocusedTextInput=function(){var t=this.getActiveElement();return!!r.isTextInput(t)&&t.parentElement.querySelector(":focus")===t},t.prototype.focusOutActiveElement=function(){var t=this.getActiveElement();t&&t.blur&&t.blur()},t.prototype._initEvents=function(){var t=this;try{var e=Object.defineProperty({},"passive",{get:function(){t._uiEvtOpts=!0}});this._win.addEventListener("optsTest",null,e)}catch(t){}this.timeout(function(){var e;t.registerListener(t._win,"resize",function(){clearTimeout(e),e=setTimeout(function(){!1===t.hasFocusedTextInput()&&(t._isPortrait=null),t.zone.run(function(){return t.resize.emit()})},200)},{passive:!0,zone:!1})},2e3)},t.prototype.setPlatformConfigs=function(t){this._registry=t||{}},t.prototype.getPlatformConfig=function(t){return this._registry[t]||{}},t.prototype.registry=function(){return this._registry},t.prototype.setDefault=function(t){this._default=t},t.prototype.testQuery=function(t,e){return t.toLowerCase().split(";").indexOf(e)>-1},t.prototype.testNavigatorPlatform=function(t){return new RegExp(t,"i").test(this._nPlt)},t.prototype.matchUserAgentVersion=function(t){if(this._ua&&t){var e=this._ua.match(t);if(e)return{major:e[1],minor:e[2]}}},t.prototype.testUserAgent=function(t){return!!this._ua&&this._ua.indexOf(t)>=0},t.prototype.isPlatformMatch=function(t,e,n){void 0===n&&(n=[]);var r=this._qp.get("ionicplatform");if(r)return this.testQuery(r,t);e=e||[t];for(var i=this._ua.toLowerCase(),o=0;o<e.length;o++)if(i.indexOf(e[o])>-1){for(var a=0;a<n.length;a++)if(i.indexOf(n[a])>-1)return!1;return!0}return!1},t.prototype.init=function(){this._initEvents();var t,e,n;for(var r in this._registry)(n=this.matchPlatform(r))&&(n.isEngine?e=n:(!t||n.depth>t.depth)&&(t=n));if(t||(t=new s(this._registry,this._default)),t){e&&(e.child=t,t.parent=e,t=e);for(var i=t;i;)!function(t,e){var n=e.superset();if(n){var r=new s(t,n);r.parent=e.parent,r.child=e,r.parent&&(r.parent.child=r),e.parent=r}}(this._registry,i),i=i.child;for(i=t.parent;i;)t=i,i=i.parent;for(i=t;i;){if(i.initialize(this),"iphone"===i.name&&"iPad"===this.navigatorPlatform())return this._platforms.push("tablet"),void this._platforms.push("ipad");this._platforms.push(i.name),this._versions[i.name]=i.version(this),i=i.child}}this._platforms.indexOf("mobile")>-1&&-1===this._platforms.indexOf("cordova")&&this._platforms.push("mobileweb")},t.prototype.matchPlatform=function(t){var e=new s(this._registry,t).getRoot(this);if(e){e.depth=0;for(var n=e.child;n;)e.depth++,n=n.child}return e},t}();e.Platform=a;var s=function(){function t(t,e){this.registry=t,this.c=t[e],this.name=e,this.isEngine=this.c.isEngine}return t.prototype.settings=function(){return this.c.settings||{}},t.prototype.superset=function(){return this.c.superset},t.prototype.isMatch=function(t){return this.c.isMatch&&this.c.isMatch(t)||!1},t.prototype.initialize=function(t){this.c.initialize&&this.c.initialize(t)},t.prototype.version=function(t){if(this.c.versionParser){var e=this.c.versionParser(t);if(e){var n=e.major+"."+e.minor;return{str:n,num:parseFloat(n),major:parseInt(e.major,10),minor:parseInt(e.minor,10)}}}},t.prototype.getRoot=function(e){if(this.isMatch(e)){var n=this.getSubsetParents(this.name);if(!n.length)return this;for(var r=null,i=null,o=0;o<n.length;o++)if(r=new t(this.registry,n[o]),r.child=this,i=r.getRoot(e))return this.parent=r,i}return null},t.prototype.getSubsetParents=function(t){var e=[],n=null;for(var r in this.registry)(n=this.registry[r]).subsets&&n.subsets.indexOf(t)>-1&&e.push(r);return e},t}();e.setupPlatform=function(t,e,n){var r=new a;r.setDefault("core"),r.setPlatformConfigs(e),r.setZone(n);var i=t.documentElement;r.setDocument(t);var o=i.dir;r.setDir("rtl"===o?"rtl":"ltr",!o),r.setLang(i.lang,!1),r.setCssProps(i);var s=t.defaultView;return r.setWindow(s),r.setNavigatorPlatform(s.navigator.platform),r.setUserAgent(s.navigator.userAgent),r.setQueryParams(s.location.href),r.init(),s.Ionic=s.Ionic||{},s.Ionic.platform=r,r}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(56),n(17)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../util/util"),i=t("./nav-util"),o=t("./nav-params"),a=function(){function t(t,e,a){void 0===a&&(a=s),this.component=t,this._isHidden=!1,this._state=i.STATE_NEW,this.willEnter=new n.EventEmitter,this.didEnter=new n.EventEmitter,this.willLeave=new n.EventEmitter,this.didLeave=new n.EventEmitter,this.willUnload=new n.EventEmitter,this.readReady=new n.EventEmitter,this.writeReady=new n.EventEmitter,this.isOverlay=!1,this._emitter=new n.EventEmitter,this.data=e instanceof o.NavParams?e.data:r.isPresent(e)?e:{},this._cssClass=a,this._ts=Date.now(),window.addEventListener("orientationchange",this.handleOrientationChange.bind(this))}return t.prototype.handleOrientationChange=function(){this.getContent()&&this.getContent().resize()},t.prototype.init=function(t){this._ts=Date.now(),this._cmp=t,this.instance=this.instance||t.instance,this._detached=!1},t.prototype._setNav=function(t){this._nav=t},t.prototype._setInstance=function(t){this.instance=t},t.prototype.subscribe=function(t){return this._emitter.subscribe(t)},t.prototype.emit=function(t){this._emitter.emit(t)},t.prototype.onDidDismiss=function(t){this._onDidDismiss=t},t.prototype.onWillDismiss=function(t){this._onWillDismiss=t},t.prototype.dismiss=function(t,e,n){if(void 0===n&&(n={}),!this._nav)return Promise.resolve(!1);this.isOverlay&&!n.minClickBlockDuration&&(n.minClickBlockDuration=400),this._dismissData=t,this._dismissRole=e;var r=Object.assign({},this._leavingOpts,n);return this._nav.removeView(this,r).then(function(){return t})},t.prototype.getNav=function(){return this._nav},t.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("pageTransition")},t.prototype.getNavParams=function(){return new o.NavParams(this.data)},t.prototype.setLeavingOpts=function(t){this._leavingOpts=t},t.prototype.enableBack=function(){if(!this._nav)return!1;return!!this._nav.getPrevious(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this.component?this.component.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._nav?this._nav.indexOf(this):-1},enumerable:!0,configurable:!0}),t.prototype.isFirst=function(){return!!this._nav&&this._nav.first()===this},t.prototype.isLast=function(){return!!this._nav&&this._nav.last()===this},t.prototype._domShow=function(t,e){if(this._cmp&&t===this._isHidden){this._isHidden=!t;var n=t?null:"";e.setElementAttribute(this.pageRef().nativeElement,"hidden",n)}},t.prototype.getZIndex=function(){return this._zIndex},t.prototype._setZIndex=function(t,e){if(t!==this._zIndex){this._zIndex=t;var n=this.pageRef();n&&e.setElementStyle(n.nativeElement,"z-index",t)}},t.prototype.pageRef=function(){return this._cmp&&this._cmp.location},t.prototype._setContent=function(t){this._cntDir=t},t.prototype.getContent=function(){return this._cntDir},t.prototype._setContentRef=function(t){this._cntRef=t},t.prototype.contentRef=function(){return this._cntRef},t.prototype._setIONContent=function(t){this._setContent(t),this._ionCntDir=t},t.prototype.getIONContent=function(){return this._ionCntDir},t.prototype._setIONContentRef=function(t){this._setContentRef(t),this._ionCntRef=t},t.prototype.getIONContentRef=function(){return this._ionCntRef},t.prototype._setHeader=function(t){this._hdrDir=t},t.prototype.getHeader=function(){return this._hdrDir},t.prototype._setFooter=function(t){this._ftrDir=t},t.prototype.getFooter=function(){return this._ftrDir},t.prototype._setNavbar=function(t){this._nb=t},t.prototype.getNavbar=function(){return this._nb},t.prototype.hasNavbar=function(){return!!this._nb},t.prototype.setBackButtonText=function(t){this._nb&&this._nb.setBackButtonText(t)},t.prototype.showBackButton=function(t){this._nb&&(this._nb.hideBackButton=!t)},t.prototype._preLoad=function(){this._lifecycle("PreLoad")},t.prototype._willLoad=function(){this._lifecycle("WillLoad")},t.prototype._didLoad=function(){this._lifecycle("DidLoad")},t.prototype._willEnter=function(){this.handleOrientationChange(),this._detached&&this._cmp&&(this._cmp.changeDetectorRef.reattach(),this._detached=!1),this.willEnter.emit(null),this._lifecycle("WillEnter")},t.prototype._didEnter=function(){this._nb&&this._nb.didEnter(),this.didEnter.emit(null),this._lifecycle("DidEnter")},t.prototype._willLeave=function(t){this.willLeave.emit(null),this._lifecycle("WillLeave"),t&&this._onWillDismiss&&(this._onWillDismiss(this._dismissData,this._dismissRole),this._onWillDismiss=null)},t.prototype._didLeave=function(){this.didLeave.emit(null),this._lifecycle("DidLeave"),!this._detached&&this._cmp&&(this._cmp.changeDetectorRef.detach(),this._detached=!0)},t.prototype._willUnload=function(){this.willUnload.emit(null),this._lifecycle("WillUnload"),this._onDidDismiss&&this._onDidDismiss(this._dismissData,this._dismissRole),this._onDidDismiss=null,this._dismissData=null,this._dismissRole=null},t.prototype._destroy=function(t){if(this._cmp){if(t){var e=this._cmp.location.nativeElement;t.setElementAttribute(e,"class",null),t.setElementAttribute(e,"style",null)}window.removeEventListener("orientationchange",this.handleOrientationChange.bind(this)),this._cmp.destroy()}this._nav=this._cmp=this.instance=this._cntDir=this._cntRef=this._leavingOpts=this._hdrDir=this._ftrDir=this._nb=this._onDidDismiss=this._onWillDismiss=null,this._state=i.STATE_DESTROYED},t.prototype._lifecycleTest=function(t){var e=this.instance,n="ionViewCan"+t;if(e&&e[n])try{var r=e[n]();return r instanceof Promise?r:Promise.resolve(!1!==r)}catch(t){return Promise.reject(this.name+" "+n+" error: "+t.message)}return Promise.resolve(!0)},t.prototype._lifecycle=function(t){var e=this.instance,n="ionView"+t;e&&e[n]&&e[n]()},t.propDecorators={_emitter:[{type:n.Output}]},t}();e.ViewController=a,e.isViewController=function(t){return!!(t&&t._didLoad&&t._willUnload)};var s="ion-page"})},function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=n(14),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(t,e,n,r){this._config=t,this._elementRef=e,this._renderer=n,this._componentName=r,r&&(this._setComponentName(),this._setMode(t.get("mode")))}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._setColor(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){this._setMode(t)},enumerable:!0,configurable:!0}),t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.prototype.setElementAttribute=function(t,e){this._renderer.setElementAttribute(this._elementRef.nativeElement,t,e)},t.prototype.setElementStyle=function(t,e){this._renderer.setElementStyle(this._elementRef.nativeElement,t,e)},t.prototype._setColor=function(t,e){e&&(this._componentName=e),this._color&&this.setElementClass(this._componentName+"-"+this._mode+"-"+this._color,!1),t&&(this.setElementClass(this._componentName+"-"+this._mode+"-"+t,!0),this._color=t)},t.prototype._setMode=function(t){this._mode&&this.setElementClass(this._componentName+"-"+this._mode,!1),t&&(this.setElementClass(this._componentName+"-"+t,!0),this._setColor(null),this._mode=t,this._setColor(this._color))},t.prototype._setComponentName=function(){this.setElementClass(this._componentName,!0)},t.prototype.getElementRef=function(){return this._elementRef},t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t.propDecorators={color:[{type:n.Input}],mode:[{type:n.Input}]},t}();e.Ion=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../components/app/app");e.GESTURE_GO_BACK_SWIPE="goback-swipe",e.GESTURE_MENU_SWIPE="menu-swipe",e.GESTURE_ITEM_SWIPE="item-swipe",e.GESTURE_REFRESHER="refresher",e.GESTURE_TOGGLE="toggle",e.GESTURE_PRIORITY_SLIDING_ITEM=-10,e.GESTURE_PRIORITY_REFRESHER=0,e.GESTURE_PRIORITY_MENU_SWIPE=10,e.GESTURE_PRIORITY_GO_BACK_SWIPE=20,e.GESTURE_PRIORITY_TOGGLE=30,e.BLOCK_ALL={disable:[e.GESTURE_MENU_SWIPE,e.GESTURE_GO_BACK_SWIPE],disableScroll:!0};var i=function(){function t(t){this._app=t,this.id=1,this.requestedStart={},this.disabledGestures={},this.disabledScroll=new Set,this.capturedID=null}return t.prototype.createGesture=function(t){if(!t.name)throw new Error("name is undefined");return new o(t.name,this.newID(),this,t.priority||0,!!t.disableScroll)},t.prototype.createBlocker=function(t){return void 0===t&&(t={}),new a(this.newID(),this,t.disable,!!t.disableScroll)},t.prototype.newID=function(){var t=this.id;return this.id++,t},t.prototype.start=function(t,e,n){return this.canStart(t)?(this.requestedStart[e]=n,!0):(delete this.requestedStart[e],!1)},t.prototype.capture=function(t,e,n){if(!this.start(t,e,n))return!1;var r=this.requestedStart,i=-1e4;for(var o in r)i=Math.max(i,r[o]);return i===n?(this.capturedID=e,this.requestedStart={},!0):(delete r[e],!1)},t.prototype.release=function(t){delete this.requestedStart[t],this.capturedID&&t===this.capturedID&&(this.capturedID=null)},t.prototype.disableGesture=function(t,e){var n=this.disabledGestures[t];n||(n=new Set,this.disabledGestures[t]=n),n.add(e)},t.prototype.enableGesture=function(t,e){var n=this.disabledGestures[t];n&&n.delete(e)},t.prototype.disableScroll=function(t){var e=!this.isScrollDisabled();this.disabledScroll.add(t),this._app&&e&&this.isScrollDisabled()&&this._app._setDisableScroll(!0)},t.prototype.enableScroll=function(t){var e=this.isScrollDisabled();this.disabledScroll.delete(t),this._app&&e&&!this.isScrollDisabled()&&this._app._setDisableScroll(!1)},t.prototype.canStart=function(t){return!this.capturedID&&!this.isDisabled(t)},t.prototype.isCaptured=function(){return!!this.capturedID},t.prototype.isScrollDisabled=function(){return this.disabledScroll.size>0},t.prototype.isDisabled=function(t){var e=this.disabledGestures[t];return!!(e&&e.size>0)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.App,decorators:[{type:n.Inject,args:[n.forwardRef(function(){return r.App})]}]}]},t}();e.GestureController=i;var o=function(){function t(t,e,n,r,i){this.name=t,this.id=e,this.controller=n,this.priority=r,this.disableScroll=i}return t.prototype.canStart=function(){return!!this.controller&&this.controller.canStart(this.name)},t.prototype.start=function(){return!!this.controller&&this.controller.start(this.name,this.id,this.priority)},t.prototype.capture=function(){if(!this.controller)return!1;var t=this.controller.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.controller.disableScroll(this.id),t},t.prototype.release=function(){this.controller&&(this.controller.release(this.id),this.disableScroll&&this.controller.enableScroll(this.id))},t.prototype.destroy=function(){this.release(),this.controller=null},t}();e.GestureDelegate=o;var a=function(){function t(t,e,n,r){this.id=t,this.controller=e,this.disable=n,this.disableScroll=r,this.blocked=!1}return t.prototype.block=function(){var t=this;this.controller&&(this.disable&&this.disable.forEach(function(e){t.controller.disableGesture(e,t.id)}),this.disableScroll&&this.controller.disableScroll(this.id),this.blocked=!0)},t.prototype.unblock=function(){var t=this;this.controller&&(this.disable&&this.disable.forEach(function(e){t.controller.enableGesture(e,t.id)}),this.disableScroll&&this.controller.enableScroll(this.id),this.blocked=!1)},t.prototype.destroy=function(){this.unblock(),this.controller=null},t}();e.BlockerDelegate=a})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(36),n(89),n(3),n(56),n(70),n(5),n(627),n(629),n(630)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){if(t.id===e||t.name===e)return t;for(var r=0,i=t.getAllChildNavs();r<i.length;r++){var o=n(i[r],e);if(o)return o}return null}function r(t){if(!t)return null;if(l.isTabs(t))return r(t.parent);var e=t.length();return e>1||t._isPortal&&e>0?t:r(t.parent)}function i(t){var e=[],n=t.getActiveChildNavs();return n&&n.length?n.forEach(function(t){var n=i(t);e=e.concat(n)}):e.push(t),e}Object.defineProperty(e,"__esModule",{value:!0});var o=t("@angular/core"),a=t("@angular/platform-browser"),s=t("./app-constants"),u=t("../../config/config"),l=t("../../navigation/nav-util"),c=t("./menu-controller"),f=t("../../platform/platform"),p=t("../../transitions/transition-ios"),d=t("../../transitions/transition-md"),h=t("../../transitions/transition-wp"),m=function(){function t(t,e,n){this._config=t,this._plt=e,this._menuCtrl=n,this._disTime=0,this._scrollTime=0,this._title="",this._titleSrv=new a.Title(a.DOCUMENT),this._rootNavs=new Map,this._didScroll=!1,this.viewDidLoad=new o.EventEmitter,this.viewWillEnter=new o.EventEmitter,this.viewDidEnter=new o.EventEmitter,this.viewWillLeave=new o.EventEmitter,this.viewDidLeave=new o.EventEmitter,this.viewWillUnload=new o.EventEmitter,e.registerBackButtonAction(this.goBack.bind(this)),this._disableScrollAssist=t.getBoolean("disableScrollAssist",!1);t.getBoolean("inputBlurring",!1)&&this._enableInputBlurring(),t.setTransition("ios-transition",p.IOSTransition),t.setTransition("md-transition",d.MDTransition),t.setTransition("wp-transition",h.WPTransition)}return t.prototype.setTitle=function(t){t!==this._title&&(this._title=t,this._titleSrv.setTitle(t))},t.prototype.setElementClass=function(t,e){this._appRoot.setElementClass(t,e)},t.prototype.setEnabled=function(t,e,n){void 0===e&&(e=700),void 0===n&&(n=0),this._disTime=t?0:Date.now()+e,this._clickBlock&&(t?this._clickBlock.activate(!1,y,n):this._clickBlock.activate(!0,e+y,n))},t.prototype._setDisableScroll=function(t){this._disableScrollAssist&&this._appRoot._disableScroll(t)},t.prototype.isEnabled=function(){var t=this._disTime;return 0===t||t<Date.now()},t.prototype.setScrolling=function(){this._scrollTime=Date.now()+v,this._didScroll=!0},t.prototype.isScrolling=function(){var t=this._scrollTime;return 0!==t&&(!(t<Date.now())||(this._scrollTime=0,!1))},t.prototype.getActiveNav=function(){console.warn("(getActiveNav) is deprecated and will be removed in the next major release. Use getActiveNavs instead.");var t=this.getActiveNavs();return t&&t.length?t[0]:null},t.prototype.getActiveNavs=function(t){var e=this._appRoot._getPortal(s.PORTAL_MODAL);if(e.length()>0)return i(e);if(!this._rootNavs||!this._rootNavs.size)return[];if(1===this._rootNavs.size)return i(this._rootNavs.values().next().value);if(t)return i(this._rootNavs.get(t));var n=[];return this._rootNavs.forEach(function(t){var e=i(t);n=n.concat(e)}),n},t.prototype.getRootNav=function(){console.warn("(getRootNav) is deprecated and will be removed in the next major release. Use getRootNavById instead.");var t=this.getRootNavs();return 0===t.length?null:(t.length>1&&console.warn("(getRootNav) there are multiple root navs, use getRootNavs instead"),t[0])},t.prototype.getRootNavs=function(){var t=[];return this._rootNavs.forEach(function(e){return t.push(e)}),t},t.prototype.getRootNavById=function(t){return this._rootNavs.get(t)},t.prototype.registerRootNav=function(t){this._rootNavs.set(t.id,t)},t.prototype.unregisterRootNav=function(t){this._rootNavs.delete(t.id)},t.prototype.getActiveNavContainers=function(){var t=[];return this._rootNavs.forEach(function(e){t=t.concat(i(e))}),t},t.prototype.present=function(t,e,n){var r=this._appRoot._getPortal(n);return t._setNav(r),e.direction=l.DIRECTION_FORWARD,e.animation||(e.animation=t.getTransitionName(l.DIRECTION_FORWARD)),t.setLeavingOpts({keyboardClose:e.keyboardClose,direction:l.DIRECTION_BACK,animation:t.getTransitionName(l.DIRECTION_BACK),ev:e.ev}),r.insertPages(-1,[t],e)},t.prototype.goBack=function(){if(this._menuCtrl&&this._menuCtrl.isOpen())return this._menuCtrl.close();var t=this.navPop();return t||this._config.getBoolean("navExitApp",!0)&&this._plt.exitApp(),t},t.prototype.navPop=function(){var t=this;if(!this._rootNavs||0===this._rootNavs.size||!this.isEnabled())return Promise.resolve();if(this._appRoot._getPortal(s.PORTAL_DEFAULT).length()>0)return Promise.resolve();var e=null,n=null;return this._rootNavs.forEach(function(i){t.getActiveNavs(i.id).map(function(t){return r(t)}).filter(function(t){return!!t}).forEach(function(t){var r=t.last();(t._isPortal||r&&t.length()>1&&(!n||r._ts>=n._ts))&&(n=r,e=t)})}),e?e.pop():void 0},t.prototype._enableInputBlurring=function(){var t=!0,e=this,n=this._plt;n.registerListener(n.doc(),"focusin",function(){t=!0},{capture:!0,zone:!1,passive:!0}),n.registerListener(n.doc(),"touchend",function(r){if(e._didScroll)e._didScroll=!1;else{var i=e._plt.getActiveElement();if(i&&-1!==g.indexOf(i.tagName)){var o=r.target;o!==i&&(g.indexOf(o.tagName)>=0||o.classList.contains("input-cover")||(t=!1,n.timeout(function(){t||i.blur()},50)))}}},{capture:!1,zone:!1,passive:!0})},t.prototype.getNavByIdOrName=function(t){for(var e=0,r=Array.from(this._rootNavs.values());e<r.length;e++){var i=n(r[e],t);if(i)return i}return null},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:u.Config},{type:f.Platform},{type:c.MenuController,decorators:[{type:o.Optional}]}]},t}();e.App=m,e.getNavByIdOrName=n,e.findTopNavs=i;var g=["INPUT","TEXTAREA","ION-INPUT","ION-TEXTAREA"],v=100,y=64})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(5),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./platform"),i=t("../util/util"),o=function(){function t(t){this.dom=t,this.writeTask=null,this.readTask=null}return t.prototype.read=function(t){var e=this;if(!this.readTask)return this.readTask=this.dom.read(function(n){e.readTask=null,t(n)})},t.prototype.write=function(t){var e=this;if(!this.writeTask)return this.writeTask=this.dom.write(function(n){e.writeTask=null,t(n)})},t.prototype.cancel=function(){var t=this.writeTask;t&&this.dom.cancel(t);var e=this.readTask;e&&this.dom.cancel(e),this.readTask=this.writeTask=null},t}();e.DomDebouncer=o;var a=function(){function t(t){this.plt=t,this.r=[],this.w=[]}return t.prototype.debouncer=function(){return new o(this)},t.prototype.read=function(t,e){var n=this;return e?t.timeoutId=this.plt.timeout(function(){n.r.push(t),n._queue()},e):(this.r.push(t),this._queue()),t},t.prototype.write=function(t,e){var n=this;return e?t.timeoutId=this.plt.timeout(function(){n.w.push(t),n._queue()},e):(this.w.push(t),this._queue()),t},t.prototype.cancel=function(t){t&&(t.timeoutId&&this.plt.cancelTimeout(t.timeoutId),i.removeArrayItem(this.r,t)||i.removeArrayItem(this.w,t))},t.prototype._queue=function(){var t=this;t.q||(t.q=!0,t.plt.raf(function(e){t._flush(e)}))},t.prototype._flush=function(t){var e;try{!function(t,e,n){for(var r;r=e.shift();)r(t);for(;r=n.shift();)r(t)}(t,this.r,this.w)}catch(t){e=t}if(this.q=!1,(this.r.length||this.w.length)&&this._queue(),e)throw e},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.Platform}]},t}();e.DomController=a})},function(t,e,n){"use strict";function r(t){return null==t||0===t.length}function i(t){return null!=t}function o(t){var e=Object(P["isPromise"])(t)?Object(I.fromPromise)(t):t;if(!Object(P["isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function a(t){var e=t.reduce(function(t,e){return null!=e?Object(T.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}function s(t){return t.validate?function(e){return t.validate(e)}:t}function u(t){return t.validate?function(e){return t.validate(e)}:t}function l(){throw new Error("unimplemented")}function c(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function f(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}function p(t,e){return e.path.concat([t])}function d(t,e){t||v(e,"Cannot find control with"),e.valueAccessor||v(e,"No value accessor for form control with"),t.validator=F.compose([t.validator,e.validator]),t.asyncValidator=F.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&h(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&h(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function h(t,e){e.viewToModelUpdate(t._pendingValue),t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),t._pendingChange=!1}function m(t,e){null==t&&v(e,"Cannot find control with"),t.validator=F.compose([t.validator,e.validator]),t.asyncValidator=F.composeAsync([t.asyncValidator,e.asyncValidator])}function g(t){return v(t,"There is no FormControl instance attached to form control element with")}function v(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function y(t){return null!=t?F.compose(t.map(s)):null}function b(t){return null!=t?F.composeAsync(t.map(u)):null}function _(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(P["looseIdentical"])(e,n.currentValue)}function w(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function x(t,e){if(!e)return null;Array.isArray(e)||v(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){e.constructor===H?n=e:!function(t){return at.some(function(e){return t.constructor===e})}(e)?(i&&v(t,"More than one custom value accessor matches form control with"),i=e):(r&&v(t,"More than one built-in value accessor matches form control with"),r=e)}),i||(r||(n||(v(t,"No valid value accessor for form control with"),null)))}function E(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function C(t){var e=O(t)?t.validators:t;return Array.isArray(e)?y(e):e||null}function S(t,e){var n=O(e)?e.asyncValidators:t;return Array.isArray(n)?b(n):n||null}function O(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function k(t){return!(t instanceof zt||t instanceof jt||t instanceof Bt)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"AbstractControlDirective",function(){return D}),n.d(e,"AbstractFormGroupDirective",function(){return st}),n.d(e,"CheckboxControlValueAccessor",function(){return U}),n.d(e,"ControlContainer",function(){return R}),n.d(e,"NG_VALUE_ACCESSOR",function(){return B}),n.d(e,"COMPOSITION_BUFFER_MODE",function(){return q}),n.d(e,"DefaultValueAccessor",function(){return H}),n.d(e,"NgControl",function(){return Y}),n.d(e,"NgControlStatus",function(){return ct}),n.d(e,"NgControlStatusGroup",function(){return ft}),n.d(e,"NgForm",function(){return _t}),n.d(e,"NgModel",function(){return It}),n.d(e,"NgModelGroup",function(){return Tt}),n.d(e,"RadioControlValueAccessor",function(){return Z}),n.d(e,"FormControlDirective",function(){return Dt}),n.d(e,"FormControlName",function(){return Ut}),n.d(e,"FormGroupDirective",function(){return jt}),n.d(e,"FormArrayName",function(){return Bt}),n.d(e,"FormGroupName",function(){return zt}),n.d(e,"NgSelectOption",function(){return nt}),n.d(e,"SelectControlValueAccessor",function(){return et}),n.d(e,"SelectMultipleControlValueAccessor",function(){return it}),n.d(e,"CheckboxRequiredValidator",function(){return Gt}),n.d(e,"EmailValidator",function(){return Yt}),n.d(e,"MaxLengthValidator",function(){return Jt}),n.d(e,"MinLengthValidator",function(){return Xt}),n.d(e,"PatternValidator",function(){return te}),n.d(e,"RequiredValidator",function(){return Ht}),n.d(e,"FormBuilder",function(){return ee}),n.d(e,"AbstractControl",function(){return ht}),n.d(e,"FormArray",function(){return vt}),n.d(e,"FormControl",function(){return mt}),n.d(e,"FormGroup",function(){return gt}),n.d(e,"NG_ASYNC_VALIDATORS",function(){return L}),n.d(e,"NG_VALIDATORS",function(){return j}),n.d(e,"Validators",function(){return F}),n.d(e,"VERSION",function(){return ne}),n.d(e,"FormsModule",function(){return ue}),n.d(e,"ReactiveFormsModule",function(){return le}),n.d(e,"ba",function(){return se}),n.d(e,"z",function(){return ae}),n.d(e,"x",function(){return ie}),n.d(e,"y",function(){return oe}),n.d(e,"a",function(){return V}),n.d(e,"b",function(){return W}),n.d(e,"c",function(){return ut}),n.d(e,"d",function(){return lt}),n.d(e,"e",function(){return yt}),n.d(e,"f",function(){return Pt}),n.d(e,"g",function(){return kt}),n.d(e,"bf",function(){return re}),n.d(e,"bb",function(){return G}),n.d(e,"bc",function(){return $}),n.d(e,"h",function(){return K}),n.d(e,"i",function(){return X}),n.d(e,"bd",function(){return J}),n.d(e,"be",function(){return Q}),n.d(e,"j",function(){return Mt}),n.d(e,"k",function(){return Vt}),n.d(e,"l",function(){return Rt}),n.d(e,"n",function(){return Ft}),n.d(e,"m",function(){return Lt}),n.d(e,"o",function(){return tt}),n.d(e,"q",function(){return ot}),n.d(e,"p",function(){return rt}),n.d(e,"s",function(){return qt}),n.d(e,"t",function(){return $t}),n.d(e,"v",function(){return Zt}),n.d(e,"u",function(){return Kt}),n.d(e,"w",function(){return Qt}),n.d(e,"r",function(){return Wt});var T=n(2),P=n(0),N=n(361),I=n(363),A=n(365),M=n(36),D=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(D),j=new P.InjectionToken("NgValidators"),L=new P.InjectionToken("NgAsyncValidators"),z=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,F=function(){function t(){}return t.min=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(r(e.value)||r(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return z.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var n,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(r(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(i);return 0==e.length?null:function(t){return a(function(t,e){return e.map(function(e){return e(t)})}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(i);return 0==e.length?null:function(t){var n=function(t,e){return e.map(function(e){return e(t)})}(t,e).map(o);return A.map.call(Object(N.forkJoin)(n),a)}},t}(),B=new P.InjectionToken("NgValueAccessor"),V={provide:B,useExisting:Object(P.forwardRef)(function(){return U}),multi:!0},U=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),W={provide:B,useExisting:Object(P.forwardRef)(function(){return H}),multi:!0},q=new P.InjectionToken("CompositionEventMode"),H=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){var t=Object(M["getDOM"])()?Object(M["getDOM"])().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),G={provide:B,useExisting:Object(P.forwardRef)(function(){return $}),multi:!0},$=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(T.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return l()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return l()},enumerable:!0,configurable:!0}),e}(D),K={provide:B,useExisting:Object(P.forwardRef)(function(){return Z}),multi:!0},X=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}(),Z=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Y),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),J={provide:B,useExisting:Object(P.forwardRef)(function(){return Q}),multi:!0},Q=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),tt={provide:B,useExisting:Object(P.forwardRef)(function(){return et}),multi:!0},et=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=P["looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=c(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),nt=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(c(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),rt={provide:B,useExisting:Object(P.forwardRef)(function(){return it}),multi:!0},it=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=P["looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var n;if(Array.isArray(t)){var r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++){if((a=i.item(o)).selected){s=e._getOptionValue(a.value);r.push(s)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),ot=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(f(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(f(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}(),at=[U,Q,$,et,it,Z],st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return p(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return y(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return b(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(R),ut=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),lt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},ct=function(t){function e(e){return t.call(this,e)||this}return Object(T.__extends)(e,t),e}(ut),ft=function(t){function e(e){return t.call(this,e)||this}return Object(T.__extends)(e,t),e}(ut),pt="PENDING",dt="DISABLED",ht=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.status==pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.status===dt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.status!==dt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=C(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=S(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status=pt,this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status=dt,this.errors=null,this._forEachChild(function(e){e.disable(Object(T.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(T.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&this.status!==pt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?dt:"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status=pt;var n=o(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof gt?t.controls[e]||null:t instanceof vt?t.at(e)||null:null},t))}(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new P.EventEmitter,this.statusChanges=new P.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?dt:this.errors?"INVALID":this._anyControlsHaveStatus(pt)?pt:this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){O(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),mt=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,C(n),S(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(T.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(ht),gt=function(t){function e(e,n,r){var i=t.call(this,C(n),S(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(T.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof mt?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){if(this.controls[e[t]].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(ht),vt=function(t){function e(e,n,r){var i=t.call(this,C(n),S(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(T.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof mt?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(ht),yt={provide:R,useExisting:Object(P.forwardRef)(function(){return _t})},bt=Promise.resolve(null),_t=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new P.EventEmitter,r.form=new gt({},y(e),b(n)),r}return Object(T.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;bt.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),d(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;bt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),E(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;bt.then(function(){var n=e._findContainer(t.path),r=new gt({});m(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;bt.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;bt.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,w(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(R),wt='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',xt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Et='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',Ct='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',St='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ',Ot=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+wt+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+St)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+xt+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Ct)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+xt+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Ct)},t}(),kt={provide:R,useExisting:Object(P.forwardRef)(function(){return Tt})},Tt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(T.__extends)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof _t||Ot.modelGroupParentException()},e}(st),Pt={provide:Y,useExisting:Object(P.forwardRef)(function(){return It})},Nt=Promise.resolve(null),It=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new mt,o._registered=!1,o.update=new P.EventEmitter,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=x(o,i),o}return Object(T.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?p(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return y(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return b(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){d(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Tt)&&this._parent instanceof st?Ot.formGroupNameException():this._parent instanceof Tt||this._parent instanceof _t||Ot.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ot.missingNameException()},e.prototype._updateValue=function(t){var e=this;Nt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Nt.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(Y),At=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+wt)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+xt+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Ct)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+wt)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xt)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Et)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),Mt={provide:Y,useExisting:Object(P.forwardRef)(function(){return Dt})},Dt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.update=new P.EventEmitter,i._rawValidators=e||[],i._rawAsyncValidators=n||[],i.valueAccessor=x(i,r),i}return Object(T.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){At.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(d(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),_(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return y(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return b(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}(Y),Rt={provide:R,useExisting:Object(P.forwardRef)(function(){return jt})},jt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new P.EventEmitter,r}return Object(T.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return d(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){E(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);m(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);m(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,w(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(!function(t,e){e.valueAccessor.registerOnChange(function(){return g(e)}),e.valueAccessor.registerOnTouched(function(){return g(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&d(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=y(this._validators);this.form.validator=F.compose([this.form.validator,t]);var e=b(this._asyncValidators);this.form.asyncValidator=F.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||At.missingFormException()},e}(R),Lt={provide:R,useExisting:Object(P.forwardRef)(function(){return zt})},zt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(T.__extends)(e,t),e.prototype._checkParentType=function(){k(this._parent)&&At.groupParentException()},e}(st),Ft={provide:R,useExisting:Object(P.forwardRef)(function(){return Bt})},Bt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(T.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return p(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return y(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return b(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){k(this._parent)&&At.arrayParentException()},e}(R),Vt={provide:Y,useExisting:Object(P.forwardRef)(function(){return Ut})},Ut=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._added=!1,o.update=new P.EventEmitter,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=x(o,i),o}return Object(T.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){At.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return p(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return y(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return b(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof zt)&&this._parent instanceof st?At.ngModelGroupException():this._parent instanceof zt||this._parent instanceof jt||this._parent instanceof Bt||At.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}(Y),Wt={provide:j,useExisting:Object(P.forwardRef)(function(){return Ht}),multi:!0},qt={provide:j,useExisting:Object(P.forwardRef)(function(){return Gt}),multi:!0},Ht=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?F.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(T.__extends)(e,t),e.prototype.validate=function(t){return this.required?F.requiredTrue(t):null},e}(Ht),$t={provide:j,useExisting:Object(P.forwardRef)(function(){return Yt}),multi:!0},Yt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?F.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Kt={provide:j,useExisting:Object(P.forwardRef)(function(){return Xt}),multi:!0},Xt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=F.minLength(parseInt(this.minlength,10))},t}(),Zt={provide:j,useExisting:Object(P.forwardRef)(function(){return Jt}),multi:!0},Jt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=F.maxLength(parseInt(this.maxlength,10))},t}(),Qt={provide:j,useExisting:Object(P.forwardRef)(function(){return te}),multi:!0},te=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=F.pattern(this.pattern)},t}(),ee=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new gt(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new mt(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new vt(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof mt||t instanceof gt||t instanceof vt)return t;if(Array.isArray(t)){return this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null)}return this.control(t)},t}(),ne=new P.Version("5.2.11"),re=function(){return function(){}}(),ie=[re,nt,ot,H,$,Q,U,et,it,Z,ct,ft,Ht,Xt,Jt,te,Gt,Yt],oe=[It,Tt,_t],ae=[Dt,jt,Ut,zt,Bt],se=function(){return function(){}}(),ue=function(){return function(){}}(),le=function(){return function(){}}()},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=l(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),a=(t=i(t,r)).write(e,n);a!==r&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(o.isBuffer(e)){var n=0|c(e.length);return 0===(t=i(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&R(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(s(e),t=i(t,e<0?0:0|c(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|c(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function c(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function f(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return I(t).length;default:if(r)return N(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,n){var r=t.length;(!e||e<0)&&(e=0);(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[o]);return i}(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":return function(t,e,n){return M.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function h(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(t,l)===o(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,p=0;p<u;p++)if(o(t,l+p)!==o(e,p)){f=!1;break}if(f)return l}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function v(t,e,n,r){return A(N(e,t.length-n),t,n,r)}function y(t,e,n,r){return A(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function b(t,e,n,r){return y(t,e,n,r)}function _(t,e,n,r){return A(I(e),t,n,r)}function w(t,e,n,r){return A(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=t[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:l=t[i+2],128==(192&(u=t[i+1]))&&128==(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=t[i+2],c=t[i+3],128==(192&(u=t[i+1]))&&128==(192&l)&&128==(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(r.push((a-=65536)>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=j));return n}(r)}function E(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function S(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function O(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function k(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(t,e,n,r,i){return i||k(t,0,n,4),D.write(t,e,n,r,23,4),n+4}function P(t,e,n,r,i){return i||k(t,0,n,8),D.write(t,e,n,r,52,8),n+8}function N(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function I(t){return M.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function A(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var M=n(374),D=n(375),R=n(209);e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return function(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}(null,t,e,n)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!R(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):p.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),l=this.slice(r,i),c=t.slice(e,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return h(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return h(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||E(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||E(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||E(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||E(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||E(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||E(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||E(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||E(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||E(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||E(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||E(t,4,this.length),D.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||E(t,4,this.length),D.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||E(t,8,this.length),D.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||E(t,8,this.length),D.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){C(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){C(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return T(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return T(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:N(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var L=/[^+\/0-9A-Za-z-_]/g}).call(e,n(20))},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}function a(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function u(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=a/67108864|0;n.words[0]=67108863&a;for(var u=1;u<r;u++){for(var l=s>>>26,c=67108863&s,f=Math.min(u,e.length-1),p=Math.max(0,u-t.length+1);p<=f;p++){l+=(a=(i=0|t.words[u-p|0])*(o=0|e.words[p])+c)/67108864|0,c=67108863&a}n.words[u]=0|c,s=0|l}return 0!==s?n.words[u]=0|s:n.length--,n.strip()}function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}function f(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function d(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function h(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function v(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var y;try{y=n(410).Buffer}catch(t){}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)this.words[o]|=(a=t[i]|t[i-1]<<8|t[i-2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)this.words[o]|=(a=t[i]|t[i+1]<<8|t[i+2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=a(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=a(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;i=i/e|0;for(var o=t.length-n,a=o%--r,u=Math.min(o,o-a)+n,l=0,c=n;c<u;c+=r)l=s(t,c,c+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var f=1;for(l=s(t,c,t.length,e),c=0;c<a;c++)f*=e;this.imuln(f),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){t=t||10,e=0|e||1;var n;if(16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?b[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=_[t],c=w[t];n="";var f=this.clone();for(f.negative=0;!f.isZero();){var p=f.modn(c).toString(t);n=(f=f.idivn(c)).isZero()?p+n:b[l-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==y),this.toArrayLike(y,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},o.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)this.words[o]=67108863&(e=(0|n.words[o])+(0|r.words[o])+i),i=e>>>26;for(;0!==i&&o<n.length;o++)this.words[o]=67108863&(e=(0|n.words[o])+i),i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,a=0;a<i.length;a++)o=(e=(0|r.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var x=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],f=8191&c,p=c>>>13,d=0|a[1],h=8191&d,m=d>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,C=x>>>13,S=0|a[5],O=8191&S,k=S>>>13,T=0|a[6],P=8191&T,N=T>>>13,I=0|a[7],A=8191&I,M=I>>>13,D=0|a[8],R=8191&D,j=D>>>13,L=0|a[9],z=8191&L,F=L>>>13,B=0|s[0],V=8191&B,U=B>>>13,W=0|s[1],q=8191&W,H=W>>>13,G=0|s[2],$=8191&G,Y=G>>>13,K=0|s[3],X=8191&K,Z=K>>>13,J=0|s[4],Q=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ft=8191&ct,pt=ct>>>13,dt=0|s[9],ht=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(f,V))|0)+((8191&(i=(i=Math.imul(f,U))+Math.imul(p,V)|0))<<13)|0;l=((o=Math.imul(p,U))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(h,V),i=(i=Math.imul(h,U))+Math.imul(m,V)|0,o=Math.imul(m,U);var vt=(l+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(p,q)|0))<<13)|0;l=((o=o+Math.imul(p,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(v,V),i=(i=Math.imul(v,U))+Math.imul(y,V)|0,o=Math.imul(y,U),r=r+Math.imul(h,q)|0,i=(i=i+Math.imul(h,H)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,H)|0;var yt=(l+(r=r+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(p,$)|0))<<13)|0;l=((o=o+Math.imul(p,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(_,V),i=(i=Math.imul(_,U))+Math.imul(w,V)|0,o=Math.imul(w,U),r=r+Math.imul(v,q)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(h,$)|0,i=(i=i+Math.imul(h,Y)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,Y)|0;var bt=(l+(r=r+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(p,X)|0))<<13)|0;l=((o=o+Math.imul(p,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,V),i=(i=Math.imul(E,U))+Math.imul(C,V)|0,o=Math.imul(C,U),r=r+Math.imul(_,q)|0,i=(i=i+Math.imul(_,H)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,H)|0,r=r+Math.imul(v,$)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Y)|0,r=r+Math.imul(h,X)|0,i=(i=i+Math.imul(h,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var _t=(l+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(p,Q)|0))<<13)|0;l=((o=o+Math.imul(p,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(O,V),i=(i=Math.imul(O,U))+Math.imul(k,V)|0,o=Math.imul(k,U),r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,H)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,H)|0,r=r+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,r=r+Math.imul(h,Q)|0,i=(i=i+Math.imul(h,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(l+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(p,nt)|0))<<13)|0;l=((o=o+Math.imul(p,rt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,U))+Math.imul(N,V)|0,o=Math.imul(N,U),r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,H)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,H)|0,r=r+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,Y)|0,r=r+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(h,nt)|0,i=(i=i+Math.imul(h,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var xt=(l+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(p,ot)|0))<<13)|0;l=((o=o+Math.imul(p,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(A,V),i=(i=Math.imul(A,U))+Math.imul(M,V)|0,o=Math.imul(M,U),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,H)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,Y)|0,r=r+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Z)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(v,nt)|0,i=(i=i+Math.imul(v,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(h,ot)|0,i=(i=i+Math.imul(h,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Et=(l+(r=r+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(p,ut)|0))<<13)|0;l=((o=o+Math.imul(p,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(R,V),i=(i=Math.imul(R,U))+Math.imul(j,V)|0,o=Math.imul(j,U),r=r+Math.imul(A,q)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,H)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(_,nt)|0,i=(i=i+Math.imul(_,rt)|0)+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(h,ut)|0,i=(i=i+Math.imul(h,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0;var Ct=(l+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,pt)|0)+Math.imul(p,ft)|0))<<13)|0;l=((o=o+Math.imul(p,pt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(z,V),i=(i=Math.imul(z,U))+Math.imul(F,V)|0,o=Math.imul(F,U),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(j,q)|0,o=o+Math.imul(j,H)|0,r=r+Math.imul(A,$)|0,i=(i=i+Math.imul(A,Y)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,Z)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(E,nt)|0,i=(i=i+Math.imul(E,rt)|0)+Math.imul(C,nt)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,r=r+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(h,ft)|0,i=(i=i+Math.imul(h,pt)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,pt)|0;var St=(l+(r=r+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(p,ht)|0))<<13)|0;l=((o=o+Math.imul(p,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(z,q),i=(i=Math.imul(z,H))+Math.imul(F,q)|0,o=Math.imul(F,H),r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,Y)|0,r=r+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(O,nt)|0,i=(i=i+Math.imul(O,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,r=r+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,r=r+Math.imul(v,ft)|0,i=(i=i+Math.imul(v,pt)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,pt)|0;var Ot=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(m,ht)|0))<<13)|0;l=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(z,$),i=(i=Math.imul(z,Y))+Math.imul(F,$)|0,o=Math.imul(F,Y),r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Z)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,r=r+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,pt)|0)+Math.imul(w,ft)|0,o=o+Math.imul(w,pt)|0;var kt=(l+(r=r+Math.imul(v,ht)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,ht)|0))<<13)|0;l=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(z,X),i=(i=Math.imul(z,Z))+Math.imul(F,X)|0,o=Math.imul(F,Z),r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,tt)|0,r=r+Math.imul(A,nt)|0,i=(i=i+Math.imul(A,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,r=r+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,pt)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,pt)|0;var Tt=(l+(r=r+Math.imul(_,ht)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(w,ht)|0))<<13)|0;l=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(z,Q),i=(i=Math.imul(z,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(j,nt)|0,o=o+Math.imul(j,rt)|0,r=r+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,pt)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,pt)|0;var Pt=(l+(r=r+Math.imul(E,ht)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(C,ht)|0))<<13)|0;l=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(z,nt),i=(i=Math.imul(z,rt))+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,r=r+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,pt)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,pt)|0;var Nt=(l+(r=r+Math.imul(O,ht)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(k,ht)|0))<<13)|0;l=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(z,ot),i=(i=Math.imul(z,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,lt)|0,r=r+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,pt)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,pt)|0;var It=(l+(r=r+Math.imul(P,ht)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,ht)|0))<<13)|0;l=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(z,ut),i=(i=Math.imul(z,lt))+Math.imul(F,ut)|0,o=Math.imul(F,lt),r=r+Math.imul(R,ft)|0,i=(i=i+Math.imul(R,pt)|0)+Math.imul(j,ft)|0,o=o+Math.imul(j,pt)|0;var At=(l+(r=r+Math.imul(A,ht)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(M,ht)|0))<<13)|0;l=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(z,ft),i=(i=Math.imul(z,pt))+Math.imul(F,ft)|0,o=Math.imul(F,pt);var Mt=(l+(r=r+Math.imul(R,ht)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(j,ht)|0))<<13)|0;l=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863;var Dt=(l+(r=Math.imul(z,ht))|0)+((8191&(i=(i=Math.imul(z,mt))+Math.imul(F,ht)|0))<<13)|0;return l=((o=Math.imul(F,mt))+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Ct,u[9]=St,u[10]=Ot,u[11]=kt,u[12]=Tt,u[13]=Pt,u[14]=Nt,u[15]=It,u[16]=At,u[17]=Mt,u[18]=Dt,0!==l&&(u[19]=l,n.length++),n};Math.imul||(x=u),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?x(this,t,e):n<63?u(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=(0|t.words[o-l])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):l(this,t,e)},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},c.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},c.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=u,p=l,d=0;d<a;d++){var h=n[c+d],m=r[c+d],g=n[c+d+a],v=r[c+d+a],y=f*g-p*v;v=f*v+p*g,n[c+d]=h+(g=y),r[c+d]=m+v,n[c+d+a]=h-g,r[c+d+a]=m-v,d!==s&&(y=u*f-l*p,p=u*p+l*f,f=y)}},c.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},c.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)n[2*a]=8191&(o+=0|t[a]),n[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),f=new Array(r),p=n.words;p.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,f,r,i);for(var d=0;d<r;d++){var h=s[d]*c[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*c[d],s[d]=h}return this.conjugate(s,u,r),this.transform(s,u,p,o,r,i),this.conjugate(p,o,r),this.normalize13b(p,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),l(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n%26;e[n]=(t.words[n/26|0]&1<<r)>>>r}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o;this.words[e]=(0|this.words[e])-s<<n|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){r("number"==typeof t&&t>=0);var i;i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var f=0|this.words[l];this.words[l]=c<<26-o|f>>>o,c=f&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return!1;return!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){this.words[this.length-1]&=67108863^67108863>>>e<<e}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i;this._expand(t.length+n);var o,a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var s=(0|t.words[i])*e;a=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var p=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(p=Math.min(p/a|0,67108863),r._ishlnsubmul(i,p,f);0!==r.negative;)p--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=p)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){if(r(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,a,s;return 0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var p=0,d=1;0==(e.words[0]&d)&&p<26;++p,d<<=1);if(p>0)for(e.iushrn(p);p-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var h=0,m=1;0==(n.words[0]&m)&&h<26;++h,m<<=1);if(h>0)for(n.iushrn(h);h-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(f)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a)):(n.isub(e),a.isub(i))}var p;return(p=0===e.cmpn(1)?i:a).cmpn(0)<0&&p.iadd(t),p},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,this.words[a]=s&=67108863}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e=t<0;if(0!==this.negative&&!e)return-1;if(0===this.negative&&e)return 1;this.strip();var n;if(this.length>1)n=1;else{e&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];n=i===t?0:i<t?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new g(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var E={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},f.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},f.prototype.split=function(t,e){t.iushrn(this.n,0,e)},f.prototype.imulK=function(t){return t.imul(this.k)},i(p,f),p.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}t.words[r-10]=i>>>=22,t.length-=0===i&&t.length>10?10:9},p.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];t.words[n]=67108863&(e+=977*r),e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(d,f),i(h,f),i(m,f),m.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(E[t])return E[t];var e;if("k256"===t)e=new p;else if("p224"===t)e=new d;else if("p192"===t)e=new h;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new m}return E[t]=e,e},g.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},g.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},g.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},g.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},g.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},g.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},g.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},g.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},g.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},g.prototype.isqr=function(t){return this.imul(t,t.clone())},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var f=this.pow(c,i),p=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),h=a;0!==d.cmp(s);){for(var m=d,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<h);var v=this.pow(f,new o(1).iushln(h-g-1));p=p.redMul(v),f=v.redSqr(),d=d.redMul(f),h=g}return p},g.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},g.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var f=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},g.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},g.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new v(t)},i(v,g),v.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},v.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},v.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},v.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},v.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(e,n(104)(t))},function(t,e,n){"use strict";function r(t){return t.replace(/\/index.html$/,"")}function i(t,e,n){"string"!=typeof e&&(n=e,e=t[0]),e=e.toLowerCase().replace(/_/g,"-"),vt[e]=t,n&&(vt[e][18]=n)}function o(t){return S(t)[0]}function a(t,e,n){var r=S(t);return E(E([r[1],r[2]],e),n)}function s(t,e,n){var r=S(t);return E(E([r[3],r[4]],e),n)}function u(t,e,n){var r=S(t);return E(E([r[5],r[6]],e),n)}function l(t,e){return E(S(t)[7],e)}function c(t){return S(t)[8]}function f(t){return S(t)[9]}function p(t,e){return E(S(t)[10],e)}function d(t,e){return E(S(t)[11],e)}function h(t,e){return E(S(t)[12],e)}function m(t,e){var n=S(t),r=n[13][e];if(void 0===r){if(e===Et.CurrencyDecimal)return n[13][Et.Decimal];if(e===Et.CurrencyGroup)return n[13][Et.Group]}return r}function g(t,e){return S(t)[14][e]}function v(t){return S(t)[15]||null}function y(t){return S(t)[16]||null}function b(t){return S(t)[17]}function _(t){if(!t[18])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function w(t){var e=S(t);_(e);return(e[18][2]||[]).map(function(t){return"string"==typeof t?C(t):[C(t[0]),C(t[1])]})}function x(t,e,n){var r=S(t);_(r);return E(E([r[18][0],r[18][1]],e)||[],n)||[]}function E(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function C(t){var e=t.split(":");return{hours:+e[0],minutes:+e[1]}}function S(t){var e=t.toLowerCase().replace(/_/g,"-"),n=vt[e];if(n)return n;var r=e.split("-")[0];if(n=vt[r])return n;if("en"===r)return gt;throw new Error('Missing locale data for the locale "'+t+'".')}function O(t,e){var n=mt[t]||[],r=n[1];return"narrow"===e&&"string"==typeof r?r:n[0]||t}function k(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function T(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?bt.One:bt.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?bt.One:bt.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?bt.One:bt.Other;case"ar":return 0===n?bt.Zero:1===n?bt.One:2===n?bt.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?bt.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?bt.Many:bt.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?bt.One:bt.Other;case"be":return n%10==1&&n%100!=11?bt.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?bt.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?bt.Many:bt.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?bt.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?bt.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?bt.Few:0!==n&&n%1e6==0?bt.Many:bt.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?bt.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?bt.Few:bt.Other;case"cs":case"sk":return 1===i&&0===o?bt.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?bt.Few:0!==o?bt.Many:bt.Other;case"cy":return 0===n?bt.Zero:1===n?bt.One:2===n?bt.Two:3===n?bt.Few:6===n?bt.Many:bt.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?bt.One:bt.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?bt.One:0===o&&i%100==2||a%100==2?bt.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?bt.Few:bt.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?bt.One:bt.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?bt.One:bt.Other;case"ga":return 1===n?bt.One:2===n?bt.Two:n===Math.floor(n)&&n>=3&&n<=6?bt.Few:n===Math.floor(n)&&n>=7&&n<=10?bt.Many:bt.Other;case"gd":return 1===n||11===n?bt.One:2===n||12===n?bt.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?bt.Few:bt.Other;case"gv":return 0===o&&i%10==1?bt.One:0===o&&i%10==2?bt.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?bt.Many:bt.Other:bt.Few;case"he":return 1===i&&0===o?bt.One:2===i&&0===o?bt.Two:0!==o||n>=0&&n<=10||n%10!=0?bt.Other:bt.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?bt.One:bt.Other;case"ksh":return 0===n?bt.Zero:1===n?bt.One:bt.Other;case"kw":case"naq":case"se":case"smn":return 1===n?bt.One:2===n?bt.Two:bt.Other;case"lag":return 0===n?bt.Zero:0!==i&&1!==i||0===n?bt.Other:bt.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?bt.Few:0!==a?bt.Many:bt.Other:bt.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?bt.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?bt.One:bt.Other;case"mk":return 0===o&&i%10==1||a%10==1?bt.One:bt.Other;case"mt":return 1===n?bt.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?bt.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?bt.Many:bt.Other;case"pl":return 1===i&&0===o?bt.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?bt.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?bt.Many:bt.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?bt.One:bt.Other;case"ro":return 1===i&&0===o?bt.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?bt.Few:bt.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?bt.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?bt.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?bt.Many:bt.Other;case"shi":return 0===i||1===n?bt.One:n===Math.floor(n)&&n>=2&&n<=10?bt.Few:bt.Other;case"si":return 0===n||1===n||0===i&&1===a?bt.One:bt.Other;case"sl":return 0===o&&i%100==1?bt.One:0===o&&i%100==2?bt.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?bt.Few:bt.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?bt.One:bt.Other;default:return bt.Other}}function P(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}function N(t,e,n,r){e=I(n,e)||e;for(var i,o=[];e;){if(!(i=Ht.exec(e))){o.push(e);break}var a=(o=o.concat(i.slice(1))).pop();if(!a)break;e=a}var s=t.getTimezoneOffset();r&&(s=z(r,s),t=function(t,e,n){var r=n?-1:1,i=t.getTimezoneOffset(),o=z(e,i);return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(o-i))}(t,r,!0));var u="";return o.forEach(function(e){var r=function(t){if(Zt[t])return Zt[t];var e;switch(t){case"G":case"GG":case"GGG":e=R(Yt.Eras,wt.Abbreviated);break;case"GGGG":e=R(Yt.Eras,wt.Wide);break;case"GGGGG":e=R(Yt.Eras,wt.Narrow);break;case"y":e=D($t.FullYear,1,0,!1,!0);break;case"yy":e=D($t.FullYear,2,0,!0,!0);break;case"yyy":e=D($t.FullYear,3,0,!1,!0);break;case"yyyy":e=D($t.FullYear,4,0,!1,!0);break;case"M":case"L":e=D($t.Month,1,1);break;case"MM":case"LL":e=D($t.Month,2,1);break;case"MMM":e=R(Yt.Months,wt.Abbreviated);break;case"MMMM":e=R(Yt.Months,wt.Wide);break;case"MMMMM":e=R(Yt.Months,wt.Narrow);break;case"LLL":e=R(Yt.Months,wt.Abbreviated,_t.Standalone);break;case"LLLL":e=R(Yt.Months,wt.Wide,_t.Standalone);break;case"LLLLL":e=R(Yt.Months,wt.Narrow,_t.Standalone);break;case"w":e=L(1);break;case"ww":e=L(2);break;case"W":e=L(1,!0);break;case"d":e=D($t.Date,1);break;case"dd":e=D($t.Date,2);break;case"E":case"EE":case"EEE":e=R(Yt.Days,wt.Abbreviated);break;case"EEEE":e=R(Yt.Days,wt.Wide);break;case"EEEEE":e=R(Yt.Days,wt.Narrow);break;case"EEEEEE":e=R(Yt.Days,wt.Short);break;case"a":case"aa":case"aaa":e=R(Yt.DayPeriods,wt.Abbreviated);break;case"aaaa":e=R(Yt.DayPeriods,wt.Wide);break;case"aaaaa":e=R(Yt.DayPeriods,wt.Narrow);break;case"b":case"bb":case"bbb":e=R(Yt.DayPeriods,wt.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=R(Yt.DayPeriods,wt.Wide,_t.Standalone,!0);break;case"bbbbb":e=R(Yt.DayPeriods,wt.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=R(Yt.DayPeriods,wt.Abbreviated,_t.Format,!0);break;case"BBBB":e=R(Yt.DayPeriods,wt.Wide,_t.Format,!0);break;case"BBBBB":e=R(Yt.DayPeriods,wt.Narrow,_t.Format,!0);break;case"h":e=D($t.Hours,1,-12);break;case"hh":e=D($t.Hours,2,-12);break;case"H":e=D($t.Hours,1);break;case"HH":e=D($t.Hours,2);break;case"m":e=D($t.Minutes,1);break;case"mm":e=D($t.Minutes,2);break;case"s":e=D($t.Seconds,1);break;case"ss":e=D($t.Seconds,2);break;case"S":e=D($t.Milliseconds,1);break;case"SS":e=D($t.Milliseconds,2);break;case"SSS":e=D($t.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":e=j(Gt.Short);break;case"ZZZZZ":e=j(Gt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=j(Gt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=j(Gt.Long);break;default:return null}return Zt[t]=e,e}(e);u+=r?r(t,n,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function I(t,e){var n=o(t);if(qt[n]=qt[n]||{},qt[n][e])return qt[n][e];var r="";switch(e){case"shortDate":r=p(t,xt.Short);break;case"mediumDate":r=p(t,xt.Medium);break;case"longDate":r=p(t,xt.Long);break;case"fullDate":r=p(t,xt.Full);break;case"shortTime":r=d(t,xt.Short);break;case"mediumTime":r=d(t,xt.Medium);break;case"longTime":r=d(t,xt.Long);break;case"fullTime":r=d(t,xt.Full);break;case"short":var i=I(t,"shortTime"),a=I(t,"shortDate");r=A(h(t,xt.Short),[i,a]);break;case"medium":var s=I(t,"mediumTime"),u=I(t,"mediumDate");r=A(h(t,xt.Medium),[s,u]);break;case"long":var l=I(t,"longTime"),c=I(t,"longDate");r=A(h(t,xt.Long),[l,c]);break;case"full":var f=I(t,"fullTime"),m=I(t,"fullDate");r=A(h(t,xt.Full),[f,m])}return r&&(qt[n][e]=r),r}function A(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function M(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=""+t;a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function D(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s=function(t,e,n){switch(t){case $t.FullYear:return e.getFullYear();case $t.Month:return e.getMonth();case $t.Date:return e.getDate();case $t.Hours:return e.getHours();case $t.Minutes:return e.getMinutes();case $t.Seconds:return e.getSeconds();case $t.Milliseconds:var r=1===n?100:2===n?10:1;return Math.round(e.getMilliseconds()/r);case $t.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o,e);return(n>0||s>-n)&&(s+=n),t===$t.Hours&&0===s&&-12===n&&(s=12),M(s,e,m(a,Et.MinusSign),r,i)}}function R(t,e,n,r){return void 0===n&&(n=_t.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case Yt.Months:return u(e,i,r)[t.getMonth()];case Yt.Days:return s(e,i,r)[t.getDay()];case Yt.DayPeriods:var c=t.getHours(),f=t.getMinutes();if(o){var p,d=w(e),h=x(e,i,r);if(d.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],a=o.hours,s=o.minutes;c>=r&&f>=i&&(c<a||c===a&&f<s)&&(p=h[e])}else{var u=t.hours,l=t.minutes;u===c&&l===f&&(p=h[e])}}),p)return p}return a(e,i,r)[c<12?0:1];case Yt.Eras:return l(e,r)[t.getFullYear()<=0?0:1];default:var m=n;throw new Error("unexpected translation type "+m)}}(i,o,t,e,n,r)}}function j(t){return function(e,n,r){var i=-1*r,o=m(n,Et.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Gt.Short:return(i>=0?"+":"")+M(a,2,o)+M(Math.abs(i%60),2,o);case Gt.ShortGMT:return"GMT"+(i>=0?"+":"")+M(a,1,o);case Gt.Long:return"GMT"+(i>=0?"+":"")+M(a,2,o)+":"+M(Math.abs(i%60),2,o);case Gt.Extended:return 0===r?"Z":(i>=0?"+":"")+M(a,2,o)+":"+M(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}function L(t,e){return void 0===e&&(e=!1),function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var s=function(t){var e=new Date(t,Kt,1).getDay();return new Date(t,0,1+(e<=Xt?Xt:Xt+7)-e)}(n.getFullYear()),u=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(Xt-t.getDay()))}(n).getTime()-s.getTime();i=1+Math.round(u/6048e5)}return M(i,t,m(r,Et.MinusSign))}}function z(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function F(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(at["stringify"])(t)+"'")}function B(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=+(t[9]+t[10]),r=+(t[9]+t[11])),(t[8]?e.setUTCFullYear:e.setFullYear).call(e,+t[1],+t[2]-1,+t[3]);var o=+(t[4]||"0")-n,a=+(t[5]||"0")-r,s=+(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,a,s,u),e}function V(t){return t instanceof Date&&!isNaN(t.valueOf())}function U(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function W(t){return function(e,n){return t(e,n).split(" ")[0]}}function q(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function H(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=q(t,n,e);return r?r.substring(3):""}}function G(t,e){return t.hour12=e,t}function $(t,e){return function(){var n={};return n[t]=2===e?"2-digit":"numeric",n}()}function Y(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function K(t){return t.reduce(function(t,e){return Object(st.__assign)({},t,e)},{})}function X(t){return function(e,n){return q(e,n,t)}}function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}function J(t,e,n,r,i){void 0===i&&(i=null);var o,a={str:null},s=g(e,n);if("string"!=typeof t||isNaN(+t-parseFloat(t))){if("number"!=typeof t)return a.error=t+" is not a number",a;o=t}else o=+t;var u=function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(fe),i=r[0],o=r[1],a=-1!==i.indexOf(le)?i.split(le):[i.substring(0,i.lastIndexOf(ce)+1),i.substring(i.lastIndexOf(ce)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(de));for(var l=0;l<u.length;l++){var c=u.charAt(l);c===ce?n.minFrac=n.maxFrac=l+1:c===de?n.maxFrac=l+1:n.posSuf+=c}var f=s.split(pe);if(n.gSize=f[1]?f[1].length:0,n.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,o){var p=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(de);n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(s,m(e,Et.MinusSign)),l="",c=!1;if(isFinite(o)){var f=function(t){var e,n,r,i,o,a=Math.abs(t)+"",s=0;(n=a.indexOf(le))>-1&&(a=a.replace(le,""));(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length);for(r=0;a.charAt(r)===ce;r++);if(r===(o=a.length))e=[0],n=1;else{for(o--;a.charAt(o)===ce;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+a.charAt(r)}n>ue&&(e=e.splice(0,ue-1),s=n-1,n=1);return{digits:e,exponent:s,integerLen:n}}(o);n===yt.Percent&&(f=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2);return t}(f));var p=u.minInt,d=u.minFrac,h=u.maxFrac;if(r){var v=r.match(se);if(null===v)return a.error=r+" is not a valid digit info",a;var y=v[1],b=v[3],_=v[5];null!=y&&(p=Q(y)),null!=b&&(d=Q(b)),null!=_?h=Q(_):null!=b&&d>h&&(h=d)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var f=0!==o,p=e+t.integerLen,d=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e<10?e:e-10,f&&(0===r[n]&&n>=p?r.pop():f=!1),e>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}(f,d,h);var w=f.digits,x=f.integerLen,E=f.exponent,C=[];for(c=w.every(function(t){return!t});x<p;x++)w.unshift(0);for(;x<0;x++)w.unshift(0);x>0?C=w.splice(x,w.length):(C=w,w=[0]);var S=[];for(w.length>=u.lgSize&&S.unshift(w.splice(-u.lgSize,w.length).join(""));w.length>u.gSize;)S.unshift(w.splice(-u.gSize,w.length).join(""));w.length&&S.unshift(w.join(""));if(l=S.join(m(e,i?Et.CurrencyGroup:Et.Group)),C.length){l+=m(e,i?Et.CurrencyDecimal:Et.Decimal)+C.join("")}E&&(l+=m(e,Et.Exponential)+"+"+E)}else l=m(e,Et.Infinity);return l=o<0&&!c?u.negPre+l+u.negSuf:u.posPre+l+u.posSuf,n===yt.Currency&&null!==i?(a.str=l.replace(he,i).replace(he,""),a):n===yt.Percent?(a.str=l.replace(new RegExp(me,"g"),m(e,Et.PercentSign)),a):(a.str=l,a)}function Q(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function tt(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw F(t,n);var s,u,l;if(r!==yt.Currency&&(s=1,u=0,l=3),i){var c=i.match(se);if(null===c)throw new Error(i+" is not a valid digit info for number pipes");null!=c[1]&&(s=Q(c[1])),null!=c[3]&&(u=Q(c[3])),null!=c[5]&&(l=Q(c[5]))}return te.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:o,currencyAsSymbol:a})}function et(t){return null==t||""===t||t!=t}function nt(t){return t===Fe}function rt(t){return t===Be}function it(t){return t===Ve}function ot(t){return t===Ue}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerLocaleData",function(){return i}),n.d(e,"NgLocaleLocalization",function(){return kt}),n.d(e,"NgLocalization",function(){return Ot}),n.d(e,"registerLocaleData",function(){return i}),n.d(e,"Plural",function(){return bt}),n.d(e,"NumberFormatStyle",function(){return yt}),n.d(e,"FormStyle",function(){return _t}),n.d(e,"TranslationWidth",function(){return wt}),n.d(e,"FormatWidth",function(){return xt}),n.d(e,"NumberSymbol",function(){return Et}),n.d(e,"WeekDay",function(){return Ct}),n.d(e,"getCurrencySymbol",function(){return O}),n.d(e,"getLocaleDayPeriods",function(){return a}),n.d(e,"getLocaleDayNames",function(){return s}),n.d(e,"getLocaleMonthNames",function(){return u}),n.d(e,"getLocaleId",function(){return o}),n.d(e,"getLocaleEraNames",function(){return l}),n.d(e,"getLocaleWeekEndRange",function(){return f}),n.d(e,"getLocaleFirstDayOfWeek",function(){return c}),n.d(e,"getLocaleDateFormat",function(){return p}),n.d(e,"getLocaleDateTimeFormat",function(){return h}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return w}),n.d(e,"getLocaleExtraDayPeriods",function(){return x}),n.d(e,"getLocalePluralCase",function(){return b}),n.d(e,"getLocaleTimeFormat",function(){return d}),n.d(e,"getLocaleNumberSymbol",function(){return m}),n.d(e,"getLocaleNumberFormat",function(){return g}),n.d(e,"getLocaleCurrencyName",function(){return y}),n.d(e,"getLocaleCurrencySymbol",function(){return v}),n.d(e,"parseCookieValue",function(){return P}),n.d(e,"CommonModule",function(){return je}),n.d(e,"DeprecatedI18NPipesModule",function(){return Le}),n.d(e,"NgClass",function(){return Tt}),n.d(e,"NgForOf",function(){return It}),n.d(e,"NgForOfContext",function(){return Nt}),n.d(e,"NgIf",function(){return Mt}),n.d(e,"NgIfContext",function(){return Dt}),n.d(e,"NgPlural",function(){return Ft}),n.d(e,"NgPluralCase",function(){return Bt}),n.d(e,"NgStyle",function(){return Vt}),n.d(e,"NgSwitch",function(){return jt}),n.d(e,"NgSwitchCase",function(){return Lt}),n.d(e,"NgSwitchDefault",function(){return zt}),n.d(e,"NgTemplateOutlet",function(){return Ut}),n.d(e,"NgComponentOutlet",function(){return Pt}),n.d(e,"DOCUMENT",function(){return ze}),n.d(e,"AsyncPipe",function(){return Ee}),n.d(e,"DatePipe",function(){return Qt}),n.d(e,"I18nPluralPipe",function(){return Te}),n.d(e,"I18nSelectPipe",function(){return Pe}),n.d(e,"JsonPipe",function(){return Ne}),n.d(e,"LowerCasePipe",function(){return Ce}),n.d(e,"CurrencyPipe",function(){return Me}),n.d(e,"DecimalPipe",function(){return Ie}),n.d(e,"PercentPipe",function(){return Ae}),n.d(e,"SlicePipe",function(){return De}),n.d(e,"UpperCasePipe",function(){return Oe}),n.d(e,"TitleCasePipe",function(){return Se}),n.d(e,"DeprecatedDatePipe",function(){return ae}),n.d(e,"DeprecatedCurrencyPipe",function(){return ye}),n.d(e,"DeprecatedDecimalPipe",function(){return ge}),n.d(e,"DeprecatedPercentPipe",function(){return ve}),n.d(e,"PLATFORM_BROWSER_ID",function(){return Fe}),n.d(e,"PLATFORM_SERVER_ID",function(){return Be}),n.d(e,"PLATFORM_WORKER_APP_ID",function(){return Ve}),n.d(e,"PLATFORM_WORKER_UI_ID",function(){return Ue}),n.d(e,"isPlatformBrowser",function(){return nt}),n.d(e,"isPlatformServer",function(){return rt}),n.d(e,"isPlatformWorkerApp",function(){return it}),n.d(e,"isPlatformWorkerUi",function(){return ot}),n.d(e,"VERSION",function(){return We}),n.d(e,"PlatformLocation",function(){return ut}),n.d(e,"LOCATION_INITIALIZED",function(){return lt}),n.d(e,"LocationStrategy",function(){return ct}),n.d(e,"APP_BASE_HREF",function(){return ft}),n.d(e,"HashLocationStrategy",function(){return dt}),n.d(e,"PathLocationStrategy",function(){return ht}),n.d(e,"Location",function(){return pt}),n.d(e,"e",function(){return Wt}),n.d(e,"d",function(){return S}),n.d(e,"a",function(){return St}),n.d(e,"b",function(){return T}),n.d(e,"g",function(){return be}),n.d(e,"f",function(){return Re});var at=n(0),st=n(2),ut=function(){return function(){}}(),lt=new at.InjectionToken("Location Initialized"),ct=function(){return function(){}}(),ft=new at.InjectionToken("appBaseHref"),pt=function(){function t(e){var n=this;this._subject=new at.EventEmitter,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(r(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,r(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}(),dt=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(st.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=pt.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+pt.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+pt.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ct),ht=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(st.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return pt.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+pt.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+pt.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+pt.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ct),mt={AOA:[,"Kz"],ARS:[,"$"],AUD:["A$","$"],BAM:[,"KM"],BBD:[,"$"],BDT:[,""],BMD:[,"$"],BND:[,"$"],BOB:[,"Bs"],BRL:["R$"],BSD:[,"$"],BWP:[,"P"],BYN:[,"."],BZD:[,"$"],CAD:["CA$","$"],CLP:[,"$"],CNY:["CN",""],COP:[,"$"],CRC:[,""],CUC:[,"$"],CUP:[,"$"],CZK:[,"K"],DKK:[,"kr"],DOP:[,"$"],EGP:[,"E"],ESP:[,""],EUR:[""],FJD:[,"$"],FKP:[,""],GBP:[""],GEL:[,""],GIP:[,""],GNF:[,"FG"],GTQ:[,"Q"],GYD:[,"$"],HKD:["HK$","$"],HNL:[,"L"],HRK:[,"kn"],HUF:[,"Ft"],IDR:[,"Rp"],ILS:[""],INR:[""],ISK:[,"kr"],JMD:[,"$"],JPY:[""],KHR:[,""],KMF:[,"CF"],KPW:[,""],KRW:[""],KYD:[,"$"],KZT:[,""],LAK:[,""],LBP:[,"L"],LKR:[,"Rs"],LRD:[,"$"],LTL:[,"Lt"],LVL:[,"Ls"],MGA:[,"Ar"],MMK:[,"K"],MNT:[,""],MUR:[,"Rs"],MXN:["MX$","$"],MYR:[,"RM"],NAD:[,"$"],NGN:[,""],NIO:[,"C$"],NOK:[,"kr"],NPR:[,"Rs"],NZD:["NZ$","$"],PHP:[,""],PKR:[,"Rs"],PLN:[,"z"],PYG:[,""],RON:[,"lei"],RUB:[,""],RUR:[,"."],RWF:[,"RF"],SBD:[,"$"],SEK:[,"kr"],SGD:[,"$"],SHP:[,""],SRD:[,"$"],SSP:[,""],STD:[,"Db"],SYP:[,""],THB:[,""],TOP:[,"T$"],TRY:[,""],TTD:[,"$"],TWD:["NT$","$"],UAH:[,""],USD:["$"],UYU:[,"$"],VEF:[,"Bs"],VND:[""],XAF:["FCFA"],XCD:["EC$","$"],XOF:["CFA"],XPF:["CFPF"],ZAR:[,"R"],ZMW:[,"ZK"]},gt=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],vt={},yt=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),bt=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),_t=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),wt=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),xt=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Et=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}(),Ct=function(){var t={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return t[t.Sunday]="Sunday",t[t.Monday]="Monday",t[t.Tuesday]="Tuesday",t[t.Wednesday]="Wednesday",t[t.Thursday]="Thursday",t[t.Friday]="Friday",t[t.Saturday]="Saturday",t}(),St=new at.InjectionToken("UseV4Plurals"),Ot=function(){return function(){}}(),kt=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(st.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):b(e||this.locale)(t)){case bt.Zero:return"zero";case bt.One:return"one";case bt.Two:return"two";case bt.Few:return"few";case bt.Many:return"many";default:return"other"}},e}(Ot),Tt=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(at["isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(at["stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),Pt=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(at.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(at.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Nt=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),It=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(at.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+function(t){return t.name||typeof t}(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Nt(null,e.ngForOf,-1,-1),i),a=new At(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(r);else{o=e._viewContainer.get(r);e._viewContainer.move(o,i);a=new At(t,o);n.push(a)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),At=function(){return function(t,e){this.record=t,this.view=e}}(),Mt=function(){function t(t,e){this._viewContainer=t,this._context=new Dt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Dt=function(){return function(){this.$implicit=null,this.ngIf=null}}(),Rt=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),jt=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}(),Lt=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Rt(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),zt=function(){return function(t,e,n){n._addDefault(new Rt(t,e))}}(),Ft=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=k(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),Bt=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Rt(n,e))}}(),Vt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],i=n[1];null!=(e=null!=e&&i?""+e+i:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),Ut=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(var r=0,i=n;r<i.length;r++){if(-1===e.indexOf(i[r]))return!0}return!1}return!0},t.prototype._updateExistingContext=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}},t}(),Wt=[Tt,Pt,It,Mt,Ut,Vt,jt,Lt,zt,Ft,Bt],qt={},Ht=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Gt=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),$t=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,Milliseconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.Milliseconds]="Milliseconds",t[t.Day]="Day",t}(),Yt=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}(),Kt=0,Xt=4,Zt={},Jt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qt=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;"string"==typeof e&&(e=e.trim());var o,a;if(V(e))o=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var s=e.split("-").map(function(t){return+t}),u=s[0],l=s[1],c=s[2];o=new Date(u,l-1,c)}else o="string"==typeof e&&(a=e.match(Jt))?B(a):new Date(e);else o=new Date(parseFloat(e));if(!V(o))throw F(t,e);return N(o,n,i||this.locale,r)},t}(),te=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,a=void 0!==o&&o,s={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:yt[n].toLowerCase()};return n==yt.Currency&&(s.currency="string"==typeof i?i:void 0,s.currencyDisplay=a?"symbol":"code"),new Intl.NumberFormat(e,s).format(t)},t}(),ee=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ne={yMMMdjms:X(K([$("year",1),Y("month",3),$("day",1),$("hour",1),$("minute",1),$("second",1)])),yMdjm:X(K([$("year",1),$("month",1),$("day",1),$("hour",1),$("minute",1)])),yMMMMEEEEd:X(K([$("year",1),Y("month",4),Y("weekday",4),$("day",1)])),yMMMMd:X(K([$("year",1),Y("month",4),$("day",1)])),yMMMd:X(K([$("year",1),Y("month",3),$("day",1)])),yMd:X(K([$("year",1),$("month",1),$("day",1)])),jms:X(K([$("hour",1),$("second",1),$("minute",1)])),jm:X(K([$("hour",1),$("minute",1)]))},re={yyyy:X($("year",4)),yy:X($("year",2)),y:X($("year",1)),MMMM:X(Y("month",4)),MMM:X(Y("month",3)),MM:X($("month",2)),M:X($("month",1)),LLLL:X(Y("month",4)),L:X(Y("month",1)),dd:X($("day",2)),d:X($("day",1)),HH:U(W(X(G($("hour",2),!1)))),H:W(X(G($("hour",1),!1))),hh:U(W(X(G($("hour",2),!0)))),h:W(X(G($("hour",1),!0))),jj:X($("hour",2)),j:X($("hour",1)),mm:U(X($("minute",2))),m:X($("minute",1)),ss:U(X($("second",2))),s:X($("second",1)),sss:X($("second",3)),EEEE:X(Y("weekday",4)),EEE:X(Y("weekday",3)),EE:X(Y("weekday",2)),E:X(Y("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(X(G($("hour",1),!0))),Z:H("short"),z:H("long"),ww:X({}),w:X({}),G:X(Y("era",1)),GG:X(Y("era",2)),GGG:X(Y("era",3)),GGGG:X(Y("era",4))},ie=new Map,oe=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=ne[t];if(r)return r(e,n);var i=t,o=ie.get(i);if(!o){o=[];var a=void 0;ee.exec(t);for(var s=t;s;)(a=ee.exec(s))?s=(o=o.concat(a.slice(1))).pop():(o.push(s),s=null);ie.set(i,o)}return o.reduce(function(t,r){var i=re[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),ae=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;var r;if("string"==typeof e&&(e=e.trim()),Z(e))r=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=e.split("-").map(function(t){return parseInt(t,10)}),o=i[0],a=i[1],s=i[2];r=new Date(o,a-1,s)}else r=new Date(e);else r=new Date(parseFloat(e));if(!Z(r)){var u=void 0;if("string"!=typeof e||!(u=e.match(Jt)))throw F(t,e);r=B(u)}return oe.format(r,this._locale,t._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}(),se=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ue=22,le=".",ce="0",fe=";",pe=",",de="#",he="",me="%",ge=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return tt(t,this._locale,e,yt.Decimal,n)},t}(),ve=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return tt(t,this._locale,e,yt.Percent,n)},t}(),ye=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),tt(t,this._locale,e,yt.Currency,i,n,r)},t}(),be=[ge,ve,ye,ae],_e=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),we=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),xe=new _e,Ee=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,at.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(at["isPromise"])(e))return we;if(Object(at["isObservable"])(e))return xe;throw F(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),Ce=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw F(t,e);return e.toLowerCase()},t}(),Se=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw F(t,e);return e.split(/\b/g).map(function(t){return function(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}(t)}).join("")},t}(),Oe=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw F(t,e);return e.toUpperCase()},t}(),ke=/#/g,Te=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw F(t,n);return n[k(e,Object.keys(n),this._localization,r)].replace(ke,e.toString())},t}(),Pe=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw F(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}(),Ne=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Ie=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(et(e))return null;var i=J(e,r=r||this._locale,yt.Decimal,n),o=i.str,a=i.error;if(a)throw F(t,a);return o},t}(),Ae=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(et(e))return null;var i=J(e,r=r||this._locale,yt.Percent,n),o=i.str,a=i.error;if(a)throw F(t,a);return o},t}(),Me=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i,o){if(void 0===r&&(r="symbol"),et(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a=O(a,"symbol"===r?"wide":"narrow"));var s=J(e,o,yt.Currency,i,a),u=s.str,l=s.error;if(l)throw F(t,l);return u},t}(),De=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw F(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),Re=[Ee,Oe,Ce,Ne,De,Ie,Ae,Se,Me,Qt,Te,Pe],je=function(){return function(){}}(),Le=function(){return function(){}}(),ze=new at.InjectionToken("DocumentToken"),Fe="browser",Be="server",Ve="browserWorkerApp",Ue="browserWorkerUi",We=new at.Version("5.2.11")},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return this.data[t]},t}();e.NavParams=n})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){h&&p&&(h=!1,p.length?d=p.concat(d):m=-1,d.length&&a())}function a(){if(!h){var t=i(o);h=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,h=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var p,d=[],h=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new s(t,e)),1!==d.length||h||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCss=function(t){var e,n={},r=["webkitTransform","-webkit-transform","webkit-transform","transform"];for(e=0;e<r.length;e++)if(void 0!==t.style[r[e]]){n.transform=r[e];break}for(r=["webkitTransition","transition"],e=0;e<r.length;e++)if(void 0!==t.style[r[e]]){n.transition=r[e];break}var i=n.transition.indexOf("webkit")>-1;return n.transitionDuration=(i?"-webkit-":"")+"transition-duration",n.transitionTimingFn=(i?"-webkit-":"")+"transition-timing-function",n.transitionDelay=(i?"-webkit-":"")+"transition-delay",n.transitionEnd=(i?"webkitTransitionEnd ":"")+"transitionend",n.transformOrigin=(i?"-webkit-":"")+"transform-origin",n.animationDelay=i?"webkitAnimationDelay":"animationDelay",n},e.pointerCoord=function(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var n=e[0];return{x:n.clientX,y:n.clientY}}var r=t.pageX;if(void 0!==r)return{x:r,y:t.pageY}}return{x:0,y:0}},e.hasPointerMoved=function(t,e,n){if(e&&n){var r=e.x-n.x,i=e.y-n.y;return r*r+i*i>t*t}return!1},e.isTextInput=function(t){return!!t&&("TEXTAREA"===t.tagName||"true"===t.contentEditable||"INPUT"===t.tagName&&!e.NON_TEXT_INPUT_REGEX.test(t.type))},e.NON_TEXT_INPUT_REGEX=/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i;var n=["value","checked","disabled","readonly","placeholder","type","class","style","id","autofocus","autocomplete","autocorrect"];e.copyInputAttributes=function(t,e){for(var r=t.attributes,i=0;i<r.length;i++){var o=r[i];-1===n.indexOf(o.name)&&e.setAttribute(o.name,o.value)}}})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(62),i=n(341),o=n(201),a=n(343);e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:a.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./util"),i=function(){function t(){this._focused=null,this._ids=-1,this._inputs=[]}return t.prototype.register=function(t){this._inputs.push(t)},t.prototype.deregister=function(t){r.removeArrayItem(this._inputs,t),this.unsetAsFocused(t)},t.prototype.setAsFocused=function(t){this._focused=t},t.prototype.unsetAsFocused=function(t){t===this._focused&&(this._focused=null)},t.prototype.tabFocus=function(t){var e=this._inputs,n=e.indexOf(t)+1;if(n>0&&n<e.length){var r=e[n];if(r!==this._focused)return r.initFocus()}if((n=e.indexOf(this._focused))>0){var i=e[n-1];i&&i.initFocus()}},t.prototype.nextId=function(){return++this._ids},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[]},t}();e.Form=i;var o=function(){return function(){}}();e.IonicTapInput=o;var a=function(){return function(){}}();e.IonicFormInput=a})},function(t,e,n){"use strict";var r=e;r.version=n(416).version,r.utils=n(417),r.rand=n(232),r.curve=n(105),r.curves=n(422),r.ec=n(430),r.eddsa=n(434)},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(56),n(4),n(117),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){return"/"!==(t=t.trim()).charAt(0)&&(t="/"+t),t.length>1&&"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t}function r(t,e){for(;t;){if(t.id===e||t.name===e)return t;t=t.parent}return null}Object.defineProperty(e,"__esModule",{value:!0});var i=t("./nav-util"),o=t("../util/util"),a=t("./url-serializer"),s=t("./view-controller"),u=function(){function t(t,e,n,r,i){this._app=t,this._serializer=e,this._location=n,this._moduleLoader=r,this._baseCfr=i,this._history=[]}return t.prototype.init=function(){var t=this,e=n(this._location.path());this._historyPush(e),this._location.subscribe(function(e){t._urlChange(n(e.url))})},t.prototype._urlChange=function(t){var e=this;if(!this._isCurrentUrl(t)){this._isBackUrl(t)?this._historyPop():(!1,this._historyPush(t));var n=this._app.getActiveNavContainers();if(n&&n.length){if("/"===t){if(!o.isPresent(this._indexAliasUrl))return void n.forEach(function(t){t.goToRoot({updateUrl:!1,isNavRoot:!0})});t=this._indexAliasUrl}this.getCurrentSegments(t).map(function(t){for(var e=0,i=n;e<i.length;e++){var o=r(i[e],t.navId);if(o)return{segment:t,navContainer:o}}}).filter(function(t){return!!t}).forEach(function(t){e._loadViewForSegment(t.navContainer,t.segment,function(){})})}}},t.prototype.getCurrentSegments=function(t){return t||(t=n(this._location.path())),this._serializer.parse(t)},t.prototype.navChange=function(t){if(t){for(var e=0,n=this._app.getActiveNavContainers();e<n.length;e++){var r=n[e];if(i.isTabs(r)||r.isTransitioning())return}for(var o=[],a=0,s=this._app.getRootNavs();a<s.length;a++){var u=this.getSegmentsFromNav(s[a]);o=o.concat(u)}if((o=o.filter(function(t){return!!t})).length){var l=this._serializer.serialize(o);this._updateLocation(l,t)}}},t.prototype.getSegmentsFromNav=function(t){var e=this,n=[];return i.isNav(t)?n.push(this.getSegmentFromNav(t)):i.isTab(t)&&n.push(this.getSegmentFromTab(t)),t.getActiveChildNavs().forEach(function(t){n=n.concat(e.getSegmentsFromNav(t))}),n},t.prototype.getSegmentFromNav=function(t,e,n){if(!e){var r=t.getActive(!0);r&&(e=r.component,n=r.data)}return this._serializer.serializeComponent(t,e,n)},t.prototype.getSegmentFromTab=function(t,e,n){if(t&&t.parent){var r=t.parent,i=r.getActiveChildNavs();if(i&&i.length){var o=i[0].getActive(!0);return o&&(e=o.component,n=o.data),this._serializer.serializeComponent(r,e,n)}}},t.prototype._updateLocation=function(t,e){this._indexAliasUrl===t&&(t="/"),e===i.DIRECTION_BACK&&this._isBackUrl(t)?(this._historyPop(),this._location.back()):this._isCurrentUrl(t)||(this._historyPush(t),this._location.go(t))},t.prototype.getComponentFromName=function(t){var e=this._serializer.getLinkFromName(t);return e?this.getNavLinkComponent(e):Promise.reject("invalid link: "+t)},t.prototype.getNavLinkComponent=function(t){return t.component?Promise.resolve(t.component):t.loadChildren?this._moduleLoader.load(t.loadChildren).then(function(e){return t.component=e.component,e.component}):Promise.reject("invalid link component: "+t.name)},t.prototype.resolveComponent=function(t){var e=this._moduleLoader.getComponentFactoryResolver(t);return e||(e=this._baseCfr),e.resolveComponentFactory(t)},t.prototype.createUrl=function(t,e,n,r){void 0===r&&(r=!0);var i=this._serializer.createSegmentFromName(t,e),o=this.getCurrentSegments();if(i)for(var a=0;a<o.length;a++)if(o[a].navId===t.name||o[a].navId===t.id){o[a]=i;var s=this._serializer.serialize(o);return r?this._location.prepareExternalUrl(s):s}return""},t.prototype.getSegmentByNavIdOrName=function(t,e){for(var r=n(this._location.path()),i=0,o=this._serializer.parse(r);i<o.length;i++){var a=o[i];if(a.navId===t||a.navId===e)return a}return null},t.prototype.initViews=function(t){var e=this,n=this._serializer.getLinkFromName(t.name);return this.getNavLinkComponent(n).then(function(n){t.component=n;var r=new s.ViewController(n,t.data);return r.id=t.id,o.isArray(t.defaultHistory)?i.convertToViews(e,t.defaultHistory).then(function(t){return t.push(r),t}):[r]})},t.prototype._isBackUrl=function(t){return t===this._history[this._history.length-2]},t.prototype._isCurrentUrl=function(t){return t===this._history[this._history.length-1]},t.prototype._historyPush=function(t){this._isCurrentUrl(t)||(this._history.push(t),this._history.length>30&&this._history.shift())},t.prototype._historyPop=function(){this._history.pop(),this._history.length||this._historyPush(this._location.path())},t.prototype._getTabSelector=function(t){return o.isPresent(t.tabUrlPath)?t.tabUrlPath:o.isPresent(t.tabTitle)?a.formatUrlPart(t.tabTitle):"tab-"+t.index},t.prototype._loadViewForSegment=function(t,e,n){if(!e)return n(!1,!1);if(i.isTabs(t)||i.isTab(t)&&t.parent){var r=i.isTabs(t)?t:t.parent,o=r._getSelectedTabIndex(e.secondaryId),a=r.getByIndex(o);return a._segment=e,r.select(a,{updateUrl:!1,animate:!1},!0),n(!1,!1)}for(var s=t,u=s.length()-1,l=u;l>=0;l--){var c=s.getByIndex(l);if(c&&(c.id===e.id||c.id===e.name))return l===u?n(!1,!1):s.popTo(c,{animate:!1,updateUrl:!1},n)}return s.setRoot(e.component||e.name,e.data,{id:e.id,animate:!1,updateUrl:!1},n)},t}();e.DeepLinker=u,e.setupDeepLinker=function(t,e,n,r,i){var o=new u(t,e,n,r,i);return o.init(),o},e.normalizeUrl=n,e.getNavFromTree=r})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(27),n(3),n(22),n(91),n(9),n(122),n(123)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../button/button"),i=t("../../config/config"),o=t("../../util/form"),s=t("../icon/icon"),u=t("../ion"),l=t("../label/label"),c=t("./item-reorder"),f=function(t){function e(e,n,r,i,o){var a=t.call(this,n,r,i,"item")||this;return a._ids=-1,a._inputs=[],a._viewLabel=!0,a._name="item",a.labelId=null,a._setName(r),a._hasReorder=!!o,a.id=e.nextId().toString(),a.labelId="lbl-"+a.id,i.orgListen||(i.orgListen=i.listen,i.listen=function(t,e,n){return"click"===e&&t.setAttribute&&t.setAttribute("tappable",""),i.orgListen(t,e,n)}),a}return a(e,t),e.prototype.registerInput=function(t){return this._inputs.push(t),this.id+"-"+ ++this._ids},e.prototype.ngAfterContentInit=function(){if(this._viewLabel&&this._inputs.length){var t=this.getLabelText().trim();this._viewLabel=t.length>0}this._inputs.length>1&&this.setElementClass("item-multiple-inputs",!0)},e.prototype._updateColor=function(t,e){this._setColor(t,e=e||"item")},e.prototype._setName=function(t){var e=t.nativeElement.nodeName.replace("ION-","");"LIST-HEADER"!==e&&"ITEM-DIVIDER"!==e||(this._name=e)},e.prototype.getLabelText=function(){return this._label?this._label.text:""},Object.defineProperty(e.prototype,"contentLabel",{set:function(t){t&&(this._label=t,t.id=this.labelId,t.type&&this.setElementClass("item-label-"+t.type,!0),this._viewLabel=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewLabel",{set:function(t){this._label||(this._label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_buttons",{set:function(t){t.forEach(function(t){t._size||t.setElementClass("item-button",!0)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_icons",{set:function(t){t.forEach(function(t){t.setElementClass("item-icon",!0)})},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Component,args:[{selector:"ion-list-header,ion-item,[ion-item],ion-item-divider",template:'<ng-content select="[item-start],[item-left],ion-checkbox:not([item-end]):not([item-right])"></ng-content><div class="item-inner"><div class="input-wrapper"><ng-content select="ion-label"></ng-content><ion-label *ngIf="_viewLabel"><ng-content></ng-content></ion-label><ng-content select="ion-select,ion-input,ion-textarea,ion-datetime,ion-range,[item-content]"></ng-content></div><ng-content select="[item-end],[item-right],ion-radio,ion-toggle"></ng-content><ion-reorder *ngIf="_hasReorder"></ion-reorder></div><div class="button-effect"></div>',host:{class:"item"},changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:o.Form},{type:i.Config},{type:n.ElementRef},{type:n.Renderer},{type:c.ItemReorder,decorators:[{type:n.Optional}]}]},e.propDecorators={contentLabel:[{type:n.ContentChild,args:[l.Label]}],viewLabel:[{type:n.ViewChild,args:[l.Label]}],_buttons:[{type:n.ContentChildren,args:[r.Button]}],_icons:[{type:n.ContentChildren,args:[s.Icon]}]},e}(u.Ion);e.Item=f})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../ion"),o=t("../../util/util"),s=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o._role="button",o._style="default",o._mode=n.get("mode"),!1===n.get("hoverCSS")&&o.setElementClass("disable-hover",!0),e.trim().length>0&&o.setRole(e),o}return a(e,t),Object.defineProperty(e.prototype,"large",{set:function(t){this._attr("_size","large",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"small",{set:function(t){this._attr("_size","small",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"default",{set:function(t){this._attr("_size","default",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outline",{set:function(t){this._attr("_style","outline",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clear",{set:function(t){this._attr("_style","clear",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"solid",{set:function(t){this._attr("_style","solid",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{set:function(t){this._attr("_shape","round",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"block",{set:function(t){this._attr("_display","block",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"full",{set:function(t){this._attr("_display","full",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strong",{set:function(t){this._attr("_decorator","strong",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{set:function(t){this._assignCss(!1),this._mode=t,this._assignCss(!0)},enumerable:!0,configurable:!0}),e.prototype._attr=function(t,e,n){"_style"===t&&this._updateColor(this._color,!1),this._setClass(this[t],!1),o.isTrueProperty(n)?(this[t]=e,this._setClass(e,!0)):(this[t]="_style"===t?"default":null,this._setClass(this[t],!0)),"_style"===t&&this._updateColor(this._color,!0)},Object.defineProperty(e.prototype,"color",{set:function(t){this._updateColor(this._color,!1),this._updateColor(t,!0),this._color=t},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init=!0,this._assignCss(!0)},e.prototype.setRole=function(t){this._assignCss(!1),this._role=t,this._assignCss(!0)},e.prototype._assignCss=function(t){var e=this._role;e&&(this.setElementClass(e,t),this.setElementClass(e+"-"+this._mode,t),this._setClass(this._style,t),this._setClass(this._shape,t),this._setClass(this._display,t),this._setClass(this._size,t),this._setClass(this._decorator,t),this._updateColor(this._color,t))},e.prototype._setClass=function(t,e){t&&this._init&&(t=t.toLocaleLowerCase(),this.setElementClass(this._role+"-"+t,e),this.setElementClass(this._role+"-"+t+"-"+this._mode,e))},e.prototype._updateColor=function(t,e){if(t&&this._init){var n=this._role,r=this._style;n+=null!==(r="bar-button"!==this._role&&"solid"===r?"default":r)&&""!==r&&"default"!==r?"-"+r.toLowerCase():"",null!==t&&""!==t&&this.setElementClass(n+"-"+this._mode+"-"+t,e)}},e.decorators=[{type:n.Component,args:[{selector:"[ion-button]",template:'<span class="button-inner"><ng-content></ng-content></span><div class="button-effect"></div>',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Attribute,args:["ion-button"]}]},{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={large:[{type:n.Input}],small:[{type:n.Input}],default:[{type:n.Input}],outline:[{type:n.Input}],clear:[{type:n.Input}],solid:[{type:n.Input}],round:[{type:n.Input}],block:[{type:n.Input}],full:[{type:n.Input}],strong:[{type:n.Input}],mode:[{type:n.Input}],color:[{type:n.Input}]},e}(i.Ion);e.Button=s})},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../util/util"),r=function(){function t(t,e,n){this._dur=null,this._es=null,this._rvEs=null,this.hasChildren=!1,this.isPlaying=!1,this.hasCompleted=!1,this.plt=t,this.element(e),this.opts=n}return t.prototype.element=function(t){if(t)if("string"==typeof t){t=this.plt.doc().querySelectorAll(t);for(var e=0;e<t.length;e++)this._addEle(t[e])}else if(t.length)for(e=0;e<t.length;e++)this._addEle(t[e]);else this._addEle(t);return this},t.prototype._addEle=function(t){t.nativeElement&&(t=t.nativeElement),1===t.nodeType&&(this._eL=(this._e=this._e||[]).push(t))},t.prototype.add=function(t){return t.parent=this,this.hasChildren=!0,this._cL=(this._c=this._c||[]).push(t),this},t.prototype.getDuration=function(t){return t&&n.isDefined(t.duration)?t.duration:null!==this._dur?this._dur:this.parent?this.parent.getDuration():0},t.prototype.isRoot=function(){return!this.parent},t.prototype.duration=function(t){return this._dur=t,this},t.prototype.getEasing=function(){return this._rv&&this._rvEs?this._rvEs:null!==this._es?this._es:this.parent&&this.parent.getEasing()||null},t.prototype.easing=function(t){return this._es=t,this},t.prototype.easingReverse=function(t){return this._rvEs=t,this},t.prototype.from=function(t,e){return this._addProp("from",t,e),this},t.prototype.to=function(t,e,n){var r=this._addProp("to",t,e);return n&&this.afterClearStyles([r.trans?this.plt.Css.transform:t]),this},t.prototype.fromTo=function(t,e,n,r){return this.from(t,e).to(t,n,r)},t.prototype._getProp=function(t){return this._fx?this._fx.find(function(e){return e.name===t}):(this._fx=[],null)},t.prototype._addProp=function(t,e,n){var r=this._getProp(e);if(!r){var a=1===i[e];this._fx.push(r={name:e,trans:a,wc:a?this.plt.Css.transform:e})}var s={val:n,num:null,unit:""};if(r[t]=s,"string"==typeof n&&n.indexOf(" ")<0){var u=n.match(o),l=parseFloat(u[1]);isNaN(l)||(s.num=l),s.unit=u[0]!==u[2]?u[2]:""}else"number"==typeof n&&(s.num=n);return r},t.prototype.beforeAddClass=function(t){return(this._bfAdd=this._bfAdd||[]).push(t),this},t.prototype.beforeRemoveClass=function(t){return(this._bfRm=this._bfRm||[]).push(t),this},t.prototype.beforeStyles=function(t){return this._bfSty=t,this},t.prototype.beforeClearStyles=function(t){this._bfSty=this._bfSty||{};for(var e=0;e<t.length;e++)this._bfSty[t[e]]="";return this},t.prototype.beforeAddRead=function(t){return(this._rdFn=this._rdFn||[]).push(t),this},t.prototype.beforeAddWrite=function(t){return(this._wrFn=this._wrFn||[]).push(t),this},t.prototype.afterAddClass=function(t){return(this._afAdd=this._afAdd||[]).push(t),this},t.prototype.afterRemoveClass=function(t){return(this._afRm=this._afRm||[]).push(t),this},t.prototype.afterStyles=function(t){return this._afSty=t,this},t.prototype.afterClearStyles=function(t){this._afSty=this._afSty||{};for(var e=0;e<t.length;e++)this._afSty[t[e]]="";return this},t.prototype.play=function(t){var e=this;this.plt&&(this._isAsync=this._hasDuration(t),this._clearAsync(),this._playInit(t),this.plt.raf(function(){e.plt.raf(e._playDomInspect.bind(e,t))}))},t.prototype.syncPlay=function(){if(this.plt){var t={duration:0};this._isAsync=!1,this._clearAsync(),this._playInit(t),this._playDomInspect(t)}},t.prototype._playInit=function(t){this._twn=!1,this.isPlaying=!0,this.hasCompleted=!1,this._hasDur=this.getDuration(t)>a;for(var e=this._c,n=0;n<this._cL;n++)e[n]._playInit(t);this._hasDur&&(this._progress(0),this._willChg(!0))},t.prototype._playDomInspect=function(t){this._beforeAnimation();var e=this.getDuration(t);this._isAsync&&this._asyncEnd(e,!0),this._playProgress(t),this._isAsync&&this.plt&&this.plt.raf(this._playToStep.bind(this,1))},t.prototype._playProgress=function(t){for(var e=this._c,n=0;n<this._cL;n++)e[n]._playProgress(t);this._hasDur?this._setTrans(this.getDuration(t),!1):(this._progress(1),this._setAfterStyles(),this._didFinish(!0))},t.prototype._playToStep=function(t){for(var e=this._c,n=0;n<this._cL;n++)e[n]._playToStep(t);this._hasDur&&this._progress(t)},t.prototype._asyncEnd=function(t,e){var n=this;n._unrgTrns=this.plt.transitionEnd(n._transEl(),function(){n._clearAsync(),n._playEnd(),n._didFinishAll(e,!0,!1)},!1),n._tm=n.plt.timeout(function(){n._tm=void 0,n._clearAsync(),n._playEnd(e?1:0),n._didFinishAll(e,!0,!1)},t+s)},t.prototype._playEnd=function(t){for(var e=this._c,r=0;r<this._cL;r++)e[r]._playEnd(t);this._hasDur&&(n.isDefined(t)&&(this._setTrans(0,!0),this._progress(t)),this._setAfterStyles(),this._willChg(!1))},t.prototype._hasDuration=function(t){if(this.getDuration(t)>a)return!0;for(var e=this._c,n=0;n<this._cL;n++)if(e[n]._hasDuration(t))return!0;return!1},t.prototype._hasDomReads=function(){if(this._rdFn&&this._rdFn.length)return!0;for(var t=this._c,e=0;e<this._cL;e++)if(t[e]._hasDomReads())return!0;return!1},t.prototype.stop=function(t){void 0===t&&(t=1),this._clearAsync(),this._hasDur=!0,this._playEnd(t)},t.prototype._clearAsync=function(){this._unrgTrns&&this._unrgTrns(),this._tm&&clearTimeout(this._tm),this._tm=this._unrgTrns=void 0},t.prototype._progress=function(t){var e,n=this._fx,r=this._eL;if(n&&r){this._rv&&(t=-1*t+1);var i,o,a="",s=this._e;for(i=0;i<n.length;i++){var u=n[i];if(u.from&&u.to){var l=u.from.num,c=u.to.num,f=l!==c;if(f&&(this._twn=!0),0===t)e=u.from.val;else if(1===t)e=u.to.val;else if(f){var p=(c-l)*t+l,d=u.to.unit;"px"===d&&(p=Math.round(p)),e=p+d}if(null!==e){var h=u.name;if(u.trans)a+=h+"("+e+") ";else for(o=0;o<r;o++)s[o].style[h]=e}}}if(a.length){(!this._rv&&1!==t||this._rv&&0!==t)&&(a+="translateZ(0px)");var m=this.plt.Css.transform;for(i=0;i<s.length;i++)s[i].style[m]=a}}},t.prototype._setTrans=function(t,e){if(this._fx)for(var n,r=this._e,i=e?"linear":this.getEasing(),o=t+"ms",a=this.plt.Css,s=a.transition,u=a.transitionDuration,l=a.transitionTimingFn,c=0;c<this._eL;c++)n=r[c].style,t>0?(n[s]="",n[u]=o,i&&(n[l]=i)):n[s]="none"},t.prototype._beforeAnimation=function(){this._fireBeforeReadFunc(),this._fireBeforeWriteFunc(),this._setBeforeStyles()},t.prototype._setBeforeStyles=function(){var t,e,n=this._c;for(t=0;t<this._cL;t++)n[t]._setBeforeStyles();if(!this._rv){var r,i,o,a=this._bfAdd,s=this._bfRm;for(t=0;t<this._eL;t++){if(r=this._e[t],i=r.classList,a)for(e=0;e<a.length;e++)i.add(a[e]);if(s)for(e=0;e<s.length;e++)i.remove(s[e]);if(this._bfSty)for(o in this._bfSty)r.style[o]=this._bfSty[o]}}},t.prototype._fireBeforeReadFunc=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e]._fireBeforeReadFunc();var n=this._rdFn;if(n)for(e=0;e<n.length;e++)n[e]()},t.prototype._fireBeforeWriteFunc=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e]._fireBeforeWriteFunc();var n=this._wrFn;if(this._wrFn)for(e=0;e<n.length;e++)n[e]()},t.prototype._setAfterStyles=function(){var t,e,n,r,i=this._e;for(t=0;t<this._eL;t++)if(n=i[t],r=n.classList,n.style[this.plt.Css.transitionDuration]=n.style[this.plt.Css.transitionTimingFn]="",this._rv){if(this._bfAdd)for(e=0;e<this._bfAdd.length;e++)r.remove(this._bfAdd[e]);if(this._bfRm)for(e=0;e<this._bfRm.length;e++)r.add(this._bfRm[e]);if(this._bfSty)for(var o in this._bfSty)n.style[o]=""}else{if(this._afAdd)for(e=0;e<this._afAdd.length;e++)r.add(this._afAdd[e]);if(this._afRm)for(e=0;e<this._afRm.length;e++)r.remove(this._afRm[e]);if(this._afSty)for(var o in this._afSty)n.style[o]=this._afSty[o]}},t.prototype._willChg=function(t){var e,n,r=this._fx;if(t&&r){e=[];for(var i=0;i<r.length;i++){var o=r[i].wc;"webkitTransform"===o?e.push("transform","-webkit-transform"):e.push(o)}n=e.join(",")}else n="";for(i=0;i<this._eL;i++)this._e[i].style.willChange=n},t.prototype.progressStart=function(){this._clearAsync(),this._beforeAnimation(),this._progressStart()},t.prototype._progressStart=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e]._progressStart();this._setTrans(0,!0),this._willChg(!0)},t.prototype.progressStep=function(t){t=Math.min(1,Math.max(0,t));for(var e=this._c,n=0;n<this._cL;n++)e[n].progressStep(t);this._rv&&(t=-1*t+1),this._progress(t)},t.prototype.progressEnd=function(t,e,n){void 0===n&&(n=-1),this._rv&&(e=-1*e+1);var r=t?1:0;Math.abs(e-r)<.05?n=0:n<0&&(n=this._dur),this._isAsync=n>30,this._progressEnd(t,r,n,this._isAsync),this._isAsync&&(this._asyncEnd(n,t),this.plt&&this.plt.raf(this._playToStep.bind(this,r)))},t.prototype._progressEnd=function(t,e,n,r){for(var i=this._c,o=0;o<this._cL;o++)i[o]._progressEnd(t,e,n,r);r?(this.isPlaying=!0,this.hasCompleted=!1,this._hasDur=!0,this._willChg(!0),this._setTrans(n,!1)):(this._progress(e),this._willChg(!1),this._setAfterStyles(),this._didFinish(t))},t.prototype.onFinish=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),n&&(this._fFn=this._fOneFn=void 0),e?(this._fOneFn=this._fOneFn||[],this._fOneFn.push(t)):(this._fFn=this._fFn||[],this._fFn.push(t)),this},t.prototype._didFinishAll=function(t,e,n){for(var r=this._c,i=0;i<this._cL;i++)r[i]._didFinishAll(t,e,n);(e&&this._isAsync||n&&!this._isAsync)&&this._didFinish(t)},t.prototype._didFinish=function(t){if(this.isPlaying=!1,this.hasCompleted=t,this._fFn)for(var e=0;e<this._fFn.length;e++)this._fFn[e](this);if(this._fOneFn){for(e=0;e<this._fOneFn.length;e++)this._fOneFn[e](this);this._fOneFn.length=0}},t.prototype.reverse=function(t){void 0===t&&(t=!0);for(var e=this._c,n=0;n<this._cL;n++)e[n].reverse(t);return this._rv=t,this},t.prototype.destroy=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e].destroy();this._clearAsync(),this.parent=this.plt=this._e=this._rdFn=this._wrFn=null,this._c&&(this._c.length=this._cL=0),this._fFn&&(this._fFn.length=0),this._fOneFn&&(this._fOneFn.length=0)},t.prototype._transEl=function(){for(var t,e=0;e<this._cL;e++)if(t=this._c[e]._transEl())return t;return this._twn&&this._hasDur&&this._eL?this._e[0]:null},t}();e.Animation=r;var i={translateX:1,translateY:1,translateZ:1,scale:1,scaleX:1,scaleY:1,scaleZ:1,rotate:1,rotateX:1,rotateY:1,rotateZ:1,skewX:1,skewY:1,perspective:1},o=/(^-?\d*\.?\d*)(.*)/,a=32,s=400})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(){}}();e.NavController=n})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){if(t)if(t.length)for(var r=0;r<t.length;r++)n(t[r],e);else if(t.nodeType)for(var i=Object.keys(e),o=0;o<i.length;o++)t.style[i[o]]=e[i[o]]}function r(t,e){if(t)if(t.length)for(var n=0;n<t.length;n++)r(t[n],e);else t.nodeType&&(Array.isArray(e)?e.forEach(function(e){t.classList.add(e)}):t.classList.add(e))}function i(t,e){if(t)if(t.length)for(var n=0;n<t.length;n++)i(t[n],e);else t.nodeType&&(Array.isArray(e)?e.forEach(function(e){t.classList.remove(e)}):t.classList.remove(e))}function o(t){return"horizontal"===t.direction}Object.defineProperty(e,"__esModule",{value:!0}),e.round=function(t){return Math.floor(t)},e.inlineStyle=n,e.addClass=r,e.removeClass=i,e.getElementIndex=function(t){var e=0;if(t)for(;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e},e.queryChildren=function(t,e){return t?t.querySelectorAll(e):[]},e.eachChild=function(t,e,n){if(t)for(var r=t.querySelectorAll(e),i=0;i<r.length;i++)n(r[i])},e.transform=function(t,e){if(t){var n=t.style;n.webkitTransform=n.MsTransform=n.msTransform=n.transform=e}},e.transition=function(t,e){if(t){"string"!=typeof e&&(e+="ms");var n=t.style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.transitionDuration=e}},e.triggerTransitionEnd=function(t,e){try{var n=new(t.win().CustomEvent)("transitionend",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}catch(t){}},e.offset=function(t,e){if(t){var n=e.getElementBoundingClientRect(t),r=e.doc().body,i=e.win();return{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||r.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null},e.updateSlidesOffset=function(t){for(var e=0;e<t._slides.length;e++)t._slides[e].swiperSlideOffset=o(t)?t._slides[e].offsetLeft:t._slides[e].offsetTop},e.isHorizontal=o;var a=["INPUT","SELECT","TEXTAREA","BUTTON","VIDEO"];e.isFormElement=function(t){return!!t&&a.indexOf(t.tagName)>-1},e.minTranslate=function(t){return-t._snapGrid[0]},e.maxTranslate=function(t){return-t._snapGrid[t._snapGrid.length-1]},e.CLS={noSwiping:"swiper-no-swiping",containerModifier:"swiper-container-",slide:"swiper-slide",slideActive:"swiper-slide-active",slideDuplicateActive:"swiper-slide-duplicate-active",slideVisible:"swiper-slide-visible",slideDuplicate:"swiper-slide-duplicate",slideNext:"swiper-slide-next",slideDuplicateNext:"swiper-slide-duplicate-next",slidePrev:"swiper-slide-prev",slideDuplicatePrev:"swiper-slide-duplicate-prev",wrapper:"swiper-wrapper",bullet:"swiper-pagination-bullet",bulletActive:"swiper-pagination-bullet-active",buttonDisabled:"swiper-button-disabled",paginationCurrent:"swiper-pagination-current",paginationTotal:"swiper-pagination-total",paginationHidden:"swiper-pagination-hidden",paginationProgressbar:"swiper-pagination-progressbar",paginationClickable:"swiper-pagination-clickable",paginationModifier:"swiper-pagination-",lazyLoading:"swiper-lazy",lazyStatusLoading:"swiper-lazy-loading",lazyStatusLoaded:"swiper-lazy-loaded",lazyPreloader:"swiper-lazy-preloader",notification:"swiper-notification",preloader:"preloader",zoomContainer:"swiper-zoom-container"}})},,,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(12),n(9),n(56),n(4),n(59),n(31),n(5),n(289),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n,i,o,a){for(var s,u=e+n,l=[],c=[],f=0,p=t.length;f<p;f++){if(s=t[f],"up"===i){if(s.top<u&&s.bottom>e-a){s.canRequest=s.canRender=!0,l.push(s);continue}if(s.bottom<=e&&s.bottom>e-o){s.canRequest=!0,s.canRender=!1,c.push(s);continue}if(s.top>=u&&s.top<u+a){s.canRequest=s.canRender=!1;continue}}else{if(s.bottom>e&&s.top<u+a){s.canRequest=s.canRender=!0,l.push(s);continue}if(s.top>=u&&s.top<u+o){s.canRequest=!0,s.canRender=!1,c.push(s);continue}if(s.bottom<=e&&s.bottom>e-a){s.canRequest=s.canRender=!1;continue}}s.canRequest=s.canRender=!1,s.reset()}l.sort(r).forEach(function(t){return t.update()}),"up"===i?c.sort(r).reverse().forEach(function(t){return t.update()}):c.sort(r).forEach(function(t){return t.update()})}function r(t,e){return t.top<e.top?-1:t.top>e.top?1:0}function i(t){return t.indexOf("px")>0?parseInt(t,10):0}function o(t){return t>0?t+"px":""}Object.defineProperty(e,"__esModule",{value:!0});var s=t("@angular/core"),u=t("../app/app"),l=t("../../config/config"),c=t("../../platform/dom-controller"),f=t("../ion"),p=t("../../navigation/nav-util"),d=t("../../util/util"),h=t("../../platform/keyboard"),m=t("../../navigation/nav-controller"),g=t("../../platform/platform"),v=t("../../util/scroll-view"),y=t("../../navigation/view-controller"),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.subscribe=function(e,n,r){return this.onSubscribe(),t.prototype.subscribe.call(this,e,n,r)},e}(s.EventEmitter);e.EventEmitterProxy=b;var _=function(t){function e(e,n,r,i,o,a,s,u,l,c){var f=t.call(this,e,i,o,"content")||this;f._plt=n,f._dom=r,f._app=a,f._keyboard=s,f._zone=u,f._scrollPadding=0,f._inputPolling=!1,f._hasRefresher=!1,f._imgs=[],f._scrollDownOnLoad=!1,f.ionScrollStart=new b,f.ionScroll=new b,f.ionScrollEnd=new b;var d=function(){return f._scroll.enableEvents()};for(f.ionScroll.onSubscribe=d,f.ionScrollStart.onSubscribe=d,f.ionScrollEnd.onSubscribe=d,f.statusbarPadding=e.getBoolean("statusbarPadding",!1),f._imgReqBfr=e.getNumber("imgRequestBuffer",1400),f._imgRndBfr=e.getNumber("imgRenderBuffer",400),f._imgVelMax=e.getNumber("imgVelocityMax",3),f._scroll=new v.ScrollView(a,n,r);c;){if(p.isTabs(c)){f._tabs=c;break}c=c.parent}return l?(f._viewCtrl=l,l._setIONContent(f),l._setIONContentRef(i),f._viewCtrlReadSub=l.readReady.subscribe(function(){f._viewCtrlReadSub.unsubscribe(),f._readDimensions()}),f._viewCtrlWriteSub=l.writeReady.subscribe(function(){f._viewCtrlWriteSub.unsubscribe(),f._writeDimensions()})):(r.read(f._readDimensions.bind(f)),r.write(f._writeDimensions.bind(f))),f}return a(e,t),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this._scroll.ev.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentWidth",{get:function(){return this._scroll.ev.contentWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this._scroll.ev.scrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this._scroll.ev.scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this._scroll.ev.scrollTop},set:function(t){this._scroll.setTop(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this._scroll.ev.scrollLeft},set:function(t){this._scroll.setLeft(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScrolling",{get:function(){return this._scroll.isScrolling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directionY",{get:function(){return this._scroll.ev.directionY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directionX",{get:function(){return this._scroll.ev.directionX},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this,e=this._scroll;e.ev.fixedElement=this.getFixedElement(),e.ev.scrollElement=this.getScrollElement(),e.onScrollStart=function(e){t.ionScrollStart.emit(e)},e.onScroll=function(e){t.ionScroll.emit(e),t.imgsUpdate()},e.onScrollEnd=function(e){t.ionScrollEnd.emit(e),t.imgsUpdate()}},e.prototype.enableJsScroll=function(){this._scroll.enableJsScroll(this._cTop,this._cBottom)},e.prototype.ngOnDestroy=function(){this._scLsn&&this._scLsn(),this._viewCtrlReadSub&&this._viewCtrlReadSub.unsubscribe(),this._viewCtrlWriteSub&&this._viewCtrlWriteSub.unsubscribe(),this._viewCtrlReadSub=this._viewCtrlWriteSub=null,this._scroll&&this._scroll.destroy(),this._footerEle=this._scLsn=this._scroll=null},e.prototype.getScrollElement=function(){return this._scrollContent.nativeElement},e.prototype.getFixedElement=function(){return this._fixedContent.nativeElement},e.prototype.onScrollElementTransitionEnd=function(t){this._plt.transitionEnd(this.getScrollElement(),t)},e.prototype.scrollTo=function(t,e,n,r){return void 0===n&&(n=300),this._scroll.scrollTo(t,e,n,r)},e.prototype.scrollToTop=function(t){return void 0===t&&(t=300),this._scroll.scrollToTop(t)},e.prototype.scrollToBottom=function(t){return void 0===t&&(t=300),this._scroll.scrollToBottom(t)},Object.defineProperty(e.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(t){this._fullscreen=d.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollDownOnLoad",{get:function(){return this._scrollDownOnLoad},set:function(t){this._scrollDownOnLoad=d.isTrueProperty(t)},enumerable:!0,configurable:!0}),e.prototype.addImg=function(t){this._imgs.push(t)},e.prototype.removeImg=function(t){d.removeArrayItem(this._imgs,t)},e.prototype.setScrollElementStyle=function(t,e){var n=this.getScrollElement();n&&this._dom.write(function(){n.style[t]=e})},e.prototype.getContentDimensions=function(){var t=this.getScrollElement(),e=t.parentElement;return{contentHeight:e.offsetHeight-this._cTop-this._cBottom,contentTop:this._cTop,contentBottom:this._cBottom,contentWidth:e.offsetWidth,contentLeft:e.offsetLeft,scrollHeight:t.scrollHeight,scrollTop:t.scrollTop,scrollWidth:t.scrollWidth,scrollLeft:t.scrollLeft}},e.prototype.addScrollPadding=function(t){if(0===t&&(this._inputPolling=!1,this._scrollPadding=-1),t>this._scrollPadding){this._scrollPadding=t;var e=this.getScrollElement();e&&this._dom.write(function(){e.style.paddingBottom=t>0?t+"px":""})}},e.prototype.clearScrollPaddingFocusOut=function(){var t=this;this._inputPolling||(this._inputPolling=!0,this._keyboard.onClose(function(){t.addScrollPadding(0)},200,3e3))},e.prototype.resize=function(){this._dom.read(this._readDimensions.bind(this)),this._dom.write(this._writeDimensions.bind(this))},e.prototype._readDimensions=function(){var t,e=this._pTop,n=this._pRight,r=this._pBottom,o=this._pLeft,a=this._hdrHeight,s=this._ftrHeight,u=this._tabsPlacement,l=0;if(this._pTop=0,this._pRight=0,this._pBottom=0,this._pLeft=0,this._hdrHeight=0,this._ftrHeight=0,this._tabsPlacement=null,this._tTop=0,this._fTop=0,this._fBottom=0,this._scroll){t=this._scroll.ev;var c=this.getNativeElement();if(c){for(var f,p,d=c.parentElement,h=d.children,m=h.length-1;m>=0;m--)"ION-CONTENT"===(p=(c=h[m]).tagName)?(t.contentElement=c,this._fullscreen&&(f=getComputedStyle(c),this._pTop=i(f.paddingTop),this._pBottom=i(f.paddingBottom),this._pRight=i(f.paddingRight),this._pLeft=i(f.paddingLeft))):"ION-HEADER"===p?(t.headerElement=c,this._hdrHeight=c.clientHeight):"ION-FOOTER"===p&&(t.footerElement=c,this._ftrHeight=c.clientHeight,this._footerEle=c);c=d;for(;c&&"ION-MODAL"!==c.tagName&&!c.classList.contains("tab-subpage");)"ION-TABS"===c.tagName&&(this._tabbarHeight=c.firstElementChild.clientHeight,null===this._tabsPlacement&&(this._tabsPlacement=c.getAttribute("tabsplacement"))),c=c.parentElement;this._tabs&&"top"===this._tabsPlacement&&(this._tTop=this._hdrHeight,l=this._tabs._top),this._cTop=this._hdrHeight,this._cBottom=this._ftrHeight,"top"===this._tabsPlacement?this._cTop+=this._tabbarHeight:"bottom"===this._tabsPlacement&&(this._cBottom+=this._tabbarHeight),this._hasRefresher&&(this._cTop-=1),this._fTop=this._cTop,this._fBottom=this._cBottom,this._fullscreen&&(this._cTop+=this._pTop,this._cBottom+=this._pBottom);var g=this.getContentDimensions();t.scrollHeight=g.scrollHeight,t.scrollWidth=g.scrollWidth,t.contentHeight=g.contentHeight,t.contentWidth=g.contentWidth,t.contentTop=g.contentTop,t.contentBottom=g.contentBottom,this._dirty=e!==this._pTop||r!==this._pBottom||o!==this._pLeft||n!==this._pRight||a!==this._hdrHeight||s!==this._ftrHeight||u!==this._tabsPlacement||l!==this._tTop||this._cTop!==this.contentTop||this._cBottom!==this.contentBottom,this._scroll.init(this.getScrollElement(),this._cTop,this._cBottom),this.imgsUpdate()}}},e.prototype._writeDimensions=function(){if(this._dirty){var t=this.getScrollElement();if(t){var e=this.getFixedElement();if(e){if("bottom"===this._tabsPlacement&&this._cBottom>0&&this._footerEle){this._footerEle.style.bottom=o(this._cBottom-this._ftrHeight)}var n="marginTop",r="marginBottom",i=this._fTop,a=this._fBottom;this._fullscreen&&(n="paddingTop",r="paddingBottom"),this._cTop!==this.contentTop&&(t.style[n]=o(this._cTop),e.style.marginTop=o(i),this.contentTop=this._cTop),this._cBottom!==this.contentBottom&&(t.style[r]=o(this._cBottom),e.style.marginBottom=o(a),this.contentBottom=this._cBottom),null!==this._tabsPlacement&&this._tabs&&("top"===this._tabsPlacement?this._tabs.setTabbarPosition(this._tTop,-1):this._tabs.setTabbarPosition(-1,0)),this._scrollDownOnLoad&&(this.scrollToBottom(0),this._scrollDownOnLoad=!1)}}}},e.prototype.imgsUpdate=function(){this._scroll.initialized&&this._imgs.length&&this.isImgsUpdatable()&&n(this._imgs,this.scrollTop,this.contentHeight,this.directionY,this._imgReqBfr,this._imgRndBfr)},e.prototype.isImgsUpdatable=function(){return Math.abs(this._scroll.ev.velocityY)<this._imgVelMax},e.decorators=[{type:s.Component,args:[{selector:"ion-content",template:'<div class="fixed-content" #fixedContent><ng-content select="[ion-fixed],ion-fab"></ng-content></div><div class="scroll-content" #scrollContent><ng-content></ng-content></div><ng-content select="ion-refresher"></ng-content>',host:{"[class.statusbar-padding]":"statusbarPadding","[class.has-refresher]":"_hasRefresher"},changeDetection:s.ChangeDetectionStrategy.OnPush,encapsulation:s.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:l.Config},{type:g.Platform},{type:c.DomController},{type:s.ElementRef},{type:s.Renderer},{type:u.App},{type:h.Keyboard},{type:s.NgZone},{type:y.ViewController,decorators:[{type:s.Optional}]},{type:m.NavController,decorators:[{type:s.Optional}]}]},e.propDecorators={_fixedContent:[{type:s.ViewChild,args:["fixedContent",{read:s.ElementRef}]}],_scrollContent:[{type:s.ViewChild,args:["scrollContent",{read:s.ElementRef}]}],ionScrollStart:[{type:s.Output}],ionScroll:[{type:s.Output}],ionScrollEnd:[{type:s.Output}],fullscreen:[{type:s.Input}],scrollDownOnLoad:[{type:s.Input}]},e}(f.Ion);e.Content=_,e.updateImgs=n})},function(t,e,n){"use strict";function r(){return I}function i(t){I||(I=t)}function o(){return!!window.history.pushState}function a(t,e,n){return function(){n.get(P.ApplicationInitStatus).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}function s(t,e){if("undefined"==typeof COMPILED||!COMPILED){(P["global"].ng=P["global"].ng||{})[t]=e}}function u(t){return Object(P.getDebugNode)(t)}function l(t){return s(K,u),s(X,Object(N.__assign)({},Y,function(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}(t||[]))),function(){return u}}function c(t){return at.replace(it,t)}function f(t){return ot.replace(it,t)}function p(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?p(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function d(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function h(t,e){if(t.charCodeAt(0)===lt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function m(t){return(t=String(t)).match(At)||t.match(Mt)?t:(Object(P.isDevMode)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function g(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}function y(t){return t.replace(/&/g,"&amp;").replace(Wt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(qt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(){F.makeCurrent(),G.init()}function _(){return new P.ErrorHandler}function w(){return document}function x(t){return s(ue,new se(t)),t}function E(){s(ue,null)}function C(t){var e={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return t.replace(/[&"'<>]/g,function(t){return e[t]})}function S(t){return t}function O(t,e){var n=t.getElementById(e+"-state"),r={};if(n&&n.textContent)try{r=JSON.parse(function(t){var e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return t.replace(/&[^;]+;/g,function(t){return e[t]})}(n.textContent))}catch(t){console.warn("Exception while restoring TransferState for app "+e,t)}return le.init(r)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BrowserModule",function(){return ie}),n.d(e,"platformBrowser",function(){return re}),n.d(e,"Meta",function(){return W}),n.d(e,"Title",function(){return $}),n.d(e,"disableDebugTools",function(){return E}),n.d(e,"enableDebugTools",function(){return x}),n.d(e,"BrowserTransferStateModule",function(){return ce}),n.d(e,"TransferState",function(){return le}),n.d(e,"makeStateKey",function(){return S}),n.d(e,"By",function(){return fe}),n.d(e,"DOCUMENT",function(){return V}),n.d(e,"EVENT_MANAGER_PLUGINS",function(){return J}),n.d(e,"EventManager",function(){return Q}),n.d(e,"HAMMER_GESTURE_CONFIG",function(){return St}),n.d(e,"HammerGestureConfig",function(){return Ot}),n.d(e,"DomSanitizer",function(){return $t}),n.d(e,"VERSION",function(){return pe}),n.d(e,"BROWSER_SANITIZATION_PROVIDERS",function(){return ne}),n.d(e,"INTERNAL_BROWSER_PLATFORM_PROVIDERS",function(){return ee}),n.d(e,"initDomAdapter",function(){return b}),n.d(e,"BrowserDomAdapter",function(){return F}),n.d(e,"BrowserPlatformLocation",function(){return U}),n.d(e,"TRANSITION_ID",function(){return q}),n.d(e,"BrowserGetTestability",function(){return G}),n.d(e,"escapeHtml",function(){return C}),n.d(e,"ELEMENT_PROBE_PROVIDERS",function(){return Z}),n.d(e,"DomAdapter",function(){return A}),n.d(e,"getDOM",function(){return r}),n.d(e,"setRootDomAdapter",function(){return i}),n.d(e,"DomRendererFactory2",function(){return st}),n.d(e,"NAMESPACE_URIS",function(){return rt}),n.d(e,"flattenStyles",function(){return p}),n.d(e,"shimContentAttribute",function(){return c}),n.d(e,"shimHostAttribute",function(){return f}),n.d(e,"DomEventsPlugin",function(){return Et}),n.d(e,"HammerGesturesPlugin",function(){return kt}),n.d(e,"KeyEventsPlugin",function(){return Nt}),n.d(e,"DomSharedStylesHost",function(){return nt}),n.d(e,"SharedStylesHost",function(){return et}),n.d(e,"b",function(){return w}),n.d(e,"a",function(){return _}),n.d(e,"i",function(){return M}),n.d(e,"g",function(){return H}),n.d(e,"f",function(){return a}),n.d(e,"c",function(){return O}),n.d(e,"h",function(){return l}),n.d(e,"d",function(){return tt}),n.d(e,"e",function(){return Yt});var k,T=n(16),P=n(0),N=n(2),I=null,A=function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}(),M=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(N.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(A),D={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},R={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};P["global"].Node&&(k=P["global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var L,z,F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){i(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return D},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return k.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&j.hasOwnProperty(e)&&(e=j[e]))}return R[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=B||(B=document.querySelector("base"))?B.getAttribute("href"):null;return null==e?null:function(t){return L||(L=document.createElement("a")),L.setAttribute("href",t),"/"===L.pathname.charAt(0)?L.pathname:"/"+L.pathname}(e)},e.prototype.resetBaseElement=function(){B=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(T["parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(M),B=null,V=T.DOCUMENT,U=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(N.__extends)(e,t),e.prototype._init=function(){this.location=r().getLocation(),this._history=r().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){o()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){o()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:P.Inject,args:[V]}]}]},e}(T.PlatformLocation),W=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]")||null:null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),q=new P.InjectionToken("TRANSITION_ID"),H=[{provide:P.APP_INITIALIZER,useFactory:a,deps:[q,V,P.Injector],multi:!0}],G=function(){function t(){}return t.init=function(){Object(P.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){P["global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},P["global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},P["global"].getAllAngularRootElements=function(){return t.getAllRootElements()};P["global"].frameworkStabilizers||(P["global"].frameworkStabilizers=[]),P["global"].frameworkStabilizers.push(function(t){var e=P["global"].getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),$=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}(),Y={ApplicationRef:P.ApplicationRef,NgZone:P.NgZone},K="probe",X="coreTokens",Z=[{provide:P.APP_INITIALIZER,useFactory:l,deps:[[P.NgProbeToken,new P.Optional]],multi:!0}],J=new P.InjectionToken("EventManagerPlugins"),Q=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),tt=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),et=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),nt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(N.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(et),rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g,ot="_nghost-%COMP%",at="_ngcontent-%COMP%",st=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case P.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ct(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case P.ViewEncapsulation.Native:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=p(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),ut=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(rt[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&P.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&P.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&P.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){h(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return h(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,d(n)):this.eventManager.addEventListener(t,e,d(n))},t}(),lt="@".charCodeAt(0),ct=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=p(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=c(r.id),i.hostAttr=f(r.id),i}return Object(N.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(ut),ft=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=p(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return Object(N.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ut),pt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},dt=pt("addEventListener"),ht=pt("removeEventListener"),mt={},gt="removeEventListener",vt="__zone_symbol__propagationStopped",yt="__zone_symbol__stopImmediatePropagation",bt="undefined"!=typeof Zone&&Zone[pt("BLACK_LISTED_EVENTS")];bt&&(z={});var _t,wt=function(t){return!!z&&z.hasOwnProperty(t)},xt=function(t){var e=mt[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length){return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}for(var i=n.slice(),o=0;o<i.length&&!0!==t[vt];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Et=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return Object(N.__extends)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype[yt]){var t=Event.prototype[yt]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[vt]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[dt]||P.NgZone.isInAngularZone()&&!wt(e))t.addEventListener(e,i,!1);else{var o=mt[e];o||(o=mt[e]=pt("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=wt(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||t[dt](e,xt,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[ht];if(!r)return t[gt].apply(t,[e,n,!1]);var i=mt[e],o=i&&t[i];if(!o)return t[gt].apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,xt,!1]):t[gt].apply(t,[e,n,!1])},e}(tt),Ct={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},St=new P.InjectionToken("HammerGestureConfig"),Ot=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),kt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(N.__extends)(e,t),e.prototype.supports=function(t){if(!Ct.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(tt),Tt=["alt","control","meta","shift"],Pt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Nt=function(t){function e(e){return t.call(this,e)||this}return Object(N.__extends)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var o=e.parseEventName(n),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,o.domEventName,a)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(Tt.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Tt.forEach(function(r){if(r!=n){(0,Pt[r])(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(tt),It=function(){function t(t,e){this.defaultDoc=t,this.DOM=e;var n=this.DOM.createHtmlDocument();if(this.inertBodyElement=n.body,null==this.inertBodyElement){var r=this.DOM.createElement("html",n);this.inertBodyElement=this.DOM.createElement("body",n),this.DOM.appendChild(r,this.inertBodyElement),this.DOM.appendChild(n,r)}this.DOM.setInnerHTML(this.inertBodyElement,'<svg><g onload="this.parentNode.remove()"></g></svg>'),!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.DOM.setInnerHTML(this.inertBodyElement,'<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.DOM.createElement("template");return"content"in e?(this.DOM.setInnerHTML(e,t),e):(this.DOM.setInnerHTML(this.inertBodyElement,t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){var e=this;this.DOM.attributeMap(t).forEach(function(n,r){"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.DOM.removeAttribute(t,r)});for(var n=0,r=this.DOM.childNodesAsList(t);n<r.length;n++){var i=r[n];this.DOM.isElementNode(i)&&this.stripCustomNsAttrs(i)}},t}(),At=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Mt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Dt=g("area,br,col,hr,img,wbr"),Rt=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jt=g("rp,rt"),Lt=v(jt,Rt),zt=v(Dt,v(Rt,g("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),v(jt,g("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lt),Ft=g("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bt=g("srcset"),Vt=v(Ft,Bt,g("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Ut=function(){function t(){this.sanitizedSomething=!1,this.buf=[],this.DOM=r()}return t.prototype.sanitizeChildren=function(t){for(var e=this.DOM.firstChild(t);e;)if(this.DOM.isElementNode(e)?this.startElement(e):this.DOM.isTextNode(e)?this.chars(this.DOM.nodeValue(e)):this.sanitizedSomething=!0,this.DOM.firstChild(e))e=this.DOM.firstChild(e);else for(;e;){this.DOM.isElementNode(e)&&this.endElement(e);var n=this.checkClobberedElement(e,this.DOM.nextSibling(e));if(n){e=n;break}e=this.checkClobberedElement(e,this.DOM.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=this.DOM.nodeName(t).toLowerCase();zt.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),this.DOM.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();Vt.hasOwnProperty(r)?(Ft[r]&&(t=m(t)),Bt[r]&&(t=function(t){return(t=String(t)).split(",").map(function(t){return m(t.trim())}).join(", ")}(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(y(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=this.DOM.nodeName(t).toLowerCase();zt.hasOwnProperty(e)&&!Dt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(y(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&this.DOM.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+this.DOM.getOuterHTML(t));return e},t}(),Wt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qt=/([^\#-~ |!])/g,Ht=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Gt=/^url\(([^)]+)\)$/,$t=function(){return function(){}}(),Yt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(N.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case P.SecurityContext.NONE:return e;case P.SecurityContext.HTML:return e instanceof Xt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=r(),i=null;try{_t=_t||new It(t,n);var o=e?String(e):"";i=_t.getInertBodyElement(o);var a=5,s=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=s,s=n.getInnerHTML(i),i=_t.getInertBodyElement(o)}while(o!==s);var u=new Ut,l=u.sanitizeChildren(n.getTemplateContent(i)||i);return Object(P.isDevMode)()&&u.sanitizedSomething&&n.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}finally{if(i)for(var c=n.getTemplateContent(i)||i,f=0,p=n.childNodesAsList(c);f<p.length;f++)n.removeChild(c,p[f])}}(this._doc,String(e)));case P.SecurityContext.STYLE:return e instanceof Zt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Gt);return e&&m(e[1])===e[1]||t.match(Ht)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(P.isDevMode)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case P.SecurityContext.SCRIPT:if(e instanceof Jt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case P.SecurityContext.URL:return e instanceof te||e instanceof Qt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),m(String(e)));case P.SecurityContext.RESOURCE_URL:if(e instanceof te)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Kt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Xt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Zt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Jt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Qt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new te(t)},e}($t),Kt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Kt),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Kt),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Kt),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Kt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(N.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Kt),ee=[{provide:P.PLATFORM_ID,useValue:T["PLATFORM_BROWSER_ID"]},{provide:P.PLATFORM_INITIALIZER,useValue:b,multi:!0},{provide:T.PlatformLocation,useClass:U,deps:[V]},{provide:V,useFactory:w,deps:[]}],ne=[{provide:P.Sanitizer,useExisting:$t},{provide:$t,useClass:Yt,deps:[V]}],re=Object(P.createPlatformFactory)(P.platformCore,"browser",ee),ie=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:P.APP_ID,useValue:e.appId},{provide:q,useExisting:P.APP_ID},H]}},t}(),oe="undefined"!=typeof window&&window||{},ae=function(){return function(t,e){this.msPerTick=t,this.numTicks=e}}(),se=function(){function t(t){this.appRef=t.injector.get(P.ApplicationRef)}return t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=oe.console.profile;e&&n&&oe.console.profile("Change Detection");for(var i=r().performanceNow(),o=0;o<5||r().performanceNow()-i<500;)this.appRef.tick(),o++;var a=r().performanceNow();e&&n&&oe.console.profileEnd("Change Detection");var s=(a-i)/o;return oe.console.log("ran "+o+" change detection cycles"),oe.console.log(s.toFixed(2)+" ms per check"),new ae(s,o)},t}(),ue="profiler",le=function(){function t(){this.store={},this.onSerializeCallbacks={}}return t.init=function(e){var n=new t;return n.store=e,n},t.prototype.get=function(t,e){return void 0!==this.store[t]?this.store[t]:e},t.prototype.set=function(t,e){this.store[t]=e},t.prototype.remove=function(t){delete this.store[t]},t.prototype.hasKey=function(t){return this.store.hasOwnProperty(t)},t.prototype.onSerialize=function(t,e){this.onSerializeCallbacks[t]=e},t.prototype.toJson=function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)},t}(),ce=function(){return function(){}}(),fe=function(){function t(){}return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&r().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}},t}(),pe=new P.Version("5.2.11")},function(t,e,n){"use strict";function r(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function i(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function o(t){return 1===t.length?"0"+t:t}function a(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}var s=n(28),u=n(7);e.inherits=u,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),o=0;o<t.length;o+=2)n.push(parseInt(t[o]+t[o+1],16))}else for(var i=0,o=0;o<t.length;o++){var a=t.charCodeAt(o);a<128?n[i++]=a:a<2048?(n[i++]=a>>6|192,n[i++]=63&a|128):r(t,o)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++o)),n[i++]=a>>18|240,n[i++]=a>>12&63|128,n[i++]=a>>6&63|128,n[i++]=63&a|128):(n[i++]=a>>12|224,n[i++]=a>>6&63|128,n[i++]=63&a|128)}else for(o=0;o<t.length;o++)n[o]=0|t[o];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=o(t[n].toString(16));return e},e.htonl=i,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var o=t[r];"little"===e&&(o=i(o)),n+=a(o.toString(16))}return n},e.zero2=o,e.zero8=a,e.join32=function(t,e,n,r){var i=n-e;s(i%4==0);for(var o=new Array(i/4),a=0,u=e;a<o.length;a++,u+=4)o[a]=("big"===r?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u])>>>0;return o},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=r+t[e+1]>>>0;t[e]=(i<r?1:0)+n+t[e]>>>0,t[e+1]=i},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,a,s){var u=0,l=e;return u+=(l=l+r>>>0)<e?1:0,u+=(l=l+o>>>0)<o?1:0,t+n+i+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,a,s){return e+r+o+s>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,a,s,u,l){var c=0,f=e;return c+=(f=f+r>>>0)<e?1:0,c+=(f=f+o>>>0)<o?1:0,c+=(f=f+s>>>0)<s?1:0,t+n+i+a+u+(c+=(f=f+l>>>0)<l?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,a,s,u,l){return e+r+o+s+l>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(249),o=n(250);e.getDrawArea=function(t){if(t instanceof HTMLElement)return t;if(i.isSurface(t))return t.drawArea;if(i.isSurfaceInfo(t))return o.visor().surface({name:t.name,tab:t.tab,styles:t.styles}).drawArea;throw new Error("Not a drawable")},e.shallowEquals=function(t,e){const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i])return!1}return!0},e.nextFrame=function(){return r(this,void 0,void 0,function*(){yield new Promise(t=>requestAnimationFrame(t))})}},function(t,e,n){var r=n(259),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KEY_LEFT=37,e.KEY_UP=38,e.KEY_RIGHT=39,e.KEY_DOWN=40,e.KEY_ENTER=13,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_TAB=9})},function(t,e,n){function r(t){o.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=n(8).Buffer,o=n(140).Transform,a=n(144).StringDecoder;n(7)(r,o),r.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},r.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},r.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},r.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new a(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=r},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(285)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./pointer-events"),r=function(){function t(t){this.plt=t,this.evts=[]}return t.prototype.pointerEvents=function(t){if(t.element&&t.pointerDown){var e=new n.PointerEvents(this.plt,t.element,t.pointerDown,t.pointerMove,t.pointerUp,{capture:t.capture,passive:t.passive,zone:t.zone});return this.evts.push(function(){return e.destroy()}),e}console.error("PointerEvents config is invalid")},t.prototype.listen=function(t,e,n,r){if(t){var i=this.plt.registerListener(t,e,n,r);return this.evts.push(i),i}},t.prototype.unlistenAll=function(){this.evts.forEach(function(t){t()}),this.evts.length=0},t.prototype.destroy=function(){this.unlistenAll(),this.evts=null},t}();e.UIEventManager=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../config/config"),i=t("../util/util"),o=t("../platform/platform"),a=function(){function t(t,e){this.plt=t,this._config=e,this._ids=0,this._trns={}}return t.prototype.getRootTrnsId=function(t){for(t=t.parent;t;){if(i.isPresent(t._trnsId))return t._trnsId;t=t.parent}return null},t.prototype.nextId=function(){return this._ids++},t.prototype.get=function(t,e,n,r){var i=this._config.getTransition(r.animation);i||(i=this._config.getTransition("ios-transition"));var o=new i(this.plt,e,n,r);return o.trnsId=t,this._trns[t]?this._trns[t].add(o):this._trns[t]=o,o},t.prototype.destroy=function(t){var e=this._trns[t];e&&(e.destroy(),delete this._trns[t])},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:o.Platform},{type:r.Config}]},t}();e.TransitionController=a})},function(t,e,n){"use strict";function r(t){return i["vid"](2,[(t()(),i["eld"](0,0,null,null,1,"span",[["class","button-inner"]],null,null,null,null,null)),i["ncd"](null,0),(t()(),i["eld"](2,0,null,null,0,"div",[["class","button-effect"]],null,null,null,null,null))],null,null)}n.d(e,"a",function(){return a}),e.b=r;var i=n(0),o=n(3),a=(n.n(o),i["crt"]({encapsulation:2,styles:[],data:{}}))},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(t,e){this._elementRef=t,this._renderer=e}return t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.decorators=[{type:n.Directive,args:[{selector:"ion-backdrop",host:{role:"presentation",tappable:"","disable-activated":""}}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer}]},t}();e.Backdrop=r})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(9),n(298)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./util"),i=t("../components/ion"),o=t("./debouncer"),s=function(t){function e(e,i,a,s,u,l,c,f){var p=t.call(this,e,i,a,s)||this;return p._defaultValue=u,p._form=l,p._item=c,p._ngControl=f,p._isFocus=!1,p._disabled=!1,p._debouncer=new o.TimeoutDebouncer(0),p._init=!1,p._initModel=!1,p.ionFocus=new n.EventEmitter,p.ionChange=new n.EventEmitter,p.ionBlur=new n.EventEmitter,l&&l.register(p),p._value=r.deepCopy(p._defaultValue),c&&(p.id=s+"-"+c.registerInput(s),p._labelId=c.labelId,p._item.setElementClass("item-"+s,!0)),f&&(f.valueAccessor=p),p}return a(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabledState(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._writeValue(t)&&(this.onChange(),this._fireIonChange())},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t){this.value=t},e.prototype.setDisabledState=function(t){this._disabled=t=r.isTrueProperty(t),this._item&&this._item.setElementClass("item-"+this._componentName+"-disabled",t)},e.prototype.writeValue=function(t){this._writeValue(t)&&(this._initModel?this._fireIonChange():this._init&&(this._initModel=!0))},e.prototype._writeValue=function(t){if(r.isUndefined(t))return!1;var e=null===t?r.deepCopy(this._defaultValue):this._inputNormalize(t);return!(r.isUndefined(e)||!this._inputShouldChange(e))&&(this._value=e,this._init&&this._inputUpdated(),!0)},e.prototype._fireIonChange=function(){var t=this;this._init&&this._debouncer.debounce(function(){t.ionChange.emit(t._inputChangeEvent()),t._initModel=!0})},e.prototype.registerOnChange=function(t){this._onChanged=t},e.prototype.registerOnTouched=function(t){this._onTouched=t},e.prototype._initialize=function(){this._init||(this._init=!0,r.isPresent(this._value)&&this._inputUpdated())},e.prototype._fireFocus=function(){this._isFocus||(this._form&&this._form.setAsFocused(this),this._setFocus(!0),this.ionFocus.emit(this))},e.prototype._fireBlur=function(){this._isFocus&&(this._form&&this._form.unsetAsFocused(this),this._setFocus(!1),this._fireTouched(),this.ionBlur.emit(this))},e.prototype._fireTouched=function(){this._onTouched&&this._onTouched()},e.prototype._setFocus=function(t){this._isFocus=t;var e=this._item;e&&(e.setElementClass("input-has-focus",t),e.setElementClass("item-input-has-focus",t)),this._inputUpdated()},e.prototype.onChange=function(){this._onChanged&&this._onChanged(this._inputNgModelEvent())},e.prototype.isFocus=function(){return this._isFocus},e.prototype.hasValue=function(){var t=this._value;return!!r.isPresent(t)&&(!r.isArray(t)&&!r.isString(t)||t.length>0)},e.prototype.focusNext=function(){this._form&&this._form.tabFocus(this)},e.prototype.ngOnDestroy=function(){var t=this._form;t&&t.deregister(this),this._init=!1},e.prototype.ngAfterContentInit=function(){this._initialize()},e.prototype.initFocus=function(){var t=this._elementRef.nativeElement.querySelector("button");t&&t.focus()},e.prototype._inputNormalize=function(t){return t},e.prototype._inputShouldChange=function(t){return this._value!==t},e.prototype._inputChangeEvent=function(){return this},e.prototype._inputNgModelEvent=function(){return this._value},e.prototype._inputUpdated=function(){var t=this._item;if(t){!function(t,e){e&&(t.setElementClass("ng-untouched",e.untouched),t.setElementClass("ng-touched",e.touched),t.setElementClass("ng-pristine",e.pristine),t.setElementClass("ng-dirty",e.dirty),t.setElementClass("ng-valid",e.valid),t.setElementClass("ng-invalid",!e.valid))}(t,this._ngControl);var e=this.hasValue();t.setElementClass("input-has-value",e),t.setElementClass("item-input-has-value",e)}},e.propDecorators={ionFocus:[{type:n.Output}],ionChange:[{type:n.Output}],ionBlur:[{type:n.Output}],disabled:[{type:n.Input}]},e}(i.Ion);e.BaseInput=s})},function(t,e,n){"use strict";var r=n(2).__extends,i=n(133),o=n(63),a=n(200),s=n(135),u=function(t){function e(e,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!e){this.destination=a.empty;break}if("object"==typeof e){if(function(t){return t instanceof u||"syncErrorThrowable"in t&&t[s.rxSubscriber]}(e)){var i=e[s.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new l(this,e);break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,n,r)}}return r(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.Subscription);e.Subscriber=u;var l=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,u=this;i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21),o=n(50),a=n(63),s=n(359),u=n(360),l=n(135),c=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=c;var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[l.rxSubscriber]=function(){return new c(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=f;var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(f);e.AnonymousSubject=p},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(t){t.end()}var a=n(101),s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n(79);u.inherits=n(7);var l=n(212),c=n(143);u.inherits(r,l);for(var f=s(c.prototype),p=0;p<f.length;p++){var d=f[p];r.prototype[d]||(r.prototype[d]=c.prototype[d])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){if(!(e=u.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function o(t){return c=y(t),f=c.format,p=c.formatPrefix,c}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},s=function(t){return(t=a(Math.abs(t)))?t[1]:NaN},u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l,c,f,p,d=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},h=function(t,e){var n=a(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},m={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return h(100*t,e)},r:h,s:function(t,e){var n=a(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(l=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+a(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},g=function(t){return t},v=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],y=function(t){function e(t){function e(t){var e,r,i,u=x,p=E;if("c"===w)p=C(t)+p,t="";else{var m=(t=+t)<0;if(t=C(Math.abs(t),b),_&&(t=d(t)),m&&0==+t&&(m=!1),u=(m?"("===f?f:"-":"-"===f||"("===f?"":f)+u,p=("s"===w?v[8+l/3]:"")+p+(m&&"("===f?")":""),S)for(e=-1,r=t.length;++e<r;)if(48>(i=t.charCodeAt(e))||i>57){p=(46===i?o+t.slice(e+1):t.slice(e))+p,t=t.slice(0,e);break}}y&&!h&&(t=n(t,1/0));var O=u.length+t.length+p.length,k=O<g?new Array(g-O+1).join(s):"";switch(y&&h&&(t=n(k+t,k.length?g-p.length:1/0),k=""),c){case"<":t=u+t+p+k;break;case"=":t=u+k+t+p;break;case"^":t=k.slice(0,O=k.length>>1)+u+t+p+k.slice(O);break;default:t=k+u+t+p}return a(t)}var s=(t=r(t)).fill,c=t.align,f=t.sign,p=t.symbol,h=t.zero,g=t.width,y=t.comma,b=t.precision,_=t.trim,w=t.type;"n"===w?(y=!0,w="g"):m[w]||(null==b&&(b=12),_=!0,w="g"),(h||"0"===s&&"="===c)&&(h=!0,s="0",c="=");var x="$"===p?i[0]:"#"===p&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E="$"===p?i[1]:/[%p]/.test(w)?u:"",C=m[w],S=/[defgprs%]/.test(w);return b=null==b?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),e.toString=function(){return t+""},e}var n=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}(t.grouping,t.thousands):g,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):g,u=t.percent||"%";return{format:e,formatPrefix:function(t,n){var i=e((t=r(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(s(n)/3))),a=Math.pow(10,-o),u=v[8+o/3];return function(t){return i(a*t)+u}}}};o({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var b=function(t){return Math.max(0,-s(Math.abs(t)))},_=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(e)/3)))-s(Math.abs(t)))},w=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,s(e)-s(t))+1};n.d(e,"formatDefaultLocale",function(){return o}),n.d(e,"format",function(){return f}),n.d(e,"formatPrefix",function(){return p}),n.d(e,"formatLocale",function(){return y}),n.d(e,"formatSpecifier",function(){return r}),n.d(e,"precisionFixed",function(){return b}),n.d(e,"precisionPrefix",function(){return _}),n.d(e,"precisionRound",function(){return w})},function(t,e,n){var r=n(513),i=n(518);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n){return"function"==typeof e?Promise.resolve(new o.ViewController(e,n)):"string"==typeof e?t.getComponentFromName(e).then(function(t){var r=new o.ViewController(t,n);return r.id=e,r}):Promise.resolve(null)}function r(t,e,r){return e?o.isViewController(e)?Promise.resolve(e):n(t,e,r):Promise.resolve(null)}Object.defineProperty(e,"__esModule",{value:!0});var i=t("../util/util"),o=t("./view-controller");e.getComponent=n,e.convertToView=r,e.convertToViews=function(t,e){var n=[];if(i.isArray(e))for(var a=0;a<e.length;a++){var s=e[a];s&&(o.isViewController(s)?n.push(s):n.push(s.page?r(t,s.page,s.params):r(t,s,null)))}return Promise.all(n)};var a=9999;e.setZIndex=function(t,n,r,o,s){if(n){if(t._isPortal)return o===e.DIRECTION_FORWARD&&n._setZIndex(t._zIndexOffset+a,s),void a++;(r=r||t.getPrevious(n))&&i.isPresent(r._zIndex)?n._setZIndex(o===e.DIRECTION_BACK?r._zIndex-1:r._zIndex+1,s):n._setZIndex(e.INIT_ZINDEX+t._zIndexOffset,s)}},e.isTabs=function(t){return!!t&&!!t.getSelected},e.isTab=function(t){return!!t&&i.isPresent(t._tabId)},e.isNav=function(t){return!!t&&!!t.push&&"nav"===t.getType()},e.linkToSegment=function(t,e,n,r){var i=Object.assign({},r);return i.navId=t,i.type=e,i.secondaryId=n,i};var s=function(){return function(){}}();e.DeepLinkMetadata=s,e.STATE_NEW=1,e.STATE_INITIALIZED=2,e.STATE_ATTACHED=3,e.STATE_DESTROYED=4,e.INIT_ZINDEX=100,e.DIRECTION_BACK="back",e.DIRECTION_FORWARD="forward",e.DIRECTION_SWITCH="switch",e.NAV="nav",e.TABS="tabs"})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../platform/platform"),i=function(){function t(t){var e=this;t&&t.ready().then(function(){e._p=t.win().TapticEngine})}return t.prototype.available=function(){return!!this._p},t.prototype.selection=function(){this._p&&this._p.selection()},t.prototype.gestureSelectionStart=function(){this._p&&this._p.gestureSelectionStart()},t.prototype.gestureSelectionChanged=function(){this._p&&this._p.gestureSelectionChanged()},t.prototype.gestureSelectionEnd=function(){this._p&&this._p.gestureSelectionEnd()},t.prototype.notification=function(t){this._p&&this._p.notification(t)},t.prototype.impact=function(t){this._p&&this._p.impact(t)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.Platform}]},t}();e.Haptic=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(12),n(19),n(42),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../config/config"),i=t("./dom-controller"),o=t("../util/dom"),a=t("./key"),s=t("./platform"),u=function(){function t(t,e,r,i){this._plt=e,this._zone=r,this._dom=i,this.willShow=new n.EventEmitter,this.willHide=new n.EventEmitter,this.didShow=new n.EventEmitter,this.didHide=new n.EventEmitter,this.eventsAvailable=!1,this.focusOutline(t.get("focusOutline"));var o=e.win();o.Ionic&&o.Ionic.keyboardPlugin?this.listenV2(o):this.listenV1(o)}return t.prototype.listenV2=function(t){var e=this,n=this._plt;n.registerListener(t,"keyboardWillShow",function(t){e._zone.run(function(){e.willShow.emit(t.keyboardHeight)})},{zone:!1,passive:!0}),n.registerListener(t,"keyboardWillHide",function(){e._zone.run(function(){e.willHide.emit()})},{zone:!1,passive:!0}),n.registerListener(t,"keyboardDidShow",function(t){e._zone.run(function(){e.didShow.emit(t.keyboardHeight)})},{zone:!1,passive:!0}),n.registerListener(t,"keyboardDidHide",function(){e._zone.run(function(){e.didHide.emit()})},{zone:!1,passive:!0}),this.eventsAvailable=!0},t.prototype.listenV1=function(t){var e=this,n=this._plt;n.registerListener(t,"native.keyboardhide",function(){e.blurActiveInput(!0)},{zone:!1,passive:!0}),n.registerListener(t,"native.keyboardshow",function(){e.blurActiveInput(!1)},{zone:!1,passive:!0})},t.prototype.blurActiveInput=function(t){var e=this,n=this._plt;n.cancelTimeout(this._tmr),t&&(this._tmr=n.timeout(function(){e.isOpen()&&n.focusOutActiveElement()},80))},t.prototype.isOpen=function(){return this.hasFocusedTextInput()},t.prototype.onClose=function(t,e,n){function r(){!i.isOpen()||o>n?i._plt.timeout(function(){i._zone.run(function(){t()})},400):i._plt.timeout(r,e),o++}void 0===e&&(e=l),void 0===n&&(n=c);var i=this,o=0,a=null;return t||(a=new Promise(function(e){t=e})),i._plt.timeout(r,e),a},t.prototype.close=function(){var t=this;this._dom.read(function(){t.isOpen()&&t._dom.write(function(){t._plt.focusOutActiveElement()})})},t.prototype.focusOutline=function(t){function e(){s._dom.write(function(){u.doc().body.classList[c?"add":"remove"]("focus-outline")})}function n(){c=!1,r()}function r(){e(),i&&i(),o&&o(),c&&(i=u.registerListener(l,"mousedown",n,f),o=u.registerListener(l,"touchstart",n,f))}var i,o,s=this,u=s._plt,l=u.doc(),c=!1,f={passive:!0,zone:!1};if(!0===t)return c=!0,e();!1!==t&&u.registerListener(u.doc(),"keydown",function(t){c||t.keyCode!==a.KEY_TAB||(c=!0,r())},f)},t.prototype.hasFocusedTextInput=function(){var t=this._plt.getActiveElement();return!!o.isTextInput(t)&&t.parentElement.querySelector(":focus")===t},t.prototype.hideFormAccessoryBar=function(t){var e=this._plt.win();e&&e.Keyboard&&e.Keyboard.hideFormAccessoryBar&&e.Keyboard.hideFormAccessoryBar(t)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.Config},{type:s.Platform},{type:n.NgZone},{type:i.DomController}]},t}();e.Keyboard=u;var l=150,c=100})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(4),n(31),n(296),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("../../util/util"),s=t("../../navigation/nav-controller"),u=t("./toolbar-base"),l=t("../../navigation/view-controller"),c=function(t){function e(e,n,r,i,o,a){var s=t.call(this,i,o,a)||this;return s._app=e,s.navCtrl=r,s._hidden=!1,s._hideBb=!1,n&&n._setNavbar(s),s._bbIcon=i.get("backButtonIcon"),s._sbPadding=i.getBoolean("statusbarPadding"),s._backText=i.get("backButtonText","Back"),s}return a(e,t),Object.defineProperty(e.prototype,"hideBackButton",{get:function(){return this._hideBb},set:function(t){this._hideBb=o.isTrueProperty(t)},enumerable:!0,configurable:!0}),e.prototype.backButtonClick=function(t){t.preventDefault(),t.stopPropagation(),this.navCtrl&&this.navCtrl.pop(null,null)},e.prototype.setBackButtonText=function(t){this._backText=t},e.prototype.didEnter=function(){try{this._app.setTitle(this.getTitleText())}catch(t){console.error(t)}},e.prototype.setHidden=function(t){this._hidden=t},e.decorators=[{type:n.Component,args:[{selector:"ion-navbar",template:'<div class="toolbar-background" [ngClass]="\'toolbar-background-\' + _mode"></div><button (click)="backButtonClick($event)" ion-button="bar-button" class="back-button" [ngClass]="\'back-button-\' + _mode" [hidden]="_hideBb"><ion-icon class="back-button-icon" [ngClass]="\'back-button-icon-\' + _mode" [name]="_bbIcon"></ion-icon><span class="back-button-text" [ngClass]="\'back-button-text-\' + _mode">{{_backText}}</span></button><ng-content select="[menuToggle],ion-buttons[left]"></ng-content><ng-content select="ion-buttons[start]"></ng-content><ng-content select="ion-buttons[end],ion-buttons[right]"></ng-content><div class="toolbar-content" [ngClass]="\'toolbar-content-\' + _mode"><ng-content></ng-content></div>',host:{"[hidden]":"_hidden",class:"toolbar","[class.statusbar-padding]":"_sbPadding"}}]}],e.ctorParameters=function(){return[{type:r.App},{type:l.ViewController,decorators:[{type:n.Optional}]},{type:s.NavController,decorators:[{type:n.Optional}]},{type:i.Config},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={hideBackButton:[{type:n.Input}]},e}(u.ToolbarBase);e.Navbar=c})},function(t,e,n){"use strict";(function(t){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=n||void 0!==t&&t||r;e.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(e,n(20))},function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof l.UnsubscriptionError?e.errors:e)},[])}var i=n(197),o=n(198),a=n(133),s=n(199),u=n(134),l=n(342);e.Subscription=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,c=this._parents,f=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,h=c?c.length:0;n;)n.remove(this),n=++d<h&&c[d]||null;if(a.isFunction(f)){s.tryCatch(f).call(this)===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof l.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(p))for(d=-1,h=p.length;++d<h;){var m=p[d];if(o.isObject(m)){if(s.tryCatch(m.unsubscribe).call(m)===u.errorObject){e=!0,t=t||[];var g=u.errorObject.e;g instanceof l.UnsubscriptionError?t=t.concat(r(g.errors)):t.push(g)}}}if(e)throw new l.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},function(t,e,n){"use strict";(function(e,r){function i(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function o(t,n){if(t>65536)throw new Error("requested too many random bytes");var i=new e.Uint8Array(t);t>0&&s.getRandomValues(i);var o=a.from(i.buffer);return"function"==typeof n?r.nextTick(function(){n(null,o)}):o}var a=n(8).Buffer,s=e.crypto||e.msCrypto;t.exports=s&&s.getRandomValues?o:i}).call(e,n(20),n(18))},function(t,e,n){function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}var i=n(8).Buffer;r.prototype.update=function(t,e){"string"==typeof t&&(t=i.from(t,e=e||"utf8"));for(var n=this._block,r=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var u=a%r,l=Math.min(o-s,r-u),c=0;c<l;c++)n[u+c]=t[s+c];s+=l,(a+=l)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0;this._block.writeUInt32BE((n-r)/4294967296,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},function(t,e,n){"use strict";function r(t){var e=t||Jw.t,n=[],r={};return n.add=function(t){var i=e(t);return r[i]||(r[i]=1,n.push(t)),n},n.remove=function(t){var i,o=e(t);return r[o]&&(r[o]=0,(i=n.indexOf(t))>=0&&n.splice(i,1)),n},n}function i(t){return!(!t||!o(t))}function o(t){return t[Qw]}function a(t,e){return t[Qw]=e,t}function s(t){var e=t===Object(t)?t:{data:t};return o(e)?e:a(e,tx++)}function u(t){return l(t,s({}))}function l(t,e){for(var n in t)e[n]=t[n];return e}function c(t,e){return a(e,o(t))}function f(t){return t&&t.constructor===p}function p(){var t=[],e=[],n=[],r=[],i=[],a=!1;return{constructor:p,insert:function(e){for(var n=Object(Jw.i)(e),r=0,i=n.length;r<i;++r)t.push(n[r]);return this},remove:function(t){for(var n=Object(Jw.y)(t)?r:e,i=Object(Jw.i)(t),o=0,a=i.length;o<a;++o)n.push(i[o]);return this},modify:function(t,e,r){var o={field:e,value:Object(Jw.k)(r)};return Object(Jw.y)(t)?(o.filter=t,i.push(o)):(o.tuple=t,n.push(o)),this},encode:function(t,e){return Object(Jw.y)(t)?i.push({filter:t,field:e}):n.push({tuple:t,field:e}),this},reflow:function(){return a=!0,this},pulse:function(u,l){function c(t,e,n){n?t[e]=n(t):u.encode=e,a||(y[o(t)]=t)}var f,p,d,h,m,g,v={},y={};for(f=0,p=l.length;f<p;++f)v[o(l[f])]=1;for(f=0,p=e.length;f<p;++f)v[o(m=e[f])]=-1;for(f=0,p=r.length;f<p;++f)h=r[f],l.forEach(function(t){h(t)&&(v[o(t)]=-1)});for(f=0,p=t.length;f<p;++f)g=o(m=t[f]),v[g]?v[g]=1:u.add.push(s(t[f]));for(f=0,p=l.length;f<p;++f)v[o(m=l[f])]<0&&u.rem.push(m);for(f=0,p=n.length;f<p;++f)h=(d=n[f]).field,(g=v[o(m=d.tuple)])>0&&(c(m,h,d.value),u.modifies(h));for(f=0,p=i.length;f<p;++f)h=(d=i[f]).filter,l.forEach(function(t){h(t)&&v[o(t)]>0&&c(t,d.field,d.value)}),u.modifies(d.field);if(a)u.mod=e.length||r.length?l.filter(function(t){return v[o(t)]>0}):l.slice();else for(g in y)u.mod.push(y[g]);return u}}}function d(){Object.defineProperty(this,ex,{writable:!0,value:{}})}function h(t,e,n,r){this.id=++rx,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,e&&(this._update=e),n&&this.parameters(n,r)}function m(t){return function(e){var n=this.flags;return 0===arguments.length?!!(n&t):(this.flags=e?n|t:n&~t,this)}}function g(t,e,n){this.id=++ax,this.value=null,n&&(this.receive=n),t&&(this._filter=t),e&&(this._apply=e)}function v(t,e,n){return new g(t,e,n)}function y(t,e){var n=this;return n.sanitize(t,e).then(function(t){var r=t.href;return t.localFile?n.file(r):n.http(r,e)})}function b(t,e){return e=Object(Jw.n)({},this.options,e),new Promise(function(n,r){var i,o,a,s,u={href:null};null!=t&&"string"==typeof t?(o=ux.test(t),(s=e.baseURL)&&!o&&(E(t,"/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),a=(i=E(t,lx))||"file"===e.mode||"http"!==e.mode&&!o&&x(),i?t=t.slice(lx.length):E(t,"//")&&("file"===e.defaultProtocol?(t=t.slice(2),a=!0):t=(e.defaultProtocol||"http")+":"+t),Object.defineProperty(u,"localFile",{value:!!a}),u.href=t,e.target&&(u.target=e.target+""),n(u)):r("Sanitize failure, invalid URI: "+Object(Jw.O)(t))})}function _(t,e){return function(t,e){var r="function"==typeof fetch?fetch:n(460);return r?r(t,e):Promise.reject("No fetch method available.")}(t,Object(Jw.n)({},this.options.http,e)).then(function(t){if(!t.ok)throw t.status+""+t.statusText;return t.text()})}function w(t){return new Promise(function(e,n){var r=x();r?r.readFile(t,function(t,r){t?n(t):e(r)}):n("No file system access for "+t)})}function x(){var t=n(461);return t&&Object(Jw.y)(t.readFile)?t:null}function E(t,e){return null!=t&&0===t.lastIndexOf(e,0)}function C(t,e){if(!t||!t.length)return"unknown";var n,r,i,o=0,a=t.length,s=px.length,u=px.map(function(t,e){return e+1});for(r=0,a=t.length;r<a;++r)for(n=e?t[r][e]:t[r],i=0;i<s;++i)if(u[i]&&function(t){return null!=t&&t==t}(n)&&!px[i](n)&&(u[i]=0,++o===px.length))return"string";return o=u.reduce(function(t,e){return 0===t?e:t},0)-1,dx[o]}function S(t,e){return e.reduce(function(e,n){return e[n]=C(t,n),e},{})}function O(t){return!(isNaN(+t)||t instanceof Date)}function k(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function T(t){return function(e,n){var r={delimiter:t};return P(e,n?Object(Jw.n)(n,r):r)}}function P(t,e){return e.header&&(t=e.header.map(Jw.O).join(e.delimiter)+"\n"+t),bx(e.delimiter).parse(t+"")}function N(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=I(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function I(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(u(n[r],r));t<0&&Ex(e,i)}function r(t){return u(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}function s(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(s)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=a(t.arcs);break;case"MultiPolygon":e=t.arcs.map(a);break;default:return null}return{type:n,coordinates:e}}var u=xx(t.transform),l=t.arcs;return s(e)}function A(t,e){return arguments.length>1?(kx[t]=e,this):kx.hasOwnProperty(t)?kx[t]:null}function M(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return M(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Tx.setTime(+e),Px.setTime(+r),t(Tx),t(Px),Math.floor(n(Tx,Px))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}function D(t){return M(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ax)/Mx})}function R(t){return M(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Mx})}function j(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function L(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function z(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function F(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function B(t){return t.replace(gE,"\\$&")}function V(t){return new RegExp("^(?:"+t.map(B).join("|")+")","i")}function U(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function W(t,e,n){var r=hE.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function q(t,e,n){var r=hE.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function H(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function G(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Y(t,e,n){var r=hE.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function K(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function X(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Z(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function J(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Q(t,e,n){var r=hE.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tt(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function et(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nt(t,e,n){var r=hE.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rt(t,e,n){var r=hE.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function it(t,e,n){var r=hE.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ot(t,e,n){var r=mE.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function at(t,e,n){var r=hE.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function st(t,e,n){var r=hE.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ut(t,e){return F(t.getDate(),e,2)}function lt(t,e){return F(t.getHours(),e,2)}function ct(t,e){return F(t.getHours()%12||12,e,2)}function ft(t,e){return F(1+Vx.count(Yx(t),t),e,3)}function pt(t,e){return F(t.getMilliseconds(),e,3)}function dt(t,e){return pt(t,e)+"000"}function ht(t,e){return F(t.getMonth()+1,e,2)}function mt(t,e){return F(t.getMinutes(),e,2)}function gt(t,e){return F(t.getSeconds(),e,2)}function vt(t){var e=t.getDay();return 0===e?7:e}function yt(t,e){return F(Ux.count(Yx(t),t),e,2)}function bt(t,e){var n=t.getDay();return t=n>=4||0===n?qx(t):qx.ceil(t),F(qx.count(Yx(t),t)+(4===Yx(t).getDay()),e,2)}function _t(t){return t.getDay()}function wt(t,e){return F(Wx.count(Yx(t),t),e,2)}function xt(t,e){return F(t.getFullYear()%100,e,2)}function Et(t,e){return F(t.getFullYear()%1e4,e,4)}function Ct(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+F(e/60|0,"0",2)+F(e%60,"0",2)}function St(t,e){return F(t.getUTCDate(),e,2)}function Ot(t,e){return F(t.getUTCHours(),e,2)}function kt(t,e){return F(t.getUTCHours()%12||12,e,2)}function Tt(t,e){return F(1+tE.count(pE(t),t),e,3)}function Pt(t,e){return F(t.getUTCMilliseconds(),e,3)}function Nt(t,e){return Pt(t,e)+"000"}function It(t,e){return F(t.getUTCMonth()+1,e,2)}function At(t,e){return F(t.getUTCMinutes(),e,2)}function Mt(t,e){return F(t.getUTCSeconds(),e,2)}function Dt(t){var e=t.getUTCDay();return 0===e?7:e}function Rt(t,e){return F(eE.count(pE(t),t),e,2)}function jt(t,e){var n=t.getUTCDay();return t=n>=4||0===n?rE(t):rE.ceil(t),F(rE.count(pE(t),t)+(4===pE(t).getUTCDay()),e,2)}function Lt(t){return t.getUTCDay()}function zt(t,e){return F(nE.count(pE(t),t),e,2)}function Ft(t,e){return F(t.getUTCFullYear()%100,e,2)}function Bt(t,e){return F(t.getUTCFullYear()%1e4,e,4)}function Vt(){return"+0000"}function Ut(){return"%"}function Wt(t){return+t}function qt(t){return Math.floor(+t/1e3)}function Ht(t){return sE=function(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=dE[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var i,o,a=z(1900);if(r(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(o=(i=L(z(a.y))).getUTCDay())>4||0===o?nE.ceil(i):nE(i),i=tE.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(i=(o=(i=e(z(a.y))).getDay())>4||0===o?Wx.ceil(i):Wx(i),i=Vx.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?L(z(a.y)).getUTCDay():e(z(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,L(a)):e(a)}}function r(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=C[i in dE?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,a=t.time,s=t.periods,u=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,p=V(s),d=U(s),h=V(u),m=U(u),g=V(l),v=U(l),y=V(c),b=U(c),_=V(f),w=U(f),x={a:function(t){return l[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:ut,e:ut,f:dt,H:lt,I:ct,j:ft,L:pt,m:ht,M:mt,p:function(t){return s[+(t.getHours()>=12)]},Q:Wt,s:qt,S:gt,u:vt,U:yt,V:bt,w:_t,W:wt,x:null,X:null,y:xt,Y:Et,Z:Ct,"%":Ut},E={a:function(t){return l[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:St,e:St,f:Nt,H:Ot,I:kt,j:Tt,L:Pt,m:It,M:At,p:function(t){return s[+(t.getUTCHours()>=12)]},Q:Wt,s:qt,S:Mt,u:Dt,U:Rt,V:jt,w:Lt,W:zt,x:null,X:null,y:Ft,Y:Bt,Z:Vt,"%":Ut},C={a:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.w=v[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=m[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=w[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return r(t,i,e,n)},d:J,e:J,f:it,H:tt,I:tt,j:Q,L:rt,m:Z,M:et,p:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.p=d[r[0].toLowerCase()],n+r[0].length):-1},Q:at,s:st,S:nt,u:q,U:H,V:G,w:W,W:$,x:function(t,e,n){return r(t,o,e,n)},X:function(t,e,n){return r(t,a,e,n)},y:K,Y:Y,Z:X,"%":ot};return x.x=e(o,x),x.X=e(a,x),x.c=e(i,x),E.x=e(o,E),E.X=e(a,E),E.c=e(i,E),{format:function(t){var n=e(t+="",x);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",j);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",E);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,L);return e.toString=function(){return t},e}}}(t),uE=sE.format,lE=sE.parse,cE=sE.utcFormat,fE=sE.utcParse,sE}function Gt(t,e,n,r,i,o){var a,s,u=Object(Jw.n)({},o,bE);Object(Jw.y)(n)||(n=Object(Jw.k)(n)),void 0===r?a=function(e){t.touch(n(e))}:Object(Jw.y)(r)?(s=new h(null,r,i,!1),a=function(e){var r,i=n(e);s.evaluate(e),f(r=s.value)?t.pulse(i,r,o):t.update(i,r,u)}):a=function(e){t.update(n(e),r,u)},e.apply(a)}function $t(t,e,n,r,i,o){var a,s;void 0===r?s=n:(a=Object(Jw.y)(r)?r:Object(Jw.k)(r),(s=new h(null,r=n?function(t,e){var r=a(t,e);return n.skip()||(n.skip(r!==this.value).value=r),r}:a,i,!1)).modified(o&&o.force),s.rank=0,n&&(s.skip(!0),s.value=n.value,s.targets().add(n))),e.targets().add(s)}function Yt(t,e,n){this.dataflow=t,this.stamp=null==e?-1:e,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Kt(t,e){return t?function(n,r){return t(n,r)&&e(n,r)}:e}function Xt(t,e){var n=[];return Object(Jw.W)(t,e,function(t){n.push(t)}),n}function Zt(t,e){var n={};return t.visit(e,function(t){n[o(t)]=1}),function(t){return n[o(t)]?null:t}}function Jt(t,e,n,r){var i,o,a,s,u,l=0;for(this.dataflow=t,this.stamp=e,this.fields=null,this.encode=r||null,this.pulses=n,a=0,s=n.length;a<s;++a)if((i=n[a]).stamp===e){if(i.fields){o=this.fields||(this.fields={});for(u in i.fields)o[u]=1}i.changed(this.ADD)&&(l|=this.ADD),i.changed(this.REM)&&(l|=this.REM),i.changed(this.MOD)&&(l|=this.MOD)}this.changes=l}function Qt(t,e){try{e(t)}catch(e){t.error(e)}}function te(t){this.cmp=t,this.nodes=[]}function ee(t,e,n,r){var i,o,a;for(i=t[n];n>e&&r(i,o=t[a=n-1>>1])<0;)t[n]=o,n=a;return t[n]=i}function ne(t,e,n){for(var r,i=e,o=t.length,a=t[e],s=2*e+1;s<o;)(r=s+1)<o&&n(t[s],t[r])>=0&&(s=r),t[e]=t[s],s=2*(e=s)+1;return t[e]=a,ee(t,i,e,n)}function re(){this._log=Object(Jw.E)(),this.logLevel(Jw.b),this._clock=0,this._rank=0;try{this._loader=cx()}catch(t){}this._touched=r(Jw.s),this._pulses={},this._pulse=null,this._heap=new te(function(t,e){return t.qrank-e.qrank}),this._postrun=[]}function ie(t){return function(){return this._log[t].apply(this,arguments)}}function oe(t,e){h.call(this,t,null,e)}function ae(t){var e=se(t);return e&&e.Definition||null}function se(t){return t=t&&t.toLowerCase(),kE.hasOwnProperty(t)?kE[t]:null}function ue(t){return t&&t.length?1===t.length?t[0]:function(t){return function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}}(t):function(){return""}}function le(t,e,n){return n||t+(e?"_"+e:"")}function ce(t,e){return TE[t](e)}function fe(t){return function(e){var n=Object(Jw.n)({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function pe(t,e){return t.idx-e.idx}function de(t,e){var n=e||Jw.t,r="var cell = this.cell; this.valid = 0; this.missing = 0;",i="this.cell = cell; this.init();",o="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",a="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",s="var cell = this.cell;";return function(t,e){function n(t,r){function i(e){t[e]||n(t,t[e]=TE[e]())}return r.req&&r.req.forEach(i),e&&r.str&&r.str.forEach(i),t}var r,i=t.reduce(n,t.reduce(function(t,e){return t[e.name]=e,t},{})),o=[];for(r in i)o.push(i[r]);return o.sort(pe)}(t,!0).forEach(function(t){r+=t.init,o+=t.add,a+=t.rem}),t.slice().sort(pe).forEach(function(t){s+="t['"+t.out+"']="+t.set+";"}),s+="return t;",i=Function("cell",i),i.prototype.init=Function(r),i.prototype.add=Function("v","t",o),i.prototype.rem=Function("v","t",a),i.prototype.set=Function("t",s),i.prototype.get=n,i.fields=t.map(function(t){return t.out}),i}function he(t){return null===t?NaN:+t}function me(t){AE=t}function ge(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(o+=(n=e-i)*(e-(i+=n/++r)));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(o+=(n=s-i)*(s-(i+=n/++r)))}if(r>1)return o/(r-1)}function ve(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=VE?10:o>=UE?5:o>=WE?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=VE?10:o>=UE?5:o>=WE?2:1)}function ye(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=VE?i*=10:o>=UE?i*=5:o>=WE&&(i*=2),e<t?-i:i}function be(t,e,n=GE){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function _e(t,e){let n;if(void 0===e)for(let e of t)null!=e&&e>=e&&(void 0===n||n<e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&(void 0===n||n<i)&&(n=i)}return n}function we(t,e,n=0,r=t.length-1,i=ME){for(;r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);we(t,e,Math.max(n,Math.floor(e-a*u/o+l)),Math.min(r,Math.floor(e+(o-a)*u/o+l)),i)}const o=t[e];let a=n,s=r;for(xe(t,n,e),i(t[r],o)>0&&xe(t,n,r);a<s;){for(xe(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?xe(t,n,s):(++s,xe(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function xe(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ee(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function Ce(t,e){let n;if(void 0===e)for(let e of t)null!=e&&e>=e&&(void 0===n||n>e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&(void 0===n||n>i)&&(n=i)}return n}function Se(t){this._key=t?Object(Jw.r)(t):o,this.reset()}function Oe(t){oe.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function ke(t){oe.call(this,null,t)}function Te(t){oe.call(this,[],t)}function Pe(t){h.call(this,null,Ne,t)}function Ne(t){return this.value&&!t.modified()?this.value:Object(Jw.j)(t.fields,t.orders)}function Ie(t){oe.call(this,null,t)}function Ae(t){oe.call(this,null,t)}function Me(t,e){var n=t[uC];aC.hasOwnProperty(n)||Object(Jw.m)("Unknown distribution function: "+n);var r=aC[n]();for(var i in t)i===lC?r.data((t.from||e()).map(t[i])):i===sC?r[i](t[i].map(function(t){return Me(t,e)})):typeof r[i]===uC&&r[i](t[i]);return r}function De(t){oe.call(this,null,t)}function Re(t){h.call(this,null,je,t),this.modified(!0)}function je(t){var e=t.expr;return this.value&&!t.modified("expr")?this.value:Object(Jw.f)(function(n){return e(n,t)},Object(Jw.g)(e),Object(Jw.h)(e))}function Le(t){oe.call(this,[void 0,void 0],t)}function ze(t,e){h.call(this,t),this.parent=e}function Fe(t){oe.call(this,{},t),this._keys=Object(Jw.q)();var e=this._targets=[];e.active=0,e.forEach=function(t){for(var n=0,r=e.active;n<r;++n)t(e[n],n,e)}}function Be(t){h.call(this,null,Ve,t)}function Ve(t){return this.value&&!t.modified()?this.value:Object(Jw.v)(t.name)?Object(Jw.i)(t.name).map(function(t){return Object(Jw.r)(t)}):Object(Jw.r)(t.name,t.as)}function Ue(t){oe.call(this,Object(Jw.q)(),t)}function We(t,e){return t?t.map(function(t,n){return e[n]||Object(Jw.h)(t)}):null}function qe(t){oe.call(this,[],t)}function He(t){oe.call(this,[],t)}function Ge(t){oe.call(this,null,t)}function $e(t){oe.call(this,[],t)}function Ye(t){oe.call(this,[],t)}function Ke(t){Oe.call(this,t)}function Xe(t){h.call(this,null,Ze,t)}function Ze(t){return this.value&&!t.modified()?this.value:Object(Jw.D)(t.fields,t.flat)}function Je(t){oe.call(this,null,t)}function Qe(t){oe.call(this,{},t)}function tn(t){h.call(this,null,en,t)}function en(t){if(this.value&&!t.modified())return this.value;var e,n,r,i=1/0,o=-1/0,a=t.extents;for(e=0,n=a.length;e<n;++e)(r=a[e])[0]<i&&(i=r[0]),r[1]>o&&(o=r[1]);return[i,o]}function nn(t){h.call(this,null,rn,t)}function rn(t){return this.value&&!t.modified()?this.value:t.values.reduce(function(t,e){return t.concat(e)},[])}function on(t){oe.call(this,null,t)}function an(t){Oe.call(this,t)}function sn(t,e){var n=t.field,r=t.value,i=("count"===t.op?"__count__":t.op)||"sum",o=Object(Jw.g)(n).concat(Object(Jw.g)(r)),a=function(t,e,n){var r={},i=[];return n.visit(n.SOURCE,function(e){var n=t(e);r[n]||(r[n]=1,i.push(n))}),i.sort(function(t,e){return(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e==e?-1:e!=e&&t==t?1:0)}),e?i.slice(0,e):i}(n,t.limit||0,e);return{key:t.key,groupby:t.groupby,ops:a.map(function(){return i}),fields:a.map(function(t){return function(t,e,n,r){return Object(Jw.f)(function(r){return e(r)===t?n(r):NaN},r,t+"")}(t,n,r,o)}),as:a.map(function(t){return t+""}),modified:t.modified.bind(t)}}function un(t){Fe.call(this,t)}function ln(t){oe.call(this,null,t)}function cn(t){oe.call(this,null,t)}function fn(t){oe.call(this,null,t)}function pn(t){oe.call(this,[],t),this.count=0}function dn(t){oe.call(this,null,t)}function hn(t){oe.call(this,null,t),this.modified(!0)}function mn(t){oe.call(this,Object(Jw.q)(),t)}function gn(t){oe.call(this,null,t)}function vn(t){function e(t){Object(Jw.i)(Object(Jw.g)(t)).forEach(function(t){u[t]=1})}var n=Object(Jw.i)(t.ops),r=Object(Jw.i)(t.fields),i=Object(Jw.i)(t.params),o=Object(Jw.i)(t.as),a=this.outputs=[],s=this.windows=[],u={},l={},c=!0,f=[],p=[];e(t.sort),n.forEach(function(t,n){var u=r[n],d=Object(Jw.h)(u),h=le(t,d,o[n]);if(e(u),a.push(h),vC.hasOwnProperty(t))s.push(function(t,e,n,r){var i=vC[t](e,n);return{init:i.init||Jw.X,update:function(t,e){e[r]=i.next(t)}}}(t,r[n],i[n],h));else{if(null==u&&"count"!==t&&Object(Jw.m)("Null aggregate field specified."),"count"===t)return void f.push(h);c=!1;var m=l[d];m||((m=l[d]=[]).field=u,p.push(m)),m.push(ce(t,h))}}),(f.length||p.length)&&(this.cell=function(t,e,n){t=t.map(function(t){return de(t,t.field)});var r={num:0,agg:null,store:!1,count:e};if(!n)for(var i=t.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new t[a](r);if(r.store)var s=r.data=new Se;return r.add=function(t){if(r.num+=1,!n){s&&s.add(t);for(var e=0;e<i;++e)o[e].add(o[e].get(t),t)}},r.rem=function(t){if(r.num-=1,!n){s&&s.rem(t);for(var e=0;e<i;++e)o[e].rem(o[e].get(t),t)}},r.set=function(t){var i,a;for(s&&s.values(),i=0,a=e.length;i<a;++i)t[e[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(t)},r.init=function(){r.num=0,s&&s.reset();for(var t=0;t<i;++t)o[t].init()},r}(p,f,c)),this.inputs=Object.keys(u)}function yn(t){oe.call(this,{},t),this._mlen=0,this._mods=[]}function bn(t,e,n){var r=n.sort,i=r&&!n.ignorePeers,o=n.frame||[null,0],a=t.data(r),s=a.length,u=0,l=i?DE(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:r||Object(Jw.k)(-1)};for(e.init();u<s;++u)!function(t,e,n,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==e[0]?0:Math.max(0,n-Math.abs(e[0])),t.i1=null==e[1]?r:Math.min(r,n+Math.abs(e[1])+1),t.index=n}(c,o,u,s),i&&function(t,e){var n=t.i0,r=t.i1-1,i=t.compare,o=t.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(t.i0=e.left(o,o[n]));r<a&&!i(o[r],o[r+1])&&(t.i1=e.right(o,o[r]))}(c,l),e.update(c,a[u])}function _n(t){this.clear(),t&&this.union(t)}function wn(t){this.mark=t,this.bounds=this.bounds||new _n}function xn(t){wn.call(this,t),this.items=this.items||[]}function En(t,e){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=t,n.height=e,n}return null}function Cn(t){this._pending=0,this._loader=t||cx()}function Sn(t){t._pending+=1}function On(t){t._pending-=1}function kn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Tn(){return new kn}function Pn(t){return t>=1?bS:t<=-1?-bS:Math.asin(t)}function Nn(t){return t.innerRadius}function In(t){return t.outerRadius}function An(t){return t.startAngle}function Mn(t){return t.endAngle}function Dn(t){return t&&t.padAngle}function Rn(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/gS(s*s+u*u),c=l*u,f=-l*s,p=t+c,d=e+f,h=n+c,m=r+f,g=(p+h)/2,v=(d+m)/2,y=h-p,b=m-d,_=y*y+b*b,w=i-o,x=p*m-h*d,E=(b<0?-1:1)*gS(dS(0,w*w*_-x*x)),C=(x*b-y*E)/_,S=(-x*y-b*E)/_,O=(x*b+y*E)/_,k=(-x*y+b*E)/_,T=C-g,P=S-v,N=O-g,I=k-v;return T*T+P*P>N*N+I*I&&(C=O,S=k),{cx:C,cy:S,x01:-c,y01:-f,x11:C*(i/w-1),y11:S*(i/w-1)}}function jn(t){this._context=t}function Ln(t){return t[0]}function zn(t){return t[1]}function Fn(t){this._curve=t}function Bn(t){function e(e){return new Fn(t(e))}return e._curve=t,e}function Vn(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Un(t){this._context=t}function Wn(t){this._context=t}function qn(t){this._context=t}function Hn(t,e){this._basis=new Un(t),this._beta=e}function Gn(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function $n(t,e){this._context=t,this._k=(1-e)/6}function Yn(t,e){this._context=t,this._k=(1-e)/6}function Kn(t,e){this._context=t,this._k=(1-e)/6}function Xn(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>vS){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>vS){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Zn(t,e){this._context=t,this._alpha=e}function Jn(t,e){this._context=t,this._alpha=e}function Qn(t,e){this._context=t,this._alpha=e}function tr(t){this._context=t}function er(t){return t<0?-1:1}function nr(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(er(o)+er(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function rr(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ir(t,e,n){var r=t._x0,i=t._x1,o=t._y1,a=(i-r)/3;t._context.bezierCurveTo(r+a,t._y0+a*e,i-a,o-a*n,i,o)}function or(t){this._context=t}function ar(t){this._context=new sr(t)}function sr(t){this._context=t}function ur(t){this._context=t}function lr(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cr(t,e){this._context=t,this._t=e}function fr(t,e,n){var r=RS.hasOwnProperty(t)&&RS[t],i=null;return r&&(i=r.curve||r[e||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}function pr(t){var e=VS.call(t);if(BS[e])return BS[e];var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=l*a,f=-u*s,p=u*a,d=l*s,h=Math.cos(i),m=Math.sin(i),g=Math.cos(o),v=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),_=8/3*b*b/Math.sin(y),w=n+h-_*m,x=r+m+_*h,E=n+g,C=r+v,S=E+_*v,O=C-_*g;return BS[e]=[c*w+f*x,p*w+d*x,c*S+f*O,p*S+d*O,c*E+f*C,p*E+d*C]}function dr(t,e){var n=US[0]=t[0];if("a"===n||"A"===n)US[1]=e*t[1],US[2]=e*t[2],US[3]=t[3],US[4]=t[4],US[5]=t[5],US[6]=e*t[6],US[7]=e*t[7];else for(var r=1,i=t.length;r<i;++r)US[r]=e*t[r];return US}function hr(t,e,n,r){for(var i=function(t,e,n,r,i,o,a,s,u){var l=VS.call(arguments);if(FS[l])return FS[l];var c=a*(Math.PI/180),f=Math.sin(c),p=Math.cos(c),d=p*(s-t)*.5+f*(u-e)*.5,h=p*(u-e)*.5-f*(s-t)*.5,m=d*d/((n=Math.abs(n))*n)+h*h/((r=Math.abs(r))*r);m>1&&(n*=m=Math.sqrt(m),r*=m);var g=p/n,v=f/n,y=-f/r,b=p/r,_=g*s+v*u,w=y*s+b*u,x=g*t+v*e,E=y*t+b*e,C=1/((x-_)*(x-_)+(E-w)*(E-w))-.25;C<0&&(C=0);var S=Math.sqrt(C);o==i&&(S=-S);var O=.5*(_+x)-S*(E-w),k=.5*(w+E)+S*(x-_),T=Math.atan2(w-k,_-O),P=Math.atan2(E-k,x-O)-T;P<0&&1===o?P+=2*Math.PI:P>0&&0===o&&(P-=2*Math.PI);for(var N=Math.ceil(Math.abs(P/(.5*Math.PI+.001))),I=[],A=0;A<N;++A)I[A]=[O,k,T+A*P/N,T+(A+1)*P/N,n,r,f,p];return FS[l]=I}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],e,n),o=0;o<i.length;++o){var a=pr(i[o]);t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}function mr(t){return GS.hasOwnProperty(t)?GS[t]:function(t){if(!$S.hasOwnProperty(t)){var e=zS(t);$S[t]={draw:function(t,n){WS(t,e,0,0,Math.sqrt(n)/2)}}}return $S[t]}(t)}function gr(t){return t.x}function vr(t){return t.y}function yr(t){return t.width}function br(t){return t.height}function _r(t){return function(){return t}}function wr(t){return t.x||0}function xr(t){return t.y||0}function Er(t){return t.cornerRadius||0}function Cr(t){return!(!1===t.defined)}function Sr(t,e,n,r){return eO.context(t)(e,n,r)}function Or(t){return DS=t,Or}function kr(){}function Tr(t,e){DS.add(t,e)}function Pr(t,e){return t.zindex-e.zindex||t.index-e.index}function Nr(t){if(!t.zdirty)return t.zitems;var e,n,r,i=t.items,o=[];for(n=0,r=i.length;n<r;++n)(e=i[n]).index=n,e.zindex&&o.push(e);return t.zdirty=!1,t.zitems=o.sort(Pr)}function Ir(t,e){var n,r,i=t.items;if(i&&i.length){var o=Nr(t);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||e(i[n]);i=o}for(n=0,r=i.length;n<r;++n)e(i[n])}}function Ar(t,e){var n,r,i=t.items;if(!i||!i.length)return null;var o=Nr(t);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=e(i[r]))return n;if(i===o)for(r=(i=t.items).length;--r>=0;)if(!i[r].zindex&&(n=e(i[r])))return n;return null}function Mr(t){return function(e,n,r){Ir(n,function(n){r&&!r.intersects(n.bounds)||Dr(t,e,n,n)})}}function Dr(t,e,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(t(e,r)||(n.fill&&fO(e,n,i)&&e.fill(),n.stroke&&dO(e,n,i)&&e.stroke()))}function Rr(t){return t||(t=hO),function(e,n,r,i,o,a){return r*=e.pixelRatio,i*=e.pixelRatio,Ar(n,function(n){var s=n.bounds;if((!s||s.contains(o,a))&&s)return t(e,n,r,i,o,a)?n:void 0})}}function jr(t,e){return function(n,r,i,o){var a,s,u=Array.isArray(r)?r[0]:r,l=null==e?u.fill:e,c=u.stroke&&n.isPointInStroke;return c&&(s=u.strokeCap,n.lineWidth=null!=(a=u.strokeWidth)?a:1,n.lineCap=null!=s?s:"butt"),!t(n,r)&&(l&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function Lr(t){return Rr(jr(t))}function zr(){wO=1}function Fr(t,e){var n=e.stroke?EO:0;t.beginPath(),Sr(t,e,n,n)}function Br(t,e){var n=t.image;return n&&n.url===t.url||(n={loaded:!1,width:0,height:0},e.loadImage(t.url).then(function(e){t.image=e,t.image.url=t.url})),n}function Vr(t,e){return"center"===t?e/2:"right"===t?e:0}function Ur(t,e){return"middle"===t?e/2:"bottom"===t?e:0}function Wr(t,e){var n=e.path;if(null==n)return!0;var r=e.pathCache;r&&r.path===n||((e.pathCache=r=zS(n)).path=n),WS(t,r,e.x,e.y)}function qr(t,e){t.beginPath(),Sr(t,e)}function Hr(t,e,n){var r,i,o,a;return!(!e.stroke||!dO(t,e,n))&&(r=e.x||0,i=e.y||0,o=null!=e.x2?e.x2:r,a=null!=e.y2?e.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(o,a),!0)}function Gr(t){return lO=Xr(t),$r(Jr(t))}function $r(t){return~~(.8*t.length*lO)}function Yr(t){return uO.font=ti(t),Kr(Jr(t))}function Kr(t){return uO.measureText(t).width}function Xr(t){return null!=t.fontSize?t.fontSize:11}function Zr(t){uO=t&&(uO=En(1,1))?uO.getContext("2d"):null,MO.width=uO?Yr:Gr}function Jr(t){var e=t.text;return null==e?"":t.limit>0?function(t){var e,n=+t.limit,r=t.text+"";uO?(uO.font=ti(t),e=Kr):(lO=Xr(t),e=$r);if(e(r)<n)return r;var i,o=t.ellipsis||"",a="rtl"===t.dir,s=0,u=r.length;if(n-=e(o),a){for(;s<u;)e(r.slice(i=s+u>>>1))>n?s=i+1:u=i;return o+r.slice(s)}for(;s<u;)e(r.slice(0,i=1+(s+u>>>1)))<n?s=i:u=i-1;return r.slice(0,s)+o}(t):e+""}function Qr(t,e){var n=t.font;return(e&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function ti(t,e){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+Xr(t)+"px "+Qr(t,e)}function ei(t){var e=t.baseline,n=Xr(t);return Math.round("top"===e?.79*n:"middle"===e?.3*n:"bottom"===e?-.21*n:0)}function ni(t,e,n){var r,i,o=MO.height(e),a=e.align,s=e.radius||0,u=e.x||0,l=e.y||0,c=e.dx||0,f=(e.dy||0)+ei(e)-Math.round(.8*o);return s&&(i=(e.theta||0)-Math.PI/2,u+=s*Math.cos(i),l+=s*Math.sin(i)),r=MO.width(e),"center"===a?c-=r/2:"right"===a&&(c-=r),t.set(c+=u,f+=l,c+r,f+o),e.angle&&!n&&t.rotate(e.angle*Math.PI/180,u,l),t.expand(n||!r?0:1)}function ri(t,e){return JSON.stringify(t,BO,e)}function ii(t){return oi("string"==typeof t?JSON.parse(t):t)}function oi(t){var e,n,r,i=t.marktype,o=t.items;if(o)for(n=0,r=o.length;n<r;++n)o[n][e=i?"mark":"group"]=t,o[n].zindex&&(o[n][e].zdirty=!0),"group"===(i||e)&&oi(o[n]);return i&&FO(t),t}function ai(t){arguments.length?this.root=ii(t):(this.root=si({marktype:"group",name:"root",role:"frame"}),this.root.items=[new xn(this.root)])}function si(t,e){return{bounds:new _n,clip:!!t.clip,group:e,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0}}function ui(t,e,n){return!t&&"undefined"!=typeof document&&document.createElement&&(t=document),t?n?t.createElementNS(n,e):t.createElement(e):null}function li(t,e){e=e.toLowerCase();for(var n=t.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===e)return n[r]}function ci(t,e,n,r){var i,o=t.childNodes[e];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=ui(t.ownerDocument,n,r),t.insertBefore(o,i)),o}function fi(t,e){for(var n=t.childNodes,r=n.length;r>e;)t.removeChild(n[--r]);return t}function pi(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function di(t,e){this._active=null,this._handlers={},this._loader=t||cx(),this._tooltip=e||function(t,e,n,r){t.element().setAttribute("title",r||"")}}function hi(t){this._el=null,this._bgcolor=null,this._loader=new Cn(t)}function mi(t,e){di.call(this,t,e),this._down=null,this._touch=null,this._first=!0}function gi(t,e,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i?this.fire(t,r):(i&&i.exit||this.fire(n,r),this._active=o,this.fire(e,r),this.fire(t,r))}}function vi(t){return function(e){this.fire(t,e),this._active=null}}function yi(t){hi.call(this,t),this._redraw=!1,this._dirty=new _n}function bi(t,e){di.call(this,t,e);var n=this;n._hrefHandler=_i(n,function(t,e){e&&e.href&&n.handleHref(t,e,e.href)}),n._tooltipHandler=_i(n,function(t,e){n.handleTooltip(t,e,t.type!==HO)})}function _i(t,e){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,e.call(t._obj,n,r)}}function wi(t,e,n){var r,i,o="<"+t;if(e)for(r in e)null!=(i=e[r])&&(o+=" "+r+'="'+i+'"');return n&&(o+=" "+n),o+">"}function xi(t){return"</"+t+">"}function Ei(t){hi.call(this,t),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}function Ci(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function Si(t,e,n,r,i){var o,a=t._svg;if(!a&&(o=e.ownerDocument,a=ui(o,r,ek),t._svg=a,t.mark&&(a.__data__=t,a.__values__={fill:"default"},"g"===r))){var s=ui(o,"path",ek);s.setAttribute("class","background"),a.appendChild(s),s.__data__=t;var u=ui(o,"g",ek);a.appendChild(u),u.__data__=t}return(a.ownerSVGElement!==i||function(t){var e=t.mark||t.group;return e&&e.items.length>1}(t)&&a.previousSibling!==n)&&e.insertBefore(a,n?n.nextSibling:e.firstChild),a}function Oi(t,e,n){n!==ok[e]&&(null==n?t.style.removeProperty(e):t.style.setProperty(e,n+""),ok[e]=n)}function ki(t,e,n){e!==ok[t]&&(null!=e?n?ik.setAttributeNS(n,t,e):ik.setAttribute(t,e):n?ik.removeAttributeNS(n,t):ik.removeAttribute(t),ok[t]=e)}function Ti(t){hi.call(this,t),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}function Pi(t,e,n,r){lk[r||t]=e}function Ni(t,e,n,r){if(null==t)return"";var i,o,a,s,u,l="";for("bgrect"===n&&!1===e.interactive&&(l+="pointer-events: none; "),"text"===n&&(l+="font-family: "+Qr(t)+"; ",l+="font-size: "+Xr(t)+"px; ",t.fontStyle&&(l+="font-style: "+t.fontStyle+"; "),t.fontVariant&&(l+="font-variant: "+t.fontVariant+"; "),t.fontWeight&&(l+="font-weight: "+t.fontWeight+"; ")),i=0,o=tk.length;i<o;++i)s=QO[a=tk[i]],null==(u=t[a])?"fill"===s&&(l+="fill: none; "):"transparent"!==u||"fill"!==s&&"stroke"!==s?(u.id&&(r.gradient[u.id]=u,u="url(#"+u.id+")"),l+=s+": "+u+"; "):l+=s+": none; ";return l?'style="'+l.trim()+'"':null}function Ii(t,e){return t=String(t||"").toLowerCase(),arguments.length>1?(fk[t]=e,this):fk[t]}function Ai(t,e,n){return t===e||("path"===n?Mi(t,e):t instanceof Date&&e instanceof Date?+t==+e:Object(Jw.z)(t)&&Object(Jw.z)(e)?Math.abs(t-e)<=hk:t&&e&&(Object(Jw.A)(t)||Object(Jw.A)(e))?null!=t&&null!=e&&function(t,e){var n,r,i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!Ai(t[n],e[n],n))return!1;return typeof t==typeof e}(t,e):t==e)}function Mi(t,e){return Ai(zS(t),zS(e))}function Di(t){oe.call(this,null,t)}function Ri(t,e,n){return e(t.bounds.clear(),t,n)}function ji(t){oe.call(this,0,t)}function Li(t){oe.call(this,null,t)}function zi(t){oe.call(this,null,t)}function Fi(t,e){return!(t.x2-1<e.x1||t.x1+1>e.x2||t.y2-1<e.y1||t.y1+1>e.y2)}function Bi(t){for(var e,n=1,r=t.length,i=t[0].bounds;n<r;i=e,++n)if(Fi(i,e=t[n].bounds))return!0}function Vi(t){var e=t.bounds;return e.width()>1&&e.height()>1}function Ui(t){return t.forEach(function(t){t.opacity=1}),t}function Wi(t,e){return t.reflow(e.modified()).modifies("opacity")}function qi(t){oe.call(this,null,t)}function Hi(t,e){for(var n=0,r=t.length;n<r;++n)e.push(t[n])}function Gi(t){return{x1:0,y1:0,x2:t.width||0,y2:t.height||0}}function $i(t){var e=t.bounds.clone();return e.empty()?e.set(0,0,0,0):e.translate(-(t.x||0),-(t.y||0))}function Yi(t,e){return"x1"===e?t.x||0:"y1"===e?t.y||0:"x2"===e?(t.x||0)+(t.width||0):"y2"===e?(t.y||0)+(t.height||0):void 0}function Ki(t,e){return t.bounds[e]}function Xi(t,e,n){var r=Object(Jw.A)(t)?t[e]:t;return null!=r?r:void 0!==n?n:0}function Zi(t){return t<0?Math.ceil(-t):0}function Ji(t,e,n){function r(t,e){return Math.floor(Math.min(t,e))}function i(t,e){return Math.ceil(Math.max(t,e))}var o,a,s,u,l,c,f,p,d,h,m,g,v=function(t){for(var e,n,r=t.items,i=r.length,o=0,a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};o<i;++o)if(e=r[o],n=e.items,e.marktype===IC)switch(e.role){case AC:case jC:break;case LC:Hi(n,a.rowheaders);break;case zC:Hi(n,a.rowfooters);break;case BC:Hi(n,a.colheaders);break;case VC:Hi(n,a.colfooters);break;case FC:a.rowtitle=n[0];break;case UC:a.coltitle=n[0];break;default:Hi(n,a.marks)}return a}(e),y=v.marks,b=n.bounds===JC,_=b?Gi:$i,w=new _n(0,0,0,0),x=Xi(n.align,QC),E=Xi(n.align,tS),C=Xi(n.padding,QC),S=Xi(n.padding,tS),O=n.offset,k=e.columns||n.columns||y.length,T=k<0?1:Math.ceil(y.length/k),P=T*k,N=[],I=[],A=0,M=[],D=[],R=0,j=y.length;for(a=0;a<k;++a)I[a]=0;for(a=0;a<T;++a)D[a]=0;for(a=0;a<j;++a)l=_(y[a]),s=a%k,u=~~(a/k),f=Math.ceil(_(y[a]).x2),p=Math.ceil(_(y[a]).y2),A=Math.max(A,f),R=Math.max(R,p),I[s]=Math.max(I[s],f),D[u]=Math.max(D[u],p),N.push(C+Zi(l.x1)),M.push(S+Zi(l.y1)),t.dirty(y[a]);for(a=0;a<j;++a)a%k==0&&(N[a]=0),a<k&&(M[a]=0);if(x===ZC)for(s=1;s<k;++s){for(g=0,a=s;a<j;a+=k)g<N[a]&&(g=N[a]);for(a=s;a<j;a+=k)N[a]=g+I[s-1]}else if(x===XC){for(g=0,a=0;a<j;++a)a%k&&g<N[a]&&(g=N[a]);for(a=0;a<j;++a)a%k&&(N[a]=g+A)}else for(x=!1,s=1;s<k;++s)for(a=s;a<j;a+=k)N[a]+=I[s-1];if(E===ZC)for(u=1;u<T;++u){for(g=0,o=(a=u*k)+k;a<o;++a)g<M[a]&&(g=M[a]);for(a=u*k;a<o;++a)M[a]=g+D[u-1]}else if(E===XC){for(g=0,a=k;a<j;++a)g<M[a]&&(g=M[a]);for(a=k;a<j;++a)M[a]=g+R}else for(E=!1,u=1;u<T;++u)for(o=(a=u*k)+k;a<o;++a)M[a]+=D[u-1];for(d=0,a=0;a<j;++a)f=(c=y[a]).x||0,c.x=d=N[a]+(a%k?d:0),c.bounds.translate(d-f,0);for(s=0;s<k;++s)for(h=0,a=s;a<j;a+=k)p=(c=y[a]).y||0,c.y=h+=M[a],c.bounds.translate(0,h-p);if(Xi(n.center,QC)&&T>1&&x)for(a=0;a<j;++a)c=y[a],(d=(l=x===XC?A:I[a%k])-_(c).x2)>0&&(c.x+=f=d/2,c.bounds.translate(f,0));if(Xi(n.center,tS)&&1!==k&&E)for(a=0;a<j;++a)c=y[a],(h=(l=E===XC?R:D[~~(a/k)])-_(c).y2)>0&&(c.y+=p=h/2,c.bounds.translate(0,p));for(a=0;a<j;++a)y[a].mark.bounds.clear();for(a=0;a<j;++a)t.dirty(c=y[a]),w.union(c.mark.bounds.union(c.bounds));_=b?Yi:Ki,m=Xi(n.headerBand,tS,null),d=Qi(t,v.rowheaders,y,k,T,-Xi(O,"rowHeader"),r,0,_,"x1",0,k,1,m),m=Xi(n.headerBand,QC,null),h=Qi(t,v.colheaders,y,k,k,-Xi(O,"columnHeader"),r,1,_,"y1",0,1,k,m),m=Xi(n.footerBand,tS,null),Qi(t,v.rowfooters,y,k,T,Xi(O,"rowFooter"),i,0,_,"x2",k-1,k,1,m),m=Xi(n.footerBand,QC,null),Qi(t,v.colfooters,y,k,k,Xi(O,"columnFooter"),i,1,_,"y2",P-k,1,k,m),v.rowtitle&&(g=d-Xi(O,"rowTitle"),m=Xi(n.titleBand,tS,.5),to(t,v.rowtitle,g,0,w,m)),v.coltitle&&(g=h-Xi(O,"columnTitle"),m=Xi(n.titleBand,QC,.5),to(t,v.coltitle,g,1,w,m))}function Qi(t,e,n,r,i,o,a,s,u,l,c,f,p,d){var h,m,g,v,y,b,_,w,x,E=n.length,C=0,S=0;if(!E)return C;for(h=c;h<E;h+=f)n[h]&&(C=a(C,u(n[h],l)));if(!e.length)return C;for(e.length>i&&(t.warn("Grid headers exceed limit: "+i),e=e.slice(0,i)),C+=o,m=0,v=e.length;m<v;++m)t.dirty(e[m]),e[m].mark.bounds.clear();for(h=c,m=0,v=e.length;m<v;++m,h+=f){for(y=(b=e[m]).mark.bounds,g=h;g>=0&&null==(_=n[g]);g-=p);s?(w=null==d?_.x:Math.round(_.bounds.x1+d*_.bounds.width()),x=C):(w=C,x=null==d?_.y:Math.round(_.bounds.y1+d*_.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),x-(b.y||0))),b.x=w,b.y=x,t.dirty(b),S=a(S,y[l])}return S}function to(t,e,n,r,i,o){if(e){t.dirty(e);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),e.bounds.translate(a-(e.x||0),s-(e.y||0)),e.mark.bounds.clear().union(e.bounds),e.x=a,e.y=s,t.dirty(e)}}function eo(t){oe.call(this,null,t)}function no(t,e,n){var r,i,o,a,s,u,l=e.items,c=Math.max(0,e.width||0),f=Math.max(0,e.height||0),p=(new _n).set(0,0,c,f),d=p.clone(),h=p.clone(),m=[];for(s=0,u=l.length;s<u;++s)switch((i=l[s]).role){case AC:(a=function(t){var e=t.items[0].datum.orient;return e===xC||e===EC}(i)?d:h).union(function(t,e,n,r){var i,o,a=e.items[0],s=a.datum,u=s.orient,l=function(t){var e=+t.grid;return[t.ticks?e++:-1,t.labels?e++:-1,e+ +t.domain]}(s),c=a.range,f=a.offset,p=a.position,d=a.minExtent,h=a.maxExtent,m=s.title&&a.items[l[2]].items[0],g=a.titlePadding,v=a.bounds,y=0,b=0;yk.clear().union(v),v.clear(),(i=l[0])>-1&&v.union(a.items[i].bounds);(i=l[1])>-1&&v.union(a.items[i].bounds);switch(u){case wC:y=p||0,b=-f,o=Math.max(d,Math.min(h,-v.y1)),m&&(o=io(m,o,g,0,-1,v)),v.add(0,-o).add(c,0);break;case xC:y=-f,b=p||0,o=Math.max(d,Math.min(h,-v.x1)),m&&(o=io(m,o,g,1,-1,v)),v.add(-o,0).add(0,c);break;case EC:y=n+f,b=p||0,o=Math.max(d,Math.min(h,v.x2)),m&&(o=io(m,o,g,1,1,v)),v.add(0,0).add(o,c);break;case CC:y=p||0,b=r+f,o=Math.max(d,Math.min(h,v.y2)),m&&(o=io(m,o,g,0,1,v)),v.add(0,0).add(c,o);break;default:y=a.x,b=a.y}iO(v.translate(y,b),a),ro(a,"x",y+vk)|ro(a,"y",b+vk)&&(a.bounds=yk,t.dirty(a),a.bounds=v,t.dirty(a));return a.mark.bounds.clear().union(v)}(t,i,c,f));break;case MC:r=i;break;case jC:m.push(i);break;case DC:case RC:case LC:case zC:case FC:case BC:case VC:case UC:d.union(i.bounds),h.union(i.bounds);break;default:p.union(i.bounds)}if(m.length)for(o={leftWidth:function(t,e){return e.reduce(function(e,n){var r=n.items[0];if(function(t,e,n){var r=e.padding-n.x,i=e.padding-n.y;if(e.datum.title){var o=e.items[1].items[0];i+=e.titlePadding+o.fontSize}(r||i)&&(n.x+=r,n.y+=i,n.bounds.translate(r,i),n.mark.bounds.translate(r,i),t.dirty(n))}(t,r,r.items[0].items[0]),r.datum.orient===xC){var i=yk.clear();r.items.forEach(function(t){i.union(t.bounds)}),e=Math.max(e,Math.ceil(i.width()+2*r.padding-1))}return e},0)}(t,m),margin:n.legendMargin||8,left:0,right:0,top:0,bottom:0},s=0,u=m.length;s<u;++s)if(a=function(t,e,n,r,i,o,a){var s,u,l,c=e.items[0],f=c.datum,p=f.orient,d=c.offset,h=c.bounds,m=0,g=0;p===wC||p===CC?(l=i,m=n[p]):p!==xC&&p!==EC||(l=r,g=n[p]);yk.clear().union(h),h.clear(),c.items.forEach(function(t){h.union(t.bounds)}),s=2*c.padding-1,u=2*c.padding-1,h.empty()||(s=Math.ceil(h.width()+s),u=Math.ceil(h.height()+u));f.type===qC&&function(t){var e=t.reduce(function(t,e){return t[e.column]=Math.max(e.bounds.x2-e.x,t[e.column]||0),t},{});t.forEach(function(t){t.width=e[t.column],t.height=t.bounds.y2-t.y})}(c.items[0].items[0].items[0].items);switch(p){case xC:m-=n.leftWidth+d-Math.floor(l.x1),n.left+=u+n.margin;break;case EC:m+=d+Math.ceil(l.x2),n.right+=u+n.margin;break;case wC:g-=u+d-Math.floor(l.y1),n.top+=s+n.margin;break;case CC:g+=d+Math.ceil(l.y2),n.bottom+=s+n.margin;break;case SC:m+=d,g+=d;break;case OC:m+=o-s-d,g+=d;break;case kC:m+=d,g+=a-u-d;break;case TC:m+=o-s-d,g+=a-u-d;break;default:m=c.x,g=c.y}iO(h.set(m,g,m+s,g+u),c),ro(c,"x",m)|ro(c,"width",s)|ro(c,"y",g)|ro(c,"height",u)&&(c.bounds=yk,t.dirty(c),c.bounds=h,t.dirty(c));return c.mark.bounds.clear().union(h)}(t,m[s],o,d,h,c,f),n.autosize&&n.autosize.type===HC){var g=m[s].items[0].datum.orient;g===xC||g===EC?p.add(a.x1,0).add(a.x2,0):g!==wC&&g!==CC||p.add(0,a.y1).add(0,a.y2)}else p.union(a);p.union(d).union(h),r&&p.union(function(t,e,n,r,i){var o,a=e.items[0],s=a.orient,u=a.anchor,l=a.offset,c=a.bounds,f=0,p=s===xC||s===EC?r:n,d=0,h=0;a.frame!==IC?s===xC?(f=i.y2,p=i.y1):s===EC?(f=i.y1,p=i.y2):(f=i.x1,p=i.x2):s===xC&&(f=r,p=0);switch(o=u===PC?f:u===NC?p:(f+p)/2,yk.clear().union(c),s){case wC:d=o,h=i.y1-l;break;case xC:d=i.x1-l,h=o;break;case EC:d=i.x2+l,h=o;break;case CC:d=o,h=i.y2+l;break;default:d=a.x,h=a.y}c.translate(d-a.x,h-a.y),ro(a,"x",d)|ro(a,"y",h)&&(a.bounds=yk,t.dirty(a),a.bounds=c,t.dirty(a));return e.bounds.clear().union(c)}(t,r,c,f,p)),function(t,e,n,r){var i=r.autosize||{},o=i.type,a=t._width,s=t._height,u=t.padding();if(t._autosize<1||!o)return;var l=Math.max(0,e.width||0),c=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,Math.ceil(n.x2-l)),p=Math.max(0,e.height||0),d=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-p));i.contains===WC&&(a-=u.left+u.right,s-=u.top+u.bottom);o===KC?(c=0,d=0,l=a,p=s):o===HC?(l=Math.max(0,a-c-f),p=Math.max(0,s-d-h)):o===GC?(l=Math.max(0,a-c-f),s=p+d+h):o===$C?(a=l+c+f,p=Math.max(0,s-d-h)):o===YC&&(a=l+c+f,s=p+d+h);t._resizeView(a,s,l,p,[c,d],i.resize)}(t,e,p,n)}function ro(t,e,n){return t[e]===n?0:(t[e]=n,1)}function io(t,e,n,r,i,o){var a=t.bounds,s=0,u=0;return t.auto?(e+=n,r?s=(t.x||0)-(t.x=i*e):u=(t.y||0)-(t.y=i*e),a.translate(-s,-u),t.mark.bounds.set(a.x1,a.y1,a.x2,a.y2),r?(o.add(0,a.y1).add(0,a.y2),e+=a.width()):(o.add(a.x1,0).add(a.x2,0),e+=a.height())):o.union(a),e}function oo(){}function ao(t,e){var n=new oo;if(t instanceof oo)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function so(){return{}}function uo(t,e,n){t[e]=n}function lo(){return Mk()}function co(t,e,n){t.set(e,n)}function fo(){}function po(t,e){var n=new fo;if(t instanceof fo)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function ho(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==zk)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=Mk(),r=[],i=zk;return t=null==t?[]:Lk.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=Mk();for(var i,o,a=-1,s=t.length;++a<s;)n.has(o=(i=t[a])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=Lk.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return ho().domain(r).range(t).unknown(i)},e}function mo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function go(){}function vo(t){var e;return t=(t+"").trim().toLowerCase(),(e=Wk.exec(t))?(e=parseInt(e[1],16),new xo(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=qk.exec(t))?yo(parseInt(e[1],16)):(e=Hk.exec(t))?new xo(e[1],e[2],e[3],1):(e=Gk.exec(t))?new xo(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$k.exec(t))?bo(e[1],e[2],e[3],e[4]):(e=Yk.exec(t))?bo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Kk.exec(t))?Co(e[1],e[2]/100,e[3]/100,1):(e=Xk.exec(t))?Co(e[1],e[2]/100,e[3]/100,e[4]):Zk.hasOwnProperty(t)?yo(Zk[t]):"transparent"===t?new xo(NaN,NaN,NaN,0):null}function yo(t){return new xo(t>>16&255,t>>8&255,255&t,1)}function bo(t,e,n,r){return r<=0&&(t=e=n=NaN),new xo(t,e,n,r)}function _o(t){return t instanceof go||(t=vo(t)),t?(t=t.rgb(),new xo(t.r,t.g,t.b,t.opacity)):new xo}function wo(t,e,n,r){return 1===arguments.length?_o(t):new xo(t,e,n,null==r?1:r)}function xo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Eo(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Co(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oo(t,e,n,r)}function So(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Oo)return new Oo(t.h,t.s,t.l,t.opacity);if(t instanceof go||(t=vo(t)),!t)return new Oo;if(t instanceof Oo)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Oo(a,s,u,t.opacity)}(t):new Oo(t,e,n,null==r?1:r)}function Oo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ko(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function To(t){if(t instanceof No)return new No(t.l,t.a,t.b,t.opacity);if(t instanceof Lo){if(isNaN(t.h))return new No(t.l,0,0,t.opacity);var e=t.h*Jk;return new No(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof xo||(t=_o(t));var n,r,i=Do(t.r),o=Do(t.g),a=Do(t.b),s=Io((.2225045*i+.7168786*o+.0606169*a)/eT);return i===o&&o===a?n=r=s:(n=Io((.4360747*i+.3850649*o+.1430804*a)/tT),r=Io((.0139322*i+.0971045*o+.7141733*a)/nT)),new No(116*s-16,500*(n-s),200*(s-r),t.opacity)}function Po(t,e,n,r){return 1===arguments.length?To(t):new No(t,e,n,null==r?1:r)}function No(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Io(t){return t>aT?Math.pow(t,1/3):t/oT+rT}function Ao(t){return t>iT?t*t*t:oT*(t-rT)}function Mo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Do(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ro(t){if(t instanceof Lo)return new Lo(t.h,t.c,t.l,t.opacity);if(t instanceof No||(t=To(t)),0===t.a&&0===t.b)return new Lo(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Qk;return new Lo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function jo(t,e,n,r){return 1===arguments.length?Ro(t):new Lo(t,e,n,null==r?1:r)}function Lo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function zo(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Fo)return new Fo(t.h,t.s,t.l,t.opacity);t instanceof xo||(t=_o(t));var e=t.g/255,n=t.b/255,r=(pT*n+cT*(t.r/255)-fT*e)/(pT+cT-fT),i=n-r,o=(lT*(e-r)-sT*i)/uT,a=Math.sqrt(o*o+i*i)/(lT*r*(1-r)),s=a?Math.atan2(o,i)*Qk-120:NaN;return new Fo(s<0?s+360:s,a,r,t.opacity)}(t):new Fo(t,e,n,null==r?1:r)}function Fo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bo(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Vo(t,e){return function(n){return t+n*e}}function Uo(t,e){var n=e-t;return n?Vo(t,n>180||n<-180?n-360*Math.round(n/360):n):bT(isNaN(t)?e:t)}function Wo(t){return 1==(t=+t)?qo:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):bT(isNaN(e)?n:e)}}function qo(t,e){var n=e-t;return n?Vo(t,n):bT(isNaN(t)?e:t)}function Ho(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=wo(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function Go(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:ST(t,i)},{i:u-2,x:ST(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ST(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ST(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:ST(t,n)},{i:s-2,x:ST(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}function $o(t){return((t=Math.exp(t))+1/t)/2}function Yo(t){return function(e,n){var r=t((e=So(e)).h,(n=So(n)).h),i=qo(e.s,n.s),o=qo(e.l,n.l),a=qo(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Ko(t,e){var n=qo((t=Po(t)).l,(e=Po(e)).l),r=qo(t.a,e.a),i=qo(t.b,e.b),o=qo(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Xo(t){return function(e,n){var r=t((e=jo(e)).h,(n=jo(n)).h),i=qo(e.c,n.c),o=qo(e.l,n.l),a=qo(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Zo(t){return function e(n){function r(e,r){var i=t((e=zo(e)).h,(r=zo(r)).h),o=qo(e.s,r.s),a=qo(e.l,r.l),s=qo(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}function Jo(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Qo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:YT(e)}function ta(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function ea(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=n(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var n=zE(t,e,1,i)-1;return a[n](o[n](e))}}function na(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ra(t,e){function n(){return i=Math.min(s.length,u.length)>2?ea:ta,o=a=null,r}function r(e){return(o||(o=i(s,u,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,l)))(+e)}var i,o,a,s=XT,u=XT,l=NT,c=!1;return r.invert=function(t){return(a||(a=i(u,s,Qo,c?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},r.domain=function(t){return arguments.length?(s=jk.call(t,KT),n()):s.slice()},r.range=function(t){return arguments.length?(u=Lk.call(t),n()):u.slice()},r.rangeRound=function(t){return u=Lk.call(t),l=MT,n()},r.clamp=function(t){return arguments.length?(c=!!t,n()):c},r.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function ia(t){var e=t.domain;return t.ticks=function(t){var n=e();return qE(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return JT(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=ve(s,u,n))>0?r=ve(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=ve(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function oa(){var t=ra(Qo,ST);return t.copy=function(){return na(t,oa())},ia(t)}function aa(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=jk.call(n,KT),t):e.slice()},t.copy=function(){return aa().domain(e)},ia(t)}function sa(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:YT(e)}function ua(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function la(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ca(t){return 10===t?la:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function fa(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function pa(t){return function(e){return-t(-e)}}function da(){function t(){return i=fa(r),o=ca(r),n()[0]<0&&(i=pa(i),o=pa(o)),e}var e=ra(sa,ua).domain([1,10]),n=e.domain,r=10,i=fa(10),o=ca(10);return e.base=function(e){return arguments.length?(r=+e,t()):r},e.domain=function(e){return arguments.length?(n(e),t()):n()},e.ticks=function(t){var e,a=n(),s=a[0],u=a[a.length-1];(e=u<s)&&(p=s,s=u,u=p);var l,c,f,p=i(s),d=i(u),h=null==t?10:+t,m=[];if(!(r%1)&&d-p<h){if(p=Math.round(p)-1,d=Math.round(d)+1,s>0){for(;p<d;++p)for(c=1,l=o(p);c<r;++c)if(!((f=l*c)<s)){if(f>u)break;m.push(f)}}else for(;p<d;++p)for(c=r-1,l=o(p);c>=1;--c)if(!((f=l*c)<s)){if(f>u)break;m.push(f)}}else m=qE(p,d,Math.min(d-p,h)).map(o);return e?m.reverse():m},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=Object(ZT.format)(n)),t===1/0)return n;null==t&&(t=10);var a=Math.max(1,r*t/e.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=a?n(t):""}},e.nice=function(){return n(QT(n(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},e.copy=function(){return na(e,da().base(r))},e}function ha(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function ma(){var t=1,e=ra(function(e,n){return(n=ha(n,t)-(e=ha(e,t)))?function(r){return(ha(r,t)-e)/n}:YT(n)},function(e,n){return n=ha(n,t)-(e=ha(e,t)),function(r){return ha(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return na(e,ma().exponent(t))},ia(e)}function ga(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=be(n,t/o);return e}function e(t){if(!isNaN(t=+t))return r[zE(i,t)]}var n=[],r=[],i=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=e.length;i<o;++i)null==(r=e[i])||isNaN(r=+r)||n.push(r);return n.sort(ME),t()},e.range=function(e){return arguments.length?(r=Lk.call(e),t()):r.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return ga().domain(n).range(r)},e}function va(){function t(t){if(t<=t)return a[zE(o,t,0,i)]}function e(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return t}var n=0,r=1,i=1,o=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e()):[n,r]},t.range=function(t){return arguments.length?(i=(a=Lk.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},t.copy=function(){return va().domain([n,r]).range(a)},ia(t)}function ya(){function t(t){if(t<=t)return n[zE(e,t,0,r)]}var e=[.5],n=[0,1],r=1;return t.domain=function(i){return arguments.length?(e=Lk.call(i),r=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Lk.call(i),r=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},t.copy=function(){return ya().domain(e).range(n)},t}function ba(t){return new Date(t)}function _a(t){return t instanceof Date?+t:+new Date(+t)}function wa(t,e,n,r,i,o,a,s,u){function l(s){return(a(s)<s?h:o(s)<s?m:i(s)<s?g:r(s)<s?v:e(s)<s?n(s)<s?y:b:t(s)<s?_:w)(s)}function c(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,a=DE(function(t){return t[2]}).right(x,o);a===x.length?(i=ye(n/aP,r/aP,e),e=t):a?(i=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(ye(n,r,e),1),e=s)}return null==i?e:e.every(i)}var f=ra(Qo,ST),p=f.invert,d=f.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),_=u("%B"),w=u("%Y"),x=[[a,1,tP],[a,5,5*tP],[a,15,15*tP],[a,30,30*tP],[o,1,eP],[o,5,5*eP],[o,15,15*eP],[o,30,30*eP],[i,1,nP],[i,3,3*nP],[i,6,6*nP],[i,12,12*nP],[r,1,rP],[r,2,2*rP],[n,1,iP],[e,1,oP],[e,3,3*oP],[t,1,aP]];return f.invert=function(t){return new Date(p(t))},f.domain=function(t){return arguments.length?d(jk.call(t,_a)):d().map(ba)},f.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=c(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},f.tickFormat=function(t,e){return null==e?l:u(e)},f.nice=function(t,e){var n=d();return(t=c(t,n[0],n[n.length-1],e))?d(QT(n,t)):f},f.copy=function(){return na(f,wa(t,e,n,r,i,o,a,s,u))},f}function xa(){function t(){var t=i().length,r=a[1]<a[0],f=a[r-0],p=a[1-r],d=Nk(t,u,l);e=(p-f)/(d||1),s&&(e=Math.floor(e)),f+=(p-f-e*(t-u))*c,n=e*(1-u),s&&(f=Math.round(f),n=Math.round(n));var h=BE(t).map(function(t){return f+e*t});return o(r?h.reverse():h)}var e,n,r=ho().unknown(void 0),i=r.domain,o=r.range,a=[0,1],s=!1,u=0,l=0,c=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,t()):s},r.padding=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),u=l,t()):u},r.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},r.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},r.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},r.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var e,r,s,u=+t[0],l=+t[1],c=a[1]<a[0],f=c?o().reverse():o(),p=f.length-1;if(u==u&&l==l&&(l<u&&(s=u,u=l,l=s),!(l<f[0]||u>a[1-c])))return e=Math.max(0,jE(f,u)-1),r=u===l?e:jE(f,l)-1,u-f[e]>n+1e-10&&++e,c&&(s=e,e=p-r,r=p-s),e>r?void 0:i().slice(e,r+1)}},r.invert=function(t){var e=r.invertRange([t,t]);return e?e[0]:e},r.copy=function(){return xa().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(l).align(c)},t()}function Ea(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return Ea(e())},t}function Ca(t){return sP.call(t,function(t){return+t})}function Sa(){function t(t){return e(t)}var e=oa(),n=[];return t.domain=function(r){return arguments.length?(function(t){n=Ca(t),e.domain([n[0],Object(Jw.L)(n)])}(r),t):n.slice()},t.range=function(n){return arguments.length?(e.range(n),t):e.range()},t.rangeRound=function(n){return arguments.length?(e.rangeRound(n),t):e.rangeRound()},t.interpolate=function(n){return arguments.length?(e.interpolate(n),t):e.interpolate()},t.invert=function(t){return e.invert(t)},t.ticks=function(e){var r=n.length,i=~~(r/(e||r));return i<2?t.domain():n.filter(function(t,e){return!(e%i)})},t.tickFormat=function(){return e.tickFormat.apply(e,arguments)},t.copy=function(){return Sa().domain(t.domain()).range(t.range())},t}function Oa(){function t(t){return null==t||t!=t?void 0:n[(zE(e,t)-1)%n.length]}var e=[],n=[];return t.domain=function(n){return arguments.length?(e=Ca(n),t):e.slice()},t.range=function(e){return arguments.length?(n=uP.call(e),t):n.slice()},t.tickFormat=function(){var t=oa().domain([e[0],Object(Jw.L)(e)]);return t.tickFormat.apply(t,arguments)},t.copy=function(){return Oa().domain(t.domain()).range(t.range())},t}function ka(t){function e(){var t=r.domain();i=t[0],o=Object(Jw.L)(t)-i}function n(e){var n=(e-i)/o;return t(a?Math.max(0,Math.min(1,n)):n)}var r=oa(),i=0,o=1,a=!1;return n.clamp=function(t){return arguments.length?(a=!!t,n):a},n.domain=function(t){return arguments.length?(r.domain(t),e(),n):r.domain()},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ka().domain(r.domain()).clamp(a).interpolator(t)},n.ticks=function(t){return r.ticks(t)},n.tickFormat=function(t,e){return r.tickFormat(t,e)},n.nice=function(t){return r.nice(t),e(),n},n}function Ta(t,e){return arguments.length>1?(lP[t]=function(t,e){return function(){var n=e();return n.invertRange||(n.invertRange=n.invert?Ik(n):n.invertExtent?Ak(n):void 0),n.type=t,n}}(t,e),this):lP.hasOwnProperty(t)?lP[t]:void 0}function Pa(t,e){var n=e[0],r=Object(Jw.L)(e)-n;return function(e){return t(n+e*r)}}function Na(t,e,n){var r=n-e;return r&&isFinite(r)?"linear"===t.type||"sequential"===t.type?function(t){return(t-e)/r}:t.copy().domain([e,n]).range([0,1]).interpolate(Ia):Object(Jw.k)(0)}function Ia(t,e){var n=e-t;return function(e){return t+e*n}}function Aa(t,e){var n=fw[function(t){return"interpolate"+t.toLowerCase().split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("")}(t)];return null!=e&&n&&n.gamma?n.gamma(e):n}function Ma(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Da(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ra(t,e){UN[t]=pw["interpolate"+e],VN[t]=pw["scheme"+e]}function ja(t,e){if(arguments.length>1)return UN[t]=e,this;var n=t.split("-");return t=n[0],(n=+n[1]+1)&&VN.hasOwnProperty(t)?VN[t][n-1]:!n&&UN.hasOwnProperty(t)?UN[t]:void 0}function La(t,e,n){return arguments.length>1?(VN[t]=e,UN[t]=n||wT(Object(Jw.L)(e)),this):VN.hasOwnProperty(t)?VN[t]:void 0}function za(t){return WN.hasOwnProperty(t)&&WN[t]}function Fa(t){return qN.hasOwnProperty(t)&&qN[t]}function Ba(t,e){var n;return Object(Jw.A)(e)&&(n=e.step,e=e.interval),Object(Jw.C)(e)&&(e="time"===t.type?za(e):"utc"===t.type?Fa(e):Object(Jw.m)("Only time and utc scales accept interval strings."),n&&(e=e.every(n))),e}function Va(t,e,n){var r=t.range(),i=r[0],o=Object(Jw.L)(r);if(i>o&&(r=o,o=i,i=r),e=e.filter(function(e){return!((e=t(e))<i||e>o)}),n>0&&e.length>1){for(var a=[e[0],Object(Jw.L)(e)];e.length>n&&e.length>=3;)e=e.filter(function(t,e){return!(e%2)});e.length<3&&(e=a)}return e}function Ua(t,e){return t.ticks?t.ticks(e):t.domain()}function Wa(t,e,n){var r=t.tickFormat?t.tickFormat(e,n):n?Object(ZT.format)(n):String;return t.type===bk?function(t,e){return function(n){return t(n)?e(n):""}}(r,function(t){var e=Object(ZT.formatSpecifier)(t||",");if(null==e.precision){switch(e.precision=12,e.type){case"%":e.precision-=2;break;case"e":e.precision-=1}return function(t,e){return function(n){var r,i,o=t(n),a=o.indexOf(e);if(a<0)return o;for(r=function(t,e){var n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if((n=t.charCodeAt(r))>=48&&n<=57)return r+1}(o,a),i=r<o.length?o.slice(r):"";--r>a;)if("0"!==o[r]){++r;break}return o.slice(0,r)+i}}(Object(ZT.format)(e),Object(ZT.format)(".1f")(1)[1])}return Object(ZT.format)(e)}(n)):r}function qa(t){oe.call(this,null,t)}function Ha(t){oe.call(this,null,t)}function Ga(t){return t.exit}function $a(t){oe.call(this,null,t)}function Ya(t,e,n){return n===HN&&$N[t.type]?function(t){return function(e,n,r){var i=r[n+1]||r.max||1/0,o=Ka(e,t),a=Ka(i,t);return o&&a?o+""+a:a?"< "+a:" "+o}}(e):n===GN?function(t){return function(e,n){return n?t(e):null}}(e):function(t){return function(e){return t(e)}}(e)}function Ka(t,e){return isFinite(t)?e(t):null}function Xa(t){oe.call(this,[],t)}function Za(t){oe.call(this,{},t)}function Ja(t,e,n,r){return"M"+t+","+e+"L"+n+","+r}function Qa(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o)/2;return"M"+t+","+e+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r}function ts(t,e,n,r){var i=n-t,o=r-e,a=.2*(i+o),s=.2*(o-i);return"M"+t+","+e+"C"+(t+a)+","+(e+s)+" "+(n+s)+","+(r-a)+" "+n+","+r}function es(t){oe.call(this,null,t)}function ns(t){oe.call(this,null,t),this.modified(!0)}function rs(t,e,n){var r=function(t,e,n){return e?(t.domain(is(t.type,e,n)),e.length):-1}(t,e.domainRaw,n);if(r>-1)return r;var i,o,a=e.domain,s=t.type,u=e.zero||void 0===e.zero&&XN[s];return a?(ZN[s]&&e.padding&&a[0]!==Object(Jw.L)(a)&&(a=function(t,e,n,r,i){var o=Math.abs(Object(Jw.L)(n)-n[0]),a=o/(o-2*r),s=t===bk?Object(Jw.Z)(e,null,a):t===wk?Object(Jw._0)(e,null,a,.5):t===_k?Object(Jw._0)(e,null,a,i):Object(Jw.Y)(e,null,a);return e=e.slice(),e[0]=s[0],e[e.length-1]=s[1],e}(s,a,e.range,e.padding,e.exponent)),(u||null!=e.domainMin||null!=e.domainMax||null!=e.domainMid)&&(i=(a=a.slice()).length-1||1,u&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=e.domainMin&&(a[0]=e.domainMin),null!=e.domainMax&&(a[i]=e.domainMax),null!=e.domainMid&&(((o=e.domainMid)<a[0]||o>a[i])&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(i,0,o))),t.domain(is(s,a,n)),s===Ck&&t.unknown(e.domainImplicit?zk:void 0),e.nice&&t.nice&&t.nice(!0!==e.nice&&Ba(t,e.nice)||null),a.length):0}function is(t,e,n){if(t===bk){Math.abs(e.reduce(function(t,e){return t+(e<0?-1:e>0?1:0)},0))!==e.length&&n.warn("Log scale domain includes zero: "+Object(Jw.O)(e))}return e}function os(t,e,n){var r=e.round||!1,i=e.range;if(null!=e.rangeStep)i=function(t,e,n){t!==xk&&t!==Ek&&Object(Jw.m)("Only band and point scales support rangeStep.");return[0,e.rangeStep*Nk(n,t===Ek?1:(null!=e.paddingInner?e.paddingInner:e.padding)||0,(null!=e.paddingOuter?e.paddingOuter:e.padding)||0)]}(t.type,e,n);else if(e.scheme){if(i=function(t,e,n){var r,i=e.scheme.toLowerCase(),o=ja(i),a=e.schemeExtent;o||Object(Jw.m)("Unrecognized scheme name: "+e.scheme);return n=t===kk?n+1:t===Tk?n-1:t===Sk||t===Ok?+e.schemeCount||KN:n,t===Pk?as(o,a,e.reverse):!a&&(r=ja(i+"-"+n))?r:Object(Jw.y)(o)?function(t,e){for(var n=new Array(e),r=e+1,i=0;i<e;)n[i]=t(++i/r);return n}(as(o,a),n):t===Ck?o:o.slice(0,n)}(t.type,e,n),Object(Jw.y)(i))return t.interpolator(i)}else if(i&&t.type===Pk)return t.interpolator(wT(ss(i,e.reverse)));i&&e.interpolate&&t.interpolate?t.interpolate(Aa(e.interpolate,e.interpolateGamma)):Object(Jw.y)(t.round)?t.round(r):Object(Jw.y)(t.rangeRound)&&t.interpolate(r?MT:NT),i&&t.range(ss(i,e.reverse))}function as(t,e,n){return Object(Jw.y)(t)&&(e||n)?Pa(t,ss(e||[0,1],n)):t}function ss(t,e){return e?t.slice().reverse():t}function us(t){oe.call(this,null,t)}function ls(t){oe.call(this,null,t)}function cs(t,e,n,r,i){for(var o,a=(e-t.sum)/2,s=t.length,u=0;u<s;++u)(o=t[u])[r]=a,o[i]=a+=Math.abs(n(o))}function fs(t,e,n,r,i){for(var o,a=1/t.sum,s=0,u=t.length,l=0,c=0;l<u;++l)(o=t[l])[r]=s,o[i]=s=a*(c+=Math.abs(n(o)))}function ps(t,e,n,r,i){for(var o,a,s=0,u=0,l=t.length,c=0;c<l;++c)(o=n(a=t[c]))<0?(a[r]=u,a[i]=u+=o):(a[r]=s,a[i]=s+=o)}function ds(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],l=u[0],c=u[1],f=t[s],p=f[0],d=f[1];if(function(t,e,n){var r;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[r=+(t[0]===e[0])],n[r],e[r])}(u,f,e))return 0;c>r!=d>r&&n<(p-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function hs(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+a*r]),s>=n&&(s>=o&&(u-=t.data[s-o+a*r]),e.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function ms(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[a+s*r]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function gs(t){return t[0]}function vs(t){return t[1]}function ys(){return 1}function bs(t){oe.call(this,null,t)}function _s(t){oe.call(this,null,t)}function ws(){this.reset()}function xs(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}function Es(t){return t>1?0:t<-1?HI:Math.acos(t)}function Cs(t){return t>1?GI:t<-1?-GI:Math.asin(t)}function Ss(){}function Os(t,e){t&&cA.hasOwnProperty(t.type)&&cA[t.type](t,e)}function ks(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ts(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)ks(t[n],e,1);e.polygonEnd()}function Ps(){hA.point=Is}function Ns(){As(pI,dI)}function Is(t,e){hA.point=As,pI=t,dI=e,hI=t*=XI,mI=tA(e=(e*=XI)/2+$I),gI=oA(e)}function As(t,e){e=(e*=XI)/2+$I;var n=(t*=XI)-hI,r=n>=0?1:-1,i=r*n,o=tA(e),a=oA(e),s=gI*a,u=mI*o+s*tA(i),l=s*r*oA(i);pA.add(QI(l,u)),hI=t,mI=o,gI=a}function Ms(t){return[QI(t[1],t[0]),Cs(t[2])]}function Ds(t){var e=t[0],n=t[1],r=tA(n);return[r*tA(e),r*oA(e),oA(n)]}function Rs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function js(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ls(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function zs(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fs(t){var e=sA(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Bs(t,e){SI.push(OI=[vI=t,bI=t]),e<yI&&(yI=e),e>_I&&(_I=e)}function Vs(t,e){var n=Ds([t*XI,e*XI]);if(CI){var r=js(CI,n),i=js([r[1],-r[0],0],r);Fs(i),i=Ms(i);var o,a=t-wI,s=a>0?1:-1,u=i[0]*KI*s,l=ZI(a)>180;l^(s*wI<u&&u<s*t)?(o=i[1]*KI)>_I&&(_I=o):(u=(u+360)%360-180,l^(s*wI<u&&u<s*t)?(o=-i[1]*KI)<yI&&(yI=o):(e<yI&&(yI=e),e>_I&&(_I=e))),l?t<wI?$s(vI,t)>$s(vI,bI)&&(bI=t):$s(t,bI)>$s(vI,bI)&&(vI=t):bI>=vI?(t<vI&&(vI=t),t>bI&&(bI=t)):t>wI?$s(vI,t)>$s(vI,bI)&&(bI=t):$s(t,bI)>$s(vI,bI)&&(vI=t)}else SI.push(OI=[vI=t,bI=t]);e<yI&&(yI=e),e>_I&&(_I=e),CI=n,wI=t}function Us(){gA.point=Vs}function Ws(){OI[0]=vI,OI[1]=bI,gA.point=Bs,CI=null}function qs(t,e){if(CI){var n=t-wI;mA.add(ZI(n)>180?n+(n>0?360:-360):n)}else xI=t,EI=e;hA.point(t,e),Vs(t,e)}function Hs(){hA.lineStart()}function Gs(){qs(xI,EI),hA.lineEnd(),ZI(mA)>qI&&(vI=-(bI=180)),OI[0]=vI,OI[1]=bI,CI=null}function $s(t,e){return(e-=t)<0?e+360:e}function Ys(t,e){return t[0]-e[0]}function Ks(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Xs(t,e){t*=XI;var n=tA(e*=XI);Zs(n*tA(t),n*oA(t),oA(e))}function Zs(t,e,n){PI+=(t-PI)/++kI,NI+=(e-NI)/kI,II+=(n-II)/kI}function Js(){vA.point=Qs}function Qs(t,e){t*=XI;var n=tA(e*=XI);BI=n*tA(t),VI=n*oA(t),UI=oA(e),vA.point=tu,Zs(BI,VI,UI)}function tu(t,e){t*=XI;var n=tA(e*=XI),r=n*tA(t),i=n*oA(t),o=oA(e),a=QI(sA((a=VI*o-UI*i)*a+(a=UI*r-BI*o)*a+(a=BI*i-VI*r)*a),BI*r+VI*i+UI*o);TI+=a,AI+=a*(BI+(BI=r)),MI+=a*(VI+(VI=i)),DI+=a*(UI+(UI=o)),Zs(BI,VI,UI)}function eu(){vA.point=Xs}function nu(){vA.point=iu}function ru(){ou(zI,FI),vA.point=Xs}function iu(t,e){zI=t,FI=e,t*=XI,e*=XI,vA.point=ou;var n=tA(e);BI=n*tA(t),VI=n*oA(t),UI=oA(e),Zs(BI,VI,UI)}function ou(t,e){t*=XI;var n=tA(e*=XI),r=n*tA(t),i=n*oA(t),o=oA(e),a=VI*o-UI*i,s=UI*r-BI*o,u=BI*i-VI*r,l=sA(a*a+s*s+u*u),c=Cs(l),f=l&&-c/l;RI+=f*a,jI+=f*s,LI+=f*u,TI+=c,AI+=c*(BI+(BI=r)),MI+=c*(VI+(VI=i)),DI+=c*(UI+(UI=o)),Zs(BI,VI,UI)}function au(t,e){return[ZI(t)>HI?t+Math.round(-t/YI)*YI:t,e]}function su(t,e,n){return(t%=YI)?e||n?yA(lu(t),cu(e,n)):lu(t):e||n?cu(e,n):au}function uu(t){return function(e,n){return e+=t,[e>HI?e-YI:e<-HI?e+YI:e,n]}}function lu(t){var e=uu(t);return e.invert=uu(-t),e}function cu(t,e){function n(t,e){var n=tA(e),s=tA(t)*n,u=oA(t)*n,l=oA(e),c=l*r+s*i;return[QI(u*o-c*a,s*r-l*i),Cs(c*o+u*a)]}var r=tA(t),i=oA(t),o=tA(e),a=oA(e);return n.invert=function(t,e){var n=tA(e),s=tA(t)*n,u=oA(t)*n,l=oA(e),c=l*o-u*a;return[QI(u*o+l*a,s*r+c*i),Cs(c*r-s*i)]},n}function fu(t,e,n,r,i,o){if(n){var a=tA(e),s=oA(e),u=r*n;null==i?(i=e+r*YI,o=e-u/2):(i=pu(a,i),o=pu(a,o),(r>0?i<o:i>o)&&(i+=r*YI));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Ms([a,-s*tA(c),-s*oA(c)]),t.point(l[0],l[1])}}function pu(t,e){(e=Ds(e))[0]-=t,Fs(e);var n=Es(-e[1]);return((-e[2]<0?-n:n)+YI-qI)%YI}function du(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function hu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function mu(t){return t.length>1}function gu(t,e){return((t=t.x)[0]<0?t[1]-GI-qI:GI-t[1])-((e=e.x)[0]<0?e[1]-GI-qI:GI-e[1])}function vu(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return ZI(r[0]-t)<qI?i>0?0:3:ZI(r[0]-n)<qI?i>0?2:1:ZI(r[1]-e)<qI?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&w.point(t,e)}function l(o,a){var s=i(o,a);if(f&&p.push([o,a]),b)d=o,h=a,m=s,b=!1,s&&(w.lineStart(),w.point(o,a));else if(s&&y)w.point(o,a);else{var u=[g=Math.max(zA,Math.min(LA,g)),v=Math.max(zA,Math.min(LA,v))],l=[o=Math.max(zA,Math.min(LA,o)),a=Math.max(zA,Math.min(LA,a))];jA(u,l,t,e,n,r)?(y||(w.lineStart(),w.point(u[0],u[1])),w.point(l[0],l[1]),s||w.lineEnd(),_=!1):s&&(w.lineStart(),w.point(o,a),_=!1)}g=o,v=a,y=s}var c,f,p,d,h,m,g,v,y,b,_,w=a,x=TA(),E={point:u,lineStart:function(){E.point=l,f&&f.push(p=[]),b=!0,y=!1,g=v=NaN},lineEnd:function(){c&&(l(d,h),m&&y&&x.rejoin(),c.push(x.result())),E.point=u,y&&w.lineEnd()},polygonStart:function(){w=x,c=[],f=[],_=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=f.length;n<i;++n)for(var o,a,s=f[n],u=1,l=s.length,c=s[0],p=c[0],d=c[1];u<l;++u)o=p,a=d,p=(c=s[u])[0],d=c[1],a<=r?d>r&&(p-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(p-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=_&&e,i=(c=Ee(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&NA(c,s,e,o,a),a.polygonEnd()),w=a,c=f=p=null}};return E}}function yu(t,e,n){var r=BE(t,e-qI,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function bu(t,e,n){var r=BE(t,e-qI,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function _u(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return BE(eA(o/g)*g,i,g).map(p).concat(BE(eA(l/v)*v,u,v).map(d)).concat(BE(eA(r/h)*h,n,h).filter(function(t){return ZI(t%g)>qI}).map(c)).concat(BE(eA(s/m)*m,a,m).filter(function(t){return ZI(t%v)>qI}).map(f))}var n,r,i,o,a,s,u,l,c,f,p,d,h=10,m=h,g=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(u).slice(1),p(i).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.extentMinor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(g=+e[0],v=+e[1],t):[g,v]},t.stepMinor=function(e){return arguments.length?(h=+e[0],m=+e[1],t):[h,m]},t.precision=function(e){return arguments.length?(y=+e,c=yu(s,a,90),f=bu(r,n,y),p=yu(l,u,90),d=bu(o,i,y),t):y},t.extentMajor([[-180,-90+qI],[180,90-qI]]).extentMinor([[-180,-80-qI],[180,80+qI]])}function wu(){UA.point=xu}function xu(t,e){UA.point=Eu,bA=wA=t,_A=xA=e}function Eu(t,e){VA.add(xA*t-wA*e),wA=t,xA=e}function Cu(){Eu(bA,_A)}function Su(t,e){KA+=t,XA+=e,++ZA}function Ou(){iM.point=ku}function ku(t,e){iM.point=Tu,Su(SA=t,OA=e)}function Tu(t,e){var n=t-SA,r=e-OA,i=sA(n*n+r*r);JA+=i*(SA+t)/2,QA+=i*(OA+e)/2,tM+=i,Su(SA=t,OA=e)}function Pu(){iM.point=Su}function Nu(){iM.point=Au}function Iu(){Mu(EA,CA)}function Au(t,e){iM.point=Mu,Su(EA=SA=t,CA=OA=e)}function Mu(t,e){var n=t-SA,r=e-OA,i=sA(n*n+r*r);JA+=i*(SA+t)/2,QA+=i*(OA+e)/2,tM+=i,eM+=(i=OA*t-SA*e)*(SA+t),nM+=i*(OA+e),rM+=3*i,Su(SA=t,OA=e)}function Du(t){this._context=t}function Ru(t,e){pM.point=ju,sM=lM=t,uM=cM=e}function ju(t,e){fM.add(sA((lM-=t)*lM+(cM-=e)*cM)),lM=t,cM=e}function Lu(){this._string=[]}function zu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Fu(t){return function(e){var n=new Bu;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Bu(){}function Vu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),fA(n,t.stream(YA)),e(YA.result()),null!=r&&t.clipExtent(r),t}function Uu(t,e,n){return Vu(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function Wu(t,e,n){return Uu(t,[[0,0],e],n)}function qu(t,e,n){return Vu(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function Hu(t,e,n){return Vu(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}function Gu(t,e,n,r){function i(t,r){return[s*t-u*r+e,n-u*t-s*r]}var o=tA(r),a=oA(r),s=o*t,u=a*t,l=o/t,c=a/t,f=(a*n-o*e)/t,p=(a*e+o*n)/t;return i.invert=function(t,e){return[l*t-c*e+f,p-c*t-l*e]},i}function $u(t){return Yu(function(){return t})()}function Yu(t){function e(t){return f(t[0]*XI,t[1]*XI)}function n(){var t=Gu(h,0,0,x).apply(null,i(v,y)),e=(x?Gu:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(h,m-t[0],g-t[1],x);return o=su(b,_,w),c=yA(i,e),f=yA(o,c),l=vM(c,k),r()}function r(){return p=d=null,e}var i,o,a,s,u,l,c,f,p,d,h=150,m=480,g=250,v=0,y=0,b=0,_=0,w=0,x=0,E=null,C=DA,S=null,O=FA,k=.5;return e.stream=function(t){return p&&d===t?p:p=yM(function(t){return Fu({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(o)(C(l(O(d=t)))))},e.preclip=function(t){return arguments.length?(C=t,E=void 0,r()):C},e.postclip=function(t){return arguments.length?(O=t,S=a=s=u=null,r()):O},e.clipAngle=function(t){return arguments.length?(C=+t?RA(E=t*XI):(E=null,DA),r()):E*KI},e.clipExtent=function(t){return arguments.length?(O=null==t?(S=a=s=u=null,FA):vu(S=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),r()):null==S?null:[[S,a],[s,u]]},e.scale=function(t){return arguments.length?(h=+t,n()):h},e.translate=function(t){return arguments.length?(m=+t[0],g=+t[1],n()):[m,g]},e.center=function(t){return arguments.length?(v=t[0]%360*XI,y=t[1]%360*XI,n()):[v*KI,y*KI]},e.rotate=function(t){return arguments.length?(b=t[0]%360*XI,_=t[1]%360*XI,w=t.length>2?t[2]%360*XI:0,n()):[b*KI,_*KI,w*KI]},e.angle=function(t){return arguments.length?(x=t%360*XI,n()):x*KI},e.precision=function(t){return arguments.length?(l=vM(c,k=t*t),r()):sA(k)},e.fitExtent=function(t,n){return Uu(e,t,n)},e.fitSize=function(t,n){return Wu(e,t,n)},e.fitWidth=function(t,n){return qu(e,t,n)},e.fitHeight=function(t,n){return Hu(e,t,n)},function(){return i=t.apply(this,arguments),e.invert=i.invert&&function(t){return(t=f.invert(t[0],t[1]))&&[t[0]*KI,t[1]*KI]},n()}}function Ku(t){var e=0,n=HI/3,r=Yu(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*XI,n=t[1]*XI):[e*KI,n*KI]},i}function Xu(t,e){function n(t,e){var n=sA(o-2*i*oA(e))/i;return[n*oA(t*=i),a-n*tA(t)]}var r=oA(t),i=(r+oA(e))/2;if(ZI(i)<qI)return function(t){function e(t,e){return[t*n,oA(e)/n]}var n=tA(t);return e.invert=function(t,e){return[t/n,Cs(e*n)]},e}(t);var o=1+r*(2*i-r),a=sA(o)/i;return n.invert=function(t,e){var n=a-e;return[QI(t,ZI(n))/i*aA(n),Cs((o-(t*t+n*n)*i*i)/(2*i))]},n}function Zu(t){return function(e,n){var r=tA(e),i=tA(n),o=t(r*i);return[o*i*oA(e),o*oA(n)]}}function Ju(t){return function(e,n){var r=sA(e*e+n*n),i=t(r),o=oA(i),a=tA(i);return[QI(e*o,r*a),Cs(r&&n*o/r)]}}function Qu(t,e){return[t,rA(uA((GI+e)/2))]}function tl(t){function e(){var e=HI*s(),a=o(kA(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===Qu?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,r),i]]:[[c,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=$u(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}function el(t){return uA((GI+t)/2)}function nl(t,e){function n(t,e){o>0?e<-GI+qI&&(e=-GI+qI):e>GI-qI&&(e=GI-qI);var n=o/iA(el(e),i);return[n*oA(i*t),o-n*tA(i*t)]}var r=tA(t),i=t===e?oA(t):rA(r/tA(e))/rA(el(e)/el(t)),o=r*iA(el(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=aA(i)*sA(t*t+n*n);return[QI(t,ZI(n))/i*aA(n),2*JI(iA(o/r,1/i))-GI]},n):Qu}function rl(t,e){return[t,e]}function il(t,e){function n(t,e){var n=o-e,r=i*t;return[n*oA(r),o-n*tA(r)]}var r=tA(t),i=t===e?oA(t):(r-tA(e))/(e-t),o=r/i+t;return ZI(i)<qI?rl:(n.invert=function(t,e){var n=o-e;return[QI(t,ZI(n))/i*aA(n),o-aA(i)*sA(t*t+n*n)]},n)}function ol(t,e){var n=Cs(kM*oA(e)),r=n*n,i=r*r*r;return[t*tA(n)/(kM*(EM+3*CM*r+i*(7*SM+9*OM*r))),n*(EM+CM*r+i*(SM+OM*r))]}function al(t,e){var n=tA(e),r=tA(t)*n;return[n*oA(t)/r,oA(e)/r]}function sl(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?FA:Fu({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}function ul(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function ll(t,e){return[tA(e)*oA(t),oA(e)]}function cl(t,e){var n=tA(e),r=1+tA(t)*n;return[n*oA(t)/r,oA(e)/r]}function fl(t,e){return[rA(uA((GI+e)/2)),-t]}function pl(t,e){if(!t||"string"!=typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(NM[t]=function(t,e){return function n(){var r=e();return r.type=t,r.path=hM().projection(r),r.copy=r.copy||function(){var t=n();return PM.forEach(function(e){r.hasOwnProperty(e)&&t[e](r[e]())}),t.path.pointRadius(r.path.pointRadius()),t},r}}(t,e),this):NM.hasOwnProperty(t)?NM[t]:null}function dl(t){return t&&t.path||TM}function hl(t){oe.call(this,null,t)}function ml(t){oe.call(this,null,t)}function gl(t){oe.call(this,null,t)}function vl(t){oe.call(this,[],t),this.generator=_u()}function yl(t){oe.call(this,null,t),this.modified(!0)}function bl(t,e){var n=function(t){return 1===(t=Object(Jw.i)(t)).length?t[0]:{type:cI,features:t.reduce(function(t,e){return e&&e.type===cI?t.push.apply(t,e.features):Object(Jw.v)(e)?t.push.apply(t,e):t.push(e),t},[])}}(e.fit);e.extent?t.fitExtent(e.extent,n):e.size&&t.fitSize(e.size,n)}function _l(t,e,n){Object(Jw.y)(t[e])&&t[e](n)}function wl(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,f,p,d=t._root,h={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=h,t;for(;d.length;)if((l=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[f=c<<1|l]))return i[f]=h,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return h.next=d,i?i[f]=h:t._root=h,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((f=c<<1|l)==(p=(u>=a)<<1|s>=o));return i[p]=d,i[f]=h,t}function xl(t){return t[0]}function El(t){return t[1]}function Cl(t,e,n){var r=new Sl(null==e?xl:e,null==n?El:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Sl(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ol(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function kl(t){return t.x+t.vx}function Tl(t){return t.y+t.vy}function Pl(t){return t.index}function Nl(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Il(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Al(r)}function Al(t){this._=t}function Ml(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=jM,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Dl(){return HM||(YM(Rl),HM=$M.now()+GM)}function Rl(){HM=0}function jl(){this._call=this._time=this._next=null}function Ll(t,e,n){var r=new jl;return r.restart(t,e,n),r}function zl(){HM=(qM=$M.now())+GM,BM=VM=0;try{!function(){Dl(),++BM;for(var t,e=LM;e;)(t=HM-e._time)>=0&&e._call.call(null,t),e=e._next;--BM}()}finally{BM=0,function(){var t,e,n=LM,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:LM=e);zM=t,Bl(r)}(),HM=0}}function Fl(){var t=$M.now(),e=t-qM;e>WM&&(GM-=e,qM=t)}function Bl(t){if(!BM){VM&&(VM=clearTimeout(VM));t-HM>24?(t<1/0&&(VM=setTimeout(zl,t-$M.now()-GM)),UM&&(UM=clearInterval(UM))):(UM||(qM=$M.now(),UM=setInterval(Fl,WM)),BM=1,YM(zl))}}function Vl(t){return t.x}function Ul(t){return t.y}function Wl(t){oe.call(this,null,t)}function ql(t,e,n,r){var i,o,a,s,u=Object(Jw.i)(e.forces);for(i=0,o=tD.length;i<o;++i)(a=tD[i])!==QM&&e.modified(a)&&t[a](e[a]);for(i=0,o=u.length;i<o;++i)s=QM+i,(a=n||e.modified(QM,i)?function(t){var e,n;JM.hasOwnProperty(t.force)||Object(Jw.m)("Unrecognized force: "+t.force);e=JM[t.force]();for(n in t)Object(Jw.y)(e[n])&&function(t,e,n){t(Object(Jw.y)(e)?function(t){return e(t,n)}:e)}(e[n],t[n],t);return e}(u[i]):r&&function(t,e){var n,r;for(n in t)if(Object(Jw.y)(r=t[n])&&e.modified(Object(Jw.g)(r)))return 1;return 0}(u[i],r)?t.force(s):null)&&t.force(s,a);for(o=t.numForces||0;i<o;++i)t.force(QM+i,null);return t.numForces=u.length,t}function Hl(t,e){return t.parent===e.parent?1:2}function Gl(t,e){return t+e.x}function $l(t,e){return Math.max(t,e.y)}function Yl(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Kl(t,e){var n,r,i,o,a,s=new Ql(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Xl);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new Ql(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Jl)}function Xl(t){return t.children}function Zl(t){t.data=t.data.data}function Jl(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ql(t){this.data=t,this.depth=this.height=0,this.parent=null}function tc(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function ec(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function nc(t,e){for(var n=0;n<e.length;++n)if(!ec(t,e[n]))return!1;return!0}function rc(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function ic(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,p=r-a,d=r-l,h=i-s,m=i-c,g=u-o,v=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+u*u,_=y-l*l-c*c+f*f,w=d*h-p*m,x=(h*_-m*b)/(2*w)-r,E=(m*g-h*v)/w,C=(d*b-p*_)/(2*w)-i,S=(p*v-d*g)/w,O=E*E+S*S-1,k=2*(o+x*E+C*S),T=x*x+C*C-o*o,P=-(O?(k+Math.sqrt(k*k-4*O*T))/(2*O):T/k);return{x:r+x+E*P,y:i+C+S*P,r:P}}function oc(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,l=s*s+u*u;l?(i=e.r+n.r,a=t.r+n.r,(i*=i)>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function ac(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function sc(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function uc(t){this._=t,this.next=null,this.previous=null}function lc(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,l,c,f;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;oc(n,e,r=t[2]),e=new uc(e),n=new uc(n),r=new uc(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){oc(e._,n._,r=t[s]),r=new uc(r),u=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(ac(u._,r._)){e.next=n=u,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(ac(l._,r._)){(e=l).next=n,n.previous=e,--s;continue t}f+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=sc(e);(r=r.next)!==n;)(a=sc(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=aD(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function cc(t){if("function"!=typeof t)throw new Error;return t}function fc(){return 0}function pc(t){return Math.sqrt(t.value)}function dc(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function hc(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=lc(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function mc(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function gc(t){return t.id}function vc(t){return t.parentId}function yc(t,e){return t.parent===e.parent?1:2}function bc(t){var e=t.children;return e?e[0]:t.t}function _c(t){var e=t.children;return e?e[e.length-1]:t.t}function wc(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function xc(t,e,n){return t.a.parent===e.parent?t.a:n}function Ec(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Cc(t,e,n,r,i,o){for(var a,s,u,l,c,f,p,d,h,m,g,v=[],y=e.children,b=0,_=0,w=y.length,x=e.value;b<w;){u=i-n,l=o-r;do{c=y[_++].value}while(!c&&_<w);for(f=p=c,g=c*c*(m=Math.max(l/u,u/l)/(x*t)),h=Math.max(p/g,g/f);_<w;++_){if(c+=s=y[_].value,s<f&&(f=s),s>p&&(p=s),g=c*c*m,(d=Math.max(p/g,g/f))>h){c-=s;break}h=d}v.push(a={value:c,dice:u<l,children:y.slice(b,_)}),a.dice?lD(a,n,r,i,x?r+=l*c/x:o):hD(a,n,r,x?n+=u*c/x:i,o),x-=c,b=_}return v}function Sc(t){oe.call(this,null,t)}function Oc(t){return t.values}function kc(t){oe.call(this,null,t)}function Tc(t,e){return t.parent===e.parent?1:2}function Pc(t){kc.call(this,t)}function Nc(t){kc.call(this,t)}function Ic(t){oe.call(this,null,t)}function Ac(t){kc.call(this,t)}function Mc(t){oe.call(this,[],t)}function Dc(t){kc.call(this,t)}function Rc(t){return t[0]}function jc(t){return t[1]}function Lc(){this._=null}function zc(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Fc(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Bc(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Vc(t){for(;t.L;)t=t.L;return t}function Uc(t,e,n,r){var i=[null,null],o=MD.push(i)-1;return i.left=t,i.right=e,n&&qc(i,t,e,n),r&&qc(i,e,t,r),ID[t.index].halfedges.push(o),ID[e.index].halfedges.push(o),i}function Wc(t,e,n){var r=[e,n];return r.left=t,r}function qc(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Hc(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,f=1,p=s[0]-u,d=s[1]-l;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<f&&(f=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(t[0]=[u+c*p,l+c*d]),f<1&&(t[1]=[u+f*p,l+f*d]),!0)}}}}}function Gc(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,f=l[0],p=l[1],d=c[0],h=c[1],m=(f+d)/2,g=(p+h)/2;if(h===p){if(m<e||m>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(a=(f-d)/(h-p),s=g-a*m,a<-1||a>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(p<h){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function $c(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Yc(t,e){return e[+(e.left!==t.site)]}function Kc(t,e){return e[+(e.left===t.site)]}function Xc(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,f=o[1]-s,p=2*(u*f-l*c);if(!(p>=-zD)){var d=u*u+l*l,h=c*c+f*f,m=(f*d-l*h)/p,g=(u*h-c*d)/p,v=RD.pop()||new function(){zc(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=v;for(var y=null,b=AD._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}AD.insert(y,v),y||(PD=v)}}}}function Zc(t){var e=t.circle;e&&(e.P||(PD=e.N),AD.remove(e),RD.push(e),zc(e),t.circle=null)}function Jc(t){var e=jD.pop()||new function(){zc(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Qc(t){Zc(t),ND.remove(t),jD.push(t),zc(t)}function tf(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Qc(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<LD&&Math.abs(r-u.circle.cy)<LD;)o=u.P,s.unshift(u),Qc(u),u=o;s.unshift(u),Zc(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<LD&&Math.abs(r-l.circle.cy)<LD;)a=l.N,s.push(l),Qc(l),l=a;s.push(l),Zc(l);var c,f=s.length;for(c=1;c<f;++c)qc((l=s[c]).edge,(u=s[c-1]).site,l.site,i);(l=s[f-1]).edge=Uc((u=s[0]).site,l.site,null,i),Xc(u),Xc(l)}function ef(t){for(var e,n,r,i,o=t[0],a=t[1],s=ND._;s;)if((r=nf(s,a)-o)>LD)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return nf(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>LD)){r>-LD?(e=s.P,n=s):i>-LD?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ID[t.index]={site:t,halfedges:[]}}(t);var u=Jc(t);if(ND.insert(e,u),e||n){if(e===n)return Zc(e),n=Jc(e.site),ND.insert(u,n),u.edge=n.edge=Uc(e.site,u.site),Xc(e),void Xc(n);if(n){Zc(e),Zc(n);var l=e.site,c=l[0],f=l[1],p=t[0]-c,d=t[1]-f,h=n.site,m=h[0]-c,g=h[1]-f,v=2*(p*g-d*m),y=p*p+d*d,b=m*m+g*g,_=[(g*y-d*b)/v+c,(p*b-m*y)/v+f];qc(n.edge,l,h,_),u.edge=Uc(l,t,null,_),n.edge=Uc(t,h,null,_),Xc(e),Xc(n)}else u.edge=Uc(e.site,u.site)}}function nf(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,p=c/l;return f?(-p+Math.sqrt(p*p-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function rf(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function of(t,e){return e[1]-t[1]||e[0]-t[0]}function af(t,e){var n,r,i,o=t.sort(of).pop();for(MD=[],ID=new Array(t.length),ND=new DD,AD=new DD;;)if(i=PD,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ef(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;tf(i.arc)}if(function(){for(var t,e,n,r,i=0,o=ID.length;i<o;++i)if((t=ID[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=$c(t,MD[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=MD.length;o--;)Gc(i=MD[o],t,e,n,r)&&Hc(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>LD||Math.abs(i[0][1]-i[1][1])>LD)||delete MD[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,f,p,d,h,m,g=ID.length,v=!0;for(i=0;i<g;++i)if(o=ID[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)MD[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)h=(d=Kc(o,MD[u[s]]))[0],m=d[1],f=(c=Yc(o,MD[u[++s%l]]))[0],p=c[1],(Math.abs(h-f)>LD||Math.abs(m-p)>LD)&&(u.splice(s,0,MD.push(Wc(a,d,Math.abs(h-t)<LD&&r-m>LD?[t,Math.abs(f-t)<LD?p:r]:Math.abs(m-r)<LD&&n-h>LD?[Math.abs(p-r)<LD?f:n,r]:Math.abs(h-n)<LD&&m-e>LD?[n,Math.abs(f-n)<LD?p:e]:Math.abs(m-e)<LD&&h-t>LD?[Math.abs(p-e)<LD?f:t,e]:null))-1),++l);l&&(v=!1)}if(v){var y,b,_,w=1/0;for(i=0,v=null;i<g;++i)(o=ID[i])&&(_=(y=(a=o.site)[0]-t)*y+(b=a[1]-e)*b)<w&&(w=_,v=o);if(v){var x=[t,e],E=[t,r],C=[n,r],S=[n,e];v.halfedges.push(MD.push(Wc(a=v.site,x,E))-1,MD.push(Wc(a,E,C))-1,MD.push(Wc(a,C,S))-1,MD.push(Wc(a,S,x))-1)}}for(i=0;i<g;++i)(o=ID[i])&&(o.halfedges.length||delete ID[i])}(a,s,u,l)}this.edges=MD,this.cells=ID,ND=AD=MD=ID=null}function sf(t){oe.call(this,null,t)}function uf(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function lf(t){return"function"==typeof t?t:function(){return t}}function cf(t){oe.call(this,WD(),t)}function ff(t){return new Uint32Array(t)}function pf(t,e,n){var r=(e<257?function(t){return new Uint8Array(t)}:e<65537?function(t){return new Uint16Array(t)}:ff)(t);return n&&r.set(n),r}function df(){var t=ff(0),e=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];var a,s,u,l=n,c=i.length,f=Array(c),p=ff(c);for(u=0;u<c;++u)f[u]=r(i[u]),p[u]=u;if(f=function(t,e){return t.sort.call(e,function(e,n){var r=t[e],i=t[n];return r<i?-1:r>i?1:0}),$E(t,e)}(f,p),l)a=e,s=t,e=Array(l+c),t=ff(l+c),function(t,e,n,r,i,o,a,s,u){var l,c=0,f=0;for(l=0;c<r&&f<a;++l)e[c]<i[f]?(s[l]=e[c],u[l]=n[c++]):(s[l]=i[f],u[l]=o[f++]+t);for(;c<r;++c,++l)s[l]=e[c],u[l]=n[c];for(;f<a;++f,++l)s[l]=i[f],u[l]=o[f]+t}(o,a,s,l,f,p,c,e,t);else{if(o>0)for(u=0;u<c;++u)p[u]+=o;e=f,t=p}return n=l+c,{index:p,value:f}},remove:function(r,i){var o,a,s,u=n;for(a=0;!i[t[a]]&&a<u;++a);for(s=a;a<u;++a)i[o=t[a]]||(t[s]=o,e[s]=e[a],++s);n=u-r},bisect:function(t,r){var i;return r?i=r.length:(r=e,i=n),[LE(r,t[0],0,i),jE(r,t[1],0,i)]},reindex:function(e){for(var r=0,i=n;r<i;++r)t[r]=e[t[r]]},index:function(){return t},size:function(){return n}}}function hf(t){oe.call(this,function(){var t=8,e=[],n=ff(0),r=pf(0,t),i=pf(0,t);return{data:function(){return e},seen:function(){return n=function(t,e,n){return t.length>=e?t:((n=n||new t.constructor(e)).set(t),n)}(n,e.length)},add:function(t){for(var n,r=0,i=e.length,o=t.length;r<o;++r)(n=t[r])._index=i++,e.push(n)},remove:function(t,n){var o,a,s,u=e.length,l=Array(u-t),c=e;for(a=0;!n[a]&&a<u;++a)l[a]=e[a],c[a]=a;for(s=a;a<u;++a)o=e[a],n[a]?c[a]=-1:(c[a]=s,r[s]=r[a],i[s]=i[a],l[s]=o,o._index=s++),r[a]=0;return e=l,c},size:function(){return e.length},curr:function(){return r},prev:function(){return i},reset:function(t){i[t]=r[t]},all:function(){return t<257?255:t<65537?65535:4294967295},set:function(t,e){r[t]|=e},clear:function(t,e){r[t]&=~e},resize:function(e,n){(e>r.length||n>t)&&(t=Math.max(n,t),r=pf(e,t,r),i=pf(e,t))}}}(),t),this._indices=null,this._dims=null}function mf(t){oe.call(this,null,t)}function gf(t,e){var n=t._runtime.data;return n.hasOwnProperty(e)||Object(Jw.m)("Unrecognized data set: "+e),n[e]}function vf(t,e){f(e)||Object(Jw.m)("Second argument to changes must be a changeset.");var n=gf(this,t);return n.modified=!0,this.pulse(n.input,e)}function yf(t){var e=t.padding();return Math.max(0,t._viewWidth+e.left+e.right)}function bf(t){var e=t.padding();return Math.max(0,t._viewHeight+e.top+e.bottom)}function _f(t){var e=t.padding(),n=t._origin;return[e.left+n[0],e.top+n[1]]}function wf(t){return t.item}function xf(t){var e=t.item.mark.source;return e.source||e}function Ef(t){return function(e,n){return n.vega.view().changeset().encode(n.item,t)}}function Cf(t,e,n,r){var i=nR("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,e.appendChild(i),i.addEventListener("input",function(){t.update(i.value)}),t.elements=[i],t.set=function(t){i.value=t}}function Sf(t,e,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=nR("input",i);e.appendChild(o),o.addEventListener("change",function(){t.update(o.checked)}),t.elements=[o],t.set=function(t){o.checked=!!t||null}}function Of(t,e,n,r){var i=nR("select",{name:n.signal});n.options.forEach(function(t){var e={value:t};Pf(t,r)&&(e.selected=!0),i.appendChild(nR("option",e,t+""))}),e.appendChild(i),i.addEventListener("change",function(){t.update(n.options[i.selectedIndex])}),t.elements=[i],t.set=function(t){for(var e=0,r=n.options.length;e<r;++e)if(Pf(n.options[e],t))return void(i.selectedIndex=e)}}function kf(t,e,n,r){var i=nR("span",{class:oR});e.appendChild(i),t.elements=n.options.map(function(e){var o=aR+n.signal+"-"+e,a={id:o,type:"radio",name:n.signal,value:e};Pf(e,r)&&(a.checked=!0);var s=nR("input",a);return s.addEventListener("change",function(){t.update(e)}),i.appendChild(s),i.appendChild(nR("label",{for:o},e+"")),s}),t.set=function(e){for(var n=t.elements,r=0,i=n.length;r<i;++r)Pf(n[r].value,e)&&(n[r].checked=!0)}}function Tf(t,e,n,r){function i(){l.textContent=u.value,t.update(+u.value)}r=void 0!==r?r:(+n.max+ +n.min)/2;var o=n.min||Math.min(0,+r)||0,a=n.max||Math.max(100,+r)||100,s=n.step||ye(o,a,100),u=nR("input",{type:"range",name:n.signal,min:o,max:a,step:s});u.value=r;var l=nR("label",{},+r);e.appendChild(u),e.appendChild(l),u.addEventListener("input",i),u.addEventListener("change",i),t.elements=[u],t.set=function(t){u.value=t,l.textContent=t}}function Pf(t,e){return t===e||t+""==e+""}function Nf(t,e){if("string"==typeof e){if("undefined"==typeof document)return t.error("DOM document instance not found."),null;if(!(e=document.querySelector(e)))return t.error("Signal bind element not found: "+e),null}if(e)try{e.innerHTML=""}catch(n){e=null,t.error(n)}return e}function If(t){return+t||0}function Af(t,e){Object(Jw.m)(t+' for "outer" push: '+Object(Jw.O)(e))}function Mf(t){this.type=t}function Df(t,e){if(!t)throw new Error("ASSERT: "+e)}function Rf(t){return t>=48&&t<=57}function jf(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function Lf(t){return"01234567".indexOf(t)>=0}function zf(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function Ff(t){return 10===t||13===t||8232===t||8233===t}function Bf(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&ZR.test(String.fromCharCode(t))}function Vf(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&JR.test(String.fromCharCode(t))}function Uf(){for(var t;vR<yR&&(t=gR.charCodeAt(vR),zf(t)||Ff(t));)++vR}function Wf(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e)vR<yR&&jf(gR[vR])?(r=gR[vR++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):op({},FR,KR);return String.fromCharCode(i)}function qf(){var t,e,n,r;for(e=0,"}"===(t=gR[vR])&&op({},FR,KR);vR<yR&&(t=gR[vR++],jf(t));)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&op({},FR,KR),e<=65535?String.fromCharCode(e):(n=55296+(e-65536>>10),r=56320+(e-65536&1023),String.fromCharCode(n,r))}function Hf(){var t,e;for(t=gR.charCodeAt(vR++),e=String.fromCharCode(t),92===t&&(117!==gR.charCodeAt(vR)&&op({},FR,KR),++vR,(t=Wf("u"))&&"\\"!==t&&Bf(t.charCodeAt(0))||op({},FR,KR),e=t);vR<yR&&(t=gR.charCodeAt(vR),Vf(t));)++vR,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==gR.charCodeAt(vR)&&op({},FR,KR),++vR,(t=Wf("u"))&&"\\"!==t&&Vf(t.charCodeAt(0))||op({},FR,KR),e+=t);return e}function Gf(){var t,e,n;return t=vR,e=92===gR.charCodeAt(vR)?Hf():function(){var t,e;for(t=vR++;vR<yR;){if(92===(e=gR.charCodeAt(vR)))return vR=t,Hf();if(!Vf(e))break;++vR}return gR.slice(t,vR)}(),n=1===e.length?xR:QR.hasOwnProperty(e)?ER:"null"===e?CR:"true"===e||"false"===e?_R:xR,{type:n,value:e,start:t,end:vR}}function $f(){var t,e,n,r,i=vR,o=gR.charCodeAt(vR),a=gR[vR];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++vR,{type:OR,value:String.fromCharCode(o),start:i,end:vR};default:if(61===(t=gR.charCodeAt(vR+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return vR+=2,{type:OR,value:String.fromCharCode(o)+String.fromCharCode(t),start:i,end:vR};case 33:case 61:return vR+=2,61===gR.charCodeAt(vR)&&++vR,{type:OR,value:gR.slice(i,vR),start:i,end:vR}}}return">>>="===(r=gR.substr(vR,4))?(vR+=4,{type:OR,value:r,start:i,end:vR}):">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?(vR+=3,{type:OR,value:n,start:i,end:vR}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?(vR+=2,{type:OR,value:e,start:i,end:vR}):"<>=!+-*%&|^/".indexOf(a)>=0?(++vR,{type:OR,value:a,start:i,end:vR}):void op({},FR,KR))}function Yf(){var t,e,n;if(n=gR[vR],Df(Rf(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),e=vR,t="","."!==n){if(t=gR[vR++],n=gR[vR],"0"===t){if("x"===n||"X"===n)return++vR,function(t){for(var e="";vR<yR&&jf(gR[vR]);)e+=gR[vR++];return 0===e.length&&op({},FR,KR),Bf(gR.charCodeAt(vR))&&op({},FR,KR),{type:SR,value:parseInt("0x"+e,16),start:t,end:vR}}(e);if(Lf(n))return function(t){for(var e="0"+gR[vR++];vR<yR&&Lf(gR[vR]);)e+=gR[vR++];return(Bf(gR.charCodeAt(vR))||Rf(gR.charCodeAt(vR)))&&op({},FR,KR),{type:SR,value:parseInt(e,8),octal:!0,start:t,end:vR}}(e);n&&Rf(n.charCodeAt(0))&&op({},FR,KR)}for(;Rf(gR.charCodeAt(vR));)t+=gR[vR++];n=gR[vR]}if("."===n){for(t+=gR[vR++];Rf(gR.charCodeAt(vR));)t+=gR[vR++];n=gR[vR]}if("e"===n||"E"===n)if(t+=gR[vR++],"+"!==(n=gR[vR])&&"-"!==n||(t+=gR[vR++]),Rf(gR.charCodeAt(vR)))for(;Rf(gR.charCodeAt(vR));)t+=gR[vR++];else op({},FR,KR);return Bf(gR.charCodeAt(vR))&&op({},FR,KR),{type:SR,value:parseFloat(t),start:e,end:vR}}function Kf(){var t,e,n,r;return bR=null,Uf(),t=vR,e=function(){var t,e,n,r,i;for(Df("/"===(t=gR[vR]),"Regular expression literal must start with a slash"),e=gR[vR++],n=!1,r=!1;vR<yR;)if(t=gR[vR++],e+=t,"\\"===t)Ff((t=gR[vR++]).charCodeAt(0))&&op({},GR),e+=t;else if(Ff(t.charCodeAt(0)))op({},GR);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||op({},GR),i=e.substr(1,e.length-2),{value:i,literal:e}}(),n=function(){var t,e,n;for(e="",n="";vR<yR&&(t=gR[vR],Vf(t.charCodeAt(0)));)++vR,"\\"===t&&vR<yR?op({},FR,KR):(n+=t,e+=t);return n.search(/[^gimuy]/g)>=0&&op({},HR,n),{value:n,literal:e}}(),r=function(t,e){var n=t;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e){if(parseInt(e,16)<=1114111)return"x";op({},HR)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(t){op({},HR)}try{return new RegExp(t,e)}catch(t){return null}}(e.value,n.value),{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:vR}}function Xf(){var t;return Uf(),vR>=yR?{type:wR,start:vR,end:vR}:(t=gR.charCodeAt(vR),Bf(t)?Gf():40===t||41===t||59===t?$f():39===t||34===t?function(){var t,e,n,r,i="",o=!1;for(Df("'"===(t=gR[vR])||'"'===t,"String literal must starts with a quote"),e=vR,++vR;vR<yR;){if((n=gR[vR++])===t){t="";break}if("\\"===n)if((n=gR[vR++])&&Ff(n.charCodeAt(0)))"\r"===n&&"\n"===gR[vR]&&++vR;else switch(n){case"u":case"x":"{"===gR[vR]?(++vR,i+=qf()):i+=Wf(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Lf(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),vR<yR&&Lf(gR[vR])&&(o=!0,r=8*r+"01234567".indexOf(gR[vR++]),"0123".indexOf(n)>=0&&vR<yR&&Lf(gR[vR])&&(r=8*r+"01234567".indexOf(gR[vR++]))),i+=String.fromCharCode(r)):i+=n}else{if(Ff(n.charCodeAt(0)))break;i+=n}}return""!==t&&op({},FR,KR),{type:kR,value:i,octal:o,start:e,end:vR}}():46===t?Rf(gR.charCodeAt(vR+1))?Yf():$f():Rf(t)?Yf():$f())}function Zf(){var t;return t=bR,vR=t.end,bR=Xf(),vR=t.end,t}function Jf(){var t;t=vR,bR=Xf(),vR=t}function Qf(t,e,n){var r=new Mf("||"===t||"&&"===t?DR:PR);return r.operator=t,r.left=e,r.right=n,r}function tp(t,e){var n=new Mf(NR);return n.callee=t,n.arguments=e,n}function ep(t){var e=new Mf(AR);return e.name=t,e}function np(t){var e=new Mf(MR);return e.value=t.value,e.raw=gR.slice(t.start,t.end),t.regex&&("//"===e.raw&&(e.raw="/(?:)/"),e.regex=t.regex),e}function rp(t,e,n){var r=new Mf(RR);return r.computed="["===t,r.object=e,r.property=n,r.computed||(n.member=!0),r}function ip(t,e,n){var r=new Mf(LR);return r.key=e,r.value=n,r.kind=t,r}function op(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,function(t,e){return Df(e<r.length,"Message reference must be in range"),r[e]});throw n=new Error(i),n.index=vR,n.description=i,n}function ap(t){t.type===wR&&op(t,qR),t.type===SR&&op(t,BR),t.type===kR&&op(t,VR),t.type===xR&&op(t,UR),t.type===ER&&op(t,WR),op(t,FR,t.value)}function sp(t){var e=Zf();e.type===OR&&e.value===t||ap(e)}function up(t){return bR.type===OR&&bR.value===t}function lp(t){return bR.type===ER&&bR.value===t}function cp(){var t=[];for(vR=bR.start,sp("[");!up("]");)up(",")?(Zf(),t.push(null)):(t.push(xp()),up("]")||sp(","));return Zf(),function(t){var e=new Mf(TR);return e.elements=t,e}(t)}function fp(){var t;return vR=bR.start,(t=Zf()).type===kR||t.type===SR?(t.octal&&op(t,$R),np(t)):ep(t.value)}function pp(){var t,e,n,r;return vR=bR.start,(t=bR).type===xR?(n=fp(),sp(":"),r=xp(),ip("init",n,r)):t.type!==wR&&t.type!==OR?(e=fp(),sp(":"),r=xp(),ip("init",e,r)):void ap(t)}function dp(){var t,e,n=[],r={},i=String;for(vR=bR.start,sp("{");!up("}");)e="$"+((t=pp()).key.type===AR?t.key.name:i(t.key.value)),Object.prototype.hasOwnProperty.call(r,e)?op({},YR):r[e]=!0,n.push(t),up("}")||sp(",");return sp("}"),function(t){var e=new Mf(jR);return e.properties=t,e}(n)}function hp(){var t,e,n;if(up("("))return function(){var t;return sp("("),t=Ep(),sp(")"),t}();if(up("["))return cp();if(up("{"))return dp();if(t=bR.type,vR=bR.start,t===xR||tj[bR.value])n=ep(Zf().value);else if(t===kR||t===SR)bR.octal&&op(bR,$R),n=np(Zf());else{if(t===ER)throw new Error(XR);t===_R?((e=Zf()).value="true"===e.value,n=np(e)):t===CR?((e=Zf()).value=null,n=np(e)):up("/")||up("/=")?(n=np(Kf()),Jf()):ap(Zf())}return n}function mp(){var t=[];if(sp("("),!up(")"))for(;vR<yR&&(t.push(xp()),!up(")"));)sp(",");return sp(")"),t}function gp(){var t;return vR=bR.start,t=Zf(),function(t){return t.type===xR||t.type===ER||t.type===_R||t.type===CR}(t)||ap(t),ep(t.value)}function vp(){return sp("."),gp()}function yp(){var t;return sp("["),t=Ep(),sp("]"),t}function bp(){var t=function(){var t;for(t=hp();;)if(up("."))t=rp(".",t,vp());else if(up("("))t=tp(t,mp());else{if(!up("["))break;t=rp("[",t,yp())}return t}();if(bR.type===OR&&(up("++")||up("--")))throw new Error(XR);return t}function _p(){var t,e;if(bR.type!==OR&&bR.type!==ER)e=bp();else{if(up("++")||up("--"))throw new Error(XR);if(up("+")||up("-")||up("~")||up("!"))t=Zf(),e=_p(),e=function(t,e){var n=new Mf(zR);return n.operator=t,n.argument=e,n.prefix=!0,n}(t.value,e);else{if(lp("delete")||lp("void")||lp("typeof"))throw new Error(XR);e=bp()}}return e}function wp(t){var e=0;if(t.type!==OR&&t.type!==ER)return 0;switch(t.value){case"||":e=1;break;case"&&":e=2;break;case"|":e=3;break;case"^":e=4;break;case"&":e=5;break;case"==":case"!=":case"===":case"!==":e=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":e=7;break;case"<<":case">>":case">>>":e=8;break;case"+":case"-":e=9;break;case"*":case"/":case"%":e=11}return e}function xp(){var t,e;return t=function(){var t,e,n,r,i,o,a,s,u,l;if(t=bR,u=_p(),r=bR,0===(i=wp(r)))return u;for(r.prec=i,Zf(),e=[t,bR],o=[u,r,a=_p()];(i=wp(bR))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),e.pop(),n=Qf(s,u,a),o.push(n);(r=Zf()).prec=i,o.push(r),e.push(bR),n=_p(),o.push(n)}for(n=o[l=o.length-1],e.pop();l>1;)e.pop(),n=Qf(o[l-1].value,o[l-2],n),l-=2;return n}(),up("?")&&(Zf(),e=xp(),sp(":"),t=function(t,e,n){var r=new Mf(IR);return r.test=t,r.consequent=e,r.alternate=n,r}(t,e,xp())),t}function Ep(){var t=xp();if(up(","))throw new Error(XR);return t}function Cp(t,e,n){var r=t+":"+n,i=ij[r];return i&&i[0]===e||(ij[r]=i=[e,e(n)]),i[1]}function Sp(t,e){return Cp("timeFormat",uE,e)(t)}function Op(t,e,n){return oj.setMonth(t),oj.setDate(e),Sp(oj,n)}function kp(t,e,n,r){var i,o=e[0],a=e[e.length-1];return o>a&&(i=o,o=a,a=i),n=void 0===n||n,r=void 0===r||r,(n?o<=t:o<t)&&(r?t<=a:t<a)}function Tp(t,e,n){try{t[e].apply(t,["EXPRESSION"].concat([].slice.call(n)))}catch(e){t.warn(e)}return n[n.length-1]}function Pp(t,e){var n;return Object(Jw.y)(t)?t:Object(Jw.C)(t)?(n=e.scales[t])&&n.value:void 0}function Np(t,e,n){var r=cj+n;if(!e.hasOwnProperty(r))try{e[r]=t.scaleRef(n)}catch(t){}}function Ip(t,e,n,r){if(e[0].type===sj)Np(n,r,e[0].value);else if(e[0].type===uj)for(t in n.scales)Np(n,r,t)}function Ap(t,e){return function(n,r,i){if(n){var o=Pp(n,(i||this).context);return o&&o.path[t](r)}return e(r)}}function Mp(t){var e=this.context.data[t];return e?e.values.value:[]}function Dp(t,e,n,r){e[0].type!==sj&&Object(Jw.m)("First argument to data functions must be a string literal.");var i=e[0].value,o=fj+i;r.hasOwnProperty(o)||(r[o]=n.getData(i).tuplesRef())}function Rp(t){return t.data}function jp(t,e){var n=Mp.call(e,t);return n.root&&n.root.lookup||mj}function Lp(t,e){return t===e||t!=t&&e!=e||!(!Object(Jw.v)(t)||!Object(Jw.v)(e)||t.length!==e.length)&&function(t,e){for(var n=0,r=t.length;n<r;++n)if(!Lp(t[n],e[n]))return!1;return!0}(t,e)}function zp(t){return function(e){for(var n in t)if(!Lp(e[n],t[n]))return!1;return!0}}function Fp(t,e){for(var n,r,i=e.fields,o=e.values,a=i.length,s=0;s<a;++s)if(r=i[s],r.getter=Jw.r.getter||Object(Jw.r)(r.field),n=r.getter(t),Object(Jw.x)(n)&&(n=Object(Jw.R)(n)),Object(Jw.x)(o[s])&&(o[s]=Object(Jw.R)(o[s])),Object(Jw.x)(o[s][0])&&(o[s]=o[s].map(Jw.R)),r.type===gj){if(Object(Jw.v)(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if(r.type===vj){if(!kp(n,o[s]))return!1}else if(r.type===_j){if(!kp(n,o[s],!0,!1))return!1}else if(r.type===yj){if(!kp(n,o[s],!1,!1))return!1}else if(r.type===bj&&!kp(n,o[s],!1,!0))return!1;return!0}function Bp(t,e,n,r){e[0].type!==sj&&Object(Jw.m)("First argument to indata must be a string literal.");var i=e[0].value,o=lj+"unit";(e.length>=2&&e[e.length-1].value)!==wj||r.hasOwnProperty(o)||(r[o]=n.getData(i).indataRef(n,"unit")),Dp(0,e,n,r)}function Vp(t,e){for(var n,r=e.fields,i=e.values,o=e.getter||(e.getter=[]),a=r.length,s=0;s<a;++s)if(o[s]=o[s]||Object(Jw.r)(r[s]),n=o[s](t),Object(Jw.x)(n)&&(n=Object(Jw.R)(n)),Object(Jw.x)(i[s])&&(i[s]=Object(Jw.R)(i[s])),e[Sj+r[s]]){if(Object(Jw.x)(i[s][0])&&(i[s]=i[s].map(Jw.R)),!kp(n,i[s],!0,!1))return!1}else if(n!==i[s])return!1;return!0}function Up(t,e){for(var n,r,i,o=e.intervals,a=o.length,s=0;s<a;++s){if(r=o[s].extent,n=o[s].getter||(o[s].getter=Object(Jw.r)(o[s].field)),i=n(t),!r||r[0]===r[1])return!1;if(Object(Jw.x)(i)&&(i=Object(Jw.R)(i)),Object(Jw.x)(r[0])&&(r=o[s].extent=r.map(Jw.R)),Object(Jw.z)(r[0])&&!kp(i,r))return!1;if(Object(Jw.C)(r[0])&&r.indexOf(i)<0)return!1}return!0}function Wp(t,e,n,r){for(var i,o,a,s,u,l=this.context.data[t],c=l?l.values.value:[],f=l?l[Tj]&&l[Tj].value:void 0,p=n===Oj,d=c.length,h=0;h<d;++h)if(i=c[h],f&&p){if(o=o||{},-1===(a=o[s=i.unit]||0))continue;if(u=r(e,i),o[s]=u?-1:++a,u&&1===f.size)return!0;if(!u&&a===f.get(s).count)return!1}else if(u=r(e,i),p^u)return u;return d&&p}function qp(t,e,n){return Wp.call(this,t,e,n,Vp)}function Hp(t,e,n,r){e[0].type!==sj&&Object(Jw.m)("First argument to indata must be a string literal.");var i=e[0].value,o=lj+"unit";(e.length>=2&&e[e.length-1].value)!==Oj||r.hasOwnProperty(o)||(r[o]=n.getData(i).indataRef(n,"unit")),Dp(0,e,n,r)}function Gp(t,e,n,r){var i,o,a,s,u,l=this.context.data[t],c=l?l.values.value:[],f=l?l[Tj]&&l[Tj].value:void 0,p=c[0],d=0;if(p){for(i=e?p.encodings.length:p.fields.length;d<i;++d)if(e&&p.encodings[d]===e||n&&p.fields[d]===n){o=d,s=p[Sj+p.fields[d]];break}return f&&1===f.size&&(r=kj),f&&r===Oj?(u=c.reduce(function(t,e){return(t[e.unit]||(t[e.unit]=[])).push({unit:e.unit,value:e.values[o]}),t},{}),a=Object.keys(u).map(function(t){return{unit:t,value:s?Yp(u[t],kj):$p(u[t],kj)}})):a=c.map(function(t){return{unit:t.unit,value:t.values[o]}}),s?Yp(a,r):$p(a,r)}}function $p(t,e){for(var n,r,i,o,a={},s=0,u={},l=[],c=0,f=t.length;c<f;++c)o=(n=t[c]).value,a[r=n.unit]||(a[r]=++s),(i=u[o])||(u[o]=i={value:o,units:{},count:0}),i.units[r]||(i.units[r]=++i.count);for(o in u)i=u[o],e===Oj&&i.count!==s||l.push(i.value);return l.length?l:void 0}function Yp(t,e){for(var n,r,i,o,a=e===Oj?Xp:Kp,s=0,u=t.length;s<u;++s)n=t[s].value,Object(Jw.x)(n[0])&&(n=n.map(Jw.R)),(i=n[0])>(o=n[1])&&(o=n[0],i=n[1]),r=r?a(r,i,o):[i,o];return r&&r.length&&+r[0]!=+r[1]?r:void 0}function Kp(t,e,n){return t[0]>e&&(t[0]=e),t[1]<n&&(t[1]=n),t}function Xp(t,e,n){return n<t[0]||t[1]<e?[]:(t[0]<e&&(t[0]=e),t[1]>n&&(t[1]=n),t)}function Zp(t,e,n){return 1===arguments.length?Pj[t]:(Pj[t]=e,n&&(Mj[t]=n),Lj&&(Lj.functions[t]=Aj+t),this)}function Jp(t,e,n,r){this.id=-1,this.type=t,this.value=e,this.params=n,r&&(this.parent=r)}function Qp(t,e,n,r){return new Jp(t,e,n,r)}function td(t,e){return Qp("operator",t,e)}function ed(t){var e={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(e),e}function nd(t,e){return e?{$field:t,$name:e}:{$field:t}}function rd(t,e){return{$compare:t,$order:e}}function id(t,e){return(t&&t.signal?"$"+t.signal:t||"")+(t&&e?"_":"")+(e&&e.signal?"$"+e.signal:e||"")}function od(t){return t&&t.signal}function ad(t){if(od(t))return!0;if(Object(Jw.A)(t))for(var e in t)if(ad(t[e]))return!0;return!1}function sd(t,e){return null!=t?t:e}function ud(t){return t&&t.signal||t}function ld(t,e){return(t.merge?cd:t.stream?fd:t.type?pd:Object(Jw.m)("Invalid stream specification: "+Object(Jw.O)(t)))(t,e)}function cd(t,e){var n=dd({merge:t.merge.map(function(t){return ld(t,e)})},t,e);return e.addStream(n).id}function fd(t,e){var n=dd({stream:ld(t.stream,e)},t,e);return e.addStream(n).id}function pd(t,e){var n,r;return t.type===qj?(n=e.event(qj,t.throttle),t={between:t.between,filter:t.filter}):n=e.event(function(t){return t===Uj?Wj:t||Wj}(t.source),t.type),r=dd({stream:n},t,e),1===Object.keys(r).length?n:e.addStream(r).id}function dd(t,e,n){var r=e.between;return r&&(2!==r.length&&Object(Jw.m)('Stream "between" parameter must have 2 entries: '+Object(Jw.O)(e)),t.between=[ld(r[0],n),ld(r[1],n)]),r=e.filter?Object(Jw.i)(e.filter):[],(e.marktype||e.markname||e.markrole)&&r.push(function(t,e,n){var r="event.item";return r+(t&&"*"!==t?"&&event.item.mark.marktype==='"+t+"'":"")+(n?"&&event.item.mark.role==='"+n+"'":"")+(e?"&&event.item.mark.name==='"+e+"'":"")}(e.marktype,e.markname,e.markrole)),e.source===Uj&&r.push("inScope(event.item)"),r.length&&(t.filter=zj("("+r.join(")&&(")+")").$expr),null!=(r=e.throttle)&&(t.throttle=+r),null!=(r=e.debounce)&&(t.debounce=+r),e.consume&&(t.consume=!0),t}function hd(t,e,n,r,i){for(var o,a=0,s=t.length;e<s;++e){if(o=t[e],!a&&o===n)return e;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return e}function md(t){for(var e=[],n=0,r=t.length,i=0;i<r;)i=hd(t,i,Jj,$j+Kj,Yj+Xj),e.push(t.substring(n,i).trim()),n=++i;if(0===e.length)throw"Empty event selector: "+t;return e}function gd(t){return"["===t[0]?function(t){var e,n,r=t.length,i=1;if((i=hd(t,i,Yj,$j,Yj))===r)throw"Empty between selector: "+t;if(2!==(e=md(t.substring(1,i))).length)throw"Between selector must have two elements: "+t;if((t=t.slice(i+1).trim())[0]!==tL)throw"Expected '>' after between selector: "+t;if(e=e.map(gd),(n=gd(t.slice(1).trim())).between)return{between:e,stream:n};n.between=e;return n}(t):function(t){var e,n,r={source:Dj},i=[],o=[0,0],a=0,s=0,u=t.length,l=0;if(t[u-1]===Xj){if(!((l=t.lastIndexOf(Kj))>=0))throw"Unmatched right brace: "+t;try{o=function(t){var e=t.split(Jj);if(!t.length||e.length>2)throw t;return e.map(function(e){var n=+e;if(n!=n)throw t;return n})}(t.substring(l+1,u-1))}catch(e){throw"Invalid throttle specification: "+t}t=t.slice(0,l).trim(),u=t.length,l=0}if(!u)throw t;t[0]===Qj&&(a=++l);(e=hd(t,l,Zj))<u&&(i.push(t.substring(s,e).trim()),s=l=++e);if((l=hd(t,l,$j))===u)i.push(t.substring(s,u).trim());else if(i.push(t.substring(s,l).trim()),n=[],(s=++l)===u)throw"Unmatched left bracket: "+t;for(;l<u;){if((l=hd(t,l,Yj))===u)throw"Unmatched left bracket: "+t;if(n.push(t.substring(s,l).trim()),l<u-1&&t[++l]!==$j)throw"Expected left bracket: "+t;s=++l}if(!(u=i.length)||eL.test(i[u-1]))throw"Invalid event selector: "+t;u>1?(r.type=i[1],a?r.markname=i[0].slice(1):!function(t){return Rj.hasOwnProperty(t)}(i[0])?r.source=i[0]:r.marktype=i[0]):r.type=i[0];"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);o[0]&&(r.throttle=o[0]);o[1]&&(r.debounce=o[1]);return r}(t)}function vd(t){return function(e,n,r){return Qp(t,n,e||void 0,r)}}function yd(t){return zL.hasOwnProperty(t)}function bd(t){return jL.hasOwnProperty(t)}function _d(t){return"quantile"===t}function wd(t,e){var n,r=e.getScale(t.name).params;r.domain=Cd(t.domain,t,e),null!=t.range&&(r.range=Od(t,e,r)),null!=t.interpolate&&function(t,e){e.interpolate=xd(t.type||t),null!=t.gamma&&(e.interpolateGamma=xd(t.gamma))}(t.interpolate,r),null!=t.nice&&function(t,e){e.nice=Object(Jw.A)(t)?{interval:xd(t.interval),step:xd(t.step)}:xd(t)}(t.nice,r);for(n in t)r.hasOwnProperty(n)||"name"===n||(r[n]=xd(t[n],e))}function xd(t,e){return Object(Jw.A)(t)?t.signal?e.signalRef(t.signal):Object(Jw.m)("Unsupported object: "+Object(Jw.O)(t)):t}function Ed(t){Object(Jw.m)("Can not find data set: "+Object(Jw.O)(t))}function Cd(t,e,n){if(t)return t.signal?n.signalRef(t.signal):(Object(Jw.v)(t)?function(t,e,n){return t.map(function(t){return xd(t,n)})}:t.fields?function(t,e,n){var r=t.data,i=t.fields.reduce(function(t,e){return e=Object(Jw.C)(e)?{data:r,field:e}:Object(Jw.v)(e)||e.signal?function(t,e){var n="_:vega:_"+ML++,r=uL({});if(Object(Jw.v)(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+Object(Jw.O)(n)+","+t.signal+")";r.params.input=e.signalRef(i)}return e.addDataPipeline(n,[r,PL({})]),{data:n,field:"data"}}(e,n):e,t.push(e),t},[]);return(yd(e.type)?function(t,e,n){var r,i,o,a;return r=n.map(function(t){var n=e.getData(t.data);return n||Ed(t.data),n.countsRef(e,t.field)}),i=e.add(oL({groupby:Bj,ops:["sum"],fields:[e.fieldRef("count")],as:["count"],pulse:r})),o=e.add(uL({pulse:ed(i)})),a=e.add(AL({field:Bj,sort:e.sortRef(Sd(t.sort,!0)),pulse:ed(o)})),ed(a)}:_d(e.type)?function(t,e,n){var r=n.map(function(t){var n=e.getData(t.data);return n||Ed(t.data),n.domainRef(e,t.field)});return ed(e.add(_L({values:r})))}:function(t,e,n){var r=n.map(function(t){var n=e.getData(t.data);return n||Ed(t.data),n.extentRef(e,t.field)});return ed(e.add(bL({extents:r})))})(t,n,i)}:function(t,e,n){var r=n.getData(t.data);r||Ed(t.data);return yd(e.type)?r.valuesRef(n,t.field,Sd(t.sort,!1)):_d(e.type)?r.domainRef(n,t.field):r.extentRef(n,t.field)})(t,e,n);null==e.domainMin&&null==e.domainMax||Object(Jw.m)("No scale domain defined for domainMin/domainMax to override.")}function Sd(t,e){return t&&(t.field||t.op?t.field||"count"===t.op?e&&t.field?Object(Jw.m)("Multiple domain scales can not sort by field."):e&&t.op&&"count"!==t.op&&Object(Jw.m)("Multiple domain scales support op count only."):Object(Jw.m)("No field provided for sort aggregate op: "+t.op):Object(Jw.A)(t)?t.field="key":t={field:"key"}),t}function Od(t,e,n){var r=t.range,i=e.config.range;if(r.signal)return e.signalRef(r.signal);if(Object(Jw.C)(r)){if(i&&i.hasOwnProperty(r))return t=Object(Jw.n)({},t,{range:i[r]}),Od(t,e,n);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=yd(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(Jw.m)("Unrecognized scale range value: "+Object(Jw.O)(r))}else{if(r.scheme)return n.scheme=xd(r.scheme,e),r.extent&&(n.schemeExtent=function(t,e){return t.signal?e.signalRef(t.signal):t.map(function(t){return xd(t,e)})}(r.extent,e)),void(r.count&&(n.schemeCount=xd(r.count,e)));if(r.step)return void(n.rangeStep=xd(r.step,e));if(yd(t.type)&&!Object(Jw.v)(r))return Cd(r,t,e);Object(Jw.v)(r)||Object(Jw.m)("Unsupported range type: "+Object(Jw.O)(r))}return r.map(function(t){return xd(t,e)})}function kd(t,e,n){return Object(Jw.v)(t)?t.map(function(t){return kd(t,e,n)}):Object(Jw.A)(t)?t.signal?n.signalRef(t.signal):"fit"===e?t:Object(Jw.m)("Unsupported parameter object: "+Object(Jw.O)(t)):t}function Td(t,e,n,r){var i,o,a;if(t.signal)i="datum",a=ez(t.signal,e,n,r);else if(t.group||t.parent){for(o=Math.max(1,t.level||1),i="item";o-- >0;)i+=".mark.group";t.parent?(a=t.parent,i+=".datum"):a=t.group}else t.datum?(i="datum",a=t.datum):Object(Jw.m)("Invalid field reference: "+Object(Jw.O)(t));return t.signal||(Object(Jw.C)(a)?(r[a]=1,a=Object(Jw.N)(a).map(Jw.O).join("][")):a=Td(a,e,n,r)),i+"["+a+"]"}function Pd(t,e,n,r){var i;if(Object(Jw.C)(t))n.hasOwnProperty(i=cj+t)||(n[i]=e.scaleRef(t)),i=Object(Jw.O)(i);else{for(i in e.scales)n[cj+i]=e.scaleRef(i);i=Object(Jw.O)(cj)+"+"+(t.signal?"("+ez(t.signal,e,n,r)+")":nz(t,e,n,r))}return"_["+i+"]"}function Nd(t,e,n,r){var i,o,a,s={},u="var o=item,datum=o.datum,$;";for(i in t)o=t[i],Object(Jw.v)(o)?u+=sz(i,o,r,n,s):(a=oz(i,o,r,n,s),u+=az("o",i,a));return u+=tz(t,e),u+="return 1;",{$expr:u,$fields:Object.keys(s),$output:Object.keys(t)}}function Id(t){return Object(Jw.A)(t)?Object(Jw.n)({},t):{value:t}}function Ad(t,e,n,r){return null!=n?(Object(Jw.A)(n)&&!Object(Jw.v)(n)?t.update[e]=n:t[r||"enter"][e]={value:n},1):0}function Md(t,e,n){for(var r in e)n&&n.hasOwnProperty(r)||(t[r]=Object(Jw.n)(t[r]||{},e[r]));return t}function Dd(t,e,n,r,i,o){var a,s;(o=o||{}).encoders={$encode:a={}},t=function(t,e,n,r,i){var o,a,s={};"legend"!=n&&0!==String(n).indexOf("axis")||(n=null);a=n===lz?i.group:n===uz?Object(Jw.n)({},i.mark,i[e]):null;for(o in a)jd(o,t)||("fill"===o||"stroke"===o)&&(jd("fill",t)||jd("stroke",t))||(s[o]=Rd(a[o]));return Object(Jw.i)(r).forEach(function(e){var n=i.style&&i.style[e];for(var r in n)jd(r,t)||(s[r]=Rd(n[r]))}),t=Object(Jw.n)({},t),t.enter=Object(Jw.n)(s,t.enter),t}(t,e,n,r,i.config);for(s in t)a[s]=Nd(t[s],e,o,i);return o}function Rd(t){return t&&t.signal?{signal:t.signal}:{value:t}}function jd(t,e){return e&&(e.enter&&e.enter[t]||e.update&&e.update[t])}function Ld(t,e,n){return sd(e[t],n[t])}function zd(t,e){return sd(t.direction,e)===UL}function Fd(t,e){return sd(t.gradientLength,e.gradientLength||e.gradientWidth)}function Bd(t,e){return sd(t.gradientThickness,e.gradientThickness||e.gradientHeight)}function Vd(t,e){var n=e&&(e.update&&e.update[t]||e.enter&&e.enter[t]);return n&&n.signal?n:n?n.value:null}function Ud(t,e){return{align:Ld("gridAlign",t,e),center:{row:!0,column:!1},columns:function(t,e){return sd(t.columns,sd(e.columns,+zd(t,e.symbolDirection)))}(t,e),padding:{row:Ld("rowPadding",t,e),column:Ld("columnPadding",t,e)}}}function Wd(t){return Object(Jw.A)(t)&&t.signal?t.signal:Object(Jw.O)(t)}function qd(t,e,n){var r,i,o,a={};for(i=0,o=t.params.length;i<o;++i)a[(r=t.params[i]).name]=function(t,e,n){var r=t.type,i=e[t.name];if("index"===r)return function(t,e,n){Object(Jw.C)(e.from)||Object(Jw.m)('Lookup "from" parameter must be a string literal.');return n.getData(e.from).lookupRef(n,e.key)}(0,e,n);if(void 0===i)return void(t.required&&Object(Jw.m)("Missing required "+Object(Jw.O)(e.type)+" parameter: "+Object(Jw.O)(t.name)));if("param"===r)return function(t,e,n){var r=e[t.name];return t.array?(Object(Jw.v)(r)||Object(Jw.m)("Expected an array of sub-parameters. Instead: "+Object(Jw.O)(r)),r.map(function(e){return Gd(t,e,n)})):Gd(t,r,n)}(t,e,n);if("projection"===r)return n.projectionRef(e[t.name]);return t.array&&!od(i)?i.map(function(e){return Hd(t,e,n)}):Hd(t,i,n)}(r,e,n);return a}function Hd(t,e,n){var r=t.type;if(od(e))return $d(r)?Object(Jw.m)("Expression references can not be signals."):Yd(r)?n.fieldRef(e):Kd(r)?n.compareRef(e):n.signalRef(e.signal);var i=t.expr||Yd(r);return i&&function(t){return t&&t.expr}(e)?n.exprRef(e.expr,e.as):i&&function(t){return t&&t.field}(e)?nd(e.field,e.as):$d(r)?zj(e,n):function(t){return"data"===t}(r)?ed(n.getData(e).values):Yd(r)?nd(e):Kd(r)?n.compareRef(e):e}function Gd(t,e,n){var r,i,o,a,s;for(a=0,s=t.params.length;a<s;++a){i=t.params[a];for(o in i.key)if(i.key[o]!==e[o]){i=null;break}if(i)break}return i||Object(Jw.m)("Unsupported parameter: "+Object(Jw.O)(e)),r=Object(Jw.n)(qd(i,e,n),i.key),ed(n.add(xL(r)))}function $d(t){return"expr"===t}function Yd(t){return"field"===t}function Kd(t){return"compare"===t}function Xd(t,e){return t.$ref?t:t.data&&t.data.$ref?t.data:ed(e.getData(t.data).output)}function Zd(t,e,n,r,i){this.scope=t,this.input=e,this.output=n,this.values=r,this.aggregate=i,this.index={}}function Jd(t){return Object(Jw.C)(t)?t:null}function Qd(t,e,n){var r,i=id(n.op,n.field);if(e.ops){for(var o=0,a=e.as.length;o<a;++o)if(e.as[o]===i)return}else e.ops=["count"],e.fields=[null],e.as=["count"];n.op&&(e.ops.push((r=n.op.signal)?t.signalRef(r):n.op),e.fields.push(t.fieldRef(n.field)),e.as.push(i))}function th(t,e,n,r,i,o,a){var s,u,l=e[n]||(e[n]={}),c=function(t){return Object(Jw.A)(t)?(t.order===Vj?"-":"+")+id(t.op,t.field):""}(o),f=Jd(i);if(null!=f&&(t=e.scope,s=l[f+=c?"|"+c:""]),!s){var p=o?{field:Bj,pulse:e.countsRef(t,i,o)}:{field:t.fieldRef(i),pulse:ed(e.output)};c&&(p.sort=t.sortRef(o)),u=t.add(Qp(r,void 0,p)),a&&(e.index[i]=u),s=ed(u),null!=f&&(l[f]=s)}return s}function eh(t,e){var n=t.type||$L;return t.type||1!==function(t){return XL.reduce(function(e,n){return e+(t[n]?1:0)},0)}(t)||!t.fill&&!t.stroke||(n=function(t){return LL.hasOwnProperty(t)}(e)?YL:bd(e)?KL:$L),n!==YL?n:bd(e)?KL:YL}function nh(t,e,n){var r,i,o,a;return o=Vd("strokeWidth",n[0].encode),i=t.size?'scale("'+t.size+'",datum)':Vd("size",n[0].encode),r=function(t,e,n){return Vd("fontSize",t)||function(t,e,n){var r=e.config.style[n];return r&&r[t]}("fontSize",e,n)}(n[1].encode,e,HL),a="max(ceil(sqrt("+ud(i)+")+"+ud(o)+"),"+ud(r)+")",zj(a,e)}function rh(t,e,n){return'item.anchor==="'+WL+'"?'+t+':item.anchor==="'+qL+'"?'+e+":"+n}function ih(t,e){var n=[];t.transform&&t.transform.forEach(function(t){n.push(yz(t,e))}),t.on&&t.on.forEach(function(n){_z(n,e,t.name)}),e.addDataPipeline(t.name,function(t,e,n){var r,i,o,a,s,u=[],l=null,c=!1,f=!1;t.values?u.push(l=oh({$ingest:t.values,$format:t.format})):t.url?(l=ad(t.url)||ad(t.format)?{$load:ed(e.add(function(t,e){return vL({url:t.property(e.url),format:t.objectProperty(e.format)})}(e,t)))}:{$request:t.url,$format:t.format},u.push(l=oh(l))):t.source&&(l=r=Object(Jw.i)(t.source).map(function(t){return ed(e.getData(t).output)}),u.push(null));for(i=0,o=n.length;i<o;++i)s=(a=n[i]).metadata,l||s.source||u.push(l=oh()),u.push(a),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?l=a:s.changes&&(l=null);r&&(u[0]=OL({derive:c,pulse:(o=r.length-1)?r:r[0]}),(c||o)&&u.splice(1,0,oh()));l||u.push(oh());return u.push(PL({})),u}(t,e,n))}function oh(t){var e=uL({},t);return e.metadata={source:!0},e}function ah(t,e){return{scale:t.scale,range:e}}function sh(t,e,n,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+e+","+n+","+r+","+i+")"}}function uh(t){this.config=t,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function lh(t){this.config=t.config,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}function ch(t){return(Object(Jw.v)(t)?function(t){for(var e,n="[",r=0,i=t.length;r<i;++r)e=t[r],n+=(r>0?",":"")+(Object(Jw.A)(e)?e.signal||ch(e):Object(Jw.O)(e));return n+"]"}:function(t){var e,n,r="{",i=0;for(e in t)n=t[e],r+=(++i>1?",":"")+Object(Jw.O)(e)+":"+(Object(Jw.A)(n)?n.signal||ch(n):Object(Jw.O)(n));return r+"}"})(t)}function fh(t,e,n){";"!==e[e.length-1]&&(e="return("+e+");");var r=Function.apply(null,t.concat(e));return n&&n.functions?r.bind(n.functions):r}function ph(t,e){return fh(["event"],t,e)}function dh(t,e){return fh(["item","_"],t,e)}function hh(t,e,n){n=n||{};var r,i;for(r in t)i=t[r],n[r]=Object(Jw.v)(i)?i.map(function(t){return mh(t,e,n)}):mh(i,e,n);return n}function mh(t,e,n){if(!t||!Object(Jw.A)(t))return t;for(var r,i=0,o=Fz.length;i<o;++i)if(r=Fz[i],t.hasOwnProperty(r.key))return r.parse(t,e,n);return t}function gh(t){return(t+"").toLowerCase()}function vh(t,e,n){this.dataflow=t,this.transforms=e,this.events=t.events.bind(t),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function yh(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.functions=t.functions,this.events=t.events,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}function bh(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===Yz?r.left+r.right:0)}function _h(t,e){var n=t.autosize(),r=t.padding();return e-(n&&n.contains===Yz?r.top+r.bottom:0)}function wh(t){return null==t?"":Object(Jw.v)(t)?xh(t):Object(Jw.A)(t)&&!Object(Jw.x)(t)?function(t){return Object.keys(t).map(function(e){var n=t[e];return e+": "+(Object(Jw.v)(n)?xh(n):Eh(n))}).join("\n")}(t):t+""}function xh(t){return"["+t.map(Eh).join(", ")+"]"}function Eh(t){return Object(Jw.v)(t)?"[]":Object(Jw.A)(t)&&!Object(Jw.x)(t)?"{}":t}function Ch(t,e){e=e||{},re.call(this),this.loader(e.loader||this._loader),this.logLevel(e.logLevel||0),this._el=null,this._renderType=e.renderer||ck.Canvas,this._scenegraph=new ai;var n=this._scenegraph.root;this._renderer=null,this._tooltip=e.tooltip||Xz,this._redraw=!0,this._handler=(new mi).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[];var r=Hz(this,t,e.functions);this._runtime=r,this._signals=r.signals,this._bind=(t.bindings||[]).map(function(t){return{state:null,param:Object(Jw.n)({},t)}}),r.root&&r.root.set(n),n.source=r.data.root.input,this.pulse(r.data.root.input,this.changeset().insert(n.items)),this._background=r.background||null,this._eventConfig=function(t){var e=(t=Object(Jw.n)({},t)).defaults;return e&&(Object(Jw.v)(e.prevent)&&(e.prevent=Object(Jw.S)(e.prevent)),Object(Jw.v)(e.allow)&&(e.allow=Object(Jw.S)(e.allow))),t}(r.eventConfig),this._width=this.width(),this._height=this.height(),this._viewWidth=bh(this,this._width),this._viewHeight=_h(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(t){function e(){t._autosize=t._resize=1}var n=t._signals,r=n[Gz],i=n[$z],o=n[Yz];t._resizeWidth=t.add(null,function(n){t._width=n.size,t._viewWidth=bh(t,n.size),e()},{size:r}),t._resizeHeight=t.add(null,function(n){t._height=n.size,t._viewHeight=_h(t,n.size),e()},{size:i});var a=t.add(null,e,{pad:o});t._resizeWidth.rank=r.rank+1,t._resizeHeight.rank=i.rank+1,a.rank=o.rank+1}(this),XD(this)}function Sh(t,e){return t._signals.hasOwnProperty(e)?t._signals[e]:Object(Jw.m)("Unrecognized signal name: "+Object(Jw.O)(e))}function Oh(t,e){var n=(t._targets||[]).filter(function(t){var n=t._update;return n&&n.handler===e});return n.length?n[0]:null}function kh(t,e,n,r){var i=Oh(n,r);return i||((i=lR(this,function(){r(e,n.value)})).handler=r,t.on(n,null,i)),t}function Th(t,e,n){var r=Oh(e,n);return r&&e._targets.remove(r),t}function Ph(t){return!!t.or}function Nh(t){return!!t.and}function Ih(t){return!!t.not}function Ah(t,e){if(Ih(t))Ah(t.not,e);else if(Nh(t))for(var n=0,r=t.and;n<r.length;n++){Ah(r[n],e)}else if(Ph(t))for(var i=0,o=t.or;i<o.length;i++){Ah(o[i],e)}else e(t)}function Mh(t,e){return Ih(t)?{not:Mh(t.not,e)}:Nh(t)?{and:t.and.map(function(t){return Mh(t,e)})}:Ph(t)?{or:t.or.map(function(t){return Mh(t,e)})}:e(t)}function Dh(t,e){for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];t.hasOwnProperty(o)&&(n[o]=t[o])}return n}function Rh(t,e){for(var n=$w.__assign({},t),r=0,i=e;r<i.length;r++){delete n[i[r]]}return n}function jh(t){if(Object(Jw.z)(t))return t;var e=Object(Jw.C)(t)?t:nF()(t);if(e.length<250)return e;for(var n=0,r=0;r<e.length;r++){n=(n<<5)-n+e.charCodeAt(r),n&=n}return n}function Lh(t,e){return t.indexOf(e)>-1}function zh(t,e){return t.filter(function(t){return!Lh(e,t)})}function Fh(t,e){return t.concat(zh(e,t))}function Bh(t,e){for(var n=0,r=0;r<t.length;r++)if(e(t[r],r,n++))return!0;return!1}function Vh(t,e){for(var n=0,r=0;r<t.length;r++)if(!e(t[r],r,n++))return!1;return!0}function Uh(t){var e;return(e=[]).concat.apply(e,t)}function Wh(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}function qh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=function(t,e){if("object"!=typeof e||null===e)return t;for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&("object"!=typeof e[n]||Object(Jw.v)(e[n])||null===e[n]?t[n]=e[n]:"object"!=typeof t[n]||null===t[n]?t[n]=qh(Object(Jw.v)(e[n].constructor)?[]:{},e[n]):qh(t[n],e[n]));return t}(t,i[r])}return t}function Hh(t,e){for(var n,r=[],i={},o=0,a=t;o<a.length;o++){var s=a[o];(n=e(s))in i||(i[n]=1,r.push(s))}return r}function Gh(t,e){var n=oF(t),r=oF(e);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i];if(t[a]!==e[a])return!1}return!0}function $h(t,e){for(var n in t)if(n in e)return!0;return!1}function Yh(t){for(var e={},n=function(t){var n=Object(Jw.N)(t).map(function(t,e){return 0===e?t:"["+t+"]"});n.map(function(t,e){return n.slice(0,e+1).join("")}).forEach(function(t){return e[t]=!0})},r=0,i=oF(t);r<i.length;r++){n(i[r])}return e}function Kh(t,e){return $h(Yh(t),Yh(e))}function Xh(t){return!isNaN(t)}function Zh(t,e){if(t.length!==e.length)return!0;t.sort(),e.sort();for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!0;return!1}function Jh(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}function Qh(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({key:n,value:t[n]});return e}function tm(t){return oF(t)}function em(t){return JSON.parse(JSON.stringify(t))}function nm(t){return!0===t||!1===t}function rm(t){var e=t.replace(/\W/g,"_");return(t.match(/^\d+/)?"_":"")+e}function im(t,e){return Ih(t)?"!("+im(t.not,e)+")":Nh(t)?"("+t.and.map(function(t){return im(t,e)}).join(") && (")+")":Ph(t)?"("+t.or.map(function(t){return im(t,e)}).join(") || (")+")":e(t)}function om(t,e){if(0===e.length)return!0;var n=e.shift();return om(t[n],e)&&delete t[n],0===Object.keys(t).length}function am(t){return t.charAt(0).toUpperCase()+t.substr(1)}function sm(t,e){void 0===e&&(e="datum");for(var n=Object(Jw.N)(t),r=[],i=1;i<=n.length;i++){var o="["+n.slice(0,i).map(Jw.O).join("][")+"]";r.push(""+e+o)}return r.join(" && ")}function um(t,e){return void 0===e&&(e="datum"),e+"["+Object(Jw.O)(Object(Jw.N)(t).join("."))+"]"}function lm(t){return""+Object(Jw.N)(t).map(function(t){return t.replace(".","\\.")}).join("\\.")}function cm(t){return""+Object(Jw.N)(t).join(".")}function fm(t){return t?Object(Jw.N)(t).length:0}function pm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t;n<r.length;n++){var i=r[n];if(void 0!==i)return i}}function dm(t){var e=++aF;return t?String(t)+e:e}function hm(){aF=42}function mm(t){return!!sF[t]}function gm(t){return t&&Lh(lF,t)}function vm(t){return t&&Lh(["min","max"],t)}function ym(t){return!!gF[t]}function bm(){return _F=bF}function _m(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_F.warn.apply(_F,arguments)}function wm(t){return!!(t&&(t.year||t.quarter||t.month||t.date||t.day||t.hours||t.minutes||t.seconds||t.milliseconds))}function xm(t,e){void 0===e&&(e=!1);var n=[];if(e&&void 0!==t.day&&oF(t).length>1&&(_m(Jz.droppedDay(t)),delete(t=em(t)).day),n.push(void 0!==t.year?t.year:void 0!==t.day?xF:0),void 0!==t.month){var r=e?function(t){if(Object(Jw.z)(t))return(t-1).toString();var e=t.toLowerCase(),n=EF.indexOf(e);if(-1!==n)return n+"";var r=e.substr(0,3),i=CF.indexOf(r);if(-1!==i)return i+"";throw new Error(Jz.invalidTimeUnit("month",t))}(t.month):t.month;n.push(r)}else if(void 0!==t.quarter){var i=e?function(t){if(Object(Jw.z)(t))return t>4&&_m(Jz.invalidTimeUnit("quarter",t)),(t-1).toString();throw new Error(Jz.invalidTimeUnit("quarter",t))}(t.quarter):t.quarter;n.push(i+"*3")}else n.push(0);if(void 0!==t.date)n.push(t.date);else if(void 0!==t.day){var o=e?function(t){if(Object(Jw.z)(t))return t%7+"";var e=t.toLowerCase(),n=SF.indexOf(e);if(-1!==n)return n+"";var r=e.substr(0,3),i=OF.indexOf(r);if(-1!==i)return i+"";throw new Error(Jz.invalidTimeUnit("day",t))}(t.day):t.day;n.push(o+"+1")}else n.push(1);for(var a=0,s=["hours","minutes","seconds","milliseconds"];a<s.length;a++){var u=s[a];n.push(void 0!==t[u]?t[u]:0)}return t.utc?"utc("+n.join(", ")+")":"datetime("+n.join(", ")+")"}function Em(t){return!!t&&!!t.header}function Cm(t){return!!TF[t]}function Sm(t){return!!NF[t]}function Om(t){return!!AF[t]}function km(t){return t.substr(3)}function Tm(t){return!!MF[t]}function Pm(t,e){for(var n=Om(t),r=n?new Date(Date.UTC(1972,0,1,0,0,0,0)):new Date(1972,0,1,0,0,0,0),i=0,o=PF;i<o.length;i++){var a=o[i];if(Am(t,a))switch(a){case wF.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case wF.QUARTER:var s=Nm("month",n),u=s.getDateMethod;r[s.setDateMethod](3*Math.floor(e[u]()/3));break;default:var l=Nm(a,n);r[l.setDateMethod](e[l.getDateMethod]())}}return r}function Nm(t,e){var n=RF[t];return{setDateMethod:e?"setUTC"+n.substr(3):n,getDateMethod:"get"+(e?"UTC":"")+n.substr(3)}}function Im(t){return PF.reduce(function(e,n){return Am(t,n)?e.concat(n):e},[])}function Am(t,e){var n=t.indexOf(e);return n>-1&&(e!==wF.SECONDS||0===n||"i"!==t.charAt(n-1))}function Mm(t,e){var n=sm(e),r=Om(t)?"utc":"";return xm(PF.reduce(function(e,i){return Am(t,i)&&(e[i]=function(t){return t===wF.QUARTER?"("+r+"quarter("+n+")-1)":""+r+t+"("+n+")"}(i)),e},{}))}function Dm(t,e){if(t){var n=[],r=Am(t,wF.YEAR);Am(t,wF.MONTH)&&n.push(!1!==e?"%b":"%B"),Am(t,wF.DAY)?n.push(e?"%a":"%A"):Am(t,wF.DATE)&&n.push("%d"+(r?",":"")),r&&n.push(e?"%y":"%Y");var i=[];Am(t,wF.HOURS)&&i.push("%H"),Am(t,wF.MINUTES)&&i.push("%M"),Am(t,wF.SECONDS)&&i.push("%S"),Am(t,wF.MILLISECONDS)&&i.push("%L");var o=[];return n.length>0&&o.push(n.join(" ")),i.length>0&&o.push(i.join(":")),o}}function Rm(t,e,n,r){if(t){var i=Dm(t,n),o="";return Am(t,wF.QUARTER)&&(o="'Q' + quarter("+e+")"),i.length>0&&(o&&(o+=" + ' ' + "),o+=r?"utcFormat("+e+", '"+i.join(" ")+"')":"timeFormat("+e+", '"+i.join(" ")+"')"),o||void 0}}function jm(t){return"day"!==t&&t.indexOf("day")>=0?(_m(Jz.dayReplacedWithDate(t)),t.replace("day","date")):t}function Lm(t){return!!LF[t]}function zm(t){if(t)switch(t=t.toLowerCase()){case"q":case zF:return"quantitative";case"t":case BF:return"temporal";case"o":case FF:return"ordinal";case"n":case VF:return"nominal";case UF:return"geojson"}}function Fm(t){return t.selection}function Bm(t){return t&&!Object(Jw.C)(t)&&"repeat"in t}function Vm(t){var e=t.timeUnit,n=t.bin,r=t.aggregate;return $w.__assign({},e?{timeUnit:e}:{},n?{bin:n}:{},r?{aggregate:r}:{},{field:t.field})}function Um(t){return!!t&&!!t.condition}function Wm(t){return!!t&&!!t.condition&&!Object(Jw.v)(t.condition)&&Hm(t.condition)}function qm(t){return!!t&&!!t.condition&&(Object(Jw.v)(t.condition)||$m(t.condition))}function Hm(t){return!(!t||!t.field&&"count"!==t.aggregate)}function Gm(t){return Hm(t)&&Object(Jw.C)(t.field)}function $m(t){return t&&"value"in t&&void 0!==t.value}function Ym(t){return!(!t||!t.scale&&!t.sort)}function Km(t){return!(!t||!t.axis&&!t.stack&&!t.impute)}function Xm(t){return!!t&&!!t.legend}function Zm(t){return!!t&&!!t.format}function Jm(t,e){void 0===e&&(e={});var n=t.field,r=e.prefix,i=e.suffix;if(eg(t))n="count_*";else{var o=void 0;e.nofn||(!function(t){return!!t.op}(t)?Ag(t.bin)?(o=Ig(t.bin),i=e.binSuffix||""):t.aggregate?o=String(t.aggregate):t.timeUnit&&(o=String(t.timeUnit)):o=t.op),o&&(n=n?o+"_"+n:o)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),e.forAs?n:e.expr?um(n,e.expr):lm(n)}function Qm(t){switch(t.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!t.bin;case"temporal":return!1}throw new Error(Jz.invalidFieldType(t.type))}function tg(t){return!Qm(t)}function eg(t){return"count"===t.aggregate}function ng(t,e){var n=t.field,r=t.bin,i=t.timeUnit,o=t.aggregate;if("count"===o)return e.countTitle;if(Ag(r))return n+" (binned)";if(i){return n+" ("+Im(i).join("-")+")"}return o?am(o)+" of "+n:n}function rg(t,e){var n=t.aggregate||t.timeUnit||Ag(t.bin)&&"bin";return n?n.toUpperCase()+"("+t.field+")":t.field}function ig(t){qF=t}function og(){ig(WF)}function ag(t,e,n){var r=n.allowDisabling,i=(sg(t)||{}).title;return r?pm(i,t.title,ug(t,e)):i||t.title||ug(t,e)}function sg(t){return Km(t)&&t.axis?t.axis:Xm(t)&&t.legend?t.legend:Em(t)&&t.header?t.header:void 0}function ug(t,e){return qF(t,e)}function lg(t){if(Zm(t)&&t.format)return t.format;return(sg(t)||{}).format}function cg(t,e){if(t.timeUnit)return"temporal";if(Ag(t.bin))return"quantitative";switch(Ng(e)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}function fg(t){return Hm(t)?t:Wm(t)?t.condition:void 0}function pg(t,e){if(Object(Jw.C)(t)||Object(Jw.z)(t)||Object(Jw.w)(t)){var n=Object(Jw.C)(t)?"string":Object(Jw.z)(t)?"number":"boolean";return _m(Jz.primitiveChannelDef(e,n,t)),{value:t}}return Hm(t)?dg(t,e):Wm(t)?$w.__assign({},t,{condition:dg(t.condition,e)}):t}function dg(t,e){if(t.aggregate&&!mm(t.aggregate)){var n=$w.__rest(t,["aggregate"]);_m(Jz.invalidAggregate(t.aggregate)),t=n}if(t.timeUnit&&(t=$w.__assign({},t,{timeUnit:jm(t.timeUnit)})),Ag(t.bin)&&(t=$w.__assign({},t,{bin:hg(t.bin,e)})),Mg(t.bin)&&!Lh(nV,e)&&_m("Channel "+e+' should not be used with "binned" bin'),t.type){var r=zm(t.type);t.type!==r&&(t=$w.__assign({},t,{type:r})),"quantitative"!==t.type&&gm(t.aggregate)&&(_m(Jz.invalidFieldTypeForCountAggregate(t.type,t.aggregate)),t=$w.__assign({},t,{type:"quantitative"}))}else{var i=cg(t,e);_m(Jz.emptyOrInvalidFieldType(t.type,e,i)),t=$w.__assign({},t,{type:i})}var o=mg(t,e);return o.compatible||_m(o.warning),t}function hg(t,e){return Object(Jw.w)(t)?{maxbins:Rg(e)}:t.maxbins||t.step?t:$w.__assign({},t,{maxbins:Rg(e)})}function mg(t,e){var n=t.type;if("geojson"===n&&"shape"!==e)return{compatible:!1,warning:"Channel "+e+" should not be used with a geojson data."};switch(e){case"row":case"column":return tg(t)?{compatible:!1,warning:Jz.facetChannelShouldBeDiscrete(e)}:HF;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return HF;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==zF?{compatible:!1,warning:"Channel "+e+" should be used with a quantitative field only, not "+t.type+" field."}:HF;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return"nominal"!==n||t.sort?HF:{compatible:!1,warning:"Channel "+e+" should not be used with an unsorted discrete field."};case"shape":return Lh(["ordinal","nominal","geojson"],t.type)?HF:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==t.type||"sort"in t?HF:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+e)}function gg(t){return"quantitative"===t.type||Ag(t.bin)}function vg(t){return"temporal"===t.type||!!t.timeUnit}function yg(t,e){var n,r,i=e.timeUnit,o=e.type,a=e.time,s=e.undefinedIfExprNotRequired;return wm(t)?r=xm(t,!0):(Object(Jw.C)(t)||Object(Jw.z)(t))&&(i||"temporal"===o)&&(r=Cm(i)?xm((n={},n[i]=t,n),!0):Sm(i)?yg(t,{timeUnit:km(i)}):"datetime("+JSON.stringify(t)+")"),r?a?"time("+r+")":r:s?void 0:JSON.stringify(t)}function bg(t,e){var n=t.timeUnit,r=t.type;return e.map(function(t){var e=yg(t,{timeUnit:n,type:r,undefinedIfExprNotRequired:!0});return void 0!==e?{signal:e}:t})}function _g(t){return!!oB[t]}function wg(t){return Lh(["line","area","trail"],t)}function xg(t){return t.type}function Eg(t){return(xg(t)?t.type:t)in sB}function Cg(t){return"color"===t||"fill"===t||"stroke"===t}function Sg(t){return!!KB[t]}function Og(t){return!!QB[t]}function kg(t){return!!oV[t]}function Tg(t,e,n){if(Lh([rB,XF,iB,JF],n)&&Lh([bB,_B],e)){var r=t[e===bB?vB:yB];return!!(Hm(r)&&Hm(t[e])&&Mg(r.bin))}return n in Pg(e)}function Pg(t){switch(t){case MB:case DB:case RB:case LB:case zB:case qB:case HB:case FB:case BB:case VB:case UB:case WB:case PB:case NB:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,trail:!0,area:!0,text:!0,geoshape:!0};case vB:case yB:case SB:case kB:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,trail:!0,area:!0,text:!0};case bB:case _B:case OB:case TB:return{rule:!0,bar:!0,rect:!0,area:!0};case AB:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0,trail:!0};case IB:return{point:!0,geoshape:!0};case jB:return{text:!0};case wB:case xB:case EB:case CB:return{}}}function Ng(t){switch(t){case vB:case yB:case AB:case WB:case BB:case VB:case UB:case bB:case _B:case wB:case xB:case EB:case CB:return"continuous";case PB:case NB:case IB:case jB:case qB:case HB:return"discrete";case MB:case DB:case RB:return"flexible";case SB:case kB:case OB:case TB:case LB:case zB:case FB:return}throw new Error("rangeType not implemented for "+t)}function Ig(t){return Object(Jw.w)(t)?"bin":"bin"+oF(t).map(function(e){return rm("_"+e+"_"+t[e])}).join("")}function Ag(t){return!0===t||Dg(t)}function Mg(t){return"binned"===t}function Dg(t){return Object(Jw.A)(t)}function Rg(t){switch(t){case PB:case NB:case AB:case MB:case DB:case RB:case WB:case BB:case VB:case UB:case IB:return 6;default:return 10}}function jg(t,e){var n=sV[t],r=sV[e];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}function Lg(t){return lV[t]}function zg(t){return t in vV}function Fg(t){return t in yV}function Bg(t){return t in mV}function Vg(t){return t in fV}function Ug(t){return t in dV}function Wg(t){return t&&!!t.name}function qg(t){return t&&t.selection}function Hg(t,e){switch(e){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":return Lh(["sequential","ordinal","bin-ordinal","quantile","quantize","threshold"],t);case"interpolate":return Lh(["linear","bin-linear","pow","log","sqrt","utc","time"],t);case"round":return Vg(t)||"band"===t||"point"===t;case"padding":return Vg(t)||Lh(["point","band"],t);case"paddingOuter":case"rangeStep":return Lh(["point","band"],t);case"paddingInner":return"band"===t;case"clamp":return Vg(t)||"sequential"===t;case"nice":return Vg(t)||"sequential"===t||"quantize"===t;case"exponent":return"pow"===t;case"base":return"log"===t;case"zero":return Bg(t)&&!Lh(["log","time","utc","bin-linear","threshold","quantile"],t)}throw new Error("Invalid scale property "+e+".")}function Gg(t,e){switch(e){case"interpolate":case"scheme":if(!Cg(t))return Jz.cannotUseScalePropertyWithNonColor(t);return;case"type":case"domain":case"range":case"base":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "'+e+'".')}function $g(t,e,n){return Lh([kF.ORDINAL,kF.NOMINAL],e)?void 0===t||zg(t):e===kF.TEMPORAL?Lh([gB.TIME,gB.UTC,gB.SEQUENTIAL,void 0],t):e!==kF.QUANTITATIVE||Lh(n?[gB.BIN_LINEAR,gB.BIN_ORDINAL,gB.LINEAR]:[gB.LOG,gB.POW,gB.SQRT,gB.QUANTILE,gB.QUANTIZE,gB.THRESHOLD,gB.LINEAR,gB.SEQUENTIAL,void 0],t)}function Yg(t,e){switch(t){case GF.X:case GF.Y:return Vg(e)||Lh(["band","point"],e);case GF.SIZE:case GF.STROKEWIDTH:case GF.OPACITY:case GF.FILLOPACITY:case GF.STROKEOPACITY:return Vg(e)||Ug(e)||Lh(["band","point"],e);case GF.COLOR:case GF.FILL:case GF.STROKE:return"band"!==e;case GF.SHAPE:return"ordinal"===e}return!1}function Kg(t,e,n){return CV[Xg(t,e,n)]}function Xg(t,e,n){var r=t+"_"+e;return n?r+"_bin":r}function Zg(t){return!!kV[t]}function Jg(t,e,n){var r=xg(t)?t.type:t;if(!Lh(TV,r))return null;var i=function(t){var e=t.x,n=t.y;if(Hm(e)&&Hm(n))if("quantitative"===e.type&&"quantitative"===n.type){if(e.stack)return"x";if(n.stack)return"y";if(!!e.aggregate!=!!n.aggregate)return e.aggregate?"x":"y"}else{if("quantitative"===e.type)return"x";if("quantitative"===n.type)return"y"}else{if(Hm(e)&&"quantitative"===e.type)return"x";if(Hm(n)&&"quantitative"===n.type)return"y"}}(e);if(!i)return null;var o=e[i],a=Gm(o)?Jm(o,{}):void 0,s="x"===i?"y":"x",u=e[s],l=Gm(u)?Jm(u,{}):void 0,c=tV.reduce(function(t,n){if(u_(e,n)){var r=e[n];(Object(Jw.v)(r)?r:[r]).forEach(function(e){var r=fg(e);if(!r.aggregate){var i=Gm(r)?Jm(r,{}):void 0;(!i||i!==l&&i!==a)&&t.push({channel:n,fieldDef:r})}})}return t},[]);if(0===c.length)return null;var f;return(f=void 0!==o.stack?o.stack:Lh(PV,r)?pm(n,"zero"):n)&&Zg(f)?(o.scale&&o.scale.type&&o.scale.type!==gB.LINEAR&&_m(Jz.cannotStackNonLinearScale(o.scale.type)),u_(e,i===vB?bB:_B)?(void 0!==o.stack&&_m(Jz.cannotStackRangedMark(i)),null):(o.aggregate&&!Lh(cF,o.aggregate)&&_m(Jz.stackNonSummativeAggregate(o.aggregate)),{groupbyChannel:u?s:void 0,fieldChannel:i,impute:wg(r),stackBy:c,offset:f})):null}function Qg(t,e){return tv(t,e)}function tv(t,e){if(av(t))return function(t,e){var n=t.spec,r=$w.__rest(t,["spec"]);return $w.__assign({},r,{spec:tv(n,e)})}(t,e);if(uv(t))return rv(t,e);if(lv(t))return function(t,e){var n=t.spec,r=$w.__rest(t,["spec"]);return $w.__assign({},r,{spec:tv(n,e)})}(t,e);if(fv(t))return function(t,e){var n=t.vconcat,r=$w.__rest(t,["vconcat"]);return $w.__assign({},r,{vconcat:n.map(function(t){return tv(t,e)})})}(t,e);if(pv(t))return function(t,e){var n=t.hconcat,r=$w.__rest(t,["hconcat"]);return $w.__assign({},r,{hconcat:n.map(function(t){return tv(t,e)})})}(t,e);if(sv(t)){var n=u_(t.encoding,PB),r=u_(t.encoding,NB);return n||r?function(t,e){var n=t.encoding,r=n.row,i=n.column,o=$w.__rest(n,["row","column"]),a=t.mark,s=t.width,u=t.projection,l=t.height,c=t.selection,f=$w.__rest(t,["mark","width","projection","height","selection","encoding"]);return $w.__assign({},f,{facet:$w.__assign({},r?{row:r}:{},i?{column:i}:{}),spec:iv($w.__assign({},u?{projection:u}:{},{mark:a},s?{width:s}:{},l?{height:l}:{},{encoding:o},c?{selection:c}:{}),e)})}(t,e):iv(t,e)}throw new Error(Jz.INVALID_SPEC)}function ev(t){var e=t.parentEncoding,n=t.encoding;if(e&&n){var r=oF(e).reduce(function(t,e){return n[e]&&t.push(e),t},[]);r.length>0&&_m(Jz.encodingOverridden(r))}var i=$w.__assign({},e||{},n||{});return oF(i).length>0?i:void 0}function nv(t){var e=t.parentProjection,n=t.projection;return e&&n&&_m(Jz.projectionOverridden({parentProjection:e,projection:n})),n||e}function rv(t,e,n,r){var i=t.layer,o=t.encoding,a=t.projection,s=$w.__rest(t,["layer","encoding","projection"]),u=ev({parentEncoding:n,encoding:o}),l=nv({parentProjection:r,projection:a});return $w.__assign({},s,{layer:i.map(function(t){return uv(t)?rv(t,e,u,l):iv(t,e,u,l)})})}function iv(t,e,n,r){var i=t.encoding,o=t.projection,a=xg(t.mark)?t.mark.type:t.mark;if(n||r){var s=nv({parentProjection:r,projection:o}),u=ev({parentEncoding:n,encoding:i});return iv($w.__assign({},t,s?{projection:s}:{},u?{encoding:u}:{}),e)}return function(t){return Eg(t.mark)}(t)?p_(i)?function(t){var e=u_(t.encoding,vB),n=u_(t.encoding,yB),r=u_(t.encoding,bB),i=u_(t.encoding,_B);if(r&&!e||i&&!n){var o=em(t);return r&&!e&&(o.encoding.x=o.encoding.x2,delete o.encoding.x2),i&&!n&&(o.encoding.y=o.encoding.y2,delete o.encoding.y2),o}return t}(t):"line"===a&&(i.x2||i.y2)?(_m(Jz.lineWithRange(!!i.x2,!!i.y2)),iv($w.__assign({mark:"rule"},t),e,n,r)):wg(a)?function(t,e){void 0===e&&(e={});var n,r=t.selection,i=t.projection,o=t.encoding,a=t.mark,s=$w.__rest(t,["selection","projection","encoding","mark"]),u=xg(a)?a:{type:a},l=function(t,e,n){return"transparent"===t.point?{opacity:0}:t.point?Object(Jw.A)(t.point)?t.point:{}:void 0!==t.point?null:e.point||n.shape?Object(Jw.A)(e.point)?e.point:{}:null}(u,e[u.type],o),c="area"===u.type&&function(t,e){return t.line?!0===t.line?{}:t.line:void 0!==t.line?null:e.line?!0===e.line?{}:e.line:null}(u,e[u.type]);if(!l&&!c)return $w.__assign({},t,{mark:ov(u)});var f=[$w.__assign({},r?{selection:r}:{},{mark:ov($w.__assign({},u,"area"===u.type?{opacity:.7}:{})),encoding:Rh(o,["shape"])})],p=Jg(u,o,e?e.stack:void 0),d=o;if(p){var h=p.fieldChannel,m=p.offset;d=$w.__assign({},o,(n={},n[h]=$w.__assign({},o[h],m?{stack:m}:{}),n))}c&&f.push($w.__assign({},i?{projection:i}:{},{mark:$w.__assign({type:"line"},Dh(u,["clip","interpolate","tension"]),c),encoding:d}));l&&f.push($w.__assign({},i?{projection:i}:{},{mark:$w.__assign({type:"point",opacity:1,filled:!0},Dh(u,["clip"]),l),encoding:d}));return $w.__assign({},s,{layer:f})}(t,e):t:P_(t,e)}function ov(t){var e=$w.__rest(t,["point","line"]);return oF(e).length>1?e:e.type}function av(t){return void 0!==t.facet}function sv(t){return!!t.mark}function uv(t){return void 0!==t.layer}function lv(t){return void 0!==t.repeat}function cv(t){return fv(t)||pv(t)}function fv(t){return void 0!==t.vconcat}function pv(t){return void 0!==t.hconcat}function dv(t,e){return e.forEach(function(e){var n=jh(["field","type","value","timeUnit","bin","aggregate"].reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{}));t[n]=t[n]||e}),t}function hv(t,e){if(void 0===e&&(e={}),uv(t))t.layer.forEach(function(t){sv(t)?dv(e,d_(t.encoding)):hv(t,e)});else if(av(t))dv(e,d_(t.facet)),hv(t.spec,e);else if(lv(t))hv(t.spec,e);else if(cv(t)){(fv(t)?t.vconcat:t.hconcat).forEach(function(t){return hv(t,e)})}else dv(e,d_(t.encoding));return e}function mv(t){return Jh(hv(t))}function gv(t,e){return e=e||t.config,!!Eg(t.mark)&&null!==Jg(t.mark,t.encoding,e?e.stack:void 0)}function vv(t){if(av(t)||lv(t))return function(t){return vv(t.spec)}(t);if(uv(t))return function(t){var e=[];return t.layer.map(function(t){e=e.concat(vv(t))}),e}(t);if(sv(t))return function(t){var e=[];return h_(t.encoding,function(t,n){e.push(t.field)}),e}(t);throw new Error(Jz.INVALID_SPEC)}function yv(t){var e=t.anchor,n=t.offset,r=t.orient,i=t.color,o=$w.__rest(t,["anchor","frame","offset","orient","color"]);return{mark:$w.__assign({},o,i?{fill:i}:{}),nonMark:$w.__assign({},e?{anchor:e}:{},n?{offset:n}:{},r?{orient:r}:{})}}function bv(t){return Object(Jw.C)(t)?{type:t}:t||{}}function _v(t){return NV.reduce(function(e,n){return t&&void 0!==t[n]&&(e[n]=t[n]),e},{})}function wv(t){return void 0!==t.filter}function xv(t){return t&&void 0!==t.start&&void 0!==t.stop}function Ev(t){return void 0!==t.lookup}function Cv(t){return void 0!==t.sample}function Sv(t){return void 0!==t.window}function Ov(t){return void 0!==t.flatten}function kv(t){return void 0!==t.calculate}function Tv(t){return!!t.bin}function Pv(t){return void 0!==t.impute}function Nv(t){return void 0!==t.timeUnit}function Iv(t){return void 0!==t.aggregate}function Av(t){return void 0!==t.stack}function Mv(t){return void 0!==t.fold}function Dv(t){return t.map(function(t){return wv(t)?{filter:Mh(t.filter,xb)}:t})}function Rv(t){return!!t.signal}function jv(t){return!!t.step}function Lv(t){return!Object(Jw.v)(t)&&("field"in t&&"data"in t)}function zv(t,e,n,r){void 0===r&&(r={header:!1});var i=t.combine(),o=i.orient,a=i.scale,s=i.title,u=i.zindex,l=$w.__rest(i,["orient","scale","title","zindex"]);if(oF(l).forEach(function(t){var n=hF[t];n&&n!==e&&"both"!==n&&delete l[t]}),"grid"===e){if(!l.grid)return;if(l.encode){var c=l.encode.grid;l.encode=$w.__assign({},c?{grid:c}:{}),0===oF(l.encode).length&&delete l.encode}return $w.__assign({scale:a,orient:o},l,{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:pm(u,0)})}if(r.header||!t.mainExtracted){if(l.encode){for(var f=0,p=dF;f<p.length;f++){var d=p[f];t.hasAxisPart(d)||delete l.encode[d]}0===oF(l.encode).length&&delete l.encode}var h=function(t,e){return Object(Jw.v)(t)?t.map(function(t){return ug(t,e)}).join(", "):t}(s,n);return $w.__assign({scale:a,orient:o,grid:!1},h?{title:h}:{},l,{zindex:pm(u,1)})}}function Fv(t){return!(!t||"count"!==t.op&&!t.field||!t.op)}function Bv(t){return!!t&&Object(Jw.v)(t)}function Vv(t){var e=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(e=(e=e.concat(Vv(t.object))).concat(Vv(t.property))),e)}function Uv(t){return"MemberExpression"===t.object.type?Uv(t.object):"datum"===t.object.name}function Wv(t){var e={};return ej(t).visit(function(t){"MemberExpression"===t.type&&Uv(t)&&(e[Vv(t).slice(1).join(".")]=!0)}),e}function qv(t,e,n){return Jm(t,$w.__assign({prefix:e,suffix:"sort_index"},n||{}))}function Hv(t){return"top"===t||"left"===t?"header":"footer"}function Gv(t,e){return{name:e+"-title",type:"group",role:e+"-title",title:$w.__assign({text:t.component.layoutHeaders[e].title,offset:10},"row"===e?{orient:"left"}:{},{style:"guide-title"},Yv(t.config?t.config:void 0,t.component.layoutHeaders[e].facetFieldDef?t.component.layoutHeaders[e].facetFieldDef:void 0,DV,AV))}}function $v(t,e){for(var n=t.component.layoutHeaders[e],r=[],i=0,o=BV;i<o.length;i++){var a=o[i];if(n[a])for(var s=0,u=n[a];s<u.length;s++){r.push(function(t,e,n,r,i){var o;if(i){var a=null,s=r.facetFieldDef;if(s&&i.labels){var u=s.header,l=void 0===u?{}:u,c=l.format,f=l.labelAngle,p=t.config?t.config:void 0,d=$w.__assign({},function(t){if((90+(t=(t%360+360)%360))%180==0)return{};if(t<90||270<t)return{align:{value:"right"}};if(135<=t&&t<225)return{align:{value:"left"}};return{}}(f));a=$w.__assign({text:Xb(s,c,"parent",t.config),offset:10},"row"===e?{orient:"left"}:{},{style:"guide-label"},void 0!==f?{angle:f}:{},function(t){if(45<=(t=(t%360+360)%360)&&t<=135)return{baseline:"top"};return{baseline:"middle"}}(f),Yv(p,s,RV,MV),oF(d).length>0?{encode:{update:d}}:{})}var h=i.axes,m=h&&h.length>0;if(a||m){var g="row"===e?"height":"width";return $w.__assign({name:t.getName(e+"_"+n),type:"group",role:e+"-"+n},r.facetFieldDef?{from:{data:t.getName(e+"_domain")},sort:function(t,e){var n=t.sort;return Fv(n)?{field:Jm(n,{expr:"datum"}),order:n.order||"ascending"}:Object(Jw.v)(n)?{field:qv(t,e,{expr:"datum"}),order:"ascending"}:{field:Jm(t,{expr:"datum"}),order:n||"ascending"}}(s,e)}:{},a?{title:a}:{},i.sizeSignal?{encode:{update:(o={},o[g]=i.sizeSignal,o)}}:{},m?{axes:h}:{})}}return null}(t,e,a,n,u[s]))}}return r}function Yv(t,e,n,r){for(var i={},o=0,a=n;o<a.length;o++){var s=a[o];t&&t.header&&t.header[s]&&(i[r[s]]=t.header[s]),e&&e.header&&e.header[s]&&(i[r[s]]=e.header[s])}return i}function Kv(t){return[].concat(Xv(t,"width"),Xv(t,"height"))}function Xv(t,e){var n="width"===e?"x":"y",r=t.component.layoutSize.get(e);if(!r||"merged"===r)return[];var i=t.getSizeSignalRef(e).signal;if("range-step"===r){var o=t.getScaleComponent(n);if(o){var a=o.get("type"),s=o.get("range");if(zg(a)&&jv(s)){var u=t.scaleName(n);if(Yy(t.parent)){if("independent"===t.parent.component.resolve.scale[n])return[Zv(u,s)]}return[Zv(u,s),{name:i,update:Jv(u,o,"domain('"+u+"').length")}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,value:r}]}function Zv(t,e){return{name:t+"_step",value:e.step}}function Jv(t,e,n){var r=e.get("type"),i=e.get("padding"),o=pm(e.get("paddingOuter"),i),a=e.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace("+n+", "+a+", "+o+") * "+t+"_step"}function Qv(t,e){var n=t.scale[e],r=Lh(nV,e)?"axis":"legend";return"independent"===n?("shared"===t[r][e]&&_m(Jz.independentScaleMeansIndependentGuide(e)),"independent"):t[r][e]||"shared"}function ty(t){return{explicit:!0,value:t}}function ey(t){return{explicit:!1,value:t}}function ny(t){return function(e,n,r,i){var o=t(e.value,n.value);return o>0?e:o<0?n:ry(e,n,r,i)}}function ry(t,e,n,r){return t.explicit&&e.explicit&&_m(Jz.mergeConflictingProperty(n,r,t.value,e.value)),t}function iy(t,e,n,r,i){return void 0===i&&(i=ry),void 0===t||void 0===t.value?e:t.explicit&&!e.explicit?t:e.explicit&&!t.explicit?e:iF(t.value)===iF(e.value)?t:i(t,e,n,r)}function oy(t,e,n,r,i){if("gradient"!==i.get("type")){var o=$w.__assign({},function(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=Yb(o,e.markDef,e.config);void 0!==a&&(t[o]={value:a})}return t}({},n,cB),Db(n));switch(n.mark){case YF:case JF:case ZF:o.shape={value:"square"};break;case rB:case iB:o.shape={value:n.mark}}var a=n.markDef,s=n.encoding,u=a.filled,l=uy(s.opacity)||a.opacity;if(o.fill)if("fill"===r||u&&r===MB)delete o.fill;else if(o.fill.field)i.get("symbolFillColor")?delete o.fill:(o.fill={value:"black"},o.fillOpacity={value:l||1});else if(Object(Jw.v)(o.fill)){var c=ly(s.fill||s.color)||a.fill||u&&a.color;c&&(o.fill={value:c})}if(o.stroke)if("stroke"===r||!u&&r===MB)delete o.stroke;else if(o.stroke.field)delete o.stroke;else if(Object(Jw.v)(o.stroke)){var f=pm(ly(s.stroke||s.color),a.stroke,u?a.color:void 0);f&&(o.stroke={value:f})}if(r!==IB){var p=ly(s.shape)||a.shape;p&&(o.shape={value:p})}return r!==BB&&l&&(o.opacity={value:l}),o=$w.__assign({},o,e),oF(o).length>0?o:void 0}}function ay(t,e,n,r,i){var o={};if("gradient"===i.get("type")){var a=uy(n.encoding.opacity)||n.markDef.opacity;a&&(o.opacity={value:a})}return o=$w.__assign({},o,e),oF(o).length>0?o:void 0}function sy(t,e,n,r,i){var o=n.legend(r),a=n.config,s={};if(vg(t)){var u=n.getScaleComponent(r).get("type")===gB.UTC,l=e_("datum.value",t.timeUnit,o.format,a.legend.shortTimeLabels,a.timeFormat,u);e=$w.__assign({},l?{text:{signal:l}}:{},e)}return s=$w.__assign({},s,e),oF(s).length>0?s:void 0}function uy(t){return cy(t,function(t,e){return Math.max(t,e.value)})}function ly(t){return cy(t,function(t,e){return pm(t,e.value)})}function cy(t,e){return qm(t)?(Object(Jw.v)(t.condition)?t.condition:[t.condition]).reduce(e,t.value):$m(t)?t.value:void 0}function fy(t,e,n,r){return{signal:"clamp("+t.getSizeSignalRef(e).signal+", "+n+", "+r+")"}}function py(t){t.component.legends=$y(t)?function(t){var e=t.encoding;return[MB,DB,RB,WB,AB,IB,BB,VB,UB].reduce(function(n,r){var i=e[r];return!t.legend(r)||!t.getScaleComponent(r)||Hm(i)&&r===IB&&i.type===UF||(n[r]=function(t,e){for(var n=t.fieldDef(e),r=t.legend(e),i=new $V({},function(t,e){var n;switch(e){case MB:var r=t.scaleName(MB);return t.markDef.filled?{fill:r}:{stroke:r};case DB:case RB:case WB:case AB:case IB:case BB:case VB:case UB:return n={},n[e]=t.scaleName(e),n}}(t,e)),o=0,a=qV;o<a.length;o++){var s=a[o],u=function(t,e,n,r){var i=r.fieldDef(n);switch(t){case"format":return Zb(i,e.format,r.config);case"title":return ag(i,r.config,{allowDisabling:!0})||void 0;case"labelOverlap":return pm(e.labelOverlap,function(t){if(Lh(["quantile","threshold","log"],t))return"greedy"}(r.getScaleComponent(n).get("type")));case"gradientLength":var o=r.config.legend;return pm(e.gradientLength,o.gradientLength,function(t,e,n){var r=n.gradientHorizontalMaxLength,i=n.gradientHorizontalMinLength,o=n.gradientVerticalMaxLength,a=n.gradientVerticalMinLength;if("horizontal"===pm(e.direction,n.gradientDirection)){var s=pm(e.orient,n.orient);return"top"===s||"bottom"===s?fy(t,"width",i,r):i}return fy(t,"height",a,o)}(r,e,o));case"values":return function(t,e){var n=t.values;if(n)return bg(e,n)}(e,i)}return e[t]}(s,r,e,t);if(void 0!==u){var l=dy(u,s,r,n);(l||void 0===t.config.legend[s])&&i.set(s,u,l)}}var c=r.encoding||{},f=["labels","legend","title","symbols","gradient"].reduce(function(r,o){var a=s_(c[o]||{},t),s=Fw[o]?Fw[o](n,a,t,e,i):a;return void 0!==s&&oF(s).length>0&&(r[o]={update:s}),r},{});oF(f).length>0&&i.set("encode",f,!!r.encoding);return i}(t,r)),n},{})}(t):function(t){for(var e=t.component,n=e.legends,r=e.resolve,i=function(e){py(e),oF(e.component.legends).forEach(function(i){r.legend[i]=Qv(t.component.resolve,i),"shared"===r.legend[i]&&(n[i]=hy(n[i],e.component.legends[i]),n[i]||(r.legend[i]="independent",delete n[i]))})},o=0,a=t.children;o<a.length;o++){var s=a[o];i(s)}return oF(n).forEach(function(e){for(var n=0,i=t.children;n<i.length;n++){var o=i[n];o.component.legends[e]&&"shared"===r.legend[e]&&delete o.component.legends[e]}}),n}(t)}function dy(t,e,n,r){switch(e){case"values":return!!n.values;case"title":if("title"===e&&t===r.title)return!0}return t===n[e]}function hy(t,e){if(!t)return e.clone();var n=t.getWithExplicit("orient"),r=e.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=!1,o=function(n){var r=iy(t.getWithExplicit(n),e.getWithExplicit(n),n,"legend",function(t,e){switch(n){case"title":return o_(t,e);case"type":return i=!0,ey("symbol")}return ry(t,e,n,"legend")});t.setWithExplicit(n,r)},a=0,s=HV;a<s.length;a++){o(s[a])}return i&&(((t.implicit||{}).encode||{}).gradient&&om(t.implicit,["encode","gradient"]),((t.explicit||{}).encode||{}).gradient&&om(t.explicit,["encode","gradient"])),t}}function my(t){for(var e=t.component.legends,n={},r=0,i=oF(e);r<i.length;r++){var o=i[r],a=t.getScaleComponent(o),s=iF(a.domains);if(n[s])for(var u=0,l=n[s];u<l.length;u++){hy(l[u],e[o])||n[s].push(e[o])}else n[s]=[e[o].clone()]}return Uh(Jh(n)).map(function(t){var e=t.combine();if(e.encode&&e.encode.symbols){var n=e.encode.symbols.update;!n.fill||"transparent"===n.fill.value||n.stroke||e.stroke||(n.stroke={value:"transparent"})}return e})}function gy(t){return Zy(t)||Xy(t)||Ky(t)?function(t){return t.children.reduce(function(t,e){return t.concat(e.assembleProjections())},vy(t))}(t):vy(t)}function vy(t){var e=t.component.projection;if(!e||e.merged)return[];var n=e.combine(),r=n.name,i=$w.__rest(n,["name"]),o={signal:"["+e.size.map(function(t){return t.signal}).join(", ")+"]"},a=e.data.reduce(function(e,n){var r=Rv(n)?n.signal:"data('"+t.lookupDataSource(n)+"')";return Lh(e,r)||e.push(r),e},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[$w.__assign({name:r,size:o,fit:{signal:a.length>1?"["+a.join(", ")+"]":a[0]}},i)]}function yy(t){return!!t.url}function by(t){return!!t.values}function _y(t){return!!t.name&&!yy(t)&&!by(t)}function wy(t){t.component.projection=$y(t)?function(t){var e=t.specifiedProjection,n=t.config;if(t.hasProjection){var r=[];return[[kB,SB],[TB,OB]].forEach(function(e){(t.channelHasField(e[0])||t.channelHasField(e[1]))&&r.push({signal:t.getName("geojson_"+r.length)})}),t.channelHasField(IB)&&t.fieldDef(IB).type===UF&&r.push({signal:t.getName("geojson_"+r.length)}),0===r.length&&r.push(t.requestDataName(YV)),new ZV(t.projectionName(!0),$w.__assign({},n.projection||{},e||{}),[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")],r)}return}(t):function(t){if(0===t.children.length)return;var e,n=Vh(t.children,function(t){wy(t);var n=t.component.projection;if(n){if(e){var r=function(t,e){var n=Vh(XV,function(n){return!t.explicit.hasOwnProperty(n)&&!e.explicit.hasOwnProperty(n)||!(!t.explicit.hasOwnProperty(n)||!e.explicit.hasOwnProperty(n)||iF(t.get(n))!==iF(e.get(n)))});if(iF(t.size)===iF(e.size)){if(n)return t;if(iF(t.explicit)===iF({}))return e;if(iF(e.explicit)===iF({}))return t}return null}(e,n);return r&&(e=r),!!r}return e=n,!0}return!0});if(e&&n){var r=t.projectionName(!0),i=new ZV(r,e.specifiedProjection,e.size,em(e.data));return t.children.forEach(function(t){t.component.projection&&(i.data=i.data.concat(t.component.projection.data),t.renameProjection(t.component.projection.get("name"),r),t.component.projection.merged=!0)}),i}return}(t)}function xy(t){for(var e=0,n=t;e<n.length;e++){for(var r=n[e],i=0,o=r.children;i<o.length;i++){var a=o[i];if(a.parent!==r)return console.error("Dataflow graph is inconsistent.",parent,a),!1}if(!xy(r.children))return!1}return!0}function Ey(t){if(t instanceof rU)if(1!==t.numChildren()||t.children[0]instanceof LV){var e=t.model.component.data.main;Cy(e);for(var n=function(t){function e(n){if(!(n instanceof rU)){var r=n.clone();if(r instanceof LV){var i=mU+r.getSource();r.setSource(i),t.model.component.data.outputNodes[i]=r}else(r instanceof nU||r instanceof oU||r instanceof sU)&&r.addDimensions(t.fields);return Uh(n.children.map(e)).forEach(function(t){return t.parent=r}),[r]}return Uh(n.children.map(e))}return e}(t),r=0,i=Uh(t.children.map(n));r<i.length;r++){i[r].parent=e}}else{var o=t.children[0];(o instanceof nU||o instanceof oU||o instanceof sU)&&o.addDimensions(t.fields),o.swapWithParent(),Ey(t)}else t.children.map(Ey)}function Cy(t){if(t instanceof LV&&t.type===YV&&1===t.numChildren()){var e=t.children[0];e instanceof rU||(e.swapWithParent(),Cy(t))}}function Sy(t){function e(t){0===t.numChildren()?n.push(t):t.children.forEach(e)}var n=[];return t.forEach(e),n}function Oy(t){return t}function ky(t,e,n){return e.map(function(e){var n=new t;return n instanceof tU?n.optimizeNextFromLeaves(e):n.run(e)}).some(Oy)||n}function Ty(t){var e=t.sources,n=!1;return n=ky(pU,e,n),e=e.filter(function(t){return t.numChildren()>0}),n=ky(cU,Sy(e),n),e=e.filter(function(t){return t.numChildren()>0}),n=ky(uU,Sy(e),n),n=ky(fU,Sy(e),n),n=ky(dU,Sy(e),n),n=ky(hU,Sy(e),n),n=ky(lU,e,n),t.sources=e,n}function Py(t){$y(t)?function(t){var e=t.specifiedScales,n=t.component.scales;oF(n).forEach(function(r){var i=e[r],o=i?i.domain:void 0,a=function(t,e){var n=t.getScaleComponent(e).get("type"),r=function(t,e,n,r){if("unaggregated"===t){var i=Iy(e,n),o=i.valid,a=i.reason;if(!o)return void _m(a)}else if(void 0===t&&r.useUnaggregatedDomain){var o=Iy(e,n).valid;if(o)return"unaggregated"}return t}(t.scaleDomain(e),t.fieldDef(e),n,t.config.scale);r!==t.scaleDomain(e)&&(t.specifiedScales[e]=$w.__assign({},t.specifiedScales[e],{domain:r}));if("x"===e&&t.channelHasField("x2"))return t.channelHasField("x")?Ny(n,r,t,"x").concat(Ny(n,r,t,"x2")):Ny(n,r,t,"x2");if("y"===e&&t.channelHasField("y2"))return t.channelHasField("y")?Ny(n,r,t,"y").concat(Ny(n,r,t,"y2")):Ny(n,r,t,"y2");return Ny(n,r,t,e)}(t,r),s=n[r];if(s.domains=a,qg(o)&&s.set("domainRaw",{signal:HU+jh(o)},!0),t.component.data.isFaceted){for(var u=t;!Yy(u)&&u.parent;)u=u.parent;var l=u.component.resolve.scale[r];if("shared"===l)for(var c=0,f=a;c<f.length;c++){var p=f[c];Lv(p)&&(p.data=mU+p.data.replace(mU,""))}}})}(t):function(t){for(var e=0,n=t.children;e<n.length;e++){var r=n[e];Py(r)}var i=t.component.scales;oF(i).forEach(function(e){for(var n,r=null,o=0,a=t.children;o<a.length;o++){var s=a[o],u=s.component.scales[e];if(u){n=void 0===n?u.domains:n.concat(u.domains);var l=u.get("domainRaw");r&&l&&r.signal!==l.signal&&_m("The same selection must be used to override scale domains in a layered view."),r=l}}i[e].domains=n,r&&i[e].set("domainRaw",r,!0)})}(t)}function Ny(t,e,n,r){var i=n.fieldDef(r);if(e&&"unaggregated"!==e&&!qg(e)){var o=i.type,a=i.timeUnit;return"temporal"===o||a?function(t,e,n){return t.map(function(t){return{signal:"{data: "+yg(t,{timeUnit:n,type:e})+"}"}})}(e,o,a):[e]}var s=n.stack;if(s&&r===s.fieldChannel){if("normalize"===s.offset)return[[0,1]];return[{data:l=n.requestDataName(YV),field:n.vgField(r,{suffix:"start"})},{data:l,field:n.vgField(r,{suffix:"end"})}]}var u=kg(r)?function(t,e,n){if(!zg(n))return;var r=t.fieldDef(e),i=r.sort;if(Bv(i))return{op:"min",field:qv(r,e),order:"ascending"};if(Fv(i))return $w.__assign({},i,i.field?{field:lm(i.field)}:{});if("descending"===i)return{op:"min",field:t.vgField(e),order:"descending"};if(Lh(["ascending",void 0],i))return!0;return}(n,r,t):void 0;if("unaggregated"===e){var l=n.requestDataName(YV),c=i.field;return[{data:l,field:Jm({field:c,aggregate:"min"})},{data:l,field:Jm({field:c,aggregate:"max"})}]}if(Ag(i.bin)){if(Fg(t)){var f=n.getName(Ig(i.bin)+"_"+i.field+"_bins");return[{signal:"sequence("+f+".start, "+f+".stop + "+f+".step, "+f+".step)"}]}if(zg(t))return[{data:nm(u)?n.requestDataName(YV):n.requestDataName(KV),field:n.vgField(r,a_(i,r)?{binSuffix:"range"}:{}),sort:!0!==u&&Fv(u)?u:{field:n.vgField(r,{}),op:"min"}}];if("x"===r||"y"===r){if(Dg(i.bin)&&i.bin.extent)return[i.bin.extent];return[{data:l=n.requestDataName(YV),field:n.vgField(r,{})},{data:l,field:n.vgField(r,{binSuffix:"end"})}]}return[{data:n.requestDataName(YV),field:n.vgField(r,{})}]}return u?[{data:nm(u)?n.requestDataName(YV):n.requestDataName(KV),field:n.vgField(r),sort:u}]:[{data:n.requestDataName(YV),field:n.vgField(r)}]}function Iy(t,e){return t.aggregate?pF[t.aggregate]?"quantitative"===t.type&&"log"===e?{valid:!1,reason:Jz.unaggregatedDomainWithLogScale(t)}:{valid:!0}:{valid:!1,reason:Jz.unaggregateDomainWithNonSharedDomainOp(t.aggregate)}:{valid:!1,reason:Jz.unaggregateDomainHasNoEffectForRawField(t)}}function Ay(t){if(Lv(t)&&Object(Jw.C)(t.field))return t.field;if(function(t){return!Object(Jw.v)(t)&&"fields"in t&&!("data"in t)}(t)){for(var e=void 0,n=0,r=t.fields;n<r.length;n++){var i=r[n];if(Lv(i)&&Object(Jw.C)(i.field))if(e){if(e!==i.field)return _m("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),e}else e=i.field}return _m("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),e}if(function(t){return!Object(Jw.v)(t)&&"fields"in t&&"data"in t}(t)){_m("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");e=t.fields[0];return Object(Jw.C)(e)?e:void 0}}function My(t,e){return function(t){var e=Hh(t.map(function(t){return Lv(t)?$w.__rest(t,["sort"]):t}),jh),n=Hh(t.map(function(t){if(Lv(t)){var e=t.sort;return void 0===e||nm(e)||("count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}}).filter(function(t){return void 0!==t}),jh);if(1===e.length){if(Lv(s=t[0])&&n.length>0){var r=n[0];return n.length>1&&(_m(Jz.MORE_THAN_ONE_SORT),r=!0),$w.__assign({},s,{sort:r})}return s}var i,o=Hh(n.map(function(t){return nm(t)?t:"count"===t.op?t:(_m(Jz.domainSortDropped(t)),!0)}),jh);1===o.length?i=o[0]:o.length>1&&(_m(Jz.MORE_THAN_ONE_SORT),i=!0);var a=Hh(t.map(function(t){return Lv(t)?t.data:null}),function(t){return t});if(1===a.length&&null!==a[0]){var s;return s=$w.__assign({data:a[0],fields:e.map(function(t){return t.field})},i?{sort:i}:{})}return $w.__assign({fields:e},i?{sort:i}:{})}(t.component.scales[e].domains.map(function(e){return Lv(e)&&(e.data=t.lookupDataSource(e.data)),e}))}function Dy(t){return Zy(t)||Xy(t)||Ky(t)?t.children.reduce(function(t,e){return t.concat(Dy(e))},Ry(t)):Ry(t)}function Ry(t){return oF(t.component.scales).reduce(function(e,n){var r=t.component.scales[n];if(r.merged)return e;var i=r.combine(),o=i.domainRaw,a=i.range,s=i.name,u=i.type,l=$w.__rest(i,["name","type","domainRaw","range"]);return a=function(t,e,n,r){if("x"===r||"y"===r){if(jv(t))return{step:{signal:e+"_step"}};if(Object(Jw.v)(t)&&2===t.length){var i=t[0],o=t[1];if(0===i&&Rv(o))return[0,{signal:n.getSizeName(o.signal)}];if(Rv(i)&&0===o)return[{signal:n.getSizeName(i.signal)},0]}}return t}(a,s,t,n),o&&function(t){return t.signal.indexOf(HU)>=0}(o)&&(o=function(t,e){var n=JSON.parse(e.signal.replace(HU,"")),r=rm(n.selection),i=n.encoding,o=n.field,a=t.component.selection&&t.component.selection[r];if(!a){if(a=t.getSelectionComponent(r,n.selection),i||o){if(i&&!o){var s=a.project.filter(function(t){return t.channel===i});!s.length||s.length>1?(o=a.project[0].field,_m((s.length?"Multiple ":"No ")+"matching "+Object(Jw.O)(i)+" encoding found for selection "+Object(Jw.O)(n.selection)+'. Using "field": '+Object(Jw.O)(o)+".")):o=s[0].field}}else o=a.project[0].field,a.project.length>1&&_m('A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": '+Object(Jw.O)(o)+".");return{signal:sm(o,r)}}_m('Use "bind": "scales" to setup a binding for scales and selections within the same view.');return{signal:"null"}}(t,o)),e.push($w.__assign({name:s,type:u,domain:My(t,n)},o?{domainRaw:o}:{},{range:a},l)),e},[])}function jy(t){return t&&!!t.scheme}function Ly(t){return qh(em(wU),t)}function zy(t){t=em(t);for(var e=0,n=EU;e<n.length;e++){delete t[w=n[e]]}if(t.axis)for(var r=0,i=yU;r<i.length;r++){delete t.axis[w=i[r]]}if(t.legend){for(var o=0,a=yU;o<a.length;o++){delete t.legend[w=a[o]]}for(var s=0,u=bU;s<u.length;s++){delete t.legend[w=u[s]]}}if(t.mark)for(var l=0,c=fB;l<c.length;l++){delete t.mark[w=c[l]]}for(var f=0,p=xU;f<p.length;f++){for(var d=p[f],h=0,m=fB;h<m.length;h++){delete t[d][w=m[h]]}var g=CU[d];if(g)for(var v=0,y=g;v<y.length;v++){delete t[d][w=y[v]]}Fy(t,d)}for(var b=0,_=k_();b<_.length;b++){delete t[_[b]]}Fy(t,"title","group-title");for(var w in t)Object(Jw.A)(t[w])&&0===oF(t[w]).length&&delete t[w];return oF(t).length>0?t:void 0}function Fy(t,e,n,r){var i="title"===e?yv(t.title).mark:r?t[e][r]:t[e];"view"===e&&(n="cell");var o=$w.__assign({},i,t.style[e]);oF(o).length>0&&(t.style[n||e]=o),r||delete t[e]}function By(t){$y(t)?function(t){var e=t.component.scales;aV.forEach(function(n){var r=e[n];if(r){var i=t.getScaleComponent(n),o=t.specifiedScales[n],a=t.fieldDef(n),s="x"===n?"width":"y"===n?"height":void 0,u=s?!!t.component.layoutSize.get(s):void 0,l=i.get("type"),c=Lh(["point","band"],l)||!!o.rangeStep;s&&t.fit&&!u&&c&&(_m(Jz.CANNOT_FIX_RANGE_STEP_WITH_FIT),u=!0);var f=function(t){var e=[],n=t.getScaleComponent("x"),r=n&&n.get("range");r&&jv(r)&&Object(Jw.z)(r.step)&&e.push(r.step);var i=t.getScaleComponent("y"),o=i&&i.get("range");o&&jv(o)&&Object(Jw.z)(o.step)&&e.push(o.step);return e}(t),p=function(t,e,n,r,i,o,a,s,u,l){for(var c=s||null===r.rangeStep,f=0,p=SU;f<p.length;f++){var d=p[f];if(void 0!==r[d]){var h=Hg(e,d),m=Gg(t,d);if(h)if(m)_m(m);else switch(d){case"range":return ty(r[d]);case"scheme":return ty(function(t){if(Wg(t)){var e={scheme:t.name};return t.count&&(e.count=t.count),t.extent&&(e.extent=t.extent),e}return{scheme:t}}(r[d]));case"rangeStep":var g=r[d];if(null!==g){if(!s)return ty({step:g});_m(Jz.rangeStepDropped(t))}}else _m(Jz.scalePropertyNotWorkWithScaleType(e,d,t))}}return ey(function(t,e,n,r,i,o,a,s,u,l){switch(t){case vB:case yB:if(Lh(["point","band"],e)&&!u)if(t===vB&&"text"===o){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return t===yB&&Bg(e)?[{signal:a},0]:[0,{signal:a}];case AB:var c=function(t,e,n){if(e)return 0;switch(t){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Jz.incompatibleChannel("size",t))}(o,i,r),f=function(t,e,n){var r=n.scale;switch(t){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:Uy(e,n.scale)-1;case"line":case"trail":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=Uy(e,r);return(i-2)*(i-2)}throw new Error(Jz.incompatibleChannel("size",t))}(o,s,r);return Ug(e)?function(t,e,n){for(var r=[],i=(e-t)/(n-1),o=0;o<n;o++)r.push(t+o*i);return r}(c,f,Vy(e,r,l,t)):[c,f];case WB:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case IB:return"symbol";case MB:case DB:case RB:if("ordinal"===e)return"nominal"===n?"category":"ordinal";if(Ug(e)){var p=Vy(e,r,l,t);return r.range&&jy(r.range.ordinal)?$w.__assign({},r.range.ordinal,{count:p}):{scheme:"blues",count:p}}return Vg(e)?["#f7fbff","#0e427f"]:"rect"===o||"geoshape"===o?"heatmap":"ramp";case BB:case VB:case UB:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+t)}(t,e,n,i,o,a,u,l,c,r.domain))}(n,l,a.type,o,t.config,r.get("zero"),t.mark,u,t.getName(s),f);r.setWithExplicit("range",p)}})}(t):qy(t,"range")}function Vy(t,e,n,r){switch(t){case"quantile":return e.scale.quantileCount;case"quantize":return e.scale.quantizeCount;case"threshold":return void 0!==n&&Object(Jw.v)(n)?n.length+1:(_m(Jz.domainRequiredForThresholdScale(r)),3)}}function Uy(t,e){return t.length>0?Math.min.apply(null,t):e.rangeStep?e.rangeStep:21}function Wy(t,e){$y(t)?function(t,e){var n=t.component.scales;oF(n).forEach(function(r){var i=t.specifiedScales[r],o=n[r],a=t.getScaleComponent(r),s=t.fieldDef(r),u=t.config,l=i[e],c=a.get("type"),f=Hg(c,e),p=Gg(r,e);if(void 0!==l&&(f?p&&_m(p):_m(Jz.scalePropertyNotWorkWithScaleType(c,e,r))),f&&void 0===p)if(void 0!==l)o.copyKeyFromObject(e,i);else{var d=function(t,e,n,r,i,o,a,s,u){var l=u.scale;switch(t){case"interpolate":return function(t,e){if(Lh([MB,DB,RB],t)&&Vg(e))return"hcl";return}(e,r);case"nice":return function(t,e,n){if(n.bin||Lh([gB.TIME,gB.UTC],t))return;return!!Lh([vB,yB],e)||void 0}(r,e,n);case"padding":return function(t,e,n,r,i,o){if(Lh([vB,yB],t)){if(Vg(e)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,s=i.orient;if("bar"===a&&!r.bin&&("vertical"===s&&"x"===t||"horizontal"===s&&"y"===t))return o.continuousBandSize}if(e===gB.POINT)return n.pointPadding}return}(e,r,l,n,s,u.bar);case"paddingInner":return function(t,e,n){if(void 0!==t)return;if(Lh([vB,yB],e))return n.bandPaddingInner;return}(i,e,l);case"paddingOuter":return function(t,e,n,r,i){if(void 0!==t)return;if(Lh([vB,yB],e)&&n===gB.BAND)return void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2;return}(i,e,r,o,l);case"reverse":return function(t,e){if(Bg(t)&&"descending"===e)return!0;return}(r,n.sort);case"zero":return function(t,e,n,r,i){if(n&&"unaggregated"!==n)return!1;if("size"===t&&"quantitative"===e.type&&!Ug(i))return!0;if(!e.bin&&Lh([vB,yB],t)){var o=r.orient,a=r.type;return!Lh(["bar","area","line","trail"],a)||!("horizontal"===o&&"y"===t||"vertical"===o&&"x"===t)}return!1}(e,n,a,s,r)}return l[t]}(e,r,s,a.get("type"),a.get("padding"),a.get("paddingInner"),i.domain,t.markDef,u);void 0!==d&&o.set(e,d,!1)}})}(t,e):qy(t,e)}function qy(t,e){for(var n=t.component.scales,r=0,i=t.children;r<i.length;r++){var o=i[r];"range"===e?By(o):Wy(o,e)}oF(n).forEach(function(r){for(var i,o=0,a=t.children;o<a.length;o++){var s=a[o].component.scales[r];if(s){i=iy(i,s.getWithExplicit(e),e,"scale",ny(function(t,n){switch(e){case"range":return t.step&&n.step?t.step-n.step:0}return 0}))}}n[r].setWithExplicit(e,i)})}function Hy(t,e,n,r,i){var o=function(t,e,n,r,i){switch(e.type){case"nominal":case"ordinal":if(Cg(t)||"discrete"===Ng(t))return"shape"===t&&"ordinal"===e.type&&_m(Jz.discreteChannelCannotEncode(t,"ordinal")),"ordinal";if(Lh(["x","y"],t)){if(Lh(["rect","bar","rule"],n))return"band";if("bar"===n)return"band"}return"point";case"temporal":return Cg(t)?"sequential":"discrete"===Ng(t)?(_m(Jz.discreteChannelCannotEncode(t,"temporal")),"ordinal"):"time";case"quantitative":if(Cg(t)){if(Ag(e.bin))return"bin-ordinal";var o=r||{},a=o.domain,s=void 0===a?void 0:a,u=o.range,l=void 0===u?void 0:u;return s&&Object(Jw.v)(s)&&s.length>2&&l&&Object(Jw.v)(l)&&l.length>2?"linear":"sequential"}return"discrete"===Ng(t)?(_m(Jz.discreteChannelCannotEncode(t,"quantitative")),"ordinal"):Ag(e.bin)&&"x"!==t&&"y"!==t?"bin-linear":"linear";case"geojson":return}throw new Error(Jz.invalidFieldType(e.type))}(e,n,r,t),a=t.type;return kg(e)?void 0!==a?Yg(e,a)?$g(a,n.type,n.bin)?a:(_m(Jz.scaleTypeNotWorkWithFieldDef(a,o)),o):(_m(Jz.scaleTypeNotWorkWithChannel(e,a,o)),o):o:null}function Gy(t){t.component.scales=$y(t)?function(t){var e=t.encoding,n=t.mark;return aV.reduce(function(r,i){var o,a,s=e[i];if(Hm(s)&&n===nB&&i===IB&&s.type===UF)return r;if(Hm(s)?(o=s,a=s.scale):Wm(s)?(o=s.condition,a=s.condition.scale):i===vB?o=fg(e.x2):i===yB&&(o=fg(e.y2)),o&&null!==a&&!1!==a){var u=Hy(a=a||{},i,o,n);r[i]=new vU(t.scaleName(i+"",!0),{value:u,explicit:a.type===u})}return r},{})}(t):function(t){for(var e=t.component.scales={},n={},r=t.component.resolve,i=function(e){Gy(e),oF(e.component.scales).forEach(function(i){if(r.scale[i]=r.scale[i]||function(t,e){if(Zy(e)||Yy(e))return"shared";if(Xy(e)||Ky(e))return Lh(nV,t)?"independent":"shared";throw new Error("invalid model type for resolve")}(i,t),"shared"===r.scale[i]){var o=n[i],a=e.component.scales[i].getWithExplicit("type");o?jg(o.value,a.value)?n[i]=iy(o,a,"type","scale",OU):(r.scale[i]="independent",delete n[i]):n[i]=a}})},o=0,a=t.children;o<a.length;o++){var s=a[o];i(s)}return oF(n).forEach(function(r){var i=t.scaleName(r,!0);e[r]=new vU(i,n[r]);for(var o=0,a=t.children;o<a.length;o++){var s=a[o],u=s.component.scales[r];u&&(s.renameScale(u.get("name"),i),u.merged=!0)}}),e}(t)}function $y(t){return t&&"unit"===t.type}function Yy(t){return t&&"facet"===t.type}function Ky(t){return t&&"repeat"===t.type}function Xy(t){return t&&"concat"===t.type}function Zy(t){return t&&"layer"===t.type}function Jy(t,e){return"domain("+Object(Jw.O)(t.scaleName(e))+")"}function Qy(t,e){return t.events.reduce(function(t,n){return n.between?e(t,n):(_m(n+" is not an ordered event stream for interval selections"),t)},[])}function tb(t,e){var n=e.name,r=n+WU+NU,i=e.project,o=DU.has(e)?"(item().isVoronoi ? datum.datum : datum)":"datum",a=i.map(function(e){var n=t.fieldDef(e.channel);return n&&n.bin?"["+sm(t.vgField(e.channel,{}),o)+", "+sm(t.vgField(e.channel,{binSuffix:"end"}),o)+"]":""+sm(e.field,o)}).join(", ");return[{name:n+WU,value:{},on:[{events:e.events,update:"datum && item().mark.marktype !== 'group' ? {unit: "+sb(t)+", fields: "+r+", values: ["+a+"]} : null",force:!0}]}]}function eb(t,e,n,r,i){var o=e.name,a=IU.has(e),s=i.filter(function(t){return t.name===lb(e,n,a?"data":"visual")})[0],u=o+LU,l=o+zU,c=t.getSizeSignalRef(r).signal,f=t.getScaleComponent(n),p=f.get("type"),d=u+".extent_"+n,h=(a?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear")+"("+d+", "+(""+(a&&n===vB?"-":"")+l+"."+n+" / "+(a?""+c:"span("+d+")"))+(a&&"pow"===p?", "+(f.get("exponent")||1):"")+")";s.on.push({events:{signal:l},update:a?h:"clampRange("+h+", 0, "+c+")"})}function nb(t,e,n,r,i){var o=e.name,a=IU.has(e),s=i.filter(function(t){return t.name===lb(e,n,a?"data":"visual")})[0],u=t.getSizeSignalRef(r).signal,l=t.getScaleComponent(n),c=l.get("type"),f=a?Jy(t,n):s.name,p=o+BU,d=(a?"log"===c?"zoomLog":"pow"===c?"zoomPow":"zoomLinear":"zoomLinear")+"("+f+", "+(""+o+FU+"."+n)+", "+p+(a&&"pow"===c?", "+(l.get("exponent")||1):"")+")";s.on.push({events:{signal:p},update:a?d:"clampRange("+d+", 0, "+u+")"})}function rb(t,e){for(var n in VU)VU[n].has(t)&&e(VU[n])}function ib(t,e){return ab(t,function(n,r){e=r.marks?r.marks(t,n,e):e,rb(n,function(r){r.marks&&(e=r.marks(t,n,e))})}),e}function ob(t,e,n){var r=[],i=im(e,function(e){var i=rm(e),o=t.getSelectionComponent(i,e),a=Object(Jw.O)(i+UU);if(o.timeUnit){var s=n||t.component.data.raw,u=o.timeUnit.clone();s.parent?u.insertAsParentOf(s):s.parent=u}return"none"!==o.empty&&r.push(a),"vlSelectionTest("+a+", datum"+("global"===o.resolve?")":", "+Object(Jw.O)(o.resolve)+")")});return(r.length?"!("+r.map(function(t){return"length(data("+t+"))"}).join(" || ")+") || ":"")+"("+i+")"}function ab(t,e){var n=t.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];e(i,function(t){switch(t){case"single":return jU;case"multi":return RU;case"interval":return MU}return null}(i.type))}}function sb(t){var e=Object(Jw.O)(t.name),n=function(t){for(var e=t.parent;e&&!Yy(e);)e=e.parent;return e}(t);return n&&(e+=(n.facet.row?" + '_' + ("+sm(n.vgField("row"),"facet")+")":"")+(n.facet.column?" + '_' + ("+sm(n.vgField("column"),"facet")+")":"")),e}function ub(t){var e=!1;return ab(t,function(t){e=e||t.project.some(function(t){return t.field===SV})}),e}function lb(t,e,n){var r=t._signalNames||(t._signalNames={});if(r[e]&&r[e][n])return r[e][n];r[e]=r[e]||{};for(var i=rm(t.name+"_"+("visual"===n?e:t.fields[e])),o=i,a=1;r[o];)o=i+"_"+a++;return r[o]=r[e][n]=o}function cb(t){var e=null,n=null,r=null,i=null;return t.project.forEach(function(t,o){t.channel===vB?(e=t,n=o):t.channel===yB&&(r=t,i=o)}),{x:e,xi:n,y:r,yi:i}}function fb(t){return t&&!!t.field&&void 0!==t.equal}function pb(t){return t&&!!t.field&&void 0!==t.lt}function db(t){return t&&!!t.field&&void 0!==t.lte}function hb(t){return t&&!!t.field&&void 0!==t.gt}function mb(t){return t&&!!t.field&&void 0!==t.gte}function gb(t){return!!(t&&t.field&&Object(Jw.v)(t.range)&&2===t.range.length)}function vb(t){return t&&!!t.field&&(Object(Jw.v)(t.oneOf)||Object(Jw.v)(t.in))}function yb(t){return vb(t)||fb(t)||gb(t)||pb(t)||hb(t)||db(t)||mb(t)}function bb(t,e,n){return im(e,function(e){return Object(Jw.C)(e)?e:function(t){return t&&t.selection}(e)?ob(t,e.selection,n):wb(e)})}function _b(t,e){return yg(t,{timeUnit:e,time:!0})}function wb(t,e){void 0===e&&(e=!0);var n=t.timeUnit,r=n?"time("+Mm(n,t.field)+")":Jm(t,{expr:"datum"});if(fb(t))return r+"==="+_b(t.equal,n);if(pb(t)){return r+"<"+_b(o=t.lt,n)}if(hb(t)){return r+">"+_b(i=t.gt,n)}if(db(t)){return r+"<="+_b(o=t.lte,n)}if(mb(t)){return r+">="+_b(i=t.gte,n)}if(vb(t))return"indexof(["+function(t,e){return t.map(function(t){return _b(t,e)})}(t.oneOf,n).join(",")+"], "+r+") !== -1";if(function(t){return t&&!!t.field&&void 0!==t.valid}(t))return t.valid?r+"!==null&&!isNaN("+r+")":r+"===null||isNaN("+r+")";if(gb(t)){var i,o=t.range[1];if(null!==(i=t.range[0])&&null!==o&&e)return"inrange("+r+", ["+_b(i,n)+", "+_b(o,n)+"])";var a=[];return null!==i&&a.push(r+" >= "+_b(i,n)),null!==o&&a.push(r+" <= "+_b(o,n)),a.length>0?a.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(t))}function xb(t){return yb(t)&&t.timeUnit?$w.__assign({},t,{timeUnit:jm(t.timeUnit)}):t}function Eb(t,e){var n=e[t+"Offset"];if(n)return n}function Cb(t,e,n,r){return Sb(t,e,{binSuffix:"start"===n?void 0:"end"},r?{offset:r}:{})}function Sb(t,e,n,r){var i=$w.__assign({},e?{scale:e}:{},{field:Jm(t,n)});return r?$w.__assign({},i,r):i}function Ob(t,e){return void 0===e&&(e=!0),{scale:t,band:e}}function kb(t,e,n){return{signal:'scale("'+t+'", ('+Jm(e,{expr:"datum"})+" + "+(void 0!==n?Jm(n,{expr:"datum"}):Jm(e,{binSuffix:"end",expr:"datum"}))+") / 2)"}}function Tb(t,e,n,r,i,o,a){if(e){if(Hm(e)){if(Ag(e.bin))return Lh([vB,yB],t)&&e.type===zF?o&&o.impute?Sb(e,r,{binSuffix:"mid"}):kb(r,e):Sb(e,r,a_(e,t)?{binSuffix:"range"}:{});if(Mg(e.bin)){if(Hm(n))return kb(r,e,n);_m(Jz.channelRequiredForBinned(t===vB?bB:_B))}if(i){var s=i.get("type");if(zg(s))return"band"===s?Sb(e,r,{binSuffix:"range"},{band:.5}):Sb(e,r,{binSuffix:"range"})}return Sb(e,r,{})}if($m(e)){var u=e.value;return Lh(["x","x2"],t)&&"width"===u?{field:{group:"width"}}:Lh(["y","y2"],t)&&"height"===u?{field:{group:"height"}}:{value:u}}}return Object(Jw.y)(a)?a():a}function Pb(t,e){for(var n=[],r={},i=0,o=t;i<o.length;i++){var a=o[i],s=ag(a,e,{allowDisabling:!1}),u=Nb(a,e).signal;r[s]||n.push(Object(Jw.O)(s)+": "+u),r[s]=!0}return n.length?{signal:"{"+n.join(", ")+"}"}:void 0}function Nb(t,e){if(t){if($m(t))return{value:t.value};if(Hm(t))return Xb(t,lg(t),"datum",e)}}function Ib(t){return $w.__assign({},t,{mult:.5})}function Ab(t,e,n,r,i){return function(){if(Object(Jw.C)(t)){if(n){var o=r.get("type");if(Lh([gB.LOG,gB.TIME,gB.UTC],o))"bar"!==i&&"area"!==i||_m(Jz.nonZeroScaleUsedWithLengthMark(i,e,{scaleType:o}));else{if(function(t){if(!1!==t.get("zero"))return!0;var e=t.domains;return!!Object(Jw.v)(e)&&Bh(e,function(t){return Object(Jw.v)(t)&&2===t.length&&t[0]<=0&&t[1]>=0})}(r))return{scale:n,value:0};"bar"!==i&&"area"!==i||_m(Jz.nonZeroScaleUsedWithLengthMark(i,e,{zeroFalse:!1===r.explicit.zero}))}}return"zeroOrMin"===t?"x"===e?{value:0}:{field:{group:"height"}}:"x"===e?{field:{group:"width"}}:{value:0}}return t}}function Mb(t){return"transparent"!==t&&null!==t&&void 0!==t}function Db(t){var e,n,r=t.markDef,i=t.encoding,o=t.config,a=r.filled,s=r.type,u={fill:Yb("fill",r,o),stroke:Yb("stroke",r,o),color:Yb("color",r,o)},l=Lh(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,c=pm(r.fill,u.fill,l),f=pm(r.stroke,u.stroke),p=a?"fill":"stroke",d=$w.__assign({},c?{fill:{value:c}}:{},f?{stroke:{value:f}}:{});return i.fill||i.stroke?(r.color&&_m(Jz.droppingColor("property",{fill:"fill"in i,stroke:"stroke"in i})),$w.__assign({},Fb("fill",t,{defaultValue:pm(c,l)}),Fb("stroke",t,{defaultValue:f}))):i.color?$w.__assign({},d,Fb("color",t,{vgChannel:p,defaultValue:pm(r[p],r.color,u[p],u.color,a?l:void 0)})):Mb(r.fill)||Mb(r.stroke)?(r.color&&_m(Jz.droppingColor("property",{fill:"fill"in r,stroke:"stroke"in r})),d):r.color?$w.__assign({},d,(e={},e[p]={value:r.color},e)):Mb(u.fill)||Mb(u.stroke)?d:u.color?$w.__assign({},l?{fill:{value:"transparent"}}:{},(n={},n[p]={value:u.color},n)):{}}function Rb(t,e){var n=Db(t),r=n.fill,i=n.stroke;return $w.__assign({},function(t,e){return IV.reduce(function(n,r){return void 0!==t[r]&&"ignore"!==e[r]&&(n[r]={value:t[r]}),n},{})}(t.markDef,e),jb(t,"fill",r),jb(t,"stroke",i),Fb("opacity",t),Fb("fillOpacity",t),Fb("strokeOpacity",t),Fb("strokeWidth",t),function(t){var e=t.encoding,n=t.markDef,r=t.config,i=e.tooltip;return Object(Jw.v)(i)?{tooltip:Pb(i,r)}:Bb(t,i,"tooltip",function(i){var o=Nb(i,t.config);if(o)return o;var a=pm(n.tooltip,Yb("tooltip",n,r));return Object(Jw.C)(a)?{value:a}:Object(Jw.A)(a)?"encoding"===a.content?Pb(d_(e),r):{signal:"datum"}:void 0})}(t),Vb(t,"href"))}function jb(t,e,n){var r,i;if(t.config.invalidValues&&n&&!wg(t.mark)){var o=Lb(t,{invalid:!0,channels:aV});if(o)return r={},r[e]=[{test:o,value:null}].concat(Object(Jw.i)(n)),r}return n?(i={},i[e]=n,i):{}}function Lb(t,e){var n=e.invalid,r=void 0!==n&&n,i=e.channels.reduce(function(e,n){var r=t.getScaleComponent(n);if(r){var i=r.get("type"),o=t.vgField(n,{expr:"datum"});o&&Bg(i)&&(e[o]=!0)}return e},{}),o=oF(i);if(o.length>0){var a=r?"||":"&&";return o.map(function(t){return t+" "+(r?"===":"!==")+" null "+a+" "+(r?"":"!")+"isNaN("+t+")"}).join(" "+a+" ")}}function zb(t){if("filter"===t.config.invalidValues){var e=Lb(t,{channels:["x","y"]});if(e)return{defined:{signal:e}}}return{}}function Fb(t,e,n){void 0===n&&(n={});var r=n.vgChannel,i=void 0===r?t:r,o=n.defaultValue,a=void 0===o?e.markDef[i]:o,s=n.defaultRef||(void 0!==a?{value:a}:void 0);return Bb(e,e.encoding[t],i,function(n){return Tb(t,n,void 0,e.scaleName(t),e.getScaleComponent(t),null,s)})}function Bb(t,e,n,r){var i,o,a=e&&e.condition,s=r(e);if(a){var u=(Object(Jw.v)(a)?a:[a]).map(function(e){var n=r(e),i=Fm(e)?ob(t,e.selection):bb(t,e.test);return $w.__assign({test:i},n)});return i={},i[n]=u.concat(void 0!==s?[s]:[]),i}return void 0!==s?(o={},o[n]=s,o):{}}function Vb(t,e){void 0===e&&(e="text");return Bb(t,t.encoding[e],e,function(e){return Nb(e,t.config)})}function Ub(t,e,n){var r,i,o,a=n.scaleName(e),s="x"===e?"width":"height";if(n.encoding.size||void 0!==n.markDef.size){if(n.markDef.orient){var u=(r={},r[e+"c"]=Sb(t,a,{},{band:.5}),r);if(fg(n.encoding.size))return $w.__assign({},u,Fb("size",n,{vgChannel:s}));if($m(n.encoding.size))return $w.__assign({},u,Fb("size",n,{vgChannel:s}));if(void 0!==n.markDef.size)return $w.__assign({},u,(i={},i[s]={value:n.markDef.size},i))}else _m(Jz.cannotApplySizeToNonOrientedMark(n.markDef.type))}return o={},o[e]=Sb(t,a,{binSuffix:"range"}),o[s]=Ob(a),o}function Wb(t,e,n,r){var i="x"===t?"width":"height";return $w.__assign({},Hb(t,e,n,"x"===t?"xc":"yc"),Fb("size",e,{defaultRef:r,vgChannel:i}))}function qb(t,e,n,r,i,o){var a,s,u={x:o?i:0,x2:o?0:i,y:o?0:i,y2:o?i:0},l=n===vB?bB:_B;return Ag(t.bin)?(a={},a[l]=Cb(t,r,"start",u[n+"2"]),a[n]=Cb(t,r,"end",u[n]),a):Mg(t.bin)&&Hm(e)?(s={},s[l]=Sb(t,r,{},{offset:u[n+"2"]}),s[n]=Sb(e,r,{},{offset:u[n]}),s):void _m(Jz.channelRequiredForBinned(l))}function Hb(t,e,n,r){var i,o=e.encoding,a=e.mark,s=e.stack,u=o[t],l=o[t===vB?bB:_B],c=e.scaleName(t),f=e.getScaleComponent(t),p=Eb(t,e.markDef),d=u||!o.latitude&&!o.longitude?$w.__assign({},function(t,e,n,r,i,o,a){return Hm(e)&&o&&t===o.fieldChannel?Sb(e,r,{suffix:"end"}):Tb(t,e,n,r,i,o,a)}(t,u,l,c,f,s,Ab(n,t,c,f,a)),p?{offset:p}:{}):{field:e.getName(t)};return i={},i[r||t]=d,i}function Gb(t,e,n){var r,i=t.encoding,o=t.mark,a=t.stack,s="x2"===n?"x":"y",u=i[s],l=t.scaleName(s),c=t.getScaleComponent(s),f=Eb(n,t.markDef),p=u||!i.latitude&&!i.longitude?$w.__assign({},function(t,e,n,r,i,o,a){return Hm(e)&&o&&t.charAt(0)===o.fieldChannel.charAt(0)?Sb(e,r,{suffix:"start"}):Tb(t,n,void 0,r,i,o,a)}(n,u,i[n],l,c,a,Ab(e,s,l,c,o)),f?{offset:f}:{}):{field:t.getName(n)};return r={},r[n]=p,r}function $b(t){return[].concat(t.type,t.style||[])}function Yb(t,e,n,r){var i=(void 0===r?{}:r).skipGeneralMarkConfig,o=void 0!==i&&i;return pm(Kb(t,e,n.style),n[e.type][t],o?void 0:n.mark[t])}function Kb(t,e,n){for(var r,i=0,o=$b(e);i<o.length;i++){var a=n[o[i]];a&&void 0!==a[t]&&(r=a[t])}return r}function Xb(t,e,n,r){var i=Zb(t,e,r);if(Ag(t.bin)){return{signal:t_(Jm(t,{expr:n}),Jm(t,{expr:n,binSuffix:"end"}),i,r)}}if("quantitative"===t.type)return{signal:""+Jb(Jm(t,{expr:n,binSuffix:"range"}),i)};if(vg(t)){var o=Ym(t)&&t.scale&&t.scale.type===gB.UTC;return{signal:e_(Jm(t,{expr:n}),t.timeUnit,e,r.text.shortTimeLabels,r.timeFormat,o,!0)}}return{signal:"''+"+Jm(t,{expr:n})}}function Zb(t,e,n){if(!vg(t))return e||(t.type===zF?n.numberFormat:void 0)}function Jb(t,e){return"format("+t+', "'+(e||"")+'")'}function Qb(t,e,n){return Jb(t,e||n.numberFormat)}function t_(t,e,n,r){return t+" === null || isNaN("+t+') ? "null" : '+Qb(t,n,r)+' + " - " + '+Qb(e,n,r)}function e_(t,e,n,r,i,o,a){return void 0===a&&(a=!1),!e||n?(n=n||i)||a?(o?"utc":"time")+"Format("+t+", '"+n+"')":void 0:Rm(e,t,r,o)}function n_(t,e){return(Object(Jw.v)(t)?t:[t]).reduce(function(t,n){return t.field.push(Jm(n,e)),t.order.push(n.sort||"ascending"),t},{field:[],order:[]})}function r_(t,e){var n=t.slice();return e.forEach(function(t){for(var e=0,r=n;e<r.length;e++){if(iF(r[e])===iF(t))return}n.push(t)}),n}function i_(t,e){return t!==e&&e?t?t+", "+e:e:t}function o_(t,e){if(Object(Jw.v)(t.value)&&Object(Jw.v)(e.value))return{explicit:t.explicit,value:r_(t.value,e.value)};if(!Object(Jw.v)(t.value)&&!Object(Jw.v)(e.value))return{explicit:t.explicit,value:i_(t.value,e.value)};throw new Error("It should never reach here")}function a_(t,e){return Ag(t.bin)?kg(e)&&Lh(["ordinal","nominal"],t.type):(console.warn("Only use this method with binned field defs"),!1)}function s_(t,e){return oF(t).reduce(function(n,r){return $w.__assign({},n,Bb(e,t[r],r,function(t){return{value:t.value}}))},{})}function u_(t,e){var n=t&&t[e];return!!n&&(Object(Jw.v)(n)?Bh(n,function(t){return!!t.field}):Hm(n)||Wm(n))}function l_(t){return Bh(XB,function(e){if(u_(t,e)){var n=t[e];if(Object(Jw.v)(n))return Bh(n,function(t){return!!t.aggregate});var r=fg(n);return r&&!!r.aggregate}return!1})}function c_(t,e){var n=[],r=[],i=[],o=[],a={};return h_(t,function(s,u){var l=s.field,c=s.aggregate,f=s.timeUnit,p=s.bin,d=$w.__rest(s,["field","aggregate","timeUnit","bin"]);if(Hm(s)&&(c||f||p)){var h=sg(s),m=h&&h.title,g=Jm(s,{forAs:!0}),v=$w.__assign({},m?[]:{title:ag(s,e,{allowDisabling:!0})},d,{field:g}),y=u===GF.X||u===GF.Y;if(c&&mm(c)){var b={op:c,as:g};l&&(b.field=l),o.push(b)}else if(Ag(p)){if(r.push({bin:p,field:l,as:g}),n.push(Jm(s,{binSuffix:"end"})),a_(s,u)&&n.push(Jm(s,{binSuffix:"range"})),y){a[u+"2"]={field:g+"_end",type:kF.QUANTITATIVE}}v.bin="binned",v.type=kF.QUANTITATIVE}else if(f){i.push({timeUnit:f,field:l,as:g});var _=Dm(f,e.axis.shortTimeLabels).join(" ");Og(u)?v.legend=$w.__assign({format:_},v.legend):y?v.axis=$w.__assign({format:_},v.axis):"text"!==u&&"tooltip"!==u||(v.format=v.format||_)}c||n.push(g),a[u]=v}else Hm(s)?(n.push(l),a[u]=t[u]):a[u]=t[u]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function f_(t,e){return oF(t).reduce(function(n,r){if(!Sg(r))return _m(Jz.invalidEncodingChannel(r)),n;if(!Tg(t,r,e))return _m(Jz.incompatibleChannel(r,e)),n;if("size"===r&&"line"===e){var i=fg(t[r]);if(i&&i.aggregate)return _m(Jz.LINE_WITH_VARYING_SIZE),n}if("color"===r&&("fill"in t||"stroke"in t))return _m(Jz.droppingColor("encoding",{fill:"fill"in t,stroke:"stroke"in t})),n;var o=t[r];if("detail"===r||"order"===r&&!Object(Jw.v)(o)&&!$m(o)||"tooltip"===r&&Object(Jw.v)(o))o&&(n[r]=(Object(Jw.v)(o)?o:[o]).reduce(function(t,e){return Hm(e)?t.push(dg(e,r)):_m(Jz.emptyFieldDef(e,r)),t},[]));else{if(!Hm(o)&&!$m(o)&&!Um(o))return _m(Jz.emptyFieldDef(o,r)),n;n[r]=pg(o,r)}return n},{})}function p_(t){return t&&(!!t.x&&!!t.x2||!!t.y&&!!t.y2)}function d_(t){var e=[];return XB.forEach(function(n){if(u_(t,n)){var r=t[n];(Object(Jw.v)(r)?r:[r]).forEach(function(t){Hm(t)?e.push(t):Wm(t)&&e.push(t.condition)})}}),e}function h_(t,e,n){if(t)for(var r=function(r){Object(Jw.v)(t[r])?t[r].forEach(function(t){e.call(n,t,r)}):e.call(n,t[r],r)},i=0,o=oF(t);i<o.length;i++){r(o[i])}}function m_(t,e,n,r){return t?oF(t).reduce(function(n,i){var o=t[i];return Object(Jw.v)(o)?o.reduce(function(t,n){return e.call(r,t,n,i)},n):e.call(r,n,o,i)},n):n}function g_(t,e,n,r,i){var o=n.scale,a=n.axis;return function(s,u,l,c,f){void 0===c&&(c=void 0),void 0===f&&(f={});var p,d,h=a&&void 0!==a.title?void 0:void 0!==n.title?n.title:n.field;return v_(t,s,i,{mark:u,encoding:$w.__assign((p={},p[e]=$w.__assign({field:l+"_"+n.field,type:n.type},h?{title:h}:{},o?{scale:o}:{},a?{axis:a}:{}),p),Object(Jw.C)(c)?(d={},d[e+"2"]={field:c+"_"+n.field,type:n.type},d):{},r,f)})}}function v_(t,e,n,r){var i=t.clip,o=t.color,a=t.opacity,s=t.type;return t[e]||void 0===t[e]&&n[e]?[$w.__assign({},r,{mark:$w.__assign({},n[e],i?{clip:i}:{},o?{color:o}:{},a?{opacity:a}:{},xg(r.mark)?r.mark:{type:r.mark},{style:s+"-"+e},Object(Jw.w)(t[e])?{}:t[e])})]:[]}function y_(t,e,n){var r,i,o,a,s,u=t.encoding;return s="vertical"===e?"y":"x",r=u[s],i=u[s+"2"],o=u[s+"Error"],a=u[s+"Error2"],{continuousAxisChannelDef:b_(r,n),continuousAxisChannelDef2:b_(i,n),continuousAxisChannelDefError:b_(o,n),continuousAxisChannelDefError2:b_(a,n),continuousAxis:s}}function b_(t,e){if(Hm(t)&&t&&t.aggregate){var n=t.aggregate,r=$w.__rest(t,["aggregate"]);return n!==e&&_m(Jz.errorBarContinuousAxisHasCustomizedAggregate(n,e)),r}return t}function __(t,e){var n=t.mark,r=t.encoding;if(Hm(r.x)&&tg(r.x)){if(Hm(r.y)&&tg(r.y)){if(void 0===r.x.aggregate&&r.y.aggregate===e)return"vertical";if(void 0===r.y.aggregate&&r.x.aggregate===e)return"horizontal";if(r.x.aggregate===e&&r.y.aggregate===e)throw new Error("Both x and y cannot have aggregate");return xg(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(Hm(r.y)&&tg(r.y))return"vertical";throw new Error("Need a valid continuous axis for "+e+"s")}function w_(t,e,n){return $w.__assign({},t,{encoding:m_(t.encoding,function(t,r,i){return e.indexOf(i)>-1?t[i]=r:_m(Jz.incompatibleChannel(i,n)),t},{})})}function x_(t){return[{op:"q1",field:t,as:"lower_box_"+t},{op:"q3",field:t,as:"upper_box_"+t}]}function E_(t,e){var n=t.encoding;if(function(t){return(Hm(t.x)||Hm(t.y))&&!Hm(t.x2)&&!Hm(t.y2)&&!Hm(t.xError)&&!Hm(t.xError2)&&!Hm(t.yError)&&!Hm(t.yError2)}(n))return{orient:__(t,e),inputType:"raw"};var r=function(t){return Hm(t.x2)||Hm(t.y2)}(n),i=function(t){return Hm(t.xError)||Hm(t.xError2)||Hm(t.yError)||Hm(t.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error(e+" cannot be both type aggregated-upper-lower and aggregated-error");var s=n.x2,u=n.y2;if(Hm(s)&&Hm(u))throw new Error(e+" cannot have both x2 and y2");if(Hm(s)){if(tg(s)&&Hm(o)&&tg(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+e)}if(tg(u)&&Hm(a)&&tg(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+e)}var l=n.xError,c=n.xError2,f=n.yError,p=n.yError2;if(Hm(c)&&!Hm(l))throw new Error(e+" cannot have xError2 without xError");if(Hm(p)&&!Hm(f))throw new Error(e+" cannot have yError2 without yError");if(Hm(l)&&Hm(f))throw new Error(e+" cannot have both xError and yError with both are quantiative");if(Hm(l)){if(tg(l)&&Hm(o)&&tg(o)&&(!Hm(c)||tg(c)))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(tg(f)&&Hm(a)&&tg(a)&&(!Hm(p)||tg(p)))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}function C_(t,e,n){var r=(t=w_(t,JU,e)).mark,i=t.encoding,o=t.selection,a=$w.__rest(t,["mark","encoding","selection","projection"]),s=xg(r)?r:{type:r};o&&_m(Jz.selectionNotSupported(e));var u=E_(t,e),l=u.orient,c=u.inputType,f=y_(t,l,e),p=f.continuousAxisChannelDef,d=f.continuousAxis,h=function(t,e,n,r,i,o,a,s){var u=[],l=[],c=e.field;if("raw"===o){var f=t.center?t.center:t.extent?"iqr"===t.extent?"median":"mean":s.errorbar.center,p=t.extent?t.extent:"mean"===f?"stderr":"iqr";"median"===f!=("iqr"===p)&&_m(Jz.errorBarCenterIsUsedWithWrongExtent(f,p,a)),"stderr"===p||"stdev"===p?(u=[{op:p,field:c,as:"extent_"+c},{op:f,field:c,as:"center_"+c}],l=[{calculate:"datum.center_"+c+" + datum.extent_"+c,as:"upper_"+c},{calculate:"datum.center_"+c+" - datum.extent_"+c,as:"lower_"+c}]):(t.center&&t.extent&&_m(Jz.errorBarCenterIsNotNeeded(t.extent,a)),u=[{op:"ci"===p?"ci0":"q1",field:c,as:"lower_"+c},{op:"ci"===p?"ci1":"q3",field:c,as:"upper_"+c}])}else(t.center||t.extent)&&_m(Jz.errorBarCenterAndExtentAreNotNeeded(t.center,t.extent)),"aggregated-upper-lower"===o?l=[{calculate:"datum."+c,as:"lower_"+c},{calculate:"datum."+n.field,as:"upper_"+c}]:"aggregated-error"===o&&(l=[{calculate:"datum."+c+" + datum."+r.field,as:"upper_"+c}]).push(i?{calculate:"datum."+c+" + datum."+i.field,as:"lower_"+c}:{calculate:"datum."+c+" - datum."+r.field,as:"lower_"+c});return{postAggregateCalculates:l,errorBarSpecificAggregate:u}}(s,p,f.continuousAxisChannelDef2,f.continuousAxisChannelDefError,f.continuousAxisChannelDefError2,c,e,n),m=h.errorBarSpecificAggregate,g=h.postAggregateCalculates,v=d+"2",y=d+"Error",b=d+"Error2",_=c_($w.__rest(i,["symbol"==typeof d?d:d+"","symbol"==typeof v?v:v+"","symbol"==typeof y?y:y+"","symbol"==typeof b?b:b+""]),n),w=_.bins,x=_.timeUnits,E=_.groupby,C=_.encoding,S=_.aggregate.concat(m),O="raw"!==c?[]:E;return{transform:(a.transform||[]).concat(w,x,S.length?[{aggregate:S,groupby:O}]:[],g),groupby:O,continuousAxisChannelDef:p,continuousAxis:d,encodingWithoutContinuousAxis:C,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:s,outerSpec:a}}function S_(t,e,n){eW[t]={normalizer:e,parts:n}}function O_(t){delete eW[t]}function k_(){return oF(eW)}function T_(t){if(t in eW)return eW[t].parts;throw new Error("Unregistered composite mark "+t)}function P_(t,e){var n=xg(t.mark)?t.mark.type:t.mark;if(n in eW){return(0,eW[n].normalizer)(t,e)}throw new Error('Invalid mark type "'+n+'"')}function N_(t,e,n){var r;r=function(t){return"as"in t}(t)?Object(Jw.C)(t.as)?[t.as,t.as+"_end"]:[t.as[0],t.as[1]]:[Jm(t,{forAs:!0}),Jm(t,{binSuffix:"end",forAs:!0})];var i=hg(e,void 0)||{},o=function(t,e){return Ig(t)+"_"+e}(i,t.field),a=function(t,e){return{signal:t.getName(e+"_bins"),extentSignal:t.getName(e+"_extent")}}(n,o),s=a.signal,u=a.extentSignal;return{key:o,binComponent:$w.__assign({bin:i,field:t.field,as:r},s?{signal:s}:{},u?{extentSignal:u}:{})}}function I_(t,e,n,r){if(void 0!==t.size)return{value:t.size};var i=Yb("size",t,r,{skipGeneralMarkConfig:!0});if(void 0!==i)return{value:i};if(n){var o=n.get("type");if("point"!==o&&"band"!==o)return{value:r.bar.continuousBandSize};if(void 0!==r.bar.discreteBandSize)return{value:r.bar.discreteBandSize};if(o!==gB.POINT)return Ob(e);var a=n.get("range");if(jv(a)&&Object(Jw.z)(a.step))return{value:a.step-1};_m(Jz.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}return{value:pm(r.bar.discreteBandSize,r.scale.rangeStep?r.scale.rangeStep-1:void 0,20)}}function A_(t,e){var n=t.config,r=t.markDef,i=t.width,o=t.height;return $w.__assign({},Rb(t,{size:"include",orient:"ignore"}),Hb("x",t,Ib(i)),Hb("y",t,Ib(o)),Fb("size",t,{defaultValue:Yb("size",r,n)}),function(t,e,n){if(n)return{shape:{value:n}};return Fb("shape",t,{defaultValue:Yb("shape",t.markDef,e)})}(t,n,e))}function M_(t){return Lh([KF,$F,QF],t.mark)?function(t){var e=R_(t.mark,t.encoding),n=D_(t,{fromPrefix:e.length>0?cW:""});return e.length>0?[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:cW+t.requestDataName(YV),data:t.requestDataName(YV),groupby:e}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(t):D_(t)}function D_(t,e){void 0===e&&(e={fromPrefix:""});var n=t.mark,r=pm(t.markDef.clip,function(t){var e=t.getScaleComponent("x"),n=t.getScaleComponent("y");return!!(e&&e.get("domainRaw")||n&&n.get("domainRaw"))}(t)),i=$b(t.markDef),o=t.encoding.key,a=function(t){var e=t.encoding,n=t.stack,r=t.mark,i=t.markDef,o=e.order;if(Object(Jw.v)(o)||!$m(o)){if((Object(Jw.v)(o)||Hm(o))&&!n)return n_(o,{expr:"datum"});if(wg(r)){var a=e["horizontal"===i.orient?"y":"x"];if(Hm(a)){var s=a.sort;return{field:Fv(s)?Jm({aggregate:l_(t.encoding)?s.op:void 0,field:s.field},{expr:"datum"}):Jm(a,{binSuffix:t.stack&&t.stack.impute?"mid":void 0,expr:"datum"}),order:"descending"}}}}}(t),s=lW[n].postEncodingTransform?lW[n].postEncodingTransform(t):null;return[$w.__assign({name:t.getName("marks"),type:lW[n].vgMark},r?{clip:!0}:{},i?{style:i}:{},o?{key:{field:o.field}}:{},a?{sort:a}:{},{from:{data:e.fromPrefix+t.requestDataName(YV)},encode:{update:lW[n].encodeEntry(t)}},s?{transform:s}:{})]}function R_(t,e){return oF(e).reduce(function(n,r){switch(r){case"x":case"y":case"order":case"href":case"x2":case"y2":case"xError":case"yError":case"xError2":case"yError2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":case"tooltip":return n;case"detail":case"key":var i=e[r];return(Object(Jw.v)(i)||Hm(i))&&(Object(Jw.v)(i)?i:[i]).forEach(function(t){t.aggregate||n.push(Jm(t,{}))}),n;case"size":if("trail"===t)return n;case"color":case"fill":case"stroke":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":var o=fg(e[r]);return o&&!o.aggregate&&n.push(Jm(o,{})),n;default:throw new Error("Bug: Channel "+r+" unimplemented for line mark")}},[])}function j_(t){function e(r,i){if(r instanceof JV&&!yy(r.data)){t.push(i);i={name:null,source:i.name,transform:[]}}if(r instanceof iU&&(r.parent instanceof JV&&!i.source?(i.format=$w.__assign({},i.format||{},{parse:r.assembleFormatParse()}),i.transform=i.transform.concat(r.assembleTransforms(!0))):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof rU)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(t.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(e){return t.push(e)});if((r instanceof rW||r instanceof zV||r instanceof sW||r instanceof aW||r instanceof nU||r instanceof dW||r instanceof sU||r instanceof oW||r instanceof iW||r instanceof uW||r instanceof hW)&&i.transform.push(r.assemble()),(r instanceof nW||r instanceof aU||r instanceof fW||r instanceof oU)&&(i.transform=i.transform.concat(r.assemble())),r instanceof LV)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof LV)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){t.push(i);i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof LV&&(!i.source||i.transform.length>0)&&t.push(i);break;case 1:e(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var o=i.name;!i.source||i.transform.length>0?t.push(i):o=i.source,r.children.forEach(function(t){e(t,{name:null,source:o,transform:[]})})}}var n=0;return e}function L_(t){z_(t);var e=t.component.layoutSize;e.setWithExplicit("width",F_(t,"width")),e.setWithExplicit("height",F_(t,"height"))}function z_(t){for(var e=0,n=t.children;e<n.length;e++){n[e].parseLayoutSize()}}function F_(t,e){for(var n,r="width"===e?"x":"y",i=t.component.resolve,o=0,a=t.children;o<a.length;o++){var s=(f=a[o]).component.layoutSize.getWithExplicit(e),u=i.scale[r];if("independent"===u&&"range-step"===s.value){n=void 0;break}if(n){if("independent"===u&&n.value!==s.value){n=void 0;break}n=iy(n,s,e,"")}else n=s}if(n){for(var l=0,c=t.children;l<c.length;l++){var f;t.renameLayoutSize((f=c[l]).getName(e),t.getName(e)),f.component.layoutSize.set(e,"merged",!1)}return n}return{explicit:!1,value:void 0}}function B_(t,e){var n=t.config,r=t.getScaleComponent("width"===e?"x":"y");if(r){var i=r.get("type"),o=r.get("range");return zg(i)&&jv(o)?"range-step":n.view[e]}return t.hasProjection?n.view[e]:"width"===e&&"text"===t.mark?n.scale.textXRangeStep:n.scale.rangeStep||_V.rangeStep}function V_(t,e){return Bm(t.field)?t.field.repeat in e?$w.__assign({},t,{field:e[t.field.repeat]}):void _m(Jz.noSuchRepeatedValue(t.field.repeat)):t}function U_(t,e){if(void 0!==(t=V_(t,e))){if(t.sort&&Fv(t.sort)){var n=V_(t.sort,e);t=$w.__assign({},t,n?{sort:n}:{})}return t}}function W_(t,e){if(!Hm(t)){if(Wm(t)){if(n=U_(t.condition,e))return $w.__assign({},t,{condition:n});return $w.__rest(t,["condition"])}return t}var n;return(n=U_(t,e))?n:Um(t)?{condition:t.condition}:void 0}function q_(t,e){var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(Object(Jw.v)(i))n[r]=i.map(function(t){return W_(t,e)}).filter(function(t){return t});else{var o=W_(i,e);o&&(n[r]=o)}}return n}function H_(t,e,n){return Jm(e,$w.__assign({suffix:"by_"+Jm(t)},n||{}))}function G_(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.data;if(by(t)&&by(o)){if(rF(t.values,o.values))return i}else if(yy(t)&&yy(o)){if(t.url===o.url)return i}else if(_y(t)&&t.name===i.dataName)return i}return null}function $_(t){var e=function(t,e){if(t.data||!t.parent){var n=G_(t.data,e);if(n)return n.data.format=qh({},t.data.format,n.data.format),n;var r=new JV(t.data);return e.push(r),r}return t.parent.component.data.facetRoot?t.parent.component.data.facetRoot:t.parent.component.data.main}(t,t.component.data.sources),n=t.component.data,r=n.outputNodes,i=n.outputNodeRefCounts,o=t.parent?t.parent.component.data.ancestorParse.clone():new pW;t.data&&t.data.format&&null===t.data.format.parse&&(o.parseNothing=!0),e=iU.makeExplicit(e,t,o)||e,ub(t)&&($y(t)||Zy(t))&&(e=new uW(e));var a=t.parent&&Zy(t.parent);($y(t)||Yy(t))&&a&&(e=nW.makeFromEncoding(e,t)||e),t.transforms.length>0&&(e=function(t,e,n){var r=0;return e.transforms.forEach(function(i){var o,a,s=void 0;if(kv(i))a=t=new zV(t,i),s="derived";else if(wv(i))a=t=iU.makeImplicitFromFilterTransform(t,i,n)||t,t=new rW(t,e,i.filter);else if(Tv(i))a=t=nW.makeFromTransform(t,i,e),s="number";else if(Nv(i))a=t=aU.makeFromTransform(t,i),s="date",void 0===n.getWithExplicit(i.field).value&&(t=new iU(t,(o={},o[i.field]=s,o)),n.set(i.field,s,!1));else if(Iv(i))a=t=nU.makeFromTransform(t,i),s="number",ub(e)&&(t=new uW(t));else if(Ev(i))a=t=dW.make(t,e,i,r++),s="derived";else if(Sv(i))a=t=new sU(t,i),s="number";else if(Av(i))a=t=oU.makeFromTransform(t,i),s="derived";else if(Mv(i))a=t=new oW(t,i),s="derived";else if(Ov(i))a=t=new iW(t,i),s="derived";else if(Cv(i))t=new hW(t,i);else{if(!Pv(i))return void _m(Jz.invalidTransformIgnored(i));a=t=fW.makeFromTransform(t,i),s="derived"}if(a&&void 0!==s)for(var u=0,l=oF(a.producedFields());u<l.length;u++)n.set(l[u],s,!1)}),t}(e,t,o)),e=iU.makeImplicitFromEncoding(e,t,o)||e,$y(t)&&(e=aW.parseAll(e,t),e=sW.parseAll(e,t)),($y(t)||Yy(t))&&(a||(e=nW.makeFromEncoding(e,t)||e),e=aU.makeFromEncoding(e,t)||e,e=zV.parseAllForSortIndex(e,t));var s=t.getName(KV),u=new LV(e,s,KV,i);if(r[s]=u,e=u,$y(t)){var l=nU.makeFromEncoding(e,t);l&&(e=l,ub(t)&&(e=new uW(e))),e=fW.makeFromEncoding(e,t)||e,e=oU.makeFromEncoding(e,t)||e}var c=t.getName(YV),f=new LV(e,c,YV,i);r[c]=f,e=f;var p=null;if(Yy(t)){var d=t.getName("facet");e=function(t,e){var n=e.row,r=e.column;if(n&&r){for(var i=null,o=0,a=[n,r];o<a.length;o++){var s=a[o];if(Fv(s.sort)){var u=s.sort;t=i=new sU(t,{window:[{op:u.op,field:u.field,as:H_(s,s.sort,{forAs:!0})}],groupby:[Jm(s)],frame:[null,null]})}}return i}return null}(e=zV.parseAllForSortIndex(e,t),t.facet)||e,p=new rU(e,t,d,f.getSource()),r[d]=p,e=p}return $w.__assign({},t.component.data,{outputNodes:r,outputNodeRefCounts:i,raw:u,main:f,facetRoot:p,ancestorParse:o})}function Y_(t,e,n,r,i){void 0===r&&(r="");for(var o=0,a=("band"===i?["axisBand"]:[]).concat(["x"===n?"axisX":"axisY","axis"+r.substr(0,1).toUpperCase()+r.substr(1),"axis"]);o<a.length;o++){var s=a[o];if(e[s]&&void 0!==e[s][t])return e[s][t]}}function K_(t){switch(t){case vB:return"bottom";case yB:return"left"}throw new Error(Jz.INVALID_CHANNEL_FOR_AXIS)}function X_(t){return nV.reduce(function(e,n){return t.component.scales[n]&&t.axis(n)&&(e[n]=[function(t,e){var n=e.axis(t),r=new bW;vF.forEach(function(i){var o=function(t,e,n,r){var i=r.fieldDef(n),o=function(t,e,n,r){if(void 0!==e.labelAngle)return(e.labelAngle%360+360)%360;var i=Y_("labelAngle",t.config,n,K_(n),t.getScaleComponent(n).get("type"));return void 0!==i?(i%360+360)%360:n===vB&&Lh([VF,FF],r.type)?270:void 0}(r,e,n,i);switch(t){case"scale":return r.scaleName(n);case"gridScale":return function(t,e){var n="x"===e?"y":"x";if(t.getScaleComponent(n))return t.scaleName(n)}(r,n);case"format":return Zb(i,e.format,r.config);case"grid":if(Mg(r.fieldDef(n).bin))return!1;var a=r.getScaleComponent(n).get("type");return pm(e.grid,function(t,e){return!zg(t)&&!Ag(e.bin)}(a,i));case"labelAlign":return pm(e.labelAlign,function(t,e){if(void 0!==t)return t=(t%360+360)%360,"top"===e||"bottom"===e?t%180==0?"center":0<t&&t<180?"top"===e?"right":"left":"top"===e?"left":"right":(t+90)%180==0?"center":90<=t&&t<270?"left"===e?"left":"right":"left"===e?"right":"left"}(o,K_(n)));case"labelAngle":return o;case"labelBaseline":return pm(e.labelBaseline,function(t,e){if(void 0!==t)return"top"===e||"bottom"===e?t<=45||315<=t?"top"===e?"bottom":"top":135<=t&&t<=225?"top"===e?"top":"bottom":"middle":t<=45||315<=t||135<=t&&t<=225?"middle":45<=t&&t<=135?"left"===e?"top":"bottom":"left"===e?"bottom":"top"}(o,K_(n)));case"labelFlush":return function(t,e,n){return void 0!==n.labelFlush?n.labelFlush:!("x"!==e||!Lh(["quantitative","temporal"],t.type))||void 0}(i,n,e);case"labelOverlap":var a=r.getScaleComponent(n).get("type");return function(t,e,n,r){return void 0!==e.labelOverlap?e.labelOverlap:"nominal"!==t.type?"log"!==r||"greedy":void 0}(i,e,0,a);case"orient":return pm(e.orient,K_(n));case"tickCount":var a=r.getScaleComponent(n).get("type"),s=r.scaleName(n),u="x"===n?"width":"y"===n?"height":void 0,l=u?r.getSizeSignalRef(u):void 0;return pm(e.tickCount,function(t,e,n,r,i,o){if(!zg(n)&&"log"!==n&&!Lh(["month","hours","day","quarter"],e.timeUnit))return o.tickStep?{signal:"(domain('"+i+"')[1] - domain('"+i+"')[0]) / "+o.tickStep+" + 1"}:Ag(e.bin)?{signal:"ceil("+r.signal+"/20)"}:{signal:"ceil("+r.signal+"/40)"}}(0,i,a,l,s,e));case"title":var c="x"===n?"x2":"y2",f=r.fieldDef(c);return pm(e.title,J_(r,n),r_([Vm(i)],f?[Vm(f)]:[]));case"values":return function(t,e,n,r){var i=t.values;if(i)return bg(n,i);if(n.type===zF){if(Ag(n.bin)){var o=e.scaleDomain(r);if(o&&"unaggregated"!==o&&!qg(o))return i;var a=e.getName(Ig(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+a+".start, "+a+".stop + "+a+".step, "+a+".step)"}}if(t.tickStep){var s=e.scaleName(r),u=t.tickStep;return{signal:"sequence(domain('"+s+"')[0], domain('"+s+"')[1] + "+u+", "+u+")"}}}}(e,r,i,n)}return ym(t)?e[t]:void 0}(i,n,t,e);if(void 0!==o){var a=function(t,e,n,r,i){switch(e){case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(t===J_(r,i))return!0}return t===n[e]}(o,i,n,e,t),s=Y_(i,e.config,t,r.get("orient"),e.getScaleComponent(t).get("type"));a||void 0===s?r.set(i,o,a):"grid"===i&&s&&r.set(i,s,!1)}});var i=n.encoding||{},o=dF.reduce(function(n,o){if(!r.hasAxisPart(o))return n;var a=s_(i[o]||{},e),s="labels"===o?function(t,e,n,r){var i=t.fieldDef(e)||("x"===e?t.fieldDef("x2"):"y"===e?t.fieldDef("y2"):void 0),o=t.axis(e),a=t.config,s={};if(vg(i)){var u=t.getScaleComponent(e).get("type")===gB.UTC,l=e_("datum.value",i.timeUnit,o.format,a.axis.shortTimeLabels,null,u);l&&(s.text={signal:l})}return s=$w.__assign({},s,n),0===oF(s).length?void 0:s}(e,t,a,r.get("orient")):a;return void 0!==s&&oF(s).length>0&&(n[o]={update:s}),n},{});oF(o).length>0&&r.set("encode",o,!!n.encoding||void 0!==n.labelAngle);return r}(n,t)]),e},{})}function Z_(t){for(var e=t.component,n=e.axes,r=e.resolve,i={top:0,bottom:0,right:0,left:0},o=0,a=t.children;o<a.length;o++){(h=a[o]).parseAxisAndHeader();for(var s=0,u=oF(h.component.axes);s<u.length;s++){r.axis[f=u[s]]=Qv(t.component.resolve,f),"shared"===r.axis[f]&&(n[f]=function(t,e){if(!t)return e.map(function(t){return t.clone()});if(t.length!==e.length)return;for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[r];if(!!i!=!!o)return;if(i&&o){var a=i.getWithExplicit("orient"),s=o.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;t[r]=function(t,e){for(var n=function(n){var r=iy(t.getWithExplicit(n),e.getWithExplicit(n),n,"axis",function(t,e){switch(n){case"title":return o_(t,e);case"gridScale":return{explicit:t.explicit,value:pm(t.value,e.value)}}return ry(t,e,n,"axis")});t.setWithExplicit(n,r)},r=0,i=vF;r<i.length;r++){var o=i[r];n(o)}return t}(i,o)}}return t}(n[f],h.component.axes[f]),n[f]||(r.axis[f]="independent",delete n[f]))}}for(var l=0,c=[vB,yB];l<c.length;l++)for(var f=c[l],p=0,d=t.children;p<d.length;p++){var h;if((h=d[p]).component.axes[f]){if("independent"===r.axis[f]){n[f]=(n[f]||[]).concat(h.component.axes[f]);for(var m=0,g=h.component.axes[f];m<g.length;m++){var v=g[m],y=v.getWithExplicit("orient"),b=y.value;if(i[b]>0&&!y.explicit){var _=_W[b];i[b]>i[_]&&v.set("orient",_,!1)}i[b]++}}delete h.component.axes[f]}}}function J_(t,e){var n="x"===e?"x2":"y2",r=t.fieldDef(e),i=t.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?i_(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}function Q_(t,e,n){var r=xg(t)?$w.__assign({},t):{type:t},i=r.orient||Yb("orient",r,n);r.orient=function(t,e,n){switch(t){case XF:case rB:case iB:case ZF:case tB:return}var r=e.x,i=e.y,o=e.x2,a=e.y2;switch(t){case YF:if(Hm(r)&&Mg(r.bin))return"vertical";if(Hm(i)&&Mg(i.bin))return"horizontal";if(a||o){if(n)return n;if(!o&&Hm(r)&&r.type===zF&&!Ag(r.bin))return"horizontal";if(!a&&Hm(i)&&i.type===zF&&!Ag(i.bin))return"vertical"}case eB:if(o&&a)return;case $F:if(a)return Hm(i)&&Mg(i.bin)?"horizontal":"vertical";if(o)return Hm(r)&&Mg(r.bin)?"vertical":"horizontal";if(t===eB){if(e.x&&!e.y)return"vertical";if(e.y&&!e.x)return"horizontal"}case KF:case JF:var s=Hm(e.x)&&tg(e.x),u=Hm(e.y)&&tg(e.y);if(s&&!u)return"tick"!==t?"horizontal":"vertical";if(!s&&u)return"tick"!==t?"vertical":"horizontal";if(s&&u){var l=e.x,c=e.y,f=l.type===BF,p=c.type===BF;return f&&!p?"tick"!==t?"vertical":"horizontal":!f&&p?"tick"!==t?"horizontal":"vertical":!l.aggregate&&c.aggregate?"tick"!==t?"vertical":"horizontal":l.aggregate&&!c.aggregate?"tick"!==t?"horizontal":"vertical":n||"vertical"}if(n)return n;return}return"vertical"}(r.type,e,i),void 0!==i&&i!==r.orient&&_m(Jz.orientOverridden(r.orient,i));void 0===pm(r.opacity,Yb("opacity",r,n))&&(r.opacity=function(t,e){if(Lh([XF,JF,rB,iB],t)&&!l_(e))return.7;return}(r.type,e));void 0===r.filled&&(r.filled=function(t,e){var n=Yb("filled",t,e),r=t.type;return pm(n,r!==XF&&r!==KF&&r!==eB)}(r,n));return void 0===(r.cursor||Yb("cursor",r,n))&&(r.cursor=function(t,e,n){if(e.href||t.href||Yb("href",t,n))return"pointer";return t.cursor}(r,e,n)),r}function tw(t,e,n,r,i,o,a){if(av(t))return new gW(t,e,n,i,o);if(uv(t))return new xW(t,e,n,r,i,o,a);if(sv(t))return new wW(t,e,n,r,i,o,a);if(lv(t))return new EW(t,e,n,i,o);if(cv(t))return new yW(t,e,n,i,o);throw new Error(Jz.INVALID_SPEC)}function ew(t,e){void 0===e&&(e={}),e.logger&&function(t){_F=t}(e.logger),e.fieldTitle&&ig(e.fieldTitle);try{var n=Ly(qh({},e.config,t.config)),r=Qg(t,n),i=function(t,e,n){void 0===n&&(n=!0);var r=$w.__assign({type:"pad"},bv(e),bv(t));return"fit"===r.type&&(n||(_m(Jz.FIT_NON_SINGLE),r.type="pad")),r}(t.autosize,n.autosize,uv(r)||sv(r)),o=tw(r,null,"",void 0,void 0,n,"fit"===i.type);return o.parse(),function(t){xy(t.sources);for(var e=0,n=0,r=0;r<gU&&Ty(t);r++)e++;for(t.sources.map(Ey),r=0;r<gU&&Ty(t);r++)n++;xy(t.sources),Math.max(e,n)===gU&&_m("Maximum optimization runs("+gU+") reached.")}(o.component.data),function(t,e,n,r){void 0===n&&(n={});var i=t.config?zy(t.config):void 0,o=[].concat(t.assembleSelectionData([]),function(t,e){var n=[],r=j_(n),i=0;t.sources.forEach(function(t){t.hasName()||(t.dataName="source_"+i++);var e=t.assemble();r(t,e)}),n.forEach(function(t){0===t.transform.length&&delete t.transform});for(var o=0,a=0;a<n.length;a++)0!==((h=n[a]).transform||[]).length||h.source||n.splice(o++,0,n.splice(a,1)[0]);for(var s=0,u=n;s<u.length;s++)for(var l=0,c=(h=u[s]).transform||[];l<c.length;l++){var f=c[l];"lookup"===f.type&&(f.from=t.outputNodes[f.from].getSource())}for(var p=0,d=n;p<d.length;p++){var h;(h=d[p]).name in e&&(h.values=e[h.name])}return n}(t.component.data,n)),a=t.assembleProjections(),s=t.assembleTitle(),u=t.assembleGroupStyle(),l=t.assembleLayoutSignals();l=l.filter(function(t){return"width"!==t.name&&"height"!==t.name||void 0===t.value||(e[t.name]=+t.value,!1)});return{spec:$w.__assign({$schema:"https://vega.github.io/schema/vega/v4.json"},t.description?{description:t.description}:{},e,s?{title:s}:{},u?{style:u}:{},{data:o},a.length>0?{projections:a}:{},t.assembleGroup(l.concat(t.assembleSelectionTopLevelSignals([]))),i?{config:i}:{},r?{usermeta:r}:{})}}(o,function(t,e,n){return $w.__assign({autosize:1===oF(n).length&&n.type?n.type:n},_v(e),_v(t))}(t,n,i),t.datasets,t.usermeta)}finally{e.logger&&bm(),e.fieldTitle&&og()}}function nw(t,e){if(av(t)||lv(t))return function(t,e){var n=t.spec,r=$w.__rest(t,["spec"]);return $w.__assign({},r,{spec:nw(n,e)})}(t,e);if(uv(t))return function(t,e){var n=t.layer,r=$w.__rest(t,["layer"]);return $w.__assign({},r,{layer:n.map(function(t){return nw(t,e)})})}(t,e);if(sv(t))return function(t,e){if(t.encoding){var n=t.encoding,r=t.transform,i=$w.__rest(t,["encoding","transform"]),o=c_(n,e),a=o.bins,s=o.timeUnits,u=o.aggregate,l=o.groupby,c=o.encoding;return $w.__assign({transform:(r||[]).concat(a,s,u.length?[{aggregate:u,groupby:l}]:[])},i,{encoding:c})}return t}(t,e);if(fv(t))return function(t,e){var n=t.vconcat,r=$w.__rest(t,["vconcat"]);return $w.__assign({},r,{vconcat:n.map(function(t){return nw(t,e)})})}(t,e);if(pv(t))return function(t,e){var n=t.hconcat,r=$w.__rest(t,["hconcat"]);return $w.__assign({},r,{hconcat:n.map(function(t){return nw(t,e)})})}(t,e);throw new Error(Jz.INVALID_SPEC)}function rw(t,e,n){void 0===e&&(e=CW),void 0===n&&(n=SW);var r=xg(t.mark)?t.mark.type:t.mark,i=t.encoding,o=e[r],a=n[r];for(var s in o)if(!(o[s]in i))return'Missing encoding channel "'+o[s]+'" for mark "'+r+'"';for(var u in i)if(!a[u])return'Encoding channel "'+u+'" is not supported by mark type "'+r+'"';return r!==YF||i.x||i.y?null:"Missing both x and y for bar"}function iw(t,e){return JSON.stringify(t,function(t){const e=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=e.indexOf(this)+1;return e.length=i,e.length>t?"[Object]":e.indexOf(r)>=0?"[Circular]":(e.push(r),r)}}(e))}function ow(t,...e){for(const n of e)t=function(t,e){if("object"!=typeof e||null===e)return t;for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&("object"!=typeof e[n]||Object(Jw.v)(e[n])||null===e[n]?t[n]=e[n]:"object"!=typeof t[n]||null===t[n]?t[n]=ow(Object(Jw.v)(e[n].constructor)?[]:{},e[n]):ow(t[n],e[n]));return t}(t,n);return t}function aw(t,e,n,r){const i=`<html><head>${e}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+t+o),a.document.title=`${YW[r]} JSON Source`}function sw(t,e){if(t.$schema){const n=PW()(t.$schema);e&&e!==n.library&&console.warn(`The given visualization spec is written in ${YW[n.library]}, but mode argument sets ${YW[e]||e}.`);const r=n.library;return Object(Zw.satisfies)(KW[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${r} ${n.version}, but the current version of ${YW[r]} is ${KW[r]}.`),r}return"mark"in t||"encoding"in t||"layer"in t||"hconcat"in t||"vconcat"in t||"facet"in t||"repeat"in t?"vega-lite":"marks"in t||"signals"in t||"scales"in t||"axes"in t?"vega":e||"vega"}function uw(t,e,n={}){return $w.__awaiter(this,void 0,void 0,function*(){const r=(n=n||{}).patch||n.onBeforeParse,i=!0===n.actions||!1===n.actions?n.actions:ow({},{export:{svg:!0,png:!0},source:!0,compiled:!1,editor:!0},n.actions||{}),o=Object.assign({},JW,n.i18n),a=function(t){return!!(t&&"load"in t)}(n.loader)?n.loader:GW.loader(n.loader),s=n.renderer||"canvas",u=n.logLevel||GW.Warn;if(GW.isString(e)){const r=yield a.load(e);return uw(t,JSON.parse(r),n)}let l=n.config||{};if(GW.isString(l)){const r=yield a.load(l);return uw(t,e,Object.assign({},n,{config:JSON.parse(r)}))}if(!1!==n.defaultStyle){const t="vega-embed-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?(HW||"").toString():n.defaultStyle,document.head.appendChild(e)}}n.theme&&(l=ow({},Gw[n.theme],l));const c=sw(e,n.mode);let f=XW[c](e,l);if("vega-lite"===c&&f.$schema){const t=PW()(f.$schema);Object(Zw.satisfies)(KW.vega,`^${t.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${t.version}, but current version is ${KW.vega}.`)}const p=Yw.select(t).classed("vega-embed",!0).html("");if(r)if(r instanceof Function)f=r(f);else if(GW.isString(r)){const t=yield a.load(r);f=ow(f,JSON.parse(t))}else f=ow(f,r);const d=GW.parse(f,"vega-lite"===c?{}:l),h=new GW.View(d,{loader:a,logLevel:u,renderer:s}).initialize(t);if(!1!==n.tooltip){let t;t=function(t){return"function"==typeof t}(n.tooltip)?n.tooltip:new qW(!0===n.tooltip?{}:n.tooltip).call,h.tooltip(t)}let m=n.hover;if(void 0===m&&(m="vega-lite"!==c),m){const{hoverSet:t,updateSet:e}="boolean"==typeof m?{}:m;h.hover(t,e)}if(n&&(n.width&&h.width(n.width),n.height&&h.height(n.height),n.padding&&h.padding(n.padding)),n.runAsync?yield h.runAsync():h.run(),!1!==i){let t=p;if(!1!==n.defaultStyle){const e=t=p.append("details").attr("title",o.CLICK_TO_VIEW_ACTIONS);e.insert("summary").html(ZW);const n=e.node();document.addEventListener("click",t=>{n.contains(t.target)||n.removeAttribute("open")})}const r=t.insert("div").attr("class","vega-actions");if(!0===i||!1!==i.export)for(const t of["svg","png"])if(!0===i||!0===i.export||i.export[t]){const e=o[`${t.toUpperCase()}_ACTION`];r.append("a").text(e).attr("href","#").attr("target","_blank").attr("download",`visualization.${t}`).on("mousedown",function(){h.toImageURL(t,n.scaleFactor).then(t=>{this.href=t}).catch(t=>{throw t}),Yw.event.preventDefault()})}if(!0!==i&&!1===i.source||r.append("a").text(o.SOURCE_ACTION).attr("href","#").on("mousedown",()=>{aw(Xw()(e),n.sourceHeader||"",n.sourceFooter||"",c),Yw.event.preventDefault()}),"vega-lite"!==c||!0!==i&&!1===i.compiled||r.append("a").text(o.COMPILED_ACTION).attr("href","#").on("mousedown",()=>{aw(Xw()(f),n.sourceHeader||"",n.sourceFooter||"","vega"),Yw.event.preventDefault()}),!0===i||!1!==i.editor){const t=n.editorUrl||"https://vega.github.io/editor/";r.append("a").text(o.EDITOR_ACTION).attr("href","#").on("mousedown",()=>{!function(t,e,n){function r(e){e.source===o&&(s=0,t.removeEventListener("message",r,!1))}function i(){s<=0||(o.postMessage(n,"*"),setTimeout(i,a),s-=1)}const o=t.open(e),a=250;let s=~~(1e4/a);t.addEventListener("message",r,!1),setTimeout(i,a)}(window,t,{config:l,mode:c,renderer:s,spec:Xw()(e)}),Yw.event.preventDefault()})}}return{view:h,spec:e,vgSpec:f}})}Object.defineProperty(e,"__esModule",{value:!0});var lw={};n.d(lw,"aggregate",function(){return Oe}),n.d(lw,"bin",function(){return ke}),n.d(lw,"collect",function(){return Te}),n.d(lw,"compare",function(){return Pe}),n.d(lw,"countpattern",function(){return Ie}),n.d(lw,"cross",function(){return Ae}),n.d(lw,"density",function(){return De}),n.d(lw,"expression",function(){return Re}),n.d(lw,"extent",function(){return Le}),n.d(lw,"facet",function(){return Fe}),n.d(lw,"field",function(){return Be}),n.d(lw,"filter",function(){return Ue}),n.d(lw,"flatten",function(){return qe}),n.d(lw,"fold",function(){return He}),n.d(lw,"formula",function(){return Ge}),n.d(lw,"generate",function(){return $e}),n.d(lw,"impute",function(){return Ye}),n.d(lw,"joinaggregate",function(){return Ke}),n.d(lw,"key",function(){return Xe}),n.d(lw,"load",function(){return Je}),n.d(lw,"lookup",function(){return Qe}),n.d(lw,"multiextent",function(){return tn}),n.d(lw,"multivalues",function(){return nn}),n.d(lw,"params",function(){return on}),n.d(lw,"pivot",function(){return an}),n.d(lw,"prefacet",function(){return un}),n.d(lw,"project",function(){return ln}),n.d(lw,"proxy",function(){return cn}),n.d(lw,"relay",function(){return fn}),n.d(lw,"sample",function(){return pn}),n.d(lw,"sequence",function(){return dn}),n.d(lw,"sieve",function(){return hn}),n.d(lw,"subflow",function(){return ze}),n.d(lw,"tupleindex",function(){return mn}),n.d(lw,"values",function(){return gn}),n.d(lw,"window",function(){return yn});var cw={};n.d(cw,"bound",function(){return Di}),n.d(cw,"identifier",function(){return ji}),n.d(cw,"mark",function(){return Li}),n.d(cw,"overlap",function(){return zi}),n.d(cw,"render",function(){return qi}),n.d(cw,"viewlayout",function(){return eo});var fw={};n.d(fw,"interpolate",function(){return NT}),n.d(fw,"interpolateArray",function(){return ET}),n.d(fw,"interpolateBasis",function(){return vT}),n.d(fw,"interpolateBasisClosed",function(){return yT}),n.d(fw,"interpolateDate",function(){return CT}),n.d(fw,"interpolateDiscrete",function(){return IT}),n.d(fw,"interpolateHue",function(){return AT}),n.d(fw,"interpolateNumber",function(){return ST}),n.d(fw,"interpolateObject",function(){return OT}),n.d(fw,"interpolateRound",function(){return MT}),n.d(fw,"interpolateString",function(){return PT}),n.d(fw,"interpolateTransformCss",function(){return LT}),n.d(fw,"interpolateTransformSvg",function(){return zT}),n.d(fw,"interpolateZoom",function(){return BT}),n.d(fw,"interpolateRgb",function(){return _T}),n.d(fw,"interpolateRgbBasis",function(){return wT}),n.d(fw,"interpolateRgbBasisClosed",function(){return xT}),n.d(fw,"interpolateHsl",function(){return VT}),n.d(fw,"interpolateHslLong",function(){return UT}),n.d(fw,"interpolateLab",function(){return Ko}),n.d(fw,"interpolateHcl",function(){return WT}),n.d(fw,"interpolateHclLong",function(){return qT}),n.d(fw,"interpolateCubehelix",function(){return HT}),n.d(fw,"interpolateCubehelixLong",function(){return GT}),n.d(fw,"piecewise",function(){return Jo}),n.d(fw,"quantize",function(){return $T});var pw={};n.d(pw,"schemeCategory10",function(){return yP}),n.d(pw,"schemeAccent",function(){return bP}),n.d(pw,"schemeDark2",function(){return _P}),n.d(pw,"schemePaired",function(){return wP}),n.d(pw,"schemePastel1",function(){return xP}),n.d(pw,"schemePastel2",function(){return EP}),n.d(pw,"schemeSet1",function(){return CP}),n.d(pw,"schemeSet2",function(){return SP}),n.d(pw,"schemeSet3",function(){return OP}),n.d(pw,"interpolateBrBG",function(){return PP}),n.d(pw,"schemeBrBG",function(){return TP}),n.d(pw,"interpolatePRGn",function(){return IP}),n.d(pw,"schemePRGn",function(){return NP}),n.d(pw,"interpolatePiYG",function(){return MP}),n.d(pw,"schemePiYG",function(){return AP}),n.d(pw,"interpolatePuOr",function(){return RP}),n.d(pw,"schemePuOr",function(){return DP}),n.d(pw,"interpolateRdBu",function(){return LP}),n.d(pw,"schemeRdBu",function(){return jP}),n.d(pw,"interpolateRdGy",function(){return FP}),n.d(pw,"schemeRdGy",function(){return zP}),n.d(pw,"interpolateRdYlBu",function(){return VP}),n.d(pw,"schemeRdYlBu",function(){return BP}),n.d(pw,"interpolateRdYlGn",function(){return WP}),n.d(pw,"schemeRdYlGn",function(){return UP}),n.d(pw,"interpolateSpectral",function(){return HP}),n.d(pw,"schemeSpectral",function(){return qP}),n.d(pw,"interpolateBuGn",function(){return $P}),n.d(pw,"schemeBuGn",function(){return GP}),n.d(pw,"interpolateBuPu",function(){return KP}),n.d(pw,"schemeBuPu",function(){return YP}),n.d(pw,"interpolateGnBu",function(){return ZP}),n.d(pw,"schemeGnBu",function(){return XP}),n.d(pw,"interpolateOrRd",function(){return QP}),n.d(pw,"schemeOrRd",function(){return JP}),n.d(pw,"interpolatePuBuGn",function(){return eN}),n.d(pw,"schemePuBuGn",function(){return tN}),n.d(pw,"interpolatePuBu",function(){return rN}),n.d(pw,"schemePuBu",function(){return nN}),n.d(pw,"interpolatePuRd",function(){return oN}),n.d(pw,"schemePuRd",function(){return iN}),n.d(pw,"interpolateRdPu",function(){return sN}),n.d(pw,"schemeRdPu",function(){return aN}),n.d(pw,"interpolateYlGnBu",function(){return lN}),n.d(pw,"schemeYlGnBu",function(){return uN}),n.d(pw,"interpolateYlGn",function(){return fN}),n.d(pw,"schemeYlGn",function(){return cN}),n.d(pw,"interpolateYlOrBr",function(){return dN}),n.d(pw,"schemeYlOrBr",function(){return pN}),n.d(pw,"interpolateYlOrRd",function(){return mN}),n.d(pw,"schemeYlOrRd",function(){return hN}),n.d(pw,"interpolateBlues",function(){return vN}),n.d(pw,"schemeBlues",function(){return gN}),n.d(pw,"interpolateGreens",function(){return bN}),n.d(pw,"schemeGreens",function(){return yN}),n.d(pw,"interpolateGreys",function(){return wN}),n.d(pw,"schemeGreys",function(){return _N}),n.d(pw,"interpolatePurples",function(){return EN}),n.d(pw,"schemePurples",function(){return xN}),n.d(pw,"interpolateReds",function(){return SN}),n.d(pw,"schemeReds",function(){return CN}),n.d(pw,"interpolateOranges",function(){return kN}),n.d(pw,"schemeOranges",function(){return ON}),n.d(pw,"interpolateCubehelixDefault",function(){return TN}),n.d(pw,"interpolateRainbow",function(){return AN}),n.d(pw,"interpolateWarm",function(){return PN}),n.d(pw,"interpolateCool",function(){return NN}),n.d(pw,"interpolateSinebow",function(){return jN}),n.d(pw,"interpolateViridis",function(){return LN}),n.d(pw,"interpolateMagma",function(){return zN}),n.d(pw,"interpolateInferno",function(){return FN}),n.d(pw,"interpolatePlasma",function(){return BN});var dw={};n.d(dw,"axisticks",function(){return qa}),n.d(dw,"datajoin",function(){return Ha}),n.d(dw,"encode",function(){return $a}),n.d(dw,"legendentries",function(){return Xa}),n.d(dw,"linkpath",function(){return Za}),n.d(dw,"pie",function(){return es}),n.d(dw,"scale",function(){return ns}),n.d(dw,"sortitems",function(){return us}),n.d(dw,"stack",function(){return ls}),n.d(dw,"validTicks",function(){return Va});var hw={};n.d(hw,"contour",function(){return bs}),n.d(hw,"geojson",function(){return _s}),n.d(hw,"geopath",function(){return hl}),n.d(hw,"geopoint",function(){return ml}),n.d(hw,"geoshape",function(){return gl}),n.d(hw,"graticule",function(){return vl}),n.d(hw,"projection",function(){return yl});var mw={};n.d(mw,"force",function(){return Wl});var gw={};n.d(gw,"nest",function(){return Sc}),n.d(gw,"pack",function(){return Pc}),n.d(gw,"partition",function(){return Nc}),n.d(gw,"stratify",function(){return Ic}),n.d(gw,"tree",function(){return Ac}),n.d(gw,"treelinks",function(){return Mc}),n.d(gw,"treemap",function(){return Dc});var vw={};n.d(vw,"voronoi",function(){return sf});var yw={};n.d(yw,"wordcloud",function(){return cf});var bw={};n.d(bw,"crossfilter",function(){return hf}),n.d(bw,"resolvefilter",function(){return mf});var _w={};n.d(_w,"version",function(){return KD.version}),n.d(_w,"Dataflow",function(){return re}),n.d(_w,"EventStream",function(){return g}),n.d(_w,"Parameters",function(){return d}),n.d(_w,"Pulse",function(){return Yt}),n.d(_w,"MultiPulse",function(){return Jt}),n.d(_w,"Operator",function(){return h}),n.d(_w,"Transform",function(){return oe}),n.d(_w,"changeset",function(){return p}),n.d(_w,"ingest",function(){return s}),n.d(_w,"isTuple",function(){return i}),n.d(_w,"definition",function(){return ae}),n.d(_w,"transform",function(){return se}),n.d(_w,"transforms",function(){return kE}),n.d(_w,"tupleid",function(){return o}),n.d(_w,"scale",function(){return Ta}),n.d(_w,"scheme",function(){return ja}),n.d(_w,"schemeDiscretized",function(){return La}),n.d(_w,"interpolate",function(){return Aa}),n.d(_w,"interpolateRange",function(){return Pa}),n.d(_w,"timeInterval",function(){return za}),n.d(_w,"utcInterval",function(){return Fa}),n.d(_w,"projection",function(){return pl}),n.d(_w,"View",function(){return Ch}),n.d(_w,"parse",function(){return zz}),n.d(_w,"expressionFunction",function(){return Zp}),n.d(_w,"formatLocale",function(){return ZT.formatDefaultLocale}),n.d(_w,"timeFormatLocale",function(){return Ht}),n.d(_w,"runtime",function(){return Uz}),n.d(_w,"runtimeContext",function(){return qz}),n.d(_w,"bin",function(){return NE}),n.d(_w,"bootstrapCI",function(){return YE}),n.d(_w,"quartiles",function(){return KE}),n.d(_w,"random",function(){return AE}),n.d(_w,"setRandom",function(){return me}),n.d(_w,"randomInteger",function(){return XE}),n.d(_w,"randomKDE",function(){return JE}),n.d(_w,"randomMixture",function(){return QE}),n.d(_w,"randomNormal",function(){return ZE}),n.d(_w,"randomUniform",function(){return tC}),n.d(_w,"accessor",function(){return Jw.f}),n.d(_w,"accessorName",function(){return Jw.h}),n.d(_w,"accessorFields",function(){return Jw.g}),n.d(_w,"id",function(){return Jw.s}),n.d(_w,"identity",function(){return Jw.t}),n.d(_w,"zero",function(){return Jw.X}),n.d(_w,"one",function(){return Jw.G}),n.d(_w,"truthy",function(){return Jw.V}),n.d(_w,"falsy",function(){return Jw.p}),n.d(_w,"logger",function(){return Jw.E}),n.d(_w,"None",function(){return Jw.d}),n.d(_w,"Error",function(){return Jw.b}),n.d(_w,"Warn",function(){return Jw.e}),n.d(_w,"Info",function(){return Jw.c}),n.d(_w,"Debug",function(){return Jw.a}),n.d(_w,"panLinear",function(){return Jw.I}),n.d(_w,"panLog",function(){return Jw.J}),n.d(_w,"panPow",function(){return Jw.K}),n.d(_w,"zoomLinear",function(){return Jw.Y}),n.d(_w,"zoomLog",function(){return Jw.Z}),n.d(_w,"zoomPow",function(){return Jw._0}),n.d(_w,"array",function(){return Jw.i}),n.d(_w,"compare",function(){return Jw.j}),n.d(_w,"constant",function(){return Jw.k}),n.d(_w,"debounce",function(){return Jw.l}),n.d(_w,"error",function(){return Jw.m}),n.d(_w,"extend",function(){return Jw.n}),n.d(_w,"extentIndex",function(){return Jw.o}),n.d(_w,"fastmap",function(){return Jw.q}),n.d(_w,"field",function(){return Jw.r}),n.d(_w,"inherits",function(){return Jw.u}),n.d(_w,"isArray",function(){return Jw.v}),n.d(_w,"isBoolean",function(){return Jw.w}),n.d(_w,"isDate",function(){return Jw.x}),n.d(_w,"isFunction",function(){return Jw.y}),n.d(_w,"isNumber",function(){return Jw.z}),n.d(_w,"isObject",function(){return Jw.A}),n.d(_w,"isRegExp",function(){return Jw.B}),n.d(_w,"isString",function(){return Jw.C}),n.d(_w,"key",function(){return Jw.D}),n.d(_w,"merge",function(){return Jw.F}),n.d(_w,"pad",function(){return Jw.H}),n.d(_w,"peek",function(){return Jw.L}),n.d(_w,"repeat",function(){return Jw.M}),n.d(_w,"splitAccessPath",function(){return Jw.N}),n.d(_w,"stringValue",function(){return Jw.O}),n.d(_w,"toBoolean",function(){return Jw.P}),n.d(_w,"toDate",function(){return Jw.Q}),n.d(_w,"toNumber",function(){return Jw.R}),n.d(_w,"toString",function(){return Jw.T}),n.d(_w,"toSet",function(){return Jw.S}),n.d(_w,"truncate",function(){return Jw.U}),n.d(_w,"visitArray",function(){return Jw.W}),n.d(_w,"loader",function(){return cx}),n.d(_w,"read",function(){return yE}),n.d(_w,"inferType",function(){return C}),n.d(_w,"inferTypes",function(){return S}),n.d(_w,"typeParsers",function(){return fx}),n.d(_w,"format",function(){return kx}),n.d(_w,"formats",function(){return A}),n.d(_w,"Bounds",function(){return _n}),n.d(_w,"Gradient",function(){return rS}),n.d(_w,"GroupItem",function(){return xn}),n.d(_w,"ResourceLoader",function(){return Cn}),n.d(_w,"Item",function(){return wn}),n.d(_w,"Scenegraph",function(){return ai}),n.d(_w,"Handler",function(){return di}),n.d(_w,"Renderer",function(){return hi}),n.d(_w,"CanvasHandler",function(){return mi}),n.d(_w,"CanvasRenderer",function(){return yi}),n.d(_w,"SVGHandler",function(){return bi}),n.d(_w,"SVGRenderer",function(){return Ei}),n.d(_w,"SVGStringRenderer",function(){return Ti}),n.d(_w,"RenderType",function(){return ck}),n.d(_w,"renderModule",function(){return Ii}),n.d(_w,"Marks",function(){return jO}),n.d(_w,"boundClip",function(){return dk}),n.d(_w,"boundContext",function(){return Or}),n.d(_w,"boundStroke",function(){return iO}),n.d(_w,"boundItem",function(){return LO}),n.d(_w,"boundMark",function(){return FO}),n.d(_w,"pathCurves",function(){return fr}),n.d(_w,"pathSymbols",function(){return mr}),n.d(_w,"pathRectangle",function(){return YS}),n.d(_w,"pathTrail",function(){return XS}),n.d(_w,"pathParse",function(){return zS}),n.d(_w,"pathRender",function(){return WS}),n.d(_w,"point",function(){return UO}),n.d(_w,"domCreate",function(){return ui}),n.d(_w,"domFind",function(){return li}),n.d(_w,"domChild",function(){return ci}),n.d(_w,"domClear",function(){return fi}),n.d(_w,"openTag",function(){return wi}),n.d(_w,"closeTag",function(){return xi}),n.d(_w,"font",function(){return ti}),n.d(_w,"fontFamily",function(){return Qr}),n.d(_w,"fontSize",function(){return Xr}),n.d(_w,"textMetrics",function(){return MO}),n.d(_w,"resetSVGClipId",function(){return zr}),n.d(_w,"sceneEqual",function(){return Ai}),n.d(_w,"pathEqual",function(){return Mi}),n.d(_w,"sceneToJSON",function(){return ri}),n.d(_w,"sceneFromJSON",function(){return ii}),n.d(_w,"sceneZOrder",function(){return Nr}),n.d(_w,"sceneVisit",function(){return Ir}),n.d(_w,"scenePickVisit",function(){return Ar});var ww={};n.d(ww,"deepEqual",function(){return rF}),n.d(ww,"pick",function(){return Dh}),n.d(ww,"omit",function(){return Rh}),n.d(ww,"stringify",function(){return iF}),n.d(ww,"hash",function(){return jh}),n.d(ww,"contains",function(){return Lh}),n.d(ww,"without",function(){return zh}),n.d(ww,"union",function(){return Fh}),n.d(ww,"some",function(){return Bh}),n.d(ww,"every",function(){return Vh}),n.d(ww,"flatten",function(){return Uh}),n.d(ww,"fill",function(){return Wh}),n.d(ww,"mergeDeep",function(){return qh}),n.d(ww,"unique",function(){return Hh}),n.d(ww,"isEqual",function(){return Gh}),n.d(ww,"hasIntersection",function(){return $h}),n.d(ww,"prefixGenerator",function(){return Yh}),n.d(ww,"fieldIntersection",function(){return Kh}),n.d(ww,"isNumeric",function(){return Xh}),n.d(ww,"differArray",function(){return Zh}),n.d(ww,"keys",function(){return oF}),n.d(ww,"vals",function(){return Jh}),n.d(ww,"entries",function(){return Qh}),n.d(ww,"flagKeys",function(){return tm}),n.d(ww,"duplicate",function(){return em}),n.d(ww,"isBoolean",function(){return nm}),n.d(ww,"varName",function(){return rm}),n.d(ww,"logicalExpr",function(){return im}),n.d(ww,"deleteNestedProperty",function(){return om}),n.d(ww,"titlecase",function(){return am}),n.d(ww,"accessPathWithDatum",function(){return sm}),n.d(ww,"flatAccessWithDatum",function(){return um}),n.d(ww,"replacePathInField",function(){return lm}),n.d(ww,"removePathFromField",function(){return cm}),n.d(ww,"accessPathDepth",function(){return fm}),n.d(ww,"getFirstDefined",function(){return pm}),n.d(ww,"uniqueId",function(){return dm}),n.d(ww,"resetIdCounter",function(){return hm});var xw={};n.d(xw,"AGGREGATE_OPS",function(){return uF}),n.d(xw,"isAggregateOp",function(){return mm}),n.d(xw,"COUNTING_OPS",function(){return lF}),n.d(xw,"isCountingAggregateOp",function(){return gm}),n.d(xw,"isMinMaxOp",function(){return vm}),n.d(xw,"SUM_OPS",function(){return cF}),n.d(xw,"SHARED_DOMAIN_OPS",function(){return fF}),n.d(xw,"SHARED_DOMAIN_OP_INDEX",function(){return pF});var Ew={};n.d(Ew,"AXIS_PARTS",function(){return dF}),n.d(Ew,"AXIS_PROPERTY_TYPE",function(){return hF}),n.d(Ew,"isAxisProperty",function(){return ym}),n.d(Ew,"VG_AXIS_PROPERTIES",function(){return vF}),n.d(Ew,"AXIS_PROPERTIES",function(){return yF});var Cw={};n.d(Cw,"isDateTime",function(){return wm}),n.d(Cw,"MONTHS",function(){return EF}),n.d(Cw,"SHORT_MONTHS",function(){return CF}),n.d(Cw,"DAYS",function(){return SF}),n.d(Cw,"SHORT_DAYS",function(){return OF}),n.d(Cw,"dateTimeExpr",function(){return xm});var Sw={};n.d(Sw,"isFacetFieldDef",function(){return Em});var Ow={};n.d(Ow,"TimeUnit",function(){return wF}),n.d(Ow,"TIMEUNIT_PARTS",function(){return PF}),n.d(Ow,"isLocalSingleTimeUnit",function(){return Cm}),n.d(Ow,"isUtcSingleTimeUnit",function(){return Sm}),n.d(Ow,"isUTCTimeUnit",function(){return Om}),n.d(Ow,"getLocalTimeUnit",function(){return km}),n.d(Ow,"TIMEUNITS",function(){return DF}),n.d(Ow,"isTimeUnit",function(){return Tm}),n.d(Ow,"convert",function(){return Pm}),n.d(Ow,"getTimeUnitParts",function(){return Im}),n.d(Ow,"containsTimeUnit",function(){return Am}),n.d(Ow,"fieldExpr",function(){return Mm}),n.d(Ow,"getDateTimeComponents",function(){return Dm}),n.d(Ow,"formatExpression",function(){return Rm}),n.d(Ow,"normalizeTimeUnit",function(){return jm});var kw={};n.d(kw,"Type",function(){return kF}),n.d(kw,"TYPE_INDEX",function(){return LF}),n.d(kw,"isType",function(){return Lm}),n.d(kw,"QUANTITATIVE",function(){return zF}),n.d(kw,"ORDINAL",function(){return FF}),n.d(kw,"TEMPORAL",function(){return BF}),n.d(kw,"NOMINAL",function(){return VF}),n.d(kw,"GEOJSON",function(){return UF}),n.d(kw,"getFullName",function(){return zm});var Tw={};n.d(Tw,"isConditionalSelection",function(){return Fm}),n.d(Tw,"isRepeatRef",function(){return Bm}),n.d(Tw,"toFieldDefBase",function(){return Vm}),n.d(Tw,"isConditionalDef",function(){return Um}),n.d(Tw,"hasConditionalFieldDef",function(){return Wm}),n.d(Tw,"hasConditionalValueDef",function(){return qm}),n.d(Tw,"isFieldDef",function(){return Hm}),n.d(Tw,"isStringFieldDef",function(){return Gm}),n.d(Tw,"isValueDef",function(){return $m}),n.d(Tw,"isScaleFieldDef",function(){return Ym}),n.d(Tw,"isPositionFieldDef",function(){return Km}),n.d(Tw,"isMarkPropFieldDef",function(){return Xm}),n.d(Tw,"isTextFieldDef",function(){return Zm}),n.d(Tw,"vgField",function(){return Jm}),n.d(Tw,"isDiscrete",function(){return Qm}),n.d(Tw,"isContinuous",function(){return tg}),n.d(Tw,"isCount",function(){return eg}),n.d(Tw,"verbalTitleFormatter",function(){return ng}),n.d(Tw,"functionalTitleFormatter",function(){return rg}),n.d(Tw,"defaultTitleFormatter",function(){return WF}),n.d(Tw,"setTitleFormatter",function(){return ig}),n.d(Tw,"resetTitleFormatter",function(){return og}),n.d(Tw,"title",function(){return ag}),n.d(Tw,"getGuide",function(){return sg}),n.d(Tw,"defaultTitle",function(){return ug}),n.d(Tw,"format",function(){return lg}),n.d(Tw,"defaultType",function(){return cg}),n.d(Tw,"getFieldDef",function(){return fg}),n.d(Tw,"normalize",function(){return pg}),n.d(Tw,"normalizeFieldDef",function(){return dg}),n.d(Tw,"normalizeBin",function(){return hg}),n.d(Tw,"channelCompatibility",function(){return mg}),n.d(Tw,"isNumberFieldDef",function(){return gg}),n.d(Tw,"isTimeFieldDef",function(){return vg}),n.d(Tw,"valueExpr",function(){return yg}),n.d(Tw,"valueArray",function(){return bg});var Pw={};n.d(Pw,"Mark",function(){return jF}),n.d(Pw,"AREA",function(){return $F}),n.d(Pw,"BAR",function(){return YF}),n.d(Pw,"LINE",function(){return KF}),n.d(Pw,"POINT",function(){return XF}),n.d(Pw,"TEXT",function(){return ZF}),n.d(Pw,"TICK",function(){return JF}),n.d(Pw,"TRAIL",function(){return QF}),n.d(Pw,"RECT",function(){return tB}),n.d(Pw,"RULE",function(){return eB}),n.d(Pw,"GEOSHAPE",function(){return nB}),n.d(Pw,"CIRCLE",function(){return rB}),n.d(Pw,"SQUARE",function(){return iB}),n.d(Pw,"isMark",function(){return _g}),n.d(Pw,"isPathMark",function(){return wg}),n.d(Pw,"PRIMITIVE_MARKS",function(){return aB}),n.d(Pw,"isMarkDef",function(){return xg}),n.d(Pw,"isPrimitiveMark",function(){return Eg}),n.d(Pw,"STROKE_CONFIG",function(){return uB}),n.d(Pw,"FILL_CONFIG",function(){return lB}),n.d(Pw,"FILL_STROKE_CONFIG",function(){return cB}),n.d(Pw,"VL_ONLY_MARK_CONFIG_PROPERTIES",function(){return fB}),n.d(Pw,"VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX",function(){return pB}),n.d(Pw,"defaultMarkConfig",function(){return dB}),n.d(Pw,"defaultBarConfig",function(){return hB}),n.d(Pw,"defaultTickConfig",function(){return mB});var Nw={};n.d(Nw,"Channel",function(){return GF}),n.d(Nw,"X",function(){return vB}),n.d(Nw,"Y",function(){return yB}),n.d(Nw,"X2",function(){return bB}),n.d(Nw,"Y2",function(){return _B}),n.d(Nw,"XERROR",function(){return wB}),n.d(Nw,"YERROR",function(){return xB}),n.d(Nw,"XERROR2",function(){return EB}),n.d(Nw,"YERROR2",function(){return CB}),n.d(Nw,"LATITUDE",function(){return SB}),n.d(Nw,"LATITUDE2",function(){return OB}),n.d(Nw,"LONGITUDE",function(){return kB}),n.d(Nw,"LONGITUDE2",function(){return TB}),n.d(Nw,"ROW",function(){return PB}),n.d(Nw,"COLUMN",function(){return NB}),n.d(Nw,"SHAPE",function(){return IB}),n.d(Nw,"SIZE",function(){return AB}),n.d(Nw,"COLOR",function(){return MB}),n.d(Nw,"FILL",function(){return DB}),n.d(Nw,"STROKE",function(){return RB}),n.d(Nw,"TEXT",function(){return jB}),n.d(Nw,"DETAIL",function(){return LB}),n.d(Nw,"KEY",function(){return zB}),n.d(Nw,"ORDER",function(){return FB}),n.d(Nw,"OPACITY",function(){return BB}),n.d(Nw,"FILLOPACITY",function(){return VB}),n.d(Nw,"STROKEOPACITY",function(){return UB}),n.d(Nw,"STROKEWIDTH",function(){return WB}),n.d(Nw,"TOOLTIP",function(){return qB}),n.d(Nw,"HREF",function(){return HB}),n.d(Nw,"GEOPOSITION_CHANNEL_INDEX",function(){return GB}),n.d(Nw,"GEOPOSITION_CHANNELS",function(){return $B}),n.d(Nw,"isColorChannel",function(){return Cg}),n.d(Nw,"CHANNELS",function(){return XB}),n.d(Nw,"SINGLE_DEF_CHANNELS",function(){return ZB}),n.d(Nw,"isChannel",function(){return Sg}),n.d(Nw,"UNIT_CHANNELS",function(){return JB}),n.d(Nw,"NONPOSITION_CHANNELS",function(){return tV}),n.d(Nw,"POSITION_SCALE_CHANNELS",function(){return nV}),n.d(Nw,"NONPOSITION_SCALE_CHANNELS",function(){return iV}),n.d(Nw,"isNonPositionScaleChannel",function(){return Og}),n.d(Nw,"SCALE_CHANNELS",function(){return aV}),n.d(Nw,"isScaleChannel",function(){return kg}),n.d(Nw,"supportMark",function(){return Tg}),n.d(Nw,"getSupportedMark",function(){return Pg}),n.d(Nw,"rangeType",function(){return Ng});var Iw={};n.d(Iw,"binToString",function(){return Ig}),n.d(Iw,"isBinning",function(){return Ag}),n.d(Iw,"isBinned",function(){return Mg}),n.d(Iw,"isBinParams",function(){return Dg}),n.d(Iw,"autoMaxBins",function(){return Rg});var Aw={};n.d(Aw,"ScaleType",function(){return gB}),n.d(Aw,"SCALE_TYPES",function(){return uV}),n.d(Aw,"scaleCompatible",function(){return jg}),n.d(Aw,"scaleTypePrecedence",function(){return Lg}),n.d(Aw,"CONTINUOUS_TO_CONTINUOUS_SCALES",function(){return cV}),n.d(Aw,"CONTINUOUS_TO_DISCRETE_SCALES",function(){return pV}),n.d(Aw,"CONTINUOUS_DOMAIN_SCALES",function(){return hV}),n.d(Aw,"DISCRETE_DOMAIN_SCALES",function(){return gV}),n.d(Aw,"TIME_SCALE_TYPES",function(){return bV}),n.d(Aw,"hasDiscreteDomain",function(){return zg}),n.d(Aw,"isBinScale",function(){return Fg}),n.d(Aw,"hasContinuousDomain",function(){return Bg}),n.d(Aw,"isContinuousToContinuous",function(){return Vg}),n.d(Aw,"isContinuousToDiscrete",function(){return Ug}),n.d(Aw,"defaultScaleConfig",function(){return _V}),n.d(Aw,"isExtendedScheme",function(){return Wg}),n.d(Aw,"isSelectionDomain",function(){return qg}),n.d(Aw,"SCALE_PROPERTIES",function(){return xV}),n.d(Aw,"NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES",function(){return EV}),n.d(Aw,"SCALE_TYPE_INDEX",function(){return CV}),n.d(Aw,"scaleTypeSupportProperty",function(){return Hg}),n.d(Aw,"channelScalePropertyIncompatability",function(){return Gg}),n.d(Aw,"scaleTypeSupportDataType",function(){return $g}),n.d(Aw,"channelSupportScaleType",function(){return Yg}),n.d(Aw,"getSupportedScaleType",function(){return Kg});var Mw={};n.d(Mw,"isStackOffset",function(){return Zg}),n.d(Mw,"STACKABLE_MARKS",function(){return TV}),n.d(Mw,"STACK_BY_DEFAULT_MARKS",function(){return PV}),n.d(Mw,"stack",function(){return Jg});var Dw={};n.d(Dw,"isFacetSpec",function(){return av}),n.d(Dw,"isUnitSpec",function(){return sv}),n.d(Dw,"isLayerSpec",function(){return uv}),n.d(Dw,"isRepeatSpec",function(){return lv}),n.d(Dw,"isConcatSpec",function(){return cv}),n.d(Dw,"isVConcatSpec",function(){return fv}),n.d(Dw,"isHConcatSpec",function(){return pv}),n.d(Dw,"normalize",function(){return Qg}),n.d(Dw,"fieldDefs",function(){return mv}),n.d(Dw,"isStacked",function(){return gv}),n.d(Dw,"usedFields",function(){return vv});var Rw={};n.d(Rw,"isFilter",function(){return wv}),n.d(Rw,"isImputeSequence",function(){return xv}),n.d(Rw,"isLookup",function(){return Ev}),n.d(Rw,"isSample",function(){return Cv}),n.d(Rw,"isWindow",function(){return Sv}),n.d(Rw,"isFlatten",function(){return Ov}),n.d(Rw,"isCalculate",function(){return kv}),n.d(Rw,"isBin",function(){return Tv}),n.d(Rw,"isImpute",function(){return Pv}),n.d(Rw,"isTimeUnit",function(){return Nv}),n.d(Rw,"isAggregate",function(){return Iv}),n.d(Rw,"isStack",function(){return Av}),n.d(Rw,"isFold",function(){return Mv}),n.d(Rw,"normalizeTransform",function(){return Dv});var jw={};n.d(jw,"HEADER_TITLE_PROPERTIES_MAP",function(){return AV}),n.d(jw,"HEADER_LABEL_PROPERTIES_MAP",function(){return MV}),n.d(jw,"HEADER_TITLE_PROPERTIES",function(){return DV}),n.d(jw,"HEADER_LABEL_PROPERTIES",function(){return RV});var Lw={};n.d(Lw,"isSortField",function(){return Fv}),n.d(Lw,"isSortArray",function(){return Bv});var zw={};n.d(zw,"defaultLegendConfig",function(){return VV}),n.d(zw,"LEGEND_PROPERTIES",function(){return qV}),n.d(zw,"VG_LEGEND_PROPERTIES",function(){return HV});var Fw={};n.d(Fw,"symbols",function(){return oy}),n.d(Fw,"gradient",function(){return ay}),n.d(Fw,"labels",function(){return sy});var Bw={};n.d(Bw,"isUrlData",function(){return yy}),n.d(Bw,"isInlineData",function(){return by}),n.d(Bw,"isNamedData",function(){return _y}),n.d(Bw,"MAIN",function(){return YV}),n.d(Bw,"RAW",function(){return KV});var Vw={};n.d(Vw,"defaultViewConfig",function(){return _U}),n.d(Vw,"isVgScheme",function(){return jy}),n.d(Vw,"defaultConfig",function(){return wU}),n.d(Vw,"initConfig",function(){return Ly}),n.d(Vw,"stripAndRedirectConfig",function(){return zy});var Uw={};n.d(Uw,"channelHasField",function(){return u_}),n.d(Uw,"isAggregate",function(){return l_}),n.d(Uw,"extractTransformsFromEncoding",function(){return c_}),n.d(Uw,"normalizeEncoding",function(){return f_}),n.d(Uw,"isRanged",function(){return p_}),n.d(Uw,"fieldDefs",function(){return d_}),n.d(Uw,"forEach",function(){return h_}),n.d(Uw,"reduce",function(){return m_});var Ww={};n.d(Ww,"add",function(){return S_}),n.d(Ww,"remove",function(){return O_}),n.d(Ww,"getAllCompositeMarks",function(){return k_}),n.d(Ww,"getCompositeMarkParts",function(){return T_}),n.d(Ww,"normalize",function(){return P_});var qw={};n.d(qw,"DEFAULT_REQUIRED_CHANNEL_MAP",function(){return CW}),n.d(qw,"DEFAULT_SUPPORTED_CHANNEL_TYPE",function(){return SW}),n.d(qw,"getEncodingMappingError",function(){return rw});var Hw={};n.d(Hw,"compile",function(){return ew}),n.d(Hw,"extractTransforms",function(){return nw}),n.d(Hw,"aggregate",function(){return xw}),n.d(Hw,"axis",function(){return Ew}),n.d(Hw,"bin",function(){return Iw}),n.d(Hw,"channel",function(){return Nw}),n.d(Hw,"compositeMark",function(){return Ww}),n.d(Hw,"config",function(){return Vw}),n.d(Hw,"data",function(){return Bw}),n.d(Hw,"datetime",function(){return Cw}),n.d(Hw,"encoding",function(){return Uw}),n.d(Hw,"facet",function(){return Sw}),n.d(Hw,"fieldDef",function(){return Tw}),n.d(Hw,"header",function(){return jw}),n.d(Hw,"legend",function(){return zw}),n.d(Hw,"mark",function(){return Pw}),n.d(Hw,"scale",function(){return Aw}),n.d(Hw,"sort",function(){return Lw}),n.d(Hw,"spec",function(){return Dw}),n.d(Hw,"stack",function(){return Mw}),n.d(Hw,"timeUnit",function(){return Ow}),n.d(Hw,"transform",function(){return Rw}),n.d(Hw,"type",function(){return kw}),n.d(Hw,"util",function(){return ww}),n.d(Hw,"validate",function(){return qw}),n.d(Hw,"version",function(){return kW});var Gw={};n.d(Gw,"excel",function(){return IW}),n.d(Gw,"ggplot2",function(){return AW}),n.d(Gw,"quartz",function(){return DW}),n.d(Gw,"vox",function(){return jW}),n.d(Gw,"dark",function(){return LW}),n.d(Gw,"fivethirtyeight",function(){return BW});var $w=n(2),Yw=n(247),Kw=n(458),Xw=n.n(Kw),Zw=n(459),Jw=n(1),Qw=Symbol("vega_id"),tx=1,ex="_:mod:_",nx=d.prototype;nx.set=function(t,e,n,r){var i=this[t],o=this[ex];return null!=e&&e>=0?(i[e]!==n||r)&&(i[e]=n,o[e+":"+t]=-1,o[t]=-1):(i!==n||r)&&(this[t]=n,o[t]=Object(Jw.v)(n)?1+n.length:-1),this},nx.modified=function(t,e){var n,r=this[ex];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Object(Jw.v)(t)){for(n=0;n<t.length;++n)if(r[t[n]])return!0;return!1}return null!=e&&e>=0?e+1<r[t]||!!r[e+":"+t]:!!r[t]},nx.clear=function(){return this[ex]={},this};var rx=0,ix=new d,ox=h.prototype;ox.targets=function(){return this._targets||(this._targets=r(Jw.s))},ox.set=function(t){return this.value!==t?(this.value=t,1):0},ox.skip=m(1),ox.modified=m(2),ox.parameters=function(t,e,n){function r(t,n,r){r instanceof h?(r!==u&&(e&&r.targets().add(u),f.push(r)),c.push({op:r,name:t,index:n})):l.set(t,n,r)}e=!1!==e;var i,o,a,s,u=this,l=u._argval=u._argval||new d,c=u._argops=u._argops||[],f=[];for(i in t)if(o=t[i],"pulse"===i)Object(Jw.i)(o).forEach(function(t){t instanceof h?t!==u&&(t.targets().add(u),f.push(t)):Object(Jw.m)("Pulse parameters must be operator instances.")}),u.source=o;else if(Object(Jw.v)(o))for(l.set(i,-1,Array(a=o.length)),s=0;s<a;++s)r(i,s,o[s]);else r(i,-1,o);return this.marshall().clear(),n&&(c.initonly=!0),f},ox.marshall=function(t){var e,n,r,i,o,a=this._argval||ix,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)o=(i=(e=s[n]).op).modified()&&i.stamp===t,a.set(e.name,e.index,i.value,o);if(s.initonly){for(n=0;n<r;++n)(e=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},ox.evaluate=function(t){var e=this._update;if(e){var n=this.marshall(t.stamp),r=e.call(this,n,t);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},ox.run=function(t){if(t.stamp<=this.stamp)return t.StopPropagation;var e;return this.skip()?(this.skip(!1),e=0):e=this.evaluate(t),this.stamp=t.stamp,this.pulse=e||t};var ax=0,sx=g.prototype;sx._filter=Jw.V,sx._apply=Jw.t,sx.targets=function(){return this._targets||(this._targets=r(Jw.s))},sx.consume=function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},sx.receive=function(t){if(this._filter(t)){for(var e=this.value=this._apply(t),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(e);this._consume&&(t.preventDefault(),t.stopPropagation())}},sx.filter=function(t){var e=v(t);return this.targets().add(e),e},sx.apply=function(t){var e=v(null,t);return this.targets().add(e),e},sx.merge=function(){var t=v();this.targets().add(t);for(var e=0,n=arguments.length;e<n;++e)arguments[e].targets().add(t);return t},sx.throttle=function(t){var e=-1;return this.filter(function(){var n=Date.now();return n-e>t?(e=n,1):0})},sx.debounce=function(t){var e=v();return this.targets().add(v(null,null,Object(Jw.l)(t,function(t){var n=t.dataflow;e.receive(t),n&&n.run&&n.run()}))),e},sx.between=function(t,e){var n=!1;return t.targets().add(v(null,null,function(){n=!0})),e.targets().add(v(null,null,function(){n=!1})),this.filter(function(){return n})};var ux=/^([A-Za-z]+:)?\/\//,lx="file://",cx=function(t){return{options:t||{},sanitize:b,load:y,file:w,http:_}},fx={boolean:Jw.P,integer:Jw.R,number:Jw.R,date:Jw.Q,string:Jw.T,unknown:Jw.t},px=[function(t){return"true"===t||"false"===t||!0===t||!1===t},function(t){return O(t)&&(t=+t)==~~t},O,function(t){return!isNaN(Date.parse(t))}],dx=["boolean","integer","number","date"],hx={},mx={},gx=34,vx=10,yx=13,bx=function(t){function e(t,e){function n(){if(l)return mx;if(c)return c=!1,hx;var e,n,r=s;if(t.charCodeAt(r)===gx){for(;s++<a&&t.charCodeAt(s)!==gx||t.charCodeAt(++s)===gx;);return(e=s)>=a?l=!0:(n=t.charCodeAt(s++))===vx?c=!0:n===yx&&(c=!0,t.charCodeAt(s)===vx&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<a;){if((n=t.charCodeAt(e=s++))===vx)c=!0;else if(n===yx)c=!0,t.charCodeAt(s)===vx&&++s;else if(n!==o)continue;return t.slice(r,e)}return l=!0,t.slice(r,a)}var r,i=[],a=t.length,s=0,u=0,l=a<=0,c=!1;for(t.charCodeAt(a-1)===vx&&--a,t.charCodeAt(a-1)===yx&&--a;(r=n())!==mx;){for(var f=[];r!==hx&&r!==mx;)f.push(r),r=n();e&&null==(f=e(f,u++))||i.push(f)}return i}function n(e){return e.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,n){var r,i,o=e(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?function(t,e){var n=k(t);return function(r,i){return e(n(r),i,t)}}(t,n):k(t)});return o.columns=i||[],o},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(r).join(t)].concat(e.map(function(e){return n.map(function(t){return r(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}},_x=(bx(","),bx("\t"),n(248)),wx=function(t){return t},xx=function(t){if(null==t)return wx;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;u<l;)c[u]=t[u],++u;return c}},Ex=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},Cx=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return N(t,e)})}:N(t,e)},Sx=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),a.push(i)}}var r={},i={},o={},a=[],s=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)}),e.forEach(function(e){var n,r,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,r=o[s]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=s]=o[n.end=u]=n}),n(o,i),n(i,o),e.forEach(function(t){r[t<0?~t:t]||a.push([t])}),a},Ox=function(t){return I(t,function(t,e,n){var r,i,o;if(arguments.length>1)r=function(t,e,n){function r(t){var e=t<0?~t:t;(l[e]||(l[e]=[])).push({i:t,g:s})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}function a(t){switch(s=t,t.type){case"GeometryCollection":t.geometries.forEach(a);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":!function(t){t.forEach(o)}(t.arcs)}}var s,u=[],l=[];return a(e),l.forEach(null==n?function(t){u.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&u.push(t[0].i)}),u}(0,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Sx(t,r)}}.apply(this,arguments))},kx={dsv:P,csv:T(","),tsv:T("\t"),json:_x.a,topojson:function(t,e){var n,r,i;return t=Object(_x.a)(t,e),n=e&&(i=e.feature)?Cx:e&&(i=e.mesh)?Ox:Object(Jw.m)("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[i])?n(t,r):Object(Jw.m)("Invalid TopoJSON object: "+i))&&r.features||[r]}},Tx=new Date,Px=new Date,Nx=M(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Nx.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?M(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Nx:null};var Ix=Nx,Ax=6e4,Mx=6048e5,Dx=M(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Rx=Dx,jx=M(function(t){t.setTime(Math.floor(t/Ax)*Ax)},function(t,e){t.setTime(+t+e*Ax)},function(t,e){return(e-t)/Ax},function(t){return t.getMinutes()}),Lx=jx,zx=M(function(t){var e=t.getTimezoneOffset()*Ax%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Fx=zx,Bx=M(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ax)/864e5},function(t){return t.getDate()-1}),Vx=Bx,Ux=D(0),Wx=D(1),qx=(D(2),D(3),D(4)),Hx=(D(5),D(6),M(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Gx=Hx,$x=M(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});$x.every=function(t){return isFinite(t=Math.floor(t))&&t>0?M(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Yx=$x,Kx=M(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ax)},function(t,e){return(e-t)/Ax},function(t){return t.getUTCMinutes()}),Xx=Kx,Zx=M(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Jx=Zx,Qx=M(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),tE=Qx,eE=R(0),nE=R(1),rE=(R(2),R(3),R(4)),iE=(R(5),R(6),M(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),oE=iE,aE=M(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});aE.every=function(t){return isFinite(t=Math.floor(t))&&t>0?M(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var sE,uE,lE,cE,fE,pE=aE,dE={"-":"",_:" ",0:"0"},hE=/^\s*\d+/,mE=/^%/,gE=/[\\^$*+?|[\]().{}]/g;Ht({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var vE="%Y-%m-%dT%H:%M:%S.%LZ",yE=(Date.prototype.toISOString||cE(vE),+new Date("2000-01-01T00:00:00.000Z")||fE(vE),function(t,e,n){var r=A((e=e||{}).type||"json");return r||Object(Jw.m)("Unknown data format type: "+e.type),t=r(t,e),e.parse&&function(t,e,n){if(t.length){n=n||lE;var r,i,o,a,s,u,l,c=t.columns||Object.keys(t[0]);for("auto"===e&&(e=S(t,c)),r=(c=Object.keys(e)).map(function(t){var r,i,o=e[t];if(o&&(0===o.indexOf("date:")||0===o.indexOf("utc:")))return r=o.split(/:(.+)?/,2),("'"===(i=r[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?fE(i):n(i);if(!fx[o])throw Error("Illegal format pattern: "+t+":"+o);return fx[o]}),a=0,u=t.length,l=c.length;a<u;++a)for(i=t[a],s=0;s<l;++s)i[o=c[s]]=r[s](i[o])}}(t,e.parse,n),t.hasOwnProperty("columns")&&delete t.columns,t}),bE={skip:!0},_E={},wE=Yt.prototype;wE.StopPropagation=_E,wE.ADD=1,wE.REM=2,wE.MOD=4,wE.ADD_REM=3,wE.ADD_MOD=5,wE.ALL=7,wE.REFLOW=8,wE.SOURCE=16,wE.NO_SOURCE=32,wE.NO_FIELDS=64,wE.fork=function(t){return new Yt(this.dataflow).init(this,t)},wE.clone=function(){var t=this.fork(7);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(23)},wE.addAll=function(){var t=this;return this.source&&this.source.length!==this.add.length?(t=new Yt(this.dataflow).init(this),t.add=t.source,t):t},wE.init=function(t,e){return this.stamp=t.stamp,this.encode=t.encode,!t.fields||64&e||(this.fields=t.fields),1&e?(this.addF=t.addF,this.add=t.add):(this.addF=null,this.add=[]),2&e?(this.remF=t.remF,this.rem=t.rem):(this.remF=null,this.rem=[]),4&e?(this.modF=t.modF,this.mod=t.mod):(this.modF=null,this.mod=[]),32&e?(this.srcF=null,this.source=null):(this.srcF=t.srcF,this.source=t.source),this},wE.runAfter=function(t){this.dataflow.runAfter(t)},wE.changed=function(t){var e=t||7;return 1&e&&this.add.length||2&e&&this.rem.length||4&e&&this.mod.length},wE.reflow=function(t){if(t)return this.fork(7).reflow();var e=this.add.length,n=this.source&&this.source.length;return n&&n!==e&&(this.mod=this.source,e&&this.filter(4,Zt(this,1))),this},wE.modifies=function(t){var e=Object(Jw.i)(t),n=this.fields||(this.fields={});return e.forEach(function(t){n[t]=!0}),this},wE.modified=function(t){var e=this.fields;return!(!this.mod.length||!e)&&(arguments.length?Object(Jw.v)(t)?t.some(function(t){return e[t]}):e[t]:!!e)},wE.filter=function(t,e){return 1&t&&(this.addF=Kt(this.addF,e)),2&t&&(this.remF=Kt(this.remF,e)),4&t&&(this.modF=Kt(this.modF,e)),16&t&&(this.srcF=Kt(this.srcF,e)),this},wE.materialize=function(t){return 1&(t=t||7)&&this.addF&&(this.add=Xt(this.add,this.addF),this.addF=null),2&t&&this.remF&&(this.rem=Xt(this.rem,this.remF),this.remF=null),4&t&&this.modF&&(this.mod=Xt(this.mod,this.modF),this.modF=null),16&t&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null),this},wE.visit=function(t,e){var n,r,i=e;return 16&t?(Object(Jw.W)(this.source,this.srcF,i),this):(1&t&&Object(Jw.W)(this.add,this.addF,i),2&t&&Object(Jw.W)(this.rem,this.remF,i),4&t&&Object(Jw.W)(this.mod,this.modF,i),8&t&&(n=this.source)&&((r=this.add.length+this.mod.length)===n.length||(r?Object(Jw.W)(n,Zt(this,5),i):Object(Jw.W)(n,this.srcF,i))),this)};var xE=Object(Jw.u)(Jt,Yt);xE.fork=function(t){var e=new Yt(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&e.ADD&&this.visit(e.ADD,function(t){return e.add.push(t)}),t&e.REM&&this.visit(e.REM,function(t){return e.rem.push(t)}),t&e.MOD&&this.visit(e.MOD,function(t){return e.mod.push(t)})),e},xE.changed=function(t){return this.changes&t},xE.modified=function(t){var e=this.fields;return e&&this.changes&this.MOD?Object(Jw.v)(t)?t.some(function(t){return e[t]}):e[t]:0},xE.filter=function(){Object(Jw.m)("MultiPulse does not support filtering.")},xE.materialize=function(){Object(Jw.m)("MultiPulse does not support materialization.")},xE.visit=function(t,e){var n=this.pulses,r=n.length,i=0;if(t&this.SOURCE)for(;i<r;++i)n[i].visit(t,e);else for(;i<r;++i)n[i].stamp===this.stamp&&n[i].visit(t,e);return this};var EE={skip:!1,force:!1},CE=te.prototype;CE.size=function(){return this.nodes.length},CE.clear=function(){return this.nodes=[],this},CE.peek=function(){return this.nodes[0]},CE.push=function(t){var e=this.nodes;return e.push(t),ee(e,0,e.length-1,this.cmp)},CE.pop=function(){var t,e=this.nodes,n=e.pop();return e.length?(t=e[0],e[0]=n,ne(e,0,this.cmp)):t=n,t},CE.replace=function(t){var e=this.nodes,n=e[0];return e[0]=t,ne(e,0,this.cmp),n},CE.pushpop=function(t){var e=this.nodes,n=e[0];return e.length&&this.cmp(n,t)<0&&(e[0]=t,t=n,ne(e,0,this.cmp)),t};var SE=re.prototype;SE.stamp=function(){return this._clock},SE.loader=function(t){return arguments.length?(this._loader=t,this):this._loader},SE.cleanThreshold=1e4,SE.add=function(t,e,n,r){var i,o=1;return t instanceof h?i=t:t&&t.prototype instanceof h?i=new t:Object(Jw.y)(t)?i=new h(null,t):(o=0,i=new h(t,e)),this.rank(i),o&&(r=n,n=e),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},SE.connect=function(t,e){var n,r,i=t.rank;for(n=0,r=e.length;n<r;++n)if(i<e[n].rank)return void this.rerank(t)},SE.rank=function(t){t.rank=++this._rank},SE.rerank=function(t){for(var e,n,r,i=[t];i.length;)if(this.rank(e=i.pop()),n=e._targets)for(r=n.length;--r>=0;)i.push(e=n[r]),e===t&&Object(Jw.m)("Cycle detected in dataflow graph.")},SE.pulse=function(t,e,n){this.touch(t,n||EE);var r=new Yt(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._pulses[t.id]=e.pulse(r,i),this},SE.touch=function(t,e){var n=e||EE;return this._pulse?this._enqueue(t):this._touched.add(t),n.skip&&t.skip(!0),this},SE.update=function(t,e,n){var r=n||EE;return(t.set(e)||r.force)&&this.touch(t,r),this},SE.changeset=p,SE.ingest=function(t,e,n){return this.pulse(t,this.changeset().insert(yE(e,n)))},SE.request=function(t,e,n){var r=this,i=0,o=r._pending||function(t){var e,n,r=new Promise(function(r,i){e=function(){r(t)},n=i});return r.requests=0,r.done=function(){0==--r.requests&&t.runAfter(function(){t._pending=null;try{t.run(),t._pending?t._pending.then(e):e()}catch(t){n(t)}})},t._pending=r}(r);return o.requests+=1,r.loader().load(e,{context:"dataflow"}).then(function(t){return yE(t,n)},function(t){i=-1,r.error("Loading failed",e,t)}).catch(function(t){i=-2,r.error("Data ingestion failed",e,t)}).then(function(e){return r.pulse(t,r.changeset().remove(Jw.V).insert(e||[])),o.done(),i})},SE.events=function(t,e,n,r){for(var i,o=this,a=v(n,r),s=function(t){t.dataflow=o;try{a.receive(t)}catch(t){o.error(t)}finally{o.run()}},u=0,l=(i="string"==typeof t&&"undefined"!=typeof document?document.querySelectorAll(t):Object(Jw.i)(t)).length;u<l;++u)i[u].addEventListener(e,s);return a},SE.on=function(t,e,n,r,i){return(t instanceof h?$t:Gt)(this,t,e,n,r,i),this},SE.run=function(t){var e,n,i,o,a=this,s=0,u=a.logLevel();if(a._pending)return a.info("Awaiting requests, delaying dataflow run."),0;if(a._pulse)return a.error("Dataflow invoked recursively. Use the runAfter method to queue invocation."),0;if(!a._touched.length)return a.info("Dataflow invoked, but nothing to do."),0;a._pulse=new Yt(a,++a._clock,t),u>=Jw.c&&(i=Date.now(),a.debug("-- START PROPAGATION ("+a._clock+") -----")),a._touched.forEach(function(t){a._enqueue(t,!0)}),a._touched=r(Jw.s);try{for(;a._heap.size()>0;)(e=a._heap.pop()).rank===e.qrank?(n=e.run(a._getPulse(e,t)),u>=Jw.a&&a.debug(e.id,n===_E?"STOP":n,e),n!==_E&&(a._pulse=n,e._targets&&e._targets.forEach(function(t){a._enqueue(t)})),++s):a._enqueue(e,!0)}catch(t){o=t}if(a._pulses={},a._pulse=null,u>=Jw.c&&(i=Date.now()-i,a.info("> Pulse "+a._clock+": "+s+" operators; "+i+"ms")),o&&(a._postrun=[],a.error(o)),a._onrun)try{a._onrun(a,s,o)}catch(t){a.error(t)}if(a._postrun.length){var l=a._postrun;a._postrun=[],l.sort(function(t,e){return e.priority-t.priority}).forEach(function(t){Qt(a,t.callback)})}return this},SE.runAsync=function(){return this._pending||this.run()&&this._pending||Promise.resolve(this)},SE.runAfter=function(t,e,n){this._pulse||e?this._postrun.push({priority:n||0,callback:t}):Qt(this,t)},SE._enqueue=function(t,e){var n=!this._pulses[t.id];n&&(this._pulses[t.id]=this._pulse),(n||e)&&(t.qrank=t.rank,this._heap.push(t))},SE._getPulse=function(t,e){var n,r=t.source,i=this._clock;return r&&Object(Jw.v)(r)?(n=r.map(function(t){return t.pulse}),new Jt(this,i,n,e)):(n=this._pulses[t.id],r&&((r=r.pulse)&&r!==_E?r.stamp===i&&n.target!==t?n=r:n.source=r.source:n.source=[]),n)},SE.error=ie("error"),SE.warn=ie("warn"),SE.info=ie("info"),SE.debug=ie("debug"),SE.logLevel=ie("level");var OE=Object(Jw.u)(oe,h);OE.run=function(t){if(t.stamp<=this.stamp)return t.StopPropagation;var e;return this.skip()?this.skip(!1):e=this.evaluate(t),(e=e||t)!==t.StopPropagation&&(this.pulse=e),this.stamp=t.stamp,e},OE.evaluate=function(t){var e=this.marshall(t.stamp),n=this.transform(e,t);return e.clear(),n},OE.transform=function(){};var kE={},TE={values:fe({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:fe({name:"count",set:"cell.num"}),__count__:fe({name:"count",set:"this.missing + this.valid"}),missing:fe({name:"missing",set:"this.missing"}),valid:fe({name:"valid",set:"this.valid"}),sum:fe({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:fe({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:fe({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:fe({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:fe({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:fe({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:fe({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:fe({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:fe({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:fe({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:fe({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:fe({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:fe({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:fe({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:fe({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:fe({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:fe({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:fe({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},PE=Object.keys(TE),NE=function(t){var e,n,r,i,o,a,s,u,l=t.maxbins||20,c=t.base||10,f=Math.log(c),p=t.divide||[5,2],d=t.extent[0],h=t.extent[1],m=h-d;if(t.step)e=t.step;else if(t.steps){for(o=m/l,a=0,s=t.steps.length;a<s&&t.steps[a]<o;++a);e=t.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(l)/f),r=t.minstep||0,e=Math.max(r,Math.pow(c,Math.round(Math.log(m)/f)-n));Math.ceil(m/e)>l;)e*=c;for(a=0,s=p.length;a<s;++a)(o=e/p[a])>=r&&m/o<=l&&(e=o)}return o=Math.log(e),i=o>=0?0:1+~~(-o/f),u=Math.pow(c,-i-1),(t.nice||void 0===t.nice)&&(d=d<(o=Math.floor(d/e+u)*e)?o-e:o,h=Math.ceil(h/e)*e),{start:d,stop:h,step:e}},IE=function(t,e){var n,r=[],i=t.length,o=-1;if(null==e)for(;++o<i;)isNaN(n=he(t[o]))||r.push(n);else for(;++o<i;)isNaN(n=he(e(t[o],o,t)))||r.push(n);return r},AE=Math.random,ME=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},DE=function(t){return 1===t.length&&(t=function(t){return function(e,n){return ME(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},RE=DE(ME),jE=RE.right,LE=RE.left,zE=jE,FE=function(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&e>=e&&(void 0===n?n=r=e:(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&o>=o&&(void 0===n?n=r=o:(n>o&&(n=o),r<o&&(r=o)))}return[n,r]},BE=(Array,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}),VE=Math.sqrt(50),UE=Math.sqrt(10),WE=Math.sqrt(2),qE=function(t,e,n){var r,i,o,a,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=ve(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o},HE=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},GE=function(t){return null===t?NaN:+t},$E=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},YE=function(t,e,n,r){if(!t.length)return[void 0,void 0];var i,o,a,s,u=IE(t,r),l=u.length,c=e;for(a=0,s=Array(c);a<c;++a){for(i=0,o=0;o<l;++o)i+=u[~~(AE()*l)];s[a]=i/l}return[be(s.sort(ME),n/2),be(s,1-n/2)]},KE=function(t,e){var n=IE(t,e);return[be(n.sort(ME),.25),be(n,.5),be(n,.75)]},XE=function(t,e){null==e&&(e=t,t=0);var n,r,i,o={};return o.min=function(t){return arguments.length?(n=t||0,i=r-n,o):n},o.max=function(t){return arguments.length?(r=t||0,i=r-n,o):r},o.sample=function(){return n+Math.floor(i*AE())},o.pdf=function(t){return t===Math.floor(t)&&t>=n&&t<r?1/i:0},o.cdf=function(t){var e=Math.floor(t);return e<n?0:e>=r?1:(e-n+1)/i},o.icdf=function(t){return t>=0&&t<=1?n-1+Math.floor(t*i):NaN},o.min(t).max(e)},ZE=function(t,e){var n,r,i=NaN,o={};return o.mean=function(t){return arguments.length?(n=t||0,i=NaN,o):n},o.stdev=function(t){return arguments.length?(r=null==t?1:t,i=NaN,o):r},o.sample=function(){var t,e,o=0,a=0;if(i==i)return o=i,i=NaN,o;do{t=(o=2*AE()-1)*o+(a=2*AE()-1)*a}while(0===t||t>1);return e=Math.sqrt(-2*Math.log(t)/t),i=n+a*e*r,n+o*e*r},o.pdf=function(t){var e=Math.exp(Math.pow(t-n,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*e},o.cdf=function(t){var e,i=(t-n)/r,o=Math.abs(i);if(o>37)e=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(e=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),e/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):e=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-e:e},o.icdf=function(t){if(t<=0||t>=1)return NaN;var e=2*t-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*i)+Math.log(1-Math.pow(e,2))/2,a=Math.log(1-e*e)/i,s=(e>0?1:-1)*Math.sqrt(Math.sqrt(o*o-a)-o);return n+r*Math.SQRT2*s},o.mean(t).stdev(e)},JE=function(t,e){var n=ZE(),r={},i=0;return r.data=function(n){return arguments.length?(t=n,i=n?n.length:0,r.bandwidth(e)):t},r.bandwidth=function(n){return arguments.length?(!(e=n)&&t&&(e=function(t){var e=t.length,n=KE(t),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(ge(t)),r)*Math.pow(e,-.2)}(t)),r):e},r.sample=function(){return t[~~(AE()*i)]+e*n.sample()},r.pdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.pdf((r-t[a])/e);return o/e/i},r.cdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.cdf((r-t[a])/e);return o/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(t)},QE=function(t,e){var n,r={},i=0;return r.weights=function(t){return arguments.length?(n=function(t){var e,n=[],r=0;for(e=0;e<i;++e)r+=n[e]=null==t[e]?1:+t[e];for(e=0;e<i;++e)n[e]/=r;return n}(e=t||[]),r):e},r.distributions=function(n){return arguments.length?(n?(i=n.length,t=n):(i=0,t=[]),r.weights(e)):t},r.sample=function(){for(var e=AE(),r=t[i-1],o=n[0],a=0;a<i-1;o+=n[++a])if(e<o){r=t[a];break}return r.sample()},r.pdf=function(e){for(var r=0,o=0;o<i;++o)r+=n[o]*t[o].pdf(e);return r},r.cdf=function(e){for(var r=0,o=0;o<i;++o)r+=n[o]*t[o].cdf(e);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(t).weights(e)},tC=function(t,e){null==e&&(e=null==t?1:t,t=0);var n,r,i,o={};return o.min=function(t){return arguments.length?(n=t||0,i=r-n,o):n},o.max=function(t){return arguments.length?(r=t||0,i=r-n,o):r},o.sample=function(){return n+i*AE()},o.pdf=function(t){return t>=n&&t<=r?1/i:0},o.cdf=function(t){return t<n?0:t>r?1:(t-n)/i},o.icdf=function(t){return t>=0&&t<=1?n+t*i:NaN},o.min(t).max(e)},eC=Se.prototype;eC.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},eC.add=function(t){this._add.push(t)},eC.rem=function(t){this._rem.push(t)},eC.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,r=this._add,i=this._rem,o=this._key,a=r.length,s=i.length,u=Array(a-s),l={};for(t=0;t<s;++t)l[o(i[t])]=1;for(t=0,e=0;t<a;++t)l[o(n=r[t])]?l[o(n)]=0:u[e++]=n;return this._rem=[],this._add=u},eC.distinct=function(t){for(var e,n=this.values(),r=n.length,i={},o=0;--r>=0;)e=t(n[r])+"",i.hasOwnProperty(e)||(i[e]=1,++o);return o},eC.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=Object(Jw.o)(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},eC.argmin=function(t){return this.extent(t)[0]||{}},eC.argmax=function(t){return this.extent(t)[1]||{}},eC.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):void 0},eC.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):void 0},eC.quartile=function(t){return this._get===t&&this._q||(this._q=KE(this.values(),t),this._get=t),this._q},eC.q1=function(t){return this.quartile(t)[0]},eC.q2=function(t){return this.quartile(t)[1]},eC.q3=function(t){return this.quartile(t)[2]},eC.ci=function(t){return this._get===t&&this._ci||(this._ci=YE(this.values(),1e3,.05,t),this._get=t),this._ci},eC.ci0=function(t){return this.ci(t)[0]},eC.ci1=function(t){return this.ci(t)[1]},Oe.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:PE},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var nC=Object(Jw.u)(Oe,oe);nC.transform=function(t,e){var n,r=this,i=e.fork(e.NO_SOURCE|e.NO_FIELDS);return this.stamp=i.stamp,this.value&&((n=t.modified())||e.modified(this._inputs))?(this._prev=this.value,this.value=n?this.init(t):{},e.visit(e.SOURCE,function(t){r.add(t)})):(this.value=this.value||this.init(t),e.visit(e.REM,function(t){r.rem(t)}),e.visit(e.ADD,function(t){r.add(t)})),i.modifies(this._outputs),r._drop=!1!==t.drop,t.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},nC.cross=function(){function t(t){var e,n,r,s;for(e in t)for(r=t[e].tuple,n=0;n<a;++n)o[n][s=r[i[n]]]=s}function e(t,s,u){var l,c,f=i[u],p=o[u++];for(l in p)s[f]=p[l],c=t?t+"|"+l:l,u<a?e(c,s,u):r[c]||n.cell(c,s)}var n=this,r=n.value,i=n._dnames,o=i.map(function(){return{}}),a=i.length;t(n._prev),t(r),e("",{},0)},nC.init=function(t){function e(t){for(var e,r=Object(Jw.i)(Object(Jw.g)(t)),o=0,a=r.length;o<a;++o)i[e=r[o]]||(i[e]=1,n.push(e))}var n=this._inputs=[],r=this._outputs=[],i={};this._dims=Object(Jw.i)(t.groupby),this._dnames=this._dims.map(function(t){var n=Object(Jw.h)(t);return e(t),r.push(n),n}),this.cellkey=t.key?t.key:ue(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,s,u,l,c,f=t.fields||[null],p=t.ops||["count"],d=t.as||[],h=f.length,m={};for(h!==p.length&&Object(Jw.m)("Unmatched number of fields and aggregate ops."),c=0;c<h;++c)a=p[c],null==(o=f[c])&&"count"!==a&&Object(Jw.m)("Null aggregate field specified."),l=le(a,u=Object(Jw.h)(o),d[c]),r.push(l),"count"!==a?((s=m[u])||(e(o),(s=m[u]=[]).field=o,this._measures.push(s)),"count"!==a&&(this._countOnly=!1),s.push(ce(a,l))):this._counts.push(l);return this._measures=this._measures.map(function(t){return de(t,t.field)}),{}},nC.cellkey=ue(),nC.cell=function(t,e){var n=this.value[t];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[t]=this.newcell(t,e),this._adds[this._alen++]=n),n},nC.newcell=function(t,e){var n={key:t,num:0,agg:null,tuple:this.newtuple(e,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,o=i.length;for(n.agg=Array(o),r=0;r<o;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new Se),n},nC.newtuple=function(t,e){var n,r,i=this._dnames,o=this._dims,a={};for(n=0,r=o.length;n<r;++n)a[i[n]]=o[n](t);return e?c(e.tuple,a):s(a)},nC.add=function(t){var e,n,r,i=this.cellkey(t),o=this.cell(i,t);if(o.num+=1,!this._countOnly)for(o.store&&o.data.add(t),n=0,r=(e=o.agg).length;n<r;++n)e[n].add(e[n].get(t),t)},nC.rem=function(t){var e,n,r,i=this.cellkey(t),o=this.cell(i,t);if(o.num-=1,!this._countOnly)for(o.store&&o.data.rem(t),n=0,r=(e=o.agg).length;n<r;++n)e[n].rem(e[n].get(t),t)},nC.celltuple=function(t){var e,n,r,i=t.tuple,o=this._counts;for(t.store&&t.data.values(),n=0,r=o.length;n<r;++n)i[o[n]]=t.num;if(!this._countOnly)for(n=0,r=(e=t.agg).length;n<r;++n)e[n].set(i);return i},nC.changes=function(t){var e,n,r,i,o=this._adds,a=this._mods,s=this._prev,u=this._drop,l=t.add,c=t.rem,f=t.mod;if(s)for(n in s)e=s[n],u&&!e.num||c.push(e.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(e=a[r]).num&&u?c:f).push(this.celltuple(e)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,t},ke.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var rC=Object(Jw.u)(ke,oe);rC.transform=function(t,e){var n,r=this._bins(t),i=r.start,o=r.step,a=t.as||["bin0","bin1"],s=a[0],u=a[1];return n=t.modified()?(e=e.reflow(!0)).SOURCE:e.modified(Object(Jw.g)(t.field))?e.ADD_MOD:e.ADD,e.visit(n,function(t){var e=r(t);t[s]=e,t[u]=null==e?null:i+o*(1+(e-i)/o)}),e.modifies(a)},rC._bins=function(t){if(this.value&&!t.modified())return this.value;var e,n,r=t.field,i=NE(t),o=i.start,a=i.stop,s=i.step;null!=(e=t.anchor)&&(n=e-(o+s*Math.floor((e-o)/s)),o+=n,a+=n);var u=function(t){var e=r(t);return null==e?null:(e=Math.max(o,Math.min(+e,a-s)),o+s*Math.floor((e-o)/s))};return u.start=o,u.stop=a,u.step=s,this.value=Object(Jw.f)(u,Object(Jw.g)(r),t.name||"bin_"+Object(Jw.h)(r))};var iC=function(t,e,n){var r=t,i=e||[],o=n||[],a={},s=0;return{add:function(t){o.push(t)},remove:function(t){a[r(t)]=++s},size:function(){return i.length},data:function(t,e){return s&&(i=i.filter(function(t){return!a[r(t)]}),a={},s=0),e&&t&&i.sort(t),o.length&&(i=t?Object(Jw.F)(t,i,o.sort(t)):i.concat(o),o=[]),i}}};Te.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Object(Jw.u)(Te,oe).transform=function(t,e){var n=e.fork(e.ALL),r=iC(o,this.value,n.materialize(n.ADD).add),i=t.sort,a=e.changed()||i&&(t.modified("sort")||e.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(i,a),e.source&&e.source.root&&(this.value.root=e.source.root),n},Object(Jw.u)(Pe,h),Ie.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var oC=Object(Jw.u)(Ie,oe);oC.transform=function(t,e){function n(e){return function(n){for(var r,i=function(t,e,n){switch(e){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(n)}(s(n),t.case,o)||[],u=0,l=i.length;u<l;++u)a.test(r=i[u])||e(r)}}var r=this._parameterCheck(t,e),i=this._counts,o=this._match,a=this._stop,s=t.field,u=t.as||["text","count"],l=n(function(t){i[t]=1+(i[t]||0)}),c=n(function(t){i[t]-=1});return r?e.visit(e.SOURCE,l):(e.visit(e.ADD,l),e.visit(e.REM,c)),this._finish(e,u)},oC._parameterCheck=function(t,e){var n=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),n=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),n=!0),(t.modified("field")||e.modified(t.field.fields))&&(n=!0),n&&(this._counts={}),n},oC._finish=function(t,e){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),u=e[0],l=e[1],c=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=s({}),r[u]=n,r[l]=i,c.add.push(r)):0===i?(r&&c.rem.push(r),o[n]=null,a[n]=null):r[l]!==i&&(r[l]=i,c.mod.push(r));return c.modifies(e)},Ae.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Object(Jw.u)(Ae,oe).transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=this.value,i=t.as||["a","b"],o=i[0],a=i[1];return!r||e.changed(e.ADD_REM)||t.modified("as")||t.modified("filter")?(r&&(n.rem=r),r=e.materialize(e.SOURCE).source,n.add=this.value=function(t,e,n,r){for(var i,o,a=[],u={},l=t.length,c=0;c<l;++c)for(u[e]=o=t[c],i=0;i<l;++i)u[n]=t[i],r(u)&&(a.push(s(u)),(u={})[e]=o);return a}(r,o,a,t.filter||Jw.V)):n.mod=r,n.source=this.value,n.modifies(i)};var aC={kde:JE,mixture:QE,normal:ZE,uniform:tC},sC="distributions",uC="function",lC="field",cC=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}];De.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:cC.concat({key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:cC},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,default:["value","density"]}]};Object(Jw.u)(De,oe).transform=function(t,e){var n=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||t.modified()){var r=Me(t.distribution,function(t){return function(){return t.materialize(t.SOURCE).source}}(e)),i=t.method||"pdf";"pdf"!==i&&"cdf"!==i&&Object(Jw.m)("Invalid density method: "+i),t.extent||r.data||Object(Jw.m)("Missing density extent parameter."),i=r[i];var o=t.as||["value","density"],a=t.extent||FE(r.data()),u=(a[1]-a[0])/(t.steps||100),l=BE(a[0],a[1]+u/2,u).map(function(t){var e={};return e[o[0]]=t,e[o[1]]=i(t),s(e)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n},Object(Jw.u)(Re,h),Le.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Object(Jw.u)(Le,oe).transform=function(t,e){var n,r=this.value,i=t.field,o=r[0],a=r[1];((n=e.changed()||e.modified(i.fields)||t.modified("field"))||null==o)&&(o=1/0,a=-1/0),e.visit(n?e.SOURCE:e.ADD,function(t){var e=i(t);null!=e&&((e=+e)<o&&(o=e),e>a&&(a=e))}),isFinite(o)&&isFinite(a)||(o=a=void 0),this.value=[o,a]};var fC=Object(Jw.u)(ze,h);fC.connect=function(t){return this.targets().add(t),t.source=this},fC.add=function(t){this.value.add.push(t)},fC.rem=function(t){this.value.rem.push(t)},fC.mod=function(t){this.value.mod.push(t)},fC.init=function(t){this.value.init(t,t.NO_SOURCE)},fC.evaluate=function(){return this.value};var pC=Object(Jw.u)(Fe,oe);pC.activate=function(t){this._targets[this._targets.active++]=t},pC.subflow=function(t,e,n,r){var i,o,a=this.value,s=a.hasOwnProperty(t)&&a[t];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[t])&&o.tuple,s=(i=n.dataflow).add(new ze(n.fork(n.NO_SOURCE),this)).connect(e(i,t,o)),a[t]=s,this.activate(s)),s},pC.transform=function(t,e){function n(t){return i.subflow(t,s,e)}var r=e.dataflow,i=this,a=t.key,s=t.subflow,u=this._keys,l=t.modified("key");return this._group=t.group||{},this._targets.active=0,e.visit(e.REM,function(t){var e=o(t),r=u.get(e);void 0!==r&&(u.delete(e),n(r).rem(t))}),e.visit(e.ADD,function(t){var e=a(t);u.set(o(t),e),n(e).add(t)}),l||e.modified(a.fields)?e.visit(e.MOD,function(t){var e=o(t),r=u.get(e),i=a(t);r===i?n(i).mod(t):(u.set(e,i),n(r).rem(t),n(i).add(t))}):e.changed(e.MOD)&&e.visit(e.MOD,function(t){n(u.get(o(t))).mod(t)}),l&&e.visit(e.REFLOW,function(t){var e=o(t),r=u.get(e),i=a(t);r!==i&&(u.set(e,i),n(r).rem(t),n(i).add(t))}),u.empty>r.cleanThreshold&&r.runAfter(u.clean),e},Object(Jw.u)(Be,h),Ue.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Object(Jw.u)(Ue,oe).transform=function(t,e){function n(e){var n=o(e),r=c(e,t),a=i.get(n);r&&a?(i.delete(n),s.push(e)):r||a?f&&r&&!a&&l.push(e):(i.set(n,1),u.push(e))}var r=e.dataflow,i=this.value,a=e.fork(),s=a.add,u=a.rem,l=a.mod,c=t.expr,f=!0;return e.visit(e.REM,function(t){var e=o(t);i.has(e)?i.delete(e):u.push(t)}),e.visit(e.ADD,function(e){c(e,t)?s.push(e):i.set(o(e),1)}),e.visit(e.MOD,n),t.modified()&&(f=!1,e.visit(e.REFLOW,n)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),a},qe.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]};Object(Jw.u)(qe,oe).transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=We(r,t.as||[]),o=i.length;return n.rem=this.value,e.visit(e.SOURCE,function(t){for(var e,a,s,l=r.map(function(e){return e(t)}),c=l.reduce(function(t,e){return Math.max(t,e.length)},0),f=0;f<c;++f){for(a=u(t),e=0;e<o;++e)a[i[e]]=null==(s=l[e][f])?null:s;n.add.push(a)}}),this.value=n.source=n.add,n.modifies(i)},He.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Object(Jw.u)(He,oe).transform=function(t,e){var n=e.fork(e.NO_SOURCE),r=t.fields,i=r.map(Jw.h),o=t.as||["key","value"],a=o[0],s=o[1],l=r.length;return n.rem=this.value,e.visit(e.SOURCE,function(t){for(var e,o=0;o<l;++o)(e=u(t))[a]=i[o],e[s]=r[o](t),n.add.push(e)}),this.value=n.source=n.add,n.modifies(o)},Ge.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Object(Jw.u)(Ge,oe).transform=function(t,e){var n=t.expr,r=t.as,i=t.modified(),o=t.initonly?e.ADD:i?e.SOURCE:e.modified(n.fields)?e.ADD_MOD:e.ADD;return i&&(e=e.materialize().reflow(!0)),t.initonly||e.modifies(r),e.visit(o,function(e){e[r]=n(e,t)})};Object(Jw.u)($e,oe).transform=function(t,e){var n,r,i,o=this.value,a=e.fork(e.ALL),u=t.size-o.length,l=t.generator;if(u>0){for(n=[];--u>=0;)n.push(i=s(l(t))),o.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=o.slice(0,-u),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,o=o.slice(-u);return a.source=this.value=o,a};var dC={value:"value",median:function(t,e){if(!(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,e))).length)return;const n=t.length,r=n>>1;return we(t,r-1,0),0==(1&n)&&we(t,r,r),be(t,.5)},mean:function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},min:Ce,max:_e},hC=[];Ye.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};Object(Jw.u)(Ye,oe).transform=function(t,e){var n,r,i,o,a,u,l,c,f,p,d=e.fork(e.ALL),h=function(t){var e,n=t.method||dC.value;if(null!=dC[n])return n===dC.value?(e=void 0!==t.value?t.value:0,function(){return e}):dC[n];Object(Jw.m)("Unrecognized imputation method: "+n)}(t),m=function(t){var e=t.field;return function(t){return t?e(t):NaN}}(t),g=Object(Jw.h)(t.field),v=Object(Jw.h)(t.key),y=(t.groupby||[]).map(Jw.h),b=function(t,e,n,r){var i,o,a,s,u,l,c,f,p=function(t){return t(f)},d=[],h=r?r.slice():[],m={},g={};for(h.forEach(function(t,e){m[t]=e+1}),s=0,c=t.length;s<c;++s)l=n(f=t[s]),u=m[l]||(m[l]=h.push(l)),(a=g[o=(i=e?e.map(p):hC)+""])||(a=g[o]=[],d.push(a),a.values=i),a[u-1]=f;return d.domain=h,d}(e.source,t.groupby,t.key,t.keyvals),_=[],w=this.value,x=b.domain.length;for(a=0,c=b.length;a<c;++a)for(i=(n=b[a]).values,r=NaN,l=0;l<x;++l)if(null==n[l]){for(o=b.domain[l],p={_impute:!0},u=0,f=i.length;u<f;++u)p[y[u]]=i[u];p[v]=o,p[g]=isNaN(r)?r=h(n,m):r,_.push(s(p))}return _.length&&(d.add=d.materialize(d.ADD).add.concat(_)),w.length&&(d.rem=d.materialize(d.REM).rem.concat(w)),this.value=_,d},Ke.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:PE},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var mC=Object(Jw.u)(Ke,Oe);mC.transform=function(t,e){var n,r=this,i=t.modified();return r.value&&(i||e.modified(r._inputs))?(n=r.value=i?r.init(t):{},e.visit(e.SOURCE,function(t){r.add(t)})):(n=r.value=r.value||this.init(t),e.visit(e.REM,function(t){r.rem(t)}),e.visit(e.ADD,function(t){r.add(t)})),r.changes(),e.visit(e.SOURCE,function(t){Object(Jw.n)(t,n[r.cellkey(t)].tuple)}),e.reflow(i).modifies(this._outputs)},mC.changes=function(){var t,e,n=this._adds,r=this._mods;for(t=0,e=this._alen;t<e;++t)this.celltuple(n[t]),n[t]=null;for(t=0,e=this._mlen;t<e;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0},Object(Jw.u)(Xe,h);Object(Jw.u)(Je,oe).transform=function(t,e){e.dataflow.request(this.target,t.url,t.format)},Qe.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Object(Jw.u)(Qe,oe).transform=function(t,e){var n,r,i=e,o=t.as,a=t.fields,s=t.index,u=t.values,l=null==t.default?null:t.default,c=t.modified(),f=c?e.SOURCE:e.ADD,p=a.length;return u?(r=u.length,p>1&&!o&&Object(Jw.m)('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==p*r&&Object(Jw.m)('The "as" parameter has too few output field names.'),o=o||u.map(Jw.h),n=function(t){for(var e,n,i=0,c=0;i<p;++i)if(null==(n=s.get(a[i](t))))for(e=0;e<r;++e,++c)t[o[c]]=l;else for(e=0;e<r;++e,++c)t[o[c]]=u[e](n)}):(o||Object(Jw.m)("Missing output field names."),n=function(t){for(var e,n=0;n<p;++n)e=s.get(a[n](t)),t[o[n]]=null==e?l:e}),c?i=e.reflow(!0):f|=a.some(function(t){return e.modified(t.fields)})?e.MOD:0,e.visit(f,n),i.modifies(o)},Object(Jw.u)(tn,h),Object(Jw.u)(nn,h),Object(Jw.u)(on,oe),on.prototype.transform=function(t,e){return this.modified(t.modified()),this.value=t,e.fork(e.NO_SOURCE|e.NO_FIELDS)},an.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:PE,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var gC=Object(Jw.u)(an,Oe);gC._transform=gC.transform,gC.transform=function(t,e){return this._transform(sn(t,e),e)};Object(Jw.u)(un,Fe).transform=function(t,e){var n=this,r=t.subflow,i=t.field;return(t.modified("field")||i&&e.modified(Object(Jw.g)(i)))&&Object(Jw.m)("PreFacet does not support field modification."),this._targets.active=0,e.visit(e.MOD,function(t){var a=n.subflow(o(t),r,e,t);i?i(t).forEach(function(t){a.mod(t)}):a.mod(t)}),e.visit(e.ADD,function(t){var a=n.subflow(o(t),r,e,t);i?i(t).forEach(function(t){a.add(s(t))}):a.add(t)}),e.visit(e.REM,function(t){var a=n.subflow(o(t),r,e,t);i?i(t).forEach(function(t){a.rem(t)}):a.rem(t)}),e},ln.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Object(Jw.u)(ln,oe).transform=function(t,e){var n,r,i=t.fields,a=We(t.fields,t.as||[]),u=i?function(t,e){return function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e[r[i]]=n[i](t);return e}(t,e,i,a)}:l;return this.value?r=this.value:(e=e.addAll(),r=this.value={}),n=e.fork(e.NO_SOURCE),e.visit(e.REM,function(t){var e=o(t);n.rem.push(r[e]),r[e]=null}),e.visit(e.ADD,function(t){var e=u(t,s({}));r[o(t)]=e,n.add.push(e)}),e.visit(e.MOD,function(t){n.mod.push(u(t,r[o(t)]))}),n};Object(Jw.u)(cn,oe).transform=function(t,e){return this.value=t.value,t.modified("value")?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation};Object(Jw.u)(fn,oe).transform=function(t,e){var n,r;return this.value?r=this.value:(n=e=e.addAll(),r=this.value={}),t.derive&&(n=e.fork(e.NO_SOURCE),e.visit(e.REM,function(t){var e=o(t);n.rem.push(r[e]),r[e]=null}),e.visit(e.ADD,function(t){var e=u(t);r[o(t)]=e,n.add.push(e)}),e.visit(e.MOD,function(t){n.mod.push(l(t,r[o(t)]))})),n},pn.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Object(Jw.u)(pn,oe).transform=function(t,e){function n(t){var e,n;s.length<a?s.push(t):(n=~~((u+1)*AE()))<s.length&&n>=l&&(c[o(e=s[n])]&&r.rem.push(e),s[n]=t),++u}var r=e.fork(e.NO_SOURCE),i=t.modified("size"),a=t.size,s=this.value,u=this.count,l=0,c=s.reduce(function(t,e){return t[o(e)]=1,t},{});if(e.rem.length&&(e.visit(e.REM,function(t){var e=o(t);c[e]&&(c[e]=-1,r.rem.push(t)),--u}),s=s.filter(function(t){return-1!==c[o(t)]})),(e.rem.length||i)&&s.length<a&&e.source&&(l=u=s.length,e.visit(e.SOURCE,function(t){c[o(t)]||n(t)}),l=-1),i&&s.length>a){for(var f=0,p=s.length-a;f<p;++f)c[o(s[f])]=-1,r.rem.push(s[f]);s=s.slice(p)}return e.mod.length&&e.visit(e.MOD,function(t){c[o(t)]&&r.mod.push(t)}),e.add.length&&e.visit(e.ADD,n),(e.add.length||l<0)&&(r.add=s.filter(function(t){return!c[o(t)]})),this.count=u,this.value=r.source=s,r},dn.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Object(Jw.u)(dn,oe).transform=function(t,e){if(!this.value||t.modified()){var n=e.materialize().fork(e.MOD),r=t.as||"data";return n.rem=this.value?e.rem.concat(this.value):e.rem,this.value=BE(t.start,t.stop,t.step||1).map(function(t){var e={};return e[r]=t,s(e)}),n.add=e.add.concat(this.value),n}};Object(Jw.u)(hn,oe).transform=function(t,e){return this.value=e.source,e.changed()?e.fork(e.NO_SOURCE|e.NO_FIELDS):e.StopPropagation};Object(Jw.u)(mn,oe).transform=function(t,e){function n(t){o.set(i(t),t)}var r=e.dataflow,i=t.field,o=this.value,a=!0;return t.modified("field")||e.modified(i.fields)?(o.clear(),e.visit(e.SOURCE,n)):e.changed()?(e.visit(e.REM,function(t){o.delete(i(t))}),e.visit(e.ADD,n)):a=!1,this.modified(a),o.empty>r.cleanThreshold&&r.runAfter(o.clean),e.fork()};Object(Jw.u)(gn,oe).transform=function(t,e){(!this.value||t.modified("field")||t.modified("sort")||e.changed()||t.sort&&e.modified(t.sort.fields))&&(this.value=(t.sort?e.source.slice().sort(t.sort):e.source).map(t.field))};var vC={row_number:function(){return{next:function(t){return t.index+1}}},rank:function(){var t;return{init:function(){t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?t=n+1:t}}},dense_rank:function(){var t;return{init:function(){t=1},next:function(e){var n=e.index,r=e.data;return n&&e.compare(r[n-1],r[n])?++t:t}}},percent_rank:function(){var t=vC.rank(),e=t.next;return{init:t.init,next:function(t){return(e(t)-1)/(t.data.length-1)}}},cume_dist:function(){var t;return{init:function(){t=0},next:function(e){var n=e.index,r=e.data,i=e.compare;if(t<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;t=n}return(1+t)/r.length}}},ntile:function(t,e){(e=+e)>0||Object(Jw.m)("ntile num must be greater than zero.");var n=vC.cume_dist(),r=n.next;return{init:n.init,next:function(t){return Math.ceil(e*r(t))}}},lag:function(t,e){return e=+e||1,{next:function(n){var r=n.index-e;return r>=0?t(n.data[r]):null}}},lead:function(t,e){return e=+e||1,{next:function(n){var r=n.index+e,i=n.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:function(e){return t(e.data[e.i0])}}},last_value:function(t){return{next:function(e){return t(e.data[e.i1-1])}}},nth_value:function(t,e){return(e=+e)>0||Object(Jw.m)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(e-1);return r<n.i1?t(n.data[r]):null}}}},yC=Object.keys(vC),bC=vn.prototype;bC.init=function(){this.windows.forEach(function(t){t.init()}),this.cell&&this.cell.init()},bC.update=function(t,e){var n,r=this.cell,i=this.windows,o=t.data,a=i&&i.length;if(r){for(n=t.p0;n<t.i0;++n)r.rem(o[n]);for(n=t.p1;n<t.i1;++n)r.add(o[n]);r.set(e)}for(n=0;n<a;++n)i[n].update(t,e)},yn.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:yC.concat(PE)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var _C=Object(Jw.u)(yn,oe);_C.transform=function(t,e){function n(t){return o.group(u(t))}var r,i,o=this,a=o.state,s=t.modified();this.stamp=e.stamp,a&&!s||(a=o.state=new vn(t));var u=ue(t.groupby);for(s||e.modified(a.inputs)?(o.value={},e.visit(e.SOURCE,function(t){n(t).add(t)})):(e.visit(e.REM,function(t){n(t).remove(t)}),e.visit(e.ADD,function(t){n(t).add(t)})),r=0,i=o._mlen;r<i;++r)bn(o._mods[r],a,t);return o._mlen=0,o._mods=[],e.reflow(s).modifies(a.outputs)},_C.group=function(t){var e=this.value[t];return e||((e=this.value[t]=iC(o)).stamp=-1),e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e),e};var wC="top",xC="left",EC="right",CC="bottom",SC="top-left",OC="top-right",kC="bottom-left",TC="bottom-right",PC="start",NC="end",IC="group",AC="axis",MC="title",DC="frame",RC="scope",jC="legend",LC="row-header",zC="row-footer",FC="row-title",BC="column-header",VC="column-footer",UC="column-title",WC="padding",qC="symbol",HC="fit",GC="fit-x",$C="fit-y",YC="pad",KC="none",XC="all",ZC="each",JC="flush",QC="column",tS="row",eS=_n.prototype;eS.clone=function(){return new _n(this)},eS.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},eS.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},eS.set=function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},eS.add=function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},eS.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},eS.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},eS.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},eS.rotate=function(t,e,n){var r=Math.cos(t),i=Math.sin(t),o=e-e*r+n*i,a=n-e*i-n*r,s=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*s-i*l+o,i*s+r*l+a).add(r*s-i*c+o,i*s+r*c+a).add(r*u-i*l+o,i*u+r*l+a).add(r*u-i*c+o,i*u+r*c+a)},eS.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},eS.intersect=function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},eS.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},eS.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},eS.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},eS.contains=function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},eS.width=function(){return this.x2-this.x1},eS.height=function(){return this.y2-this.y1};var nS=0,rS=function(t,e){var n,r=[];return n={id:"gradient_"+nS++,x1:t?t[0]:0,y1:t?t[1]:0,x2:e?e[0]:1,y2:e?e[1]:0,stops:r,stop:function(t,e){return r.push({offset:t,color:e}),n}}};Object(Jw.u)(xn,wn);var iS=Cn.prototype;iS.pending=function(){return this._pending},iS.sanitizeURL=function(t){var e=this;return Sn(e),e._loader.sanitize(t,{context:"href"}).then(function(t){return On(e),t}).catch(function(){return On(e),null})},iS.loadImage=function(t){var e=this,n="undefined"!=typeof Image?Image:null;return Sn(e),e._loader.sanitize(t,{context:"image"}).then(function(t){var r=t.href;if(!r||!n)throw{url:r};var i=new n;return i.onload=function(){On(e),i.loaded=!0},i.onerror=function(){On(e),i.loaded=!1},i.src=r,i}).catch(function(t){return On(e),{loaded:!1,width:0,height:0,src:t&&t.url||""}})},iS.ready=function(){var t=this;return new Promise(function(e){function n(r){t.pending()?setTimeout(function(){n(!0)},10):e(r)}n(!1)})};var oS=Math.PI,aS=2*oS,sS=aS-1e-6;kn.prototype=Tn.prototype={constructor:kn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o=this._x1,a=this._y1,s=(n=+n)-(t=+t),u=(r=+r)-(e=+e),l=o-t,c=a-e,f=l*l+c*c;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var p=n-o,d=r-a,h=s*s+u*u,m=p*p+d*d,g=Math.sqrt(h),v=Math.sqrt(f),y=i*Math.tan((oS-Math.acos((h+f-m)/(2*g*v)))/2),b=y/v,_=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*p>l*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%aS+aS),f>sS?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=oS)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var uS=Tn,lS=function(t){return function(){return t}},cS=Math.abs,fS=Math.atan2,pS=Math.cos,dS=Math.max,hS=Math.min,mS=Math.sin,gS=Math.sqrt,vS=1e-12,yS=Math.PI,bS=yS/2,_S=2*yS;jn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var wS=function(t){return new jn(t)},xS=function(){function t(t){var s,u,l,c=t.length,f=!1;for(null==i&&(a=o(l=uS())),s=0;s<=c;++s)!(s<c&&r(u=t[s],s,t))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(u,s,t),+n(u,s,t));if(l)return a=null,l+""||null}var e=Ln,n=zn,r=lS(!0),i=null,o=wS,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:lS(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:lS(+e),t):n},t.defined=function(e){return arguments.length?(r="function"==typeof e?e:lS(!!e),t):r},t.curve=function(e){return arguments.length?(o=e,null!=i&&(a=o(i)),t):o},t.context=function(e){return arguments.length?(null==e?i=a=null:a=o(i=e),t):i},t},ES=function(){function t(t){var e,c,f,p,d,h=t.length,m=!1,g=new Array(h),v=new Array(h);for(null==s&&(l=u(d=uS())),e=0;e<=h;++e){if(!(e<h&&a(p=t[e],e,t))===m)if(m=!m)c=e,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=e-1;f>=c;--f)l.point(g[f],v[f]);l.lineEnd(),l.areaEnd()}m&&(g[e]=+n(p,e,t),v[e]=+i(p,e,t),l.point(r?+r(p,e,t):g[e],o?+o(p,e,t):v[e]))}if(d)return l=null,d+""||null}function e(){return xS().defined(a).curve(u).context(s)}var n=Ln,r=null,i=lS(0),o=zn,a=lS(!0),s=null,u=wS,l=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:lS(+e),r=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:lS(+e),t):n},t.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:lS(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:lS(+e),o=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:lS(+e),t):i},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:lS(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(r).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:lS(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(l=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=l=null:l=u(s=e),t):s},t};Bn(wS);Fn.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};Array;var CS={draw:function(t,e){var n=Math.sqrt(e/yS);t.moveTo(n,0),t.arc(0,0,n,0,_S)}},SS=(Math.sqrt(1/3),Math.sin(yS/10)/Math.sin(7*yS/10)),OS=(Math.sin(_S/10),Math.cos(_S/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});Un.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vn(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};Wn.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vn(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vn(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};Hn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)this._basis.point(this._beta*t[u]+(1-this._beta)*(i+(r=u/n)*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var kS=function t(e){function n(t){return 1===e?new Un(t):new Hn(t,e)}return n.beta=function(e){return t(+e)},n}(.85);$n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gn(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Gn(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var TS=function t(e){function n(t){return new $n(t,e)}return n.tension=function(e){return t(+e)},n}(0);Yn.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Gn(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var PS=function t(e){function n(t){return new Yn(t,e)}return n.tension=function(e){return t(+e)},n}(0);Kn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gn(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var NS=function t(e){function n(t){return new Kn(t,e)}return n.tension=function(e){return t(+e)},n}(0);Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Xn(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var IS=function t(e){function n(t){return e?new Zn(t,e):new $n(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Jn.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Xn(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var AS=function t(e){function n(t){return e?new Jn(t,e):new Yn(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Qn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xn(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var MS=function t(e){function n(t){return e?new Qn(t,e):new Kn(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);tr.prototype={areaStart:OS,areaEnd:OS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ir(this,this._t0,rr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ir(this,rr(this,n=nr(this,t,e)),n);break;default:ir(this,this._t0,n=nr(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ar.prototype=Object.create(or.prototype)).point=function(t,e){or.prototype.point.call(this,e,t)},sr.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=lr(t),i=lr(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var DS,RS={basis:{curve:function(t){return new Un(t)}},"basis-closed":{curve:function(t){return new Wn(t)}},"basis-open":{curve:function(t){return new qn(t)}},bundle:{curve:kS,tension:"beta",value:.85},cardinal:{curve:TS,tension:"tension",value:0},"cardinal-open":{curve:NS,tension:"tension",value:0},"cardinal-closed":{curve:PS,tension:"tension",value:0},"catmull-rom":{curve:IS,tension:"alpha",value:.5},"catmull-rom-closed":{curve:AS,tension:"alpha",value:.5},"catmull-rom-open":{curve:MS,tension:"alpha",value:.5},linear:{curve:wS},"linear-closed":{curve:function(t){return new tr(t)}},monotone:{horizontal:function(t){return new ar(t)},vertical:function(t){return new or(t)}},natural:{curve:function(t){return new ur(t)}},step:{curve:function(t){return new cr(t,.5)}},"step-after":{curve:function(t){return new cr(t,1)}},"step-before":{curve:function(t){return new cr(t,0)}}},jS={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},LS=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],zS=function(t){var e,n,r,i,o,a,s,u,l,c,f,p=[];for(u=0,c=(e=t.slice().replace(LS[0],"###$1").split(LS[1]).slice(1)).length;u<c;++u){for(r=(n=e[u]).slice(1).trim().replace(LS[2],"$1###$2").split(LS[3]),i=[a=n.charAt(0)],l=0,f=r.length;l<f;++l)(o=+r[l])===o&&i.push(o);if(s=jS[a.toLowerCase()],i.length-1>s)for(l=1,f=i.length;l<f;l+=s)p.push([a].concat(i.slice(l,l+s)));else p.push(i)}return p},FS={},BS={},VS=[].join,US=["l",0,0,0,0,0,0,0],WS=function(t,e,n,r,i){var o,a,s,u,l,c=null,f=0,p=0,d=0,h=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),t.beginPath&&t.beginPath();for(var m=0,g=e.length;m<g;++m){switch(o=e[m],1!==i&&(o=dr(o,i)),o[0]){case"l":t.lineTo((f+=o[1])+n,(p+=o[2])+r);break;case"L":t.lineTo((f=o[1])+n,(p=o[2])+r);break;case"h":t.lineTo((f+=o[1])+n,p+r);break;case"H":t.lineTo((f=o[1])+n,p+r);break;case"v":t.lineTo(f+n,(p+=o[1])+r);break;case"V":t.lineTo(f+n,(p=o[1])+r);break;case"m":t.moveTo((f+=o[1])+n,(p+=o[2])+r);break;case"M":t.moveTo((f=o[1])+n,(p=o[2])+r);break;case"c":t.bezierCurveTo(f+o[1]+n,p+o[2]+r,(d=f+o[3])+n,(h=p+o[4])+r,(a=f+o[5])+n,(s=p+o[6])+r),f=a,p=s;break;case"C":t.bezierCurveTo(o[1]+n,o[2]+r,(d=o[3])+n,(h=o[4])+r,(f=o[5])+n,(p=o[6])+r);break;case"s":t.bezierCurveTo((d=2*f-d)+n,(h=2*p-h)+r,f+o[1]+n,p+o[2]+r,(a=f+o[3])+n,(s=p+o[4])+r),d=f+o[1],h=p+o[2],f=a,p=s;break;case"S":t.bezierCurveTo((d=2*f-d)+n,(h=2*p-h)+r,o[1]+n,o[2]+r,(a=o[3])+n,(s=o[4])+r),f=a,p=s,d=o[1],h=o[2];break;case"q":t.quadraticCurveTo((d=f+o[1])+n,(h=p+o[2])+r,(a=f+o[3])+n,(s=p+o[4])+r),f=a,p=s;break;case"Q":t.quadraticCurveTo(o[1]+n,o[2]+r,(a=o[3])+n,(s=o[4])+r),f=a,p=s,d=o[1],h=o[2];break;case"t":a=f+o[1],s=p+o[2],null===c[0].match(/[QqTt]/)?(d=f,h=p):"t"===c[0]?(d=2*f-u,h=2*p-l):"q"===c[0]&&(d=2*f-d,h=2*p-h),u=d,l=h,t.quadraticCurveTo(d+n,h+r,a+n,s+r),d=(f=a)+o[1],h=(p=s)+o[2];break;case"T":t.quadraticCurveTo((d=2*f-d)+n,(h=2*p-h)+r,(a=o[1])+n,(s=o[2])+r),f=a,p=s;break;case"a":hr(t,f+n,p+r,[o[1],o[2],o[3],o[4],o[5],o[6]+f+n,o[7]+p+r]),f+=o[6],p+=o[7];break;case"A":hr(t,f+n,p+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),f=o[6],p=o[7];break;case"z":case"Z":t.closePath()}c=o}},qS=2*Math.PI,HS=Math.sqrt(3)/2,GS={circle:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(n,0),t.arc(0,0,n,0,qS)}},cross:{draw:function(t,e){var n=Math.sqrt(e)/2,r=n/2.5;t.moveTo(-n,-r),t.lineTo(-n,r),t.lineTo(-r,r),t.lineTo(-r,n),t.lineTo(r,n),t.lineTo(r,r),t.lineTo(n,r),t.lineTo(n,-r),t.lineTo(r,-r),t.lineTo(r,-n),t.lineTo(-r,-n),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,e){var n=Math.sqrt(e)/2;t.moveTo(-n,0),t.lineTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.closePath()}},square:{draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},"triangle-up":{draw:function(t,e){var n=Math.sqrt(e)/2,r=HS*n;t.moveTo(0,-r),t.lineTo(-n,r),t.lineTo(n,r),t.closePath()}},"triangle-down":{draw:function(t,e){var n=Math.sqrt(e)/2,r=HS*n;t.moveTo(0,r),t.lineTo(-n,-r),t.lineTo(n,-r),t.closePath()}},"triangle-right":{draw:function(t,e){var n=Math.sqrt(e)/2,r=HS*n;t.moveTo(r,0),t.lineTo(-r,-n),t.lineTo(-r,n),t.closePath()}},"triangle-left":{draw:function(t,e){var n=Math.sqrt(e)/2,r=HS*n;t.moveTo(-r,0),t.lineTo(r,-n),t.lineTo(r,n),t.closePath()}}},$S={},YS=function(){function t(t,s,u){var l,c=null!=s?s:+e.call(this,t),f=null!=u?u:+n.call(this,t),p=+r.call(this,t),d=+i.call(this,t),h=+o.call(this,t);if(a||(a=l=uS()),h<=0)a.rect(c,f,p,d);else{var m=c+p,g=f+d;a.moveTo(c+h,f),a.lineTo(m-h,f),a.quadraticCurveTo(m,f,m,f+h),a.lineTo(m,g-h),a.quadraticCurveTo(m,g,m-h,g),a.lineTo(c+h,g),a.quadraticCurveTo(c,g,c,g-h),a.lineTo(c,f+h),a.quadraticCurveTo(c,f,c+h,f),a.closePath()}if(l)return a=null,l+""||null}var e=gr,n=vr,r=yr,i=br,o=_r(0),a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:_r(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:_r(+e),t):n},t.width=function(e){return arguments.length?(r="function"==typeof e?e:_r(+e),t):r},t.height=function(e){return arguments.length?(i="function"==typeof e?e:_r(+e),t):i},t.cornerRadius=function(e){return arguments.length?(o="function"==typeof e?e:_r(+e),t):o},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},KS=Math.PI,XS=function(){function t(t,e,n){var r=n/2;if(a){var i=u-e,o=t-s;if(i||o){var f=Math.sqrt(i*i+o*o),p=(i/=f)*l,d=(o/=f)*l,h=Math.atan2(o,i);c.moveTo(s-p,u-d),c.lineTo(t-i*r,e-o*r),c.arc(t,e,r,h-KS,h),c.lineTo(s+p,u+d),c.arc(s,u,l,h,h+KS)}else c.arc(t,e,r,0,2*KS);c.closePath()}else a=1;s=t,u=e,l=r}function e(e){var s,u,l,f=e.length,p=!1;for(null==c&&(c=l=uS()),s=0;s<=f;++s)!(s<f&&o(u=e[s],s,e))===p&&(p=!p)&&(a=0),p&&t(+n(u,s,e),+r(u,s,e),+i(u,s,e));if(l)return c=null,l+""||null}var n,r,i,o,a,s,u,l,c=null;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.size=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(o=t,e):o},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e},ZS=function(){function t(){var t,l,c=+e.apply(this,arguments),f=+n.apply(this,arguments),p=o.apply(this,arguments)-bS,d=a.apply(this,arguments)-bS,h=cS(d-p),m=d>p;if(u||(u=t=uS()),f<c&&(l=f,f=c,c=l),f>vS)if(h>_S-vS)u.moveTo(f*pS(p),f*mS(p)),u.arc(0,0,f,p,d,!m),c>vS&&(u.moveTo(c*pS(d),c*mS(d)),u.arc(0,0,c,d,p,m));else{var g,v,y=p,b=d,_=p,w=d,x=h,E=h,C=s.apply(this,arguments)/2,S=C>vS&&(i?+i.apply(this,arguments):gS(c*c+f*f)),O=hS(cS(f-c)/2,+r.apply(this,arguments)),k=O,T=O;if(S>vS){var P=Pn(S/c*mS(C)),N=Pn(S/f*mS(C));(x-=2*P)>vS?(P*=m?1:-1,_+=P,w-=P):(x=0,_=w=(p+d)/2),(E-=2*N)>vS?(N*=m?1:-1,y+=N,b-=N):(E=0,y=b=(p+d)/2)}var I=f*pS(y),A=f*mS(y),M=c*pS(w),D=c*mS(w);if(O>vS){var R=f*pS(b),j=f*mS(b),L=c*pS(_),z=c*mS(_);if(h<yS){var F=x>vS?function(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,f=s-o,p=(c*(e-o)-f*(t-i))/(f*u-c*l);return[t+p*u,e+p*l]}(I,A,L,z,R,j,M,D):[M,D],B=I-F[0],V=A-F[1],U=R-F[0],W=j-F[1],q=1/mS(function(t){return t>1?0:t<-1?yS:Math.acos(t)}((B*U+V*W)/(gS(B*B+V*V)*gS(U*U+W*W)))/2),H=gS(F[0]*F[0]+F[1]*F[1]);k=hS(O,(c-H)/(q-1)),T=hS(O,(f-H)/(q+1))}}E>vS?T>vS?(g=Rn(L,z,I,A,f,T,m),v=Rn(R,j,M,D,f,T,m),u.moveTo(g.cx+g.x01,g.cy+g.y01),T<O?u.arc(g.cx,g.cy,T,fS(g.y01,g.x01),fS(v.y01,v.x01),!m):(u.arc(g.cx,g.cy,T,fS(g.y01,g.x01),fS(g.y11,g.x11),!m),u.arc(0,0,f,fS(g.cy+g.y11,g.cx+g.x11),fS(v.cy+v.y11,v.cx+v.x11),!m),u.arc(v.cx,v.cy,T,fS(v.y11,v.x11),fS(v.y01,v.x01),!m))):(u.moveTo(I,A),u.arc(0,0,f,y,b,!m)):u.moveTo(I,A),c>vS&&x>vS?k>vS?(g=Rn(M,D,R,j,c,-k,m),v=Rn(I,A,L,z,c,-k,m),u.lineTo(g.cx+g.x01,g.cy+g.y01),k<O?u.arc(g.cx,g.cy,k,fS(g.y01,g.x01),fS(v.y01,v.x01),!m):(u.arc(g.cx,g.cy,k,fS(g.y01,g.x01),fS(g.y11,g.x11),!m),u.arc(0,0,c,fS(g.cy+g.y11,g.cx+g.x11),fS(v.cy+v.y11,v.cx+v.x11),m),u.arc(v.cx,v.cy,k,fS(v.y11,v.x11),fS(v.y01,v.x01),!m))):u.arc(0,0,c,w,_,m):u.lineTo(M,D)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=Nn,n=In,r=lS(0),i=null,o=An,a=Mn,s=Dn,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-yS/2;return[pS(r)*t,mS(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:lS(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:lS(+e),t):n},t.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:lS(+e),t):r},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:lS(+e),t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:lS(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:lS(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:lS(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t}().startAngle(function(t){return t.startAngle||0}).endAngle(function(t){return t.endAngle||0}).padAngle(function(t){return t.padAngle||0}).innerRadius(function(t){return t.innerRadius||0}).outerRadius(function(t){return t.outerRadius||0}).cornerRadius(Er),JS=ES().x(wr).y1(xr).y0(function(t){return(t.y||0)+(t.height||0)}).defined(Cr),QS=ES().y(xr).x1(wr).x0(function(t){return(t.x||0)+(t.width||0)}).defined(Cr),tO=xS().x(wr).y(xr).defined(Cr),eO=YS().x(wr).y(xr).width(function(t){return t.width||0}).height(function(t){return t.height||0}).cornerRadius(Er),nO=function(){function t(){var t;if(r||(r=t=uS()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}var e=lS(CS),n=lS(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:lS(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:lS(+e),t):n},t.context=function(e){return arguments.length?(r=null==e?null:e,t):r},t}().type(function(t){return mr(t.shape||"circle")}).size(function(t){return null==t.size?64:t.size}),rO=XS().x(wr).y(xr).defined(Cr).size(function(t){return t.size||1}),iO=function(t,e){return e.stroke&&0!==e.opacity&&0!==e.strokeOpacity&&t.expand(null!=e.strokeWidth?+e.strokeWidth:1),t},oO=2*Math.PI,aO=oO/4,sO=oO-1e-8;Or.beginPath=kr,Or.closePath=kr,Or.moveTo=Tr,Or.lineTo=Tr,Or.rect=function(t,e,n,r){Tr(t,e),Tr(t+n,e+r)},Or.quadraticCurveTo=function(t,e,n,r){Tr(t,e),Tr(n,r)},Or.bezierCurveTo=function(t,e,n,r,i,o){Tr(t,e),Tr(n,r),Tr(i,o)},Or.arc=function(t,e,n,r,i,o){function a(t){l=n*Math.cos(t),c=n*Math.sin(t),l<f&&(f=l),l>p&&(p=l),c<d&&(d=c),c>h&&(h=c)}if(Math.abs(i-r)>sO)return Tr(t-n,e-n),void Tr(t+n,e+n);var s,u,l,c,f=1/0,p=-1/0,d=1/0,h=-1/0;if(a(r),a(i),i!==r)if((r%=oO)<0&&(r+=oO),(i%=oO)<0&&(i+=oO),i<r&&(o=!o,s=r,r=i,i=s),o)for(i-=oO,s=r-r%aO,u=0;u<4&&s>i;++u,s-=aO)a(s);else for(s=r-r%aO+aO,u=0;u<4&&s<i;++u,s+=aO)a(s);Tr(t+f,e+d),Tr(t+p,e+h)};var uO,lO,cO=function(t,e,n){return n.id?function(t,e,n){for(var r=n.width(),i=n.height(),o=e.stops,a=0,s=o.length,u=t.createLinearGradient(n.x1+e.x1*r,n.y1+e.y1*i,n.x1+e.x2*r,n.y1+e.y2*i);a<s;++a)u.addColorStop(o[a].offset,o[a].color);return u}(t,n,e.bounds):n},fO=function(t,e,n){return(n*=null==e.fillOpacity?1:e.fillOpacity)>0&&(t.globalAlpha=n,t.fillStyle=cO(t,e,e.fill),!0)},pO=[],dO=function(t,e,n){var r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&((n*=null==e.strokeOpacity?1:e.strokeOpacity)>0&&(t.globalAlpha=n,t.strokeStyle=cO(t,e,e.stroke),t.lineWidth=r,t.lineCap=e.strokeCap||"butt",t.lineJoin=e.strokeJoin||"miter",t.miterLimit=e.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(e.strokeDash||pO),t.lineDashOffset=e.strokeDashOffset||0),!0))},hO=function(){return!0},mO=function(t,e){return"translate("+t+","+e+")"},gO=function(t){return mO(t.x||0,t.y||0)},vO=function(t,e){function n(t,n){var r=n.x||0,i=n.y||0;t.translate(r,i),t.beginPath(),e(t,n),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:function(t,n){t("transform",gO(n)),t("d",e(null,n))},bound:function(t,n){return e(Or(t),n),iO(t,n).translate(n.x||0,n.y||0)},draw:Mr(n),pick:Lr(n)}},yO=vO("arc",function(t,e){return ZS.context(t)(e)}),bO=function(t,e,n){function r(t,n){t.beginPath(),e(t,n)}var i=jr(r);return{type:t,tag:"path",nested:!0,attr:function(t,n){var r=n.mark.items;r.length&&t("d",e(null,r))},bound:function(t,n){var r=n.items;return 0===r.length?t:(e(Or(t),r),iO(t,r[0]))},draw:function(t){return function(e,n,r){!n.items.length||r&&!r.intersects(n.bounds)||Dr(t,e,n.items[0],n.items)}}(r),pick:function(t,e,n,r,o,a){var s=e.items,u=e.bounds;return!s||!s.length||u&&!u.contains(o,a)?null:(n*=t.pixelRatio,r*=t.pixelRatio,i(t,s,n,r)?s[0]:null)},tip:n}},_O=bO("area",function(t,e){var n=e[0];return("horizontal"===n.orient?QS:JS).curve(fr(n.interpolate||"linear",n.orient,n.tension)).context(t)(e)},function(t,e){for(var n,r,i="horizontal"===t[0].orient?e[1]:e[0],o="horizontal"===t[0].orient?"y":"x",a=t.length,s=1/0;--a>=0;)!1!==t[a].defined&&(r=Math.abs(t[a][o]-i))<s&&(s=r,n=t[a]);return n}),wO=1,xO=function(t,e,n){var r=e.clip,i=t._defs,o=e.clip_id||(e.clip_id="clip"+wO++),a=i.clipping[o]||(i.clipping[o]={id:o});return Object(Jw.y)(r)?a.path=r(null):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"},EO=.5,CO=jr(Fr),SO={type:"group",tag:"g",nested:!1,attr:function(t,e){t("transform",gO(e))},bound:function(t,e){if(!e.clip&&e.items)for(var n=e.items,r=0,i=n.length;r<i;++r)t.union(n[r].bounds);return(e.clip||e.width||e.height)&&!e.noBound&&t.add(0,0).add(e.width||0,e.height||0),iO(t,e),t.translate(e.x||0,e.y||0)},draw:function(t,e,n){var r=this;Ir(e,function(e){var i,o=e.x||0,a=e.y||0,s=e.width||0,u=e.height||0;t.save(),t.translate(o,a),(e.stroke||e.fill)&&(i=null==e.opacity?1:e.opacity)>0&&(Fr(t,e),e.fill&&fO(t,e,i)&&t.fill(),e.stroke&&dO(t,e,i)&&t.stroke()),e.clip&&(t.beginPath(),t.rect(0,0,s,u),t.clip()),n&&n.translate(-o,-a),Ir(e,function(e){r.draw(t,e,n)}),n&&n.translate(o,a),t.restore()})},pick:function(t,e,n,r,i,o){if(e.bounds&&!e.bounds.contains(i,o)||!e.items)return null;var a=this,s=n*t.pixelRatio,u=r*t.pixelRatio;return Ar(e,function(l){var c,f,p,d;if(!(d=l.bounds)||d.contains(i,o))return f=l.x||0,p=l.y||0,t.save(),t.translate(f,p),f=i-f,p=o-p,!(c=Ar(l,function(t){return function(t,e,n){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(e,n)}(t,f,p)?a.pick(t,n,r,f,p):null}))&&!1!==e.interactive&&(l.fill||l.stroke)&&CO(t,l,s,u)&&(c=l),t.restore(),c||null})},background:function(t,e){var n=e.stroke?EO:0;t("class","background"),t("d",Sr(null,e,n,n))},foreground:function(t,e,n){t("clip-path",e.clip?xO(n,e,e):null)}},OO={type:"image",tag:"image",nested:!1,attr:function(t,e,n){var r=Br(e,n),i=e.x||0,o=e.y||0,a=(null!=e.width?e.width:r.width)||0,s=(null!=e.height?e.height:r.height)||0,u=!1===e.aspect?"none":"xMidYMid";i-=Vr(e.align,a),o-=Ur(e.baseline,s),t("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),t("transform",mO(i,o)),t("width",a),t("height",s),t("preserveAspectRatio",u)},bound:function(t,e){var n=e.image,r=e.x||0,i=e.y||0,o=(null!=e.width?e.width:n&&n.width)||0,a=(null!=e.height?e.height:n&&n.height)||0;return r-=Vr(e.align,o),i-=Ur(e.baseline,a),t.set(r,i,r+o,i+a)},draw:function(t,e,n){var r=this;Ir(e,function(e){if(!n||n.intersects(e.bounds)){var i,o,a,s,u=Br(e,r),l=e.x||0,c=e.y||0,f=(null!=e.width?e.width:u.width)||0,p=(null!=e.height?e.height:u.height)||0;l-=Vr(e.align,f),c-=Ur(e.baseline,p),!1!==e.aspect&&(a=e.width/e.height,(o=u.width/u.height)==o&&a==a&&o!==a&&(a<o?(c+=(p-(s=f/o))/2,p=s):(l+=(f-(s=p*o))/2,f=s))),u.loaded&&(t.globalAlpha=null!=(i=e.opacity)?i:1,t.drawImage(u,l,c,f,p))}})},pick:Rr(),get:Br,xOffset:Vr,yOffset:Ur},kO=bO("line",function(t,e){var n=e[0];return tO.curve(fr(n.interpolate||"linear",n.orient,n.tension)).context(t)(e)},function(t,e){for(var n,r,i=Math.pow(t[0].strokeWidth||1,2),o=t.length;--o>=0;)if(!1!==t[o].defined&&(n=t[o].x-e[0],r=t[o].y-e[1],n*n+r*r<i))return t[o];return null}),TO={type:"path",tag:"path",nested:!1,attr:function(t,e){t("transform",gO(e)),t("d",e.path)},bound:function(t,e){return Wr(Or(t),e)?t.set(0,0,0,0):iO(t,e)},draw:Mr(Wr),pick:Lr(Wr)},PO={type:"rect",tag:"path",nested:!1,attr:function(t,e){t("d",Sr(null,e))},bound:function(t,e){var n,r;return iO(t.set(n=e.x||0,r=e.y||0,n+e.width||0,r+e.height||0),e)},draw:Mr(qr),pick:Lr(qr)},NO={type:"rule",tag:"line",nested:!1,attr:function(t,e){t("transform",gO(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)},bound:function(t,e){var n,r;return iO(t.set(n=e.x||0,r=e.y||0,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r),e)},draw:function(t,e,n){Ir(e,function(e){if(!n||n.intersects(e.bounds)){var r=null==e.opacity?1:e.opacity;r&&Hr(t,e,r)&&t.stroke()}})},pick:Rr(function(t,e,n,r){return!!t.isPointInStroke&&Hr(t,e,1)&&t.isPointInStroke(n,r)})},IO=vO("shape",function(t,e){return(e.mark.shape||e.shape).context(t)(e)}),AO=vO("symbol",function(t,e){return nO.context(t)(e)}),MO={height:Xr,measureWidth:Yr,estimateWidth:Gr,width:Gr,canvas:Zr};Zr(!0);var DO={left:"start",center:"middle",right:"end"},RO=new _n,jO={arc:yO,area:_O,group:SO,image:OO,line:kO,path:TO,rect:PO,rule:NO,shape:IO,symbol:AO,text:{type:"text",tag:"text",nested:!1,attr:function(t,e){var n,r=e.dx||0,i=(e.dy||0)+ei(e),o=e.x||0,a=e.y||0,s=e.angle||0,u=e.radius||0;u&&(n=(e.theta||0)-Math.PI/2,o+=u*Math.cos(n),a+=u*Math.sin(n)),t("text-anchor",DO[e.align]||"start"),s?(n=mO(o,a)+" rotate("+s+")",(r||i)&&(n+=" "+mO(r,i))):n=mO(o+r,a+i),t("transform",n)},bound:ni,draw:function(t,e,n){Ir(e,function(e){var r,i,o,a,s,u;n&&!n.intersects(e.bounds)||(u=Jr(e))&&0!==(r=null==e.opacity?1:e.opacity)&&(t.font=ti(e),t.textAlign=e.align||"left",i=e.x||0,o=e.y||0,(a=e.radius)&&(s=(e.theta||0)-Math.PI/2,i+=a*Math.cos(s),o+=a*Math.sin(s)),e.angle&&(t.save(),t.translate(i,o),t.rotate(e.angle*Math.PI/180),i=o=0),i+=e.dx||0,o+=(e.dy||0)+ei(e),e.fill&&fO(t,e,r)&&t.fillText(u,i,o),e.stroke&&dO(t,e,r)&&t.strokeText(u,i,o),e.angle&&t.restore())})},pick:Rr(function(t,e,n,r,i,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=ni(RO,e,!0),s=-e.angle*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=e.x,f=e.y;return a.contains(u*i-l*o+(c-c*u+f*l),l*i+u*o+(f-c*l-f*u))})},trail:bO("trail",function(t,e){return rO.context(t)(e)},function(t,e){for(var n,r,i,o=t.length;--o>=0;)if(!1!==t[o].defined&&(n=t[o].x-e[0],r=t[o].y-e[1],i=n*n+r*r,n=t[o].size||1,i<n*n))return t[o];return null})},LO=function(t,e,n){var r=jO[t.mark.marktype];return r.nested&&(t=t.mark),(e||r.bound)(t.bounds||(t.bounds=new _n),t,n)},zO={mark:null},FO=function(t,e,n){var r,i,o,a,s=jO[t.marktype],u=s.bound,l=t.items,c=l&&l.length;if(s.nested)return c?o=l[0]:(zO.mark=t,o=zO),a=LO(o,u,n),e=e&&e.union(a)||a;if(e=e||t.bounds&&t.bounds.clear()||new _n,c)for(r=0,i=l.length;r<i;++r)e.union(LO(l[r],u,n));return t.bounds=e},BO=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"],VO=ai.prototype;VO.toJSON=function(t){return ri(this.root,t||0)},VO.mark=function(t,e,n){var r=si(t,e=e||this.root.items[0]);return e.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var UO=function(t,e){var n=e.getBoundingClientRect();return[t.clientX-n.left-(e.clientLeft||0),t.clientY-n.top-(e.clientTop||0)]},WO=di.prototype;WO.initialize=function(t,e,n){return this._el=t,this._obj=n||null,this.origin(e)},WO.element=function(){return this._el},WO.canvas=function(){return this._el&&this._el.firstChild},WO.origin=function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},WO.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},WO.on=function(){},WO.off=function(){},WO._handlerIndex=function(t,e,n){for(var r=t?t.length:0;--r>=0;)if(t[r].type===e&&(!n||t[r].handler===n))return r;return-1},WO.handlers=function(t){var e,n=this._handlers,r=[];if(t)r.push.apply(r,n[this.eventName(t)]);else for(e in n)r.push.apply(r,n[e]);return r},WO.eventName=function(t){var e=t.indexOf(".");return e<0?t:t.slice(0,e)},WO.handleHref=function(t,e,n){this._loader.sanitize(n,{context:"href"}).then(function(e){var n=new MouseEvent(t.type,t),r=ui(null,"a");for(var i in e)r.setAttribute(i,e[i]);r.dispatchEvent(n)}).catch(function(){})},WO.handleTooltip=function(t,e,n){if(e&&null!=e.tooltip){e=function(t,e,n,r){var i,o,a=t&&t.mark;if(a&&(i=jO[a.marktype]).tip){for((o=UO(e,n))[0]-=r[0],o[1]-=r[1];t=t.mark.group;)o[0]-=t.x||0,o[1]-=t.y||0;t=i.tip(a.items,o)}return t}(e,t,this.canvas(),this._origin);this._tooltip.call(this._obj,this,t,e,n&&e&&e.tooltip||null)}},WO.getItemBoundingClientRect=function(t){if(e=this.canvas()){for(var e,n=e.getBoundingClientRect(),r=this._origin,i=t.bounds,o=i.x1+r[0]+n.left,a=i.y1+r[1]+n.top,s=i.width(),u=i.height();t.mark&&(t=t.mark.group);)o+=t.x||0,a+=t.y||0;return{x:o,y:a,width:s,height:u,left:o,top:a,right:o+s,bottom:a+u}}};var qO=hi.prototype;qO.initialize=function(t,e,n,r,i){return this._el=t,this.resize(e,n,r,i)},qO.element=function(){return this._el},qO.canvas=function(){return this._el&&this._el.firstChild},qO.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},qO.resize=function(t,e,n,r){return this._width=t,this._height=e,this._origin=n||[0,0],this._scale=r||1,this},qO.dirty=function(){},qO.render=function(t){var e=this;return e._call=function(){e._render(t)},e._call(),e._call=null,e},qO._render=function(){},qO.renderAsync=function(t){var e=this.render(t);return this._ready?this._ready.then(function(){return e}):Promise.resolve(e)},qO._load=function(t,e){var n=this,r=n._loader[t](e);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then(function(t){t&&i(),n._ready=null})}return r},qO.sanitizeURL=function(t){return this._load("sanitizeURL",t)},qO.loadImage=function(t){return this._load("loadImage",t)};var HO="mouseout",GO=Object(Jw.u)(mi,di);GO.initialize=function(t,e,n){var r=this._canvas=t&&li(t,"canvas");if(r){var i=this;this.events.forEach(function(t){r.addEventListener(t,function(e){GO[t]?GO[t].call(i,e):i.fire(t,e)})})}return di.prototype.initialize.call(this,t,e,n)},GO.canvas=function(){return this._canvas},GO.context=function(){return this._canvas.getContext("2d")},GO.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],GO.DOMMouseScroll=function(t){this.fire("mousewheel",t)},GO.mousemove=gi("mousemove","mouseover","mouseout"),GO.dragover=gi("dragover","dragenter","dragleave"),GO.mouseout=vi("mouseout"),GO.dragleave=vi("dragleave"),GO.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},GO.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},GO.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},GO.touchmove=function(t){this.fire("touchmove",t,!0)},GO.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},GO.fire=function(t,e,n){var r,i,o=n?this._touch:this._active,a=this._handlers[t];if(e.vegaType=t,"click"===t&&o&&o.href?this.handleHref(e,o,o.href):"mousemove"!==t&&t!==HO||this.handleTooltip(e,o,t!==HO),a)for(r=0,i=a.length;r<i;++r)a[r].handler.call(this._obj,e,o)},GO.on=function(t,e){var n=this.eventName(t),r=this._handlers;return this._handlerIndex(r[n],t,e)<0&&(r[n]||(r[n]=[])).push({type:t,handler:e}),this},GO.off=function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&r.splice(i,1),this},GO.pickEvent=function(t){var e=UO(t,this._canvas),n=this._origin;return this.pick(this._scene,e[0],e[1],e[0]-n[0],e[1]-n[1])},GO.pick=function(t,e,n,r,i){var o=this.context();return jO[t.marktype].pick.call(this,o,t,e,n,r,i)};var $O="undefined"!=typeof window?window.devicePixelRatio||1:1,YO=Object(Jw.u)(yi,hi),KO=hi.prototype,XO=new _n;YO.initialize=function(t,e,n,r,i){return this._canvas=En(1,1),t&&(fi(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),KO.initialize.call(this,t,e,n,r,i)},YO.resize=function(t,e,n,r){return KO.resize.call(this,t,e,n,r),function(t,e,n,r,i){var o="undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,a=t.getContext("2d"),s=o?$O:i;t.width=e*s,t.height=n*s,o&&1!==s&&(t.style.width=e+"px",t.style.height=n+"px"),a.pixelRatio=s,a.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale),this._redraw=!0,this},YO.canvas=function(){return this._canvas},YO.context=function(){return this._canvas?this._canvas.getContext("2d"):null},YO.dirty=function(t){var e=function(t,e){if(null==e)return t;for(var n=XO.clear().union(t);null!=e;e=e.mark.group)n.translate(e.x||0,e.y||0);return n}(t.bounds,t.mark.group);this._dirty.union(e)},YO._render=function(t){var e=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty;return e.save(),this._redraw||o.empty()?(this._redraw=!1,o=null):o=function(t,e,n){return e.expand(1).round(),e.translate(-n[0]%1,-n[1]%1),t.beginPath(),t.rect(e.x1,e.y1,e.width(),e.height()),t.clip(),e}(e,o,n),this.clear(-n[0],-n[1],r,i),this.draw(e,t,o),e.restore(),this._dirty.clear(),this},YO.draw=function(t,e,n){var r=jO[e.marktype];e.clip&&function(t,e){var n=e.clip;if(t.save(),t.beginPath(),Object(Jw.y)(n))n(t);else{var r=e.group;t.rect(0,0,r.width||0,r.height||0)}t.clip()}(t,e),r.draw.call(this,t,e,n),e.clip&&t.restore()},YO.clear=function(t,e,n,r){var i=this.context();i.clearRect(t,e,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,e,n,r))};var ZO=Object(Jw.u)(bi,di);ZO.initialize=function(t,e,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener(HO,this._tooltipHandler)),this._svg=r=t&&li(t,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener(HO,this._tooltipHandler)),di.prototype.initialize.call(this,t,e,n)},ZO.canvas=function(){return this._svg},ZO.on=function(t,e){var n=this.eventName(t),r=this._handlers;if(this._handlerIndex(r[n],t,e)<0){var i={type:t,handler:e,listener:_i(this,e)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},ZO.off=function(t,e){var n=this.eventName(t),r=this._handlers[n],i=this._handlerIndex(r,t,e);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var JO={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},QO={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},tk=Object.keys(QO),ek=JO.xmlns,nk=Object(Jw.u)(Ei,hi),rk=hi.prototype;nk.initialize=function(t,e,n,r){return t&&(this._svg=ci(t,0,"svg",ek),this._svg.setAttribute("class","marks"),fi(t,1),this._root=ci(this._svg,0,"g",ek),fi(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),rk.initialize.call(this,t,e,n,r)},nk.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),rk.background.apply(this,arguments)},nk.resize=function(t,e,n,r){return rk.resize.call(this,t,e,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},nk.canvas=function(){return this._svg},nk.svg=function(){if(!this._svg)return null;var t={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var e in JO)t[e]=JO[e];var n=this._bgcolor?wi("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+xi("rect"):"";return wi("svg",t)+n+this._svg.innerHTML+xi("svg")},nk._render=function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t),fi(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},nk.updateDefs=function(){var t,e=this._svg,n=this._defs,r=n.el,i=0;for(t in n.gradient)r||(n.el=r=ci(e,0,"defs",ek)),function(t,e,n){var r,i,o;for((t=ci(t,n,"linearGradient",ek)).setAttribute("id",e.id),t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),r=0,i=e.stops.length;r<i;++r)(o=ci(t,r,"stop",ek)).setAttribute("offset",e.stops[r].offset),o.setAttribute("stop-color",e.stops[r].color);fi(t,r)}(r,n.gradient[t],i++);for(t in n.clipping)r||(n.el=r=ci(e,0,"defs",ek)),function(t,e,n){var r;(t=ci(t,n,"clipPath",ek)).setAttribute("id",e.id),e.path?(r=ci(t,0,"path",ek)).setAttribute("d",e.path):((r=ci(t,0,"rect",ek)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",e.width),r.setAttribute("height",e.height))}(r,n.clipping[t],i++);r&&(0===i?(e.removeChild(r),n.el=null):fi(r,i))},nk._resetDefs=function(){var t=this._defs;t.gradient={},t.clipping={}},nk.dirty=function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},nk.isDirty=function(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},nk._dirtyCheck=function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length)return!0;var e,n,r,i,o,a,s,u=++this._dirtyID;for(o=0,a=t.length;o<a;++o)(n=(e=t[o]).mark).marktype!==r&&(i=jO[r=n.marktype]),n.zdirty&&n.dirty!==u&&(this._dirtyAll=!1,Ci(e,u),n.items.forEach(function(t){t.dirty=u})),n.zdirty||(e.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):e._svg&&(s=e._svg.parentNode)&&s.removeChild(e._svg),e._svg=null):(e=i.nested?n.items[0]:e)._update!==u&&(e._svg&&e._svg.ownerSVGElement?this._update(i,e._svg,e):(this._dirtyAll=!1,Ci(e,u)),e._update=u));return!this._dirtyAll},nk.draw=function(t,e,n){function r(t){var e=o.isDirty(t),n=Si(t,i,c,s.tag,a);e&&(o._update(s,n,t),l&&function(t,e,n){e=e.lastChild;var r,i=0;Ir(n,function(n){r=t.draw(e,n,r),++i}),fi(e,1+i)}(o,n,t)),c=n,++f}if(!this.isDirty(e))return e._svg;var i,o=this,a=this._svg,s=jO[e.marktype],u=!1===e.interactive?"none":null,l="g"===s.tag,c=null,f=0;return(i=Si(e,t,n,"g",a)).setAttribute("class",pi(e)),l||i.style.setProperty("pointer-events",u),e.clip?i.setAttribute("clip-path",xO(o,e,e.group)):i.removeAttribute("clip-path"),s.nested?e.items.length&&r(e.items[0]):Ir(e,r),fi(i,f),i};var ik=null,ok=null,ak={group:function(t,e,n){ok=e.__values__,ik=e.childNodes[1],t.foreground(ki,n,this),ik=e.childNodes[0],t.background(ki,n,this);var r=!1===n.mark.interactive?"none":null;r!==ok.events&&(ik.style.setProperty("pointer-events",r),ok.events=r)},text:function(t,e,n){var r;(r=Jr(n))!==ok.text&&(e.textContent=r,ok.text=r),Oi(e,"font-family",Qr(n)),Oi(e,"font-size",Xr(n)+"px"),Oi(e,"font-style",n.fontStyle),Oi(e,"font-variant",n.fontVariant),Oi(e,"font-weight",n.fontWeight)}};nk._update=function(t,e,n){ik=e,ok=e.__values__,t.attr(ki,n,this);var r=ak[t.type];r&&r.call(this,t,e,n),this.style(ik,n)},nk.style=function(t,e){if(null!=e){var n,r,i,o,a;for(n=0,r=tk.length;n<r;++n)a=e[i=tk[n]],"font"===i&&(a=Qr(e)),a!==ok[i]&&(o=QO[i],null==a?"fill"===o?t.style.setProperty(o,"none"):t.style.removeProperty(o):(a.id&&(this._defs.gradient[a.id]=a,a="url("+function(){var t;return"undefined"==typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}()+"#"+a.id+")"),t.style.setProperty(o,a+"")),ok[i]=a)}};var sk=Object(Jw.u)(Ti,hi),uk=hi.prototype;sk.resize=function(t,e,n,r){uk.resize.call(this,t,e,n,r);var i=this._origin,o=this._text,a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var s in JO)a[s]=JO[s];o.head=wi("svg",a);var u=this._bgcolor;return"transparent"!==u&&"none"!==u||(u=null),o.bg=u?wi("rect",{width:this._width,height:this._height,style:"fill: "+u+";"})+xi("rect"):"",o.root=wi("g",{transform:"translate("+i+")"}),o.foot=xi("g")+xi("svg"),this},sk.background=function(){var t=uk.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),t},sk.svg=function(){var t=this._text;return t.head+t.bg+t.defs+t.root+t.body+t.foot},sk._render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},sk.buildDefs=function(){var t,e,n,r,i=this._defs,o="";for(e in i.gradient){for(r=(n=i.gradient[e]).stops,o+=wi("linearGradient",{id:e,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),t=0;t<r.length;++t)o+=wi("stop",{offset:r[t].offset,"stop-color":r[t].color})+xi("stop");o+=xi("linearGradient")}for(e in i.clipping)n=i.clipping[e],o+=wi("clipPath",{id:e}),o+=n.path?wi("path",{d:n.path})+xi("path"):wi("rect",{x:0,y:0,width:n.width,height:n.height})+xi("rect"),o+=xi("clipPath");return o.length>0?wi("defs")+o+xi("defs"):""};var lk;sk.attributes=function(t,e){return lk={},t(Pi,e,this),lk},sk.href=function(t){var e,n=this,r=t.href;if(r){if(e=n._hrefs&&n._hrefs[r])return e;n.sanitizeURL(r).then(function(t){t["xlink:href"]=t.href,t.href=null,(n._hrefs||(n._hrefs={}))[r]=t})}return null},sk.mark=function(t){function e(e){var u=r.href(e);u&&(s+=wi("a",u)),n="g"!==o?Ni(e,t,o,a):null,s+=wi(o,r.attributes(i.attr,e),n),"text"===o?s+=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(Jr(e)):"g"===o&&(s+=wi("path",r.attributes(i.background,e),Ni(e,t,"bgrect",a))+xi("path"),s+=wi("g",r.attributes(i.foreground,e))+r.markGroup(e)+xi("g")),s+=xi(o),u&&(s+=xi("a"))}var n,r=this,i=jO[t.marktype],o=i.tag,a=this._defs,s="";return"g"!==o&&!1===t.interactive&&(n='style="pointer-events: none;"'),s+=wi("g",{class:pi(t),"clip-path":t.clip?xO(r,t,t.group):null},n),i.nested?t.items&&t.items.length&&e(t.items[0]):Ir(t,e),s+xi("g")},sk.markGroup=function(t){var e=this,n="";return Ir(t,function(t){n+=e.mark(t)}),n};var ck={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},fk={};fk.canvas=fk.png={renderer:yi,headless:yi,handler:mi},fk.svg={renderer:Ei,headless:Ti,handler:bi},fk.none={};var pk=new _n,dk=function(t){var e=t.clip;if(Object(Jw.y)(e))e(Or(pk.clear()));else{if(!e)return;pk.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(pk)},hk=1e-9;Object(Jw.u)(Di,oe).transform=function(t,e){var n,r=e.dataflow,i=t.mark,o=i.marktype,a=jO[o],s=a.bound,u=i.bounds;return a.nested?(i.items.length&&r.dirty(i.items[0]),u=Ri(i,s),i.items.forEach(function(t){t.bounds.clear().union(u)})):o===IC||t.modified()?(e.visit(e.MOD,function(t){r.dirty(t)}),u.clear(),i.items.forEach(function(t){u.union(Ri(t,s))}),i.role===jC&&e.reflow()):(n=e.changed(e.REM),e.visit(e.ADD,function(t){u.union(Ri(t,s))}),e.visit(e.MOD,function(t){n=n||u.alignsWith(t.bounds),r.dirty(t),u.union(Ri(t,s))}),n&&(u.clear(),i.items.forEach(function(t){u.union(t.bounds)}))),dk(i),e.modifies("bounds")};var mk=":vega_identifier:";ji.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Object(Jw.u)(ji,oe).transform=function(t,e){var n=function(t){var e=t._signals[mk];return e||(t._signals[mk]=e=t.add(0)),e}(e.dataflow),r=n.value,i=t.as;return e.visit(e.ADD,function(t){t[i]||(t[i]=++r)}),n.set(this.value=r),e};Object(Jw.u)(Li,oe).transform=function(t,e){var n=this.value;n||((n=e.dataflow.scenegraph().mark(t.markdef,function(t){var e=t.groups,n=t.parent;return e&&1===e.size?e.get(Object.keys(e.object)[0]):e&&n?e.lookup(n):null}(t),t.index)).group.context=t.context,t.context.group||(t.context.group=n.group),n.source=this,n.clip=t.clip,n.interactive=t.interactive,this.value=n);var r=n.marktype===IC?xn:wn;return e.visit(e.ADD,function(t){r.call(t,n)}),(t.modified("clip")||t.modified("interactive"))&&(n.clip=t.clip,n.interactive=!!t.interactive,n.zdirty=!0,e.reflow()),n.items=e.source,e};var gk={parity:function(t){return t.filter(function(t,e){return e%2?t.opacity=0:1})},greedy:function(t){var e;return t.filter(function(t,n){return n&&Fi(e.bounds,t.bounds)?t.opacity=0:(e=t,1)})}};Object(Jw.u)(zi,oe).transform=function(t,e){var n,r,i=gk[t.method]||gk.parity,o=e.materialize(e.SOURCE).source;if(o){if(!t.method)return t.modified("method")&&(Ui(o),e=Wi(e,t)),e;if(t.sort&&(o=o.slice().sort(t.sort)),"greedy"===t.method&&(o=o.filter(Vi)),n=Ui(o),e=Wi(e,t),n.length>=3&&Bi(n)){do{n=i(n)}while(n.length>=3&&Bi(n));n.length<3&&!Object(Jw.L)(o).opacity&&(n.length>1&&(Object(Jw.L)(n).opacity=0),Object(Jw.L)(o).opacity=1)}return t.boundScale&&t.boundTolerance>=0&&(r=function(t,e,n){var r=t.range(),i=new _n;return e===wC||e===CC?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(t){return i.encloses(t.bounds)}}(t.boundScale,t.boundOrient,+t.boundTolerance),o.forEach(function(t){r(t)||(t.opacity=0)})),e}};Object(Jw.u)(qi,oe).transform=function(t,e){var n=e.dataflow;if(e.visit(e.ALL,function(t){n.dirty(t)}),e.fields&&e.fields.zindex){var r=e.source&&e.source[0];r&&(r.mark.zdirty=!0)}};var vk=.5,yk=new _n;Object(Jw.u)(eo,oe).transform=function(t,e){var n=e.dataflow;return t.mark.items.forEach(function(e){t.layout&&Ji(n,e,t.layout),no(n,e,t)}),t.modified()&&e.reflow(),e};var bk="log",_k="pow",wk="sqrt",xk="band",Ek="point",Ck="ordinal",Sk="quantile",Ok="quantize",kk="threshold",Tk="bin-ordinal",Pk="sequential",Nk=function(t,e,n){var r=t-e+2*n;return t?r>0?r:1:0},Ik=function(t){return function(e){var n,r=e[0],i=e[1];return i<r&&(n=r,r=i,i=n),[t.invert(r),t.invert(i)]}},Ak=function(t){return function(e){var n,r,i,o,a=t.range(),s=e[0],u=e[1],l=-1;for(u<s&&(r=s,s=u,u=r),i=0,o=a.length;i<o;++i)a[i]>=s&&a[i]<=u&&(l<0&&(l=i),n=i);if(!(l<0))return s=t.invertExtent(a[l]),u=t.invertExtent(a[n]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}};oo.prototype=ao.prototype={constructor:oo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Mk=ao,Dk=Mk.prototype;fo.prototype=po.prototype={constructor:fo,has:Dk.has,add:function(t){return t+="",this["$"+t]=t,this},remove:Dk.remove,clear:Dk.clear,values:Dk.keys,size:Dk.size,empty:Dk.empty,each:Dk.each};var Rk=Array.prototype,jk=Rk.map,Lk=Rk.slice,zk={name:"implicit"},Fk=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Bk="\\s*([+-]?\\d+)\\s*",Vk="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uk="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wk=/^#([0-9a-f]{3})$/,qk=/^#([0-9a-f]{6})$/,Hk=new RegExp("^rgb\\("+[Bk,Bk,Bk]+"\\)$"),Gk=new RegExp("^rgb\\("+[Uk,Uk,Uk]+"\\)$"),$k=new RegExp("^rgba\\("+[Bk,Bk,Bk,Vk]+"\\)$"),Yk=new RegExp("^rgba\\("+[Uk,Uk,Uk,Vk]+"\\)$"),Kk=new RegExp("^hsl\\("+[Vk,Uk,Uk]+"\\)$"),Xk=new RegExp("^hsla\\("+[Vk,Uk,Uk,Vk]+"\\)$"),Zk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fk(go,vo,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Fk(xo,wo,mo(go,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Eo(this.r)+Eo(this.g)+Eo(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Fk(Oo,So,mo(go,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Oo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Oo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xo(ko(t>=240?t-240:t+120,i,r),ko(t,i,r),ko(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Jk=Math.PI/180,Qk=180/Math.PI,tT=.96422,eT=1,nT=.82521,rT=4/29,iT=6/29,oT=3*iT*iT,aT=iT*iT*iT;Fk(No,Po,mo(go,{brighter:function(t){return new No(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new No(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=tT*Ao(e),t=eT*Ao(t),n=nT*Ao(n),new xo(Mo(3.1338561*e-1.6168667*t-.4906146*n),Mo(-.9787684*e+1.9161415*t+.033454*n),Mo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Fk(Lo,jo,mo(go,{brighter:function(t){return new Lo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Lo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return To(this).rgb()}}));var sT=-.29227,uT=-.90649,lT=1.97294,cT=lT*uT,fT=1.78277*lT,pT=1.78277*sT- -.14861*uT;Fk(Fo,zo,mo(go,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Fo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Fo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Jk,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new xo(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(sT*r+uT*i)),255*(e+n*(lT*r)),this.opacity)}}));var dT,hT,mT,gT,vT=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return Bo((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}},yT=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return Bo((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}},bT=function(t){return function(){return t}},_T=function t(e){function n(t,e){var n=r((t=wo(t)).r,(e=wo(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=qo(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=Wo(e);return n.gamma=t,n}(1),wT=Ho(vT),xT=Ho(yT),ET=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=NT(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},CT=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},ST=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},OT=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=NT(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},kT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TT=new RegExp(kT.source,"g"),PT=function(t,e){var n,r,i,o=kT.lastIndex=TT.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=kT.exec(t))&&(r=TT.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:ST(n,r)})),o=TT.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},NT=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?bT(e):("number"===r?ST:"string"===r?(n=vo(e))?(e=n,_T):PT:e instanceof vo?_T:e instanceof Date?CT:Array.isArray(e)?ET:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?OT:ST)(t,e)},IT=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},AT=function(t,e){var n=Uo(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},MT=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},DT=180/Math.PI,RT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},jT=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*DT,skewX:Math.atan(u)*DT,scaleX:a,scaleY:s}},LT=Go(function(t){return"none"===t?RT:(dT||(dT=document.createElement("DIV"),hT=document.documentElement,mT=document.defaultView),dT.style.transform=t,t=mT.getComputedStyle(hT.appendChild(dT),null).getPropertyValue("transform"),hT.removeChild(dT),t=t.slice(7,-1).split(","),jT(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),zT=Go(function(t){return null==t?RT:(gT||(gT=document.createElementNS("http://www.w3.org/2000/svg","g")),gT.setAttribute("transform",t),(t=gT.transform.baseVal.consolidate())?(t=t.matrix,jT(t.a,t.b,t.c,t.d,t.e,t.f)):RT)},", ",")",")"),FT=Math.SQRT2,BT=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[2],u=e[0]-i,l=e[1]-o,c=u*u+l*l;if(c<1e-12)r=Math.log(s/a)/FT,n=function(t){return[i+t*u,o+t*l,a*Math.exp(FT*t*r)]};else{var f=Math.sqrt(c),p=(s*s-a*a+4*c)/(2*a*2*f),d=(s*s-a*a-4*c)/(2*s*2*f),h=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(d*d+1)-d);r=(m-h)/FT,n=function(t){var e=t*r,n=$o(h),s=a/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(FT*e+h)-function(t){return((t=Math.exp(t))-1/t)/2}(h));return[i+s*u,o+s*l,a*n/$o(FT*e+h)]}}return n.duration=1e3*r,n},VT=Yo(Uo),UT=Yo(qo),WT=Xo(Uo),qT=Xo(qo),HT=Zo(Uo),GT=Zo(qo),$T=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},YT=function(t){return function(){return t}},KT=function(t){return+t},XT=[0,1],ZT=n(53),JT=function(t,e,n){var r,i=t[0],o=t[t.length-1],a=ye(i,o,null==e?10:e);switch((n=Object(ZT.formatSpecifier)(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Object(ZT.precisionPrefix)(a,s))||(n.precision=r),Object(ZT.formatPrefix)(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Object(ZT.precisionRound)(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Object(ZT.precisionFixed)(a))||(n.precision=r-2*("%"===n.type))}return Object(ZT.format)(n)},QT=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},tP=1e3,eP=60*tP,nP=60*eP,rP=24*nP,iP=7*rP,oP=30*rP,aP=365*rP,sP=Array.prototype.map,uP=Array.prototype.slice,lP={identity:aa,linear:oa,log:da,ordinal:ho,pow:ma,sqrt:function(){return ma().exponent(.5)},quantile:ga,quantize:va,threshold:ya,time:function(){return wa(Yx,Gx,Ux,Vx,Fx,Lx,Rx,Ix,uE).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},utc:function(){return wa(pE,oE,eE,tE,Jx,Xx,Rx,Ix,cE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},band:xa,point:function(){return Ea(xa().paddingInner(1))},sequential:ka,"bin-linear":Sa,"bin-ordinal":Oa};for(var cP in lP)Ta(cP,lP[cP]);var fP=Ma("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),pP=Ma("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),dP=Ma("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),hP=Ma("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),mP=Ma("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),gP=new Array(3).concat("67a9cff7f7f7f1a340","0571b092c5defdb863e66101","0571b092c5def7f7f7fdb863e66101","2166ac67a9cfd1e5f0fee0b6f1a340b35806","2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806","2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806","2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806","0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08","0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(Ma),vP=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},yP=vP("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),bP=vP("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),_P=vP("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),wP=vP("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),xP=vP("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),EP=vP("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),CP=vP("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),SP=vP("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),OP=vP("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),kP=function(t){return wT(t[t.length-1])},TP=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(vP),PP=kP(TP),NP=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(vP),IP=kP(NP),AP=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(vP),MP=kP(AP),DP=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(vP),RP=kP(DP),jP=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(vP),LP=kP(jP),zP=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(vP),FP=kP(zP),BP=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(vP),VP=kP(BP),UP=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(vP),WP=kP(UP),qP=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(vP),HP=kP(qP),GP=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(vP),$P=kP(GP),YP=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(vP),KP=kP(YP),XP=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(vP),ZP=kP(XP),JP=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(vP),QP=kP(JP),tN=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(vP),eN=kP(tN),nN=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(vP),rN=kP(nN),iN=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(vP),oN=kP(iN),aN=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(vP),sN=kP(aN),uN=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(vP),lN=kP(uN),cN=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(vP),fN=kP(cN),pN=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(vP),dN=kP(pN),hN=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(vP),mN=kP(hN),gN=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(vP),vN=kP(gN),yN=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(vP),bN=kP(yN),_N=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(vP),wN=kP(_N),xN=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(vP),EN=kP(xN),CN=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(vP),SN=kP(CN),ON=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(vP),kN=kP(ON),TN=GT(zo(300,.5,0),zo(-240,.5,1)),PN=GT(zo(-100,.75,.35),zo(80,1.5,.8)),NN=GT(zo(260,.75,.35),zo(80,1.5,.8)),IN=zo(),AN=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return IN.h=360*t-100,IN.s=1.5-1.5*e,IN.l=.8-.9*e,IN+""},MN=wo(),DN=Math.PI/3,RN=2*Math.PI/3,jN=function(t){var e;return t=(.5-t)*Math.PI,MN.r=255*(e=Math.sin(t))*e,MN.g=255*(e=Math.sin(t+DN))*e,MN.b=255*(e=Math.sin(t+RN))*e,MN+""},LN=Da(vP("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),zN=Da(vP("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),FN=Da(vP("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),BN=Da(vP("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),VN={blueorange:gP},UN={category10:yP,accent:bP,dark2:_P,paired:wP,pastel1:xP,pastel2:EP,set1:CP,set2:SP,set3:OP,category20:fP,category20b:pP,category20c:dP,tableau10:hP,tableau20:mP,viridis:LN,magma:zN,inferno:FN,plasma:BN,rainbow:AN,sinebow:jN,blueorange:wT(Object(Jw.L)(gP))};Ra("blues","Blues"),Ra("greens","Greens"),Ra("greys","Greys"),Ra("purples","Purples"),Ra("reds","Reds"),Ra("oranges","Oranges"),Ra("brownbluegreen","BrBG"),Ra("purplegreen","PRGn"),Ra("pinkyellowgreen","PiYG"),Ra("purpleorange","PuOr"),Ra("redblue","RdBu"),Ra("redgrey","RdGy"),Ra("redyellowblue","RdYlBu"),Ra("redyellowgreen","RdYlGn"),Ra("spectral","Spectral"),Ra("bluegreen","BuGn"),Ra("bluepurple","BuPu"),Ra("greenblue","GnBu"),Ra("orangered","OrRd"),Ra("purplebluegreen","PuBuGn"),Ra("purpleblue","PuBu"),Ra("purplered","PuRd"),Ra("redpurple","RdPu"),Ra("yellowgreenblue","YlGnBu"),Ra("yellowgreen","YlGn"),Ra("yelloworangebrown","YlOrBr"),Ra("yelloworangered","YlOrRd");var WN={millisecond:Ix,second:Rx,minute:Lx,hour:Fx,day:Vx,week:Ux,month:Gx,year:Yx},qN={millisecond:Ix,second:Rx,minute:Xx,hour:Jx,day:tE,week:eE,month:oE,year:pE};Object(Jw.u)(qa,oe).transform=function(t,e){if(this.value&&!t.modified())return e.StopPropagation;var n=e.fork(e.NO_SOURCE|e.NO_FIELDS),r=this.value,i=t.scale,o=null==t.count?t.values?t.values.length:10:Ba(i,t.count),a=t.format||Wa(i,o,t.formatSpecifier),u=t.values?Va(i,t.values,o):Ua(i,o);return r&&(n.rem=r),r=u.map(function(t,e){return s({index:e/(u.length-1),value:t,label:a(t)})}),t.extra&&r.length&&r.push(s({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n};Object(Jw.u)(Ha,oe).transform=function(t,e){var n=e.dataflow,r=e.fork(e.NO_SOURCE|e.NO_FIELDS),i=t.item||function(){return s({})},a=t.key||o,u=this.value;return Object(Jw.v)(r.encode)&&(r.encode=null),u&&(t.modified("key")||e.modified(a))&&Object(Jw.m)("DataJoin does not support modified key function or fields."),u||(e=e.addAll(),this.value=u=Object(Jw.q)().test(Ga),u.lookup=function(t){return u.get(a(t))}),e.visit(e.ADD,function(t){var e=a(t),n=u.get(e);n?n.exit?(u.empty--,r.add.push(n)):r.mod.push(n):(u.set(e,n=i(t)),r.add.push(n)),n.datum=t,n.exit=!1}),e.visit(e.MOD,function(t){var e=a(t),n=u.get(e);n&&(n.datum=t,r.mod.push(n))}),e.visit(e.REM,function(t){var e=a(t),n=u.get(e);t!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++u.empty)}),e.changed(e.ADD_MOD)&&r.modifies("datum"),t.clean&&u.empty>n.cleanThreshold&&n.runAfter(u.clean),r};Object(Jw.u)($a,oe).transform=function(t,e){var n=e.fork(e.ADD_REM),r=t.encoders,i=e.encode;if(Object(Jw.v)(i)){if(!n.changed()&&!i.every(function(t){return r[t]}))return e.StopPropagation;i=i[0],n.encode=null}var o="enter"===i,a=r.update||Jw.p,s=r.enter||Jw.p,u=r.exit||Jw.p,l=(i&&!o?r[i]:a)||Jw.p;if(e.changed(e.ADD)&&(e.visit(e.ADD,function(e){s(e,t),a(e,t),l!==Jw.p&&l!==a&&l(e,t)}),n.modifies(s.output),n.modifies(a.output),l!==Jw.p&&l!==a&&n.modifies(l.output)),e.changed(e.REM)&&u!==Jw.p&&(e.visit(e.REM,function(e){u(e,t)}),n.modifies(u.output)),o||l!==Jw.p){var c=e.MOD|(t.modified()?e.REFLOW:0);o?(e.visit(c,function(e){var r=s(e,t);(l(e,t)||r)&&n.mod.push(e)}),n.mod.length&&n.modifies(s.output)):e.visit(c,function(e){l(e,t)&&n.mod.push(e)}),n.mod.length&&n.modifies(l.output)}return n.changed()?n:e.StopPropagation};var HN="symbol",GN="discrete",$N={};$N[Sk]=function(t){var e=[-1/0].concat(t.quantiles());return e.max=1/0,e},$N[Ok]=function(t){var e=t.domain(),n=e[0],r=Object(Jw.L)(e),i=t.range().length,o=new Array(i),a=0;for(o[0]=-1/0;++a<i;)o[a]=(a*r-(a-i)*n)/i;return o.max=1/0,o},$N[kk]=function(t){var e=[-1/0].concat(t.domain());return e.max=1/0,e},$N["bin-linear"]=$N[Tk]=function(t){var e=t.domain();return e.max=e.pop(),e};Object(Jw.u)(Xa,oe).transform=function(t,e){if(null!=this.value&&!t.modified())return e.StopPropagation;var n,r,i,o,a=e.fork(e.NO_SOURCE|e.NO_FIELDS),u=this.value,l=t.type||HN,c=t.scale,f=null==t.count?5:Ba(c,t.count),p=t.format||Wa(c,f,t.formatSpecifier),d=t.values||function(t,e){var n=$N[t.type];return n?n(t):Ua(t,e)}(c,f);return p=Ya(c,p,l),u&&(a.rem=u),l===HN?(Object(Jw.y)(i=t.size)?(t.values||0!==c(d[0])||(d=d.slice(1)),o=d.reduce(function(e,n){return Math.max(e,i(n,t))},0)):i=Object(Jw.k)(o=i||8),u=d.map(function(e,n){return s({index:n,label:p(e,n,d),value:e,offset:o,size:i(e,t)})})):"gradient"===l?(n=c.domain(),r=Na(c,n[0],Object(Jw.L)(n)),d.length<3&&!t.values&&n[0]!==Object(Jw.L)(n)&&(d=[n[0],Object(Jw.L)(n)]),u=d.map(function(t,e){return s({index:e,label:p(t,e,d),value:t,perc:r(t)})})):(i=d.length-1,r=function(t){var e=t.domain(),n=e.length-1,r=+e[0],i=+Object(Jw.L)(e),o=i-r;if(t.type===kk){var a=n?o/n:.1;o=(i+=a)-(r-=a)}return function(t){return(t-r)/o}}(c),u=d.map(function(t,e){return s({index:e,label:p(t,e,d),value:t,perc:e?r(t):0,perc2:e===i?1:r(d[e+1])})})),a.source=u,a.add=u,this.value=u,a};var YN=Object(Jw.q)({line:Ja,"line-radial":function(t,e,n,r){return Ja(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},arc:Qa,"arc-radial":function(t,e,n,r){return Qa(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},curve:ts,"curve-radial":function(t,e,n,r){return ts(e*Math.cos(t),e*Math.sin(t),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(t,e,n,r){return"M"+t+","+e+"V"+r+"H"+n},"orthogonal-vertical":function(t,e,n,r){return"M"+t+","+e+"H"+n+"V"+r},"orthogonal-radial":function(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),s=Math.sin(n);return"M"+e*i+","+e*o+"A"+e+","+e+" 0 0,"+((Math.abs(n-t)>Math.PI?n<=t:n>t)?1:0)+" "+e*a+","+e*s+"L"+r*a+","+r*s},"diagonal-horizontal":function(t,e,n,r){var i=(t+n)/2;return"M"+t+","+e+"C"+i+","+e+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(t,e,n,r){var i=(e+r)/2;return"M"+t+","+e+"C"+t+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(t,e,n,r){var i=Math.cos(t),o=Math.sin(t),a=Math.cos(n),s=Math.sin(n),u=(e+r)/2;return"M"+e*i+","+e*o+"C"+u*i+","+u*o+" "+u*a+","+u*s+" "+r*a+","+r*s}});Za.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Object(Jw.u)(Za,oe).transform=function(t,e){var n=t.sourceX||function(t){return t.source.x},r=t.sourceY||function(t){return t.source.y},i=t.targetX||function(t){return t.target.x},o=t.targetY||function(t){return t.target.y},a=t.as||"path",s=t.shape||"line",u=YN.get(s+"-"+(t.orient||"vertical"))||YN.get(s);return u||Object(Jw.m)("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),e.visit(e.SOURCE,function(t){t[a]=u(n(t),r(t),i(t),o(t))}),e.reflow(t.modified()).modifies(a)},es.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Object(Jw.u)(es,oe).transform=function(t,e){var n,r,i,o=t.as||["startAngle","endAngle"],a=o[0],s=o[1],u=t.field||Jw.G,l=t.startAngle||0,c=null!=t.endAngle?t.endAngle:2*Math.PI,f=e.source,p=f.map(u),d=p.length,h=l,m=(c-l)/function(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}(p),g=BE(d);for(t.sort&&g.sort(function(t,e){return p[t]-p[e]}),n=0;n<d;++n)i=p[g[n]],(r=f[g[n]])[a]=h,r[s]=h+=i*m;return this.value=p,e.reflow(t.modified()).modifies(o)};var KN=5,XN=Object(Jw.S)(["linear",_k,wk]),ZN=Object(Jw.S)(["linear",bk,_k,wk,"time","utc"]),JN=Object(Jw.S)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);Object(Jw.u)(ns,oe).transform=function(t,e){var n,r=e.dataflow,i=this.value;i&&!t.modified("type")||(this.value=i=Ta((t.type||"linear").toLowerCase())());for(n in t)if(!JN[n]){if("padding"===n&&ZN[i.type])continue;Object(Jw.y)(i[n])?i[n](t[n]):r.warn("Unsupported scale property: "+n)}return os(i,t,rs(i,t,r)),e.fork(e.NO_SOURCE|e.NO_FIELDS)};Object(Jw.u)(us,oe).transform=function(t,e){var n=t.modified("sort")||e.changed(e.ADD)||e.modified(t.sort.fields)||e.modified("datum");return n&&e.source.sort(t.sort),this.modified(n),e};var QN=["y0","y1"];ls.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:QN}]};Object(Jw.u)(ls,oe).transform=function(t,e){var n,r,i,o,a=t.as||QN,s=a[0],u=a[1],l=t.field||Jw.G,c="center"===t.offset?cs:"normalize"===t.offset?fs:ps;for(r=0,i=(n=function(t,e,n,r){var i,o,a,s,u,l,c,f,p,d=[],h=function(t){return t(u)};if(null==e)d.push(t.slice());else for(i={},o=0,a=t.length;o<a;++o)u=t[o],(c=i[l=e.map(h)])||(i[l]=c=[],d.push(c)),c.push(u);for(l=0,p=0,s=d.length;l<s;++l){for(o=0,f=0,a=(c=d[l]).length;o<a;++o)f+=Math.abs(r(c[o]));c.sum=f,f>p&&(p=f),n&&c.sort(n)}return d.max=p,d}(e.source,t.groupby,t.sort,l)).length,o=n.max;r<i;++r)c(n[r],o,l,s,u);return e.reflow(t.modified()).modifies(a)};var tI=Array.prototype.slice,eI=function(t,e){return t-e},nI=function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r},rI=function(t){return function(){return t}},iI=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=ds(t,e[r]))return n;return 0},oI=function(){},aI=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],sI=function(){function t(t){var n=a(t);if(Array.isArray(n))n=n.slice().sort(eI);else{var r=FE(t),i=r[0],o=r[1];n=ye(i,o,n),n=BE(Math.floor(i/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return e(t,n)})}function e(t,e){var r=[],a=[];return function(t,e,r){function a(t){var e,i,o=[t[0][0]+s,t[0][1]+u],a=[t[1][0]+s,t[1][1]+u],l=n(o),c=n(a);(e=d[l])?(i=p[c])?(delete d[e.end],delete p[i.start],e===i?(e.ring.push(a),r(e.ring)):p[e.start]=d[i.end]={start:e.start,end:i.end,ring:e.ring.concat(i.ring)}):(delete d[e.end],e.ring.push(a),d[e.end=c]=e):(e=p[c])?(i=d[l])?(delete p[e.start],delete d[i.end],e===i?(e.ring.push(a),r(e.ring)):p[i.start]=d[e.end]={start:i.start,end:e.end,ring:i.ring.concat(e.ring)}):(delete p[e.start],e.ring.unshift(o),p[e.start=l]=e):p[l]=d[c]={start:l,end:c,ring:[o,a]}}var s,u,l,c,f,p=new Array,d=new Array;s=u=-1,aI[(l=t[0]>=e)<<1].forEach(a);for(;++s<i-1;)aI[l|(l=t[s+1]>=e)<<1].forEach(a);aI[l<<0].forEach(a);for(;++u<o-1;){for(s=-1,aI[(l=t[u*i+i]>=e)<<1|(c=t[u*i]>=e)<<2].forEach(a);++s<i-1;)f=c,aI[l|(l=t[u*i+i+s+1]>=e)<<1|(c=t[u*i+s+1]>=e)<<2|f<<3].forEach(a);aI[l|c<<3].forEach(a)}s=-1,aI[(c=t[u*i]>=e)<<2].forEach(a);for(;++s<i-1;)f=c,aI[(c=t[u*i+s+1]>=e)<<2|f<<3].forEach(a);aI[c<<3].forEach(a)}(t,e,function(n){s(n,t,e),nI(n)>0?r.push([n]):a.push(n)}),a.forEach(function(t){for(var e,n=0,i=r.length;n<i;++n)if(-1!==iI((e=r[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:e,coordinates:r}}function n(t){return 2*t[0]+t[1]*(i+1)*4}function r(t,e,n){t.forEach(function(t){var r,a=t[0],s=t[1],u=0|a,l=0|s,c=e[l*i+u];a>0&&a<i&&u===a&&(t[0]=a+(n-(r=e[l*i+u-1]))/(c-r)-.5),s>0&&s<o&&l===s&&(t[1]=s+(n-(r=e[(l-1)*i+u]))/(c-r)-.5)})}var i=1,o=1,a=HE,s=r;return t.contour=e,t.size=function(e){if(!arguments.length)return[i,o];var n=Math.ceil(e[0]),r=Math.ceil(e[1]);if(!(n>0&&r>0))throw new Error("invalid size");return i=n,o=r,t},t.thresholds=function(e){return arguments.length?(a="function"==typeof e?e:Array.isArray(e)?rI(tI.call(e)):rI(e),t):a},t.smooth=function(e){return arguments.length?(s=e?r:oI,t):s===r},t},uI=["size","smooth"],lI=["x","y","weight","size","cellSize","bandwidth"];bs.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]};Object(Jw.u)(bs,oe).transform=function(t,e){if(this.value&&!e.changed()&&!t.modified())return e.StopPropagation;var n,r,i,o=e.fork(e.NO_SOURCE|e.NO_FIELDS),a=t.count||10;return t.values?(n=sI(),r=uI,i=t.values):(n=function(){function t(t){var n=new Float32Array(h*m),r=new Float32Array(h*m);t.forEach(function(t,e,r){var i=+a(t,e,r)+d>>p,o=+s(t,e,r)+d>>p,l=+u(t,e,r);i>=0&&i<h&&o>=0&&o<m&&(n[i+o*h]+=l)}),hs({width:h,height:m,data:n},{width:h,height:m,data:r},f>>p),ms({width:h,height:m,data:r},{width:h,height:m,data:n},f>>p),hs({width:h,height:m,data:n},{width:h,height:m,data:r},f>>p),ms({width:h,height:m,data:r},{width:h,height:m,data:n},f>>p),hs({width:h,height:m,data:n},{width:h,height:m,data:r},f>>p),ms({width:h,height:m,data:r},{width:h,height:m,data:n},f>>p);var i=g(n);if(!Array.isArray(i)){var o=_e(n);i=ye(0,o,i),(i=BE(0,Math.floor(o/i)*i,i)).shift()}return sI().thresholds(i).size([h,m])(n).map(e)}function e(t){return t.value*=Math.pow(2,-2*p),t.coordinates.forEach(n),t}function n(t){t.forEach(r)}function r(t){t.forEach(i)}function i(t){t[0]=t[0]*Math.pow(2,p)-d,t[1]=t[1]*Math.pow(2,p)-d}function o(){return d=3*f,h=l+2*d>>p,m=c+2*d>>p,t}var a=gs,s=vs,u=ys,l=960,c=500,f=20,p=2,d=3*f,h=l+2*d>>p,m=c+2*d>>p,g=rI(20);return t.x=function(e){return arguments.length?(a="function"==typeof e?e:rI(+e),t):a},t.y=function(e){return arguments.length?(s="function"==typeof e?e:rI(+e),t):s},t.weight=function(e){return arguments.length?(u="function"==typeof e?e:rI(+e),t):u},t.size=function(t){if(!arguments.length)return[l,c];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return l=e,c=n,o()},t.cellSize=function(t){if(!arguments.length)return 1<<p;if(!((t=+t)>=1))throw new Error("invalid cell size");return p=Math.floor(Math.log(t)/Math.LN2),o()},t.thresholds=function(e){return arguments.length?(g="function"==typeof e?e:Array.isArray(e)?rI(tI.call(e)):rI(e),t):g},t.bandwidth=function(t){if(!arguments.length)return Math.sqrt(f*(f+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return f=Math.round((Math.sqrt(4*t*t+1)-1)/2),o()},t}(),r=lI,i=e.materialize(e.SOURCE).source),n.thresholds(t.thresholds||(t.nice?a:function(t){return function(e){for(var n=FE(e),r=n[0],i=n[1]-r,o=[],a=1;a<=t;++a)o.push(r+i*a/(t+1));return o}}(a))),r.forEach(function(e){null!=t[e]&&n[e](t[e])}),this.value&&(o.rem=this.value),i=i&&i.length?n(i).map(s):[],this.value=o.source=o.add=i,o};var cI="FeatureCollection";_s.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Object(Jw.u)(_s,oe).transform=function(t,e){var n,r=this._features,i=this._points,o=t.fields,a=o&&o[0],s=o&&o[1],u=t.geojson,l=e.ADD;n=t.modified()||e.changed(e.REM)||e.modified(Object(Jw.g)(u))||a&&e.modified(Object(Jw.g)(a))||s&&e.modified(Object(Jw.g)(s)),this.value&&!n||(l=e.SOURCE,this._features=r=[],this._points=i=[]),u&&e.visit(l,function(t){r.push(u(t))}),a&&s&&(e.visit(l,function(t){var e=a(t),n=s(t);null!=e&&null!=n&&(e=+e)===e&&(n=+n)===n&&i.push([e,n])}),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:cI,features:r}};var fI=function(){return new ws};ws.prototype={constructor:ws,reset:function(){this.s=this.t=0},add:function(t){xs(WI,t,this.t),xs(this,WI.s,this.s),this.s?this.t+=WI.t:this.s=WI.t},valueOf:function(){return this.s}};var pI,dI,hI,mI,gI,vI,yI,bI,_I,wI,xI,EI,CI,SI,OI,kI,TI,PI,NI,II,AI,MI,DI,RI,jI,LI,zI,FI,BI,VI,UI,WI=new ws,qI=1e-6,HI=Math.PI,GI=HI/2,$I=HI/4,YI=2*HI,KI=180/HI,XI=HI/180,ZI=Math.abs,JI=Math.atan,QI=Math.atan2,tA=Math.cos,eA=Math.ceil,nA=Math.exp,rA=(Math,Math.log),iA=Math.pow,oA=Math.sin,aA=Math.sign||function(t){return t>0?1:t<0?-1:0},sA=Math.sqrt,uA=Math.tan,lA={Feature:function(t,e){Os(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Os(n[r].geometry,e)}},cA={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){ks(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ks(n[r],e,0)},Polygon:function(t,e){Ts(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ts(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Os(n[r],e)}},fA=function(t,e){t&&lA.hasOwnProperty(t.type)?lA[t.type](t,e):Os(t,e)},pA=fI(),dA=fI(),hA={point:Ss,lineStart:Ss,lineEnd:Ss,polygonStart:function(){pA.reset(),hA.lineStart=Ps,hA.lineEnd=Ns},polygonEnd:function(){var t=+pA;dA.add(t<0?YI+t:t),this.lineStart=this.lineEnd=this.point=Ss},sphere:function(){dA.add(YI)}},mA=fI(),gA={point:Bs,lineStart:Us,lineEnd:Ws,polygonStart:function(){gA.point=qs,gA.lineStart=Hs,gA.lineEnd=Gs,mA.reset(),hA.polygonStart()},polygonEnd:function(){hA.polygonEnd(),gA.point=Bs,gA.lineStart=Us,gA.lineEnd=Ws,pA<0?(vI=-(bI=180),yI=-(_I=90)):mA>qI?_I=90:mA<-qI&&(yI=-90),OI[0]=vI,OI[1]=bI}},vA={sphere:Ss,point:Xs,lineStart:Js,lineEnd:eu,polygonStart:function(){vA.lineStart=nu,vA.lineEnd=ru},polygonEnd:function(){vA.lineStart=Js,vA.lineEnd=eu}},yA=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};au.invert=au;var bA,_A,wA,xA,EA,CA,SA,OA,kA=function(t){function e(e){return e=t(e[0]*XI,e[1]*XI),e[0]*=KI,e[1]*=KI,e}return t=su(t[0]*XI,t[1]*XI,t.length>2?t[2]*XI:0),e.invert=function(e){return e=t.invert(e[0]*XI,e[1]*XI),e[0]*=KI,e[1]*=KI,e},e},TA=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ss,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},PA=function(t,e){return ZI(t[0]-e[0])<qI&&ZI(t[1]-e[1])<qI},NA=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(PA(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new du(r,t,null,!0)),u.push(n.o=new du(r,null,n,!1)),s.push(n=new du(a,t,null,!1)),u.push(n.o=new du(a,null,n,!0))}}),s.length){for(u.sort(e),hu(s),hu(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,f=s[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(o=(l=p.p.z).length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(p.x,p.p.x,-1,i);p=p.p}l=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}},IA=fI(),AA=function(t,e){var n=e[0],r=e[1],i=oA(r),o=[oA(n),-tA(n),0],a=0,s=0;IA.reset(),1===i?r=GI+qI:-1===i&&(r=-GI-qI);for(var u=0,l=t.length;u<l;++u)if(f=(c=t[u]).length)for(var c,f,p=c[f-1],d=p[0],h=p[1]/2+$I,m=oA(h),g=tA(h),v=0;v<f;++v,d=b,m=w,g=x,p=y){var y=c[v],b=y[0],_=y[1]/2+$I,w=oA(_),x=tA(_),E=b-d,C=E>=0?1:-1,S=C*E,O=S>HI,k=m*w;if(IA.add(QI(k*C*oA(S),g*x+k*tA(S))),a+=O?E+C*YI:E,O^d>=n^b>=n){var T=js(Ds(p),Ds(y));Fs(T);var P=js(o,T);Fs(P);var N=(O^E>=0?-1:1)*Cs(P[2]);(r>N||r===N&&(T[0]||T[1]))&&(s+=O^E>=0?1:-1)}}return(a<-qI||a<qI&&IA<-qI)^1&s},MA=function(t,e,n,r){return function(i){function o(e,n){t(e,n)&&i.point(e,n)}function a(t,e){m.point(t,e)}function s(){b.point=a,m.lineStart()}function u(){b.point=o,m.lineEnd()}function l(t,e){h.push([t,e]),v.point(t,e)}function c(){v.lineStart(),h=[]}function f(){l(h[0][0],h[0][1]),v.lineEnd();var t,e,n,r,o=v.clean(),a=g.result(),s=a.length;if(h.pop(),p.push(h),h=null,s)if(1&o){if(n=a[0],(e=n.length-1)>0){for(y||(i.polygonStart(),y=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else s>1&&2&o&&a.push(a.pop().concat(a.shift())),d.push(a.filter(mu))}var p,d,h,m=e(i),g=TA(),v=e(g),y=!1,b={point:o,lineStart:s,lineEnd:u,polygonStart:function(){b.point=l,b.lineStart=c,b.lineEnd=f,d=[],p=[]},polygonEnd:function(){b.point=o,b.lineStart=s,b.lineEnd=u,d=Ee(d);var t=AA(p,r);d.length?(y||(i.polygonStart(),y=!0),NA(d,gu,t,n,i)):t&&(y||(i.polygonStart(),y=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),y&&(i.polygonEnd(),y=!1),d=p=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return b}},DA=MA(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?HI:-HI,u=ZI(o-n);ZI(u-HI)<qI?(t.point(n,r=(r+a)/2>0?GI:-GI),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=HI&&(ZI(n-i)<qI&&(n-=i*qI),ZI(o-s)<qI&&(o-=s*qI),r=function(t,e,n,r){var i,o,a=oA(t-n);return ZI(a)>qI?JI((oA(e)*(o=tA(r))*oA(n)-oA(r)*(i=tA(e))*oA(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)r.point(-HI,i=n*GI),r.point(0,i),r.point(HI,i),r.point(HI,0),r.point(HI,-i),r.point(0,-i),r.point(-HI,-i),r.point(-HI,0),r.point(-HI,i);else if(ZI(t[0]-e[0])>qI){var o=t[0]<e[0]?HI:-HI;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-HI,-GI]),RA=function(t){function e(t,e){return tA(t)*tA(e)>i}function n(t,e,n){var r=[1,0,0],o=js(Ds(t),Ds(e)),a=Rs(o,o),s=o[0],u=a-s*s;if(!u)return!n&&t;var l=i*a/u,c=-i*s/u,f=js(r,o),p=zs(r,l);Ls(p,zs(o,c));var d=f,h=Rs(p,d),m=Rs(d,d),g=h*h-m*(Rs(p,p)-1);if(!(g<0)){var v=sA(g),y=zs(d,(-h-v)/m);if(Ls(y,p),y=Ms(y),!n)return y;var b,_=t[0],w=e[0],x=t[1],E=e[1];w<_&&(b=_,_=w,w=b);var C=w-_,S=ZI(C-HI)<qI;if(!S&&E<x&&(b=x,x=E,E=b),S||C<qI?S?x+E>0^y[1]<(ZI(y[0]-_)<qI?x:E):x<=y[1]&&y[1]<=E:C>HI^(_<=y[0]&&y[0]<=w)){var O=zs(d,(-h+v)/m);return Ls(O,p),[y,Ms(O)]}}}function r(e,n){var r=a?t:HI-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var i=tA(t),o=6*XI,a=i>0,s=ZI(i)>qI;return MA(e,function(t){var i,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,p){var d,h=[f,p],m=e(f,p),g=a?m?0:r(f,p):m?r(f+(f<0?HI:-HI),p):0;if(!i&&(l=u=m)&&t.lineStart(),m!==u&&(!(d=n(i,h))||PA(i,d)||PA(h,d))&&(h[0]+=qI,h[1]+=qI,m=e(h[0],h[1])),m!==u)c=0,m?(t.lineStart(),d=n(h,i),t.point(d[0],d[1])):(d=n(i,h),t.point(d[0],d[1]),t.lineEnd()),i=d;else if(s&&i&&a^m){var v;g&o||!(v=n(h,i,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||i&&PA(i,h)||t.point(h[0],h[1]),i=h,u=m,o=g},lineEnd:function(){u&&t.lineEnd(),i=null},clean:function(){return c|(l&&u)<<1}}},function(e,n,r,i){fu(i,t,o,r,e,n)},a?[0,-t]:[-HI,t-HI])},jA=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,f=e[0]-s,p=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,p||!(a>0)){if(a/=p,p<0){if(a<l)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>l&&(l=a)}else if(p>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*f,t[1]=u+l*p),c<1&&(e[0]=s+c*f,e[1]=u+c*p),!0}}}}},LA=1e9,zA=-LA,FA=(fI(),function(t){return t}),BA=fI(),VA=fI(),UA={point:Ss,lineStart:Ss,lineEnd:Ss,polygonStart:function(){UA.lineStart=wu,UA.lineEnd=Cu},polygonEnd:function(){UA.lineStart=UA.lineEnd=UA.point=Ss,BA.add(ZI(VA)),VA.reset()},result:function(){var t=BA/2;return BA.reset(),t}},WA=UA,qA=1/0,HA=qA,GA=-qA,$A=GA,YA={point:function(t,e){t<qA&&(qA=t),t>GA&&(GA=t),e<HA&&(HA=e),e>$A&&($A=e)},lineStart:Ss,lineEnd:Ss,polygonStart:Ss,polygonEnd:Ss,result:function(){var t=[[qA,HA],[GA,$A]];return GA=$A=-(HA=qA=1/0),t}},KA=0,XA=0,ZA=0,JA=0,QA=0,tM=0,eM=0,nM=0,rM=0,iM={point:Su,lineStart:Ou,lineEnd:Pu,polygonStart:function(){iM.lineStart=Nu,iM.lineEnd=Iu},polygonEnd:function(){iM.point=Su,iM.lineStart=Ou,iM.lineEnd=Pu},result:function(){var t=rM?[eM/rM,nM/rM]:tM?[JA/tM,QA/tM]:ZA?[KA/ZA,XA/ZA]:[NaN,NaN];return KA=XA=ZA=JA=QA=tM=eM=nM=rM=0,t}},oM=iM;Du.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,YI)}},result:Ss};var aM,sM,uM,lM,cM,fM=fI(),pM={point:Ss,lineStart:function(){pM.point=Ru},lineEnd:function(){aM&&ju(sM,uM),pM.point=Ss},polygonStart:function(){aM=!0},polygonEnd:function(){aM=null},result:function(){var t=+fM;return fM.reset(),t}},dM=pM;Lu.prototype={_radius:4.5,_circle:zu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=zu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var hM=function(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),fA(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return fA(t,r(WA)),WA.result()},n.measure=function(t){return fA(t,r(dM)),dM.result()},n.bounds=function(t){return fA(t,r(YA)),YA.result()},n.centroid=function(t){return fA(t,r(oM)),oM.result()},n.projection=function(e){return arguments.length?(r=null==e?(t=null,FA):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new Lu):new Du(e=t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)};Bu.prototype={constructor:Bu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var mM=16,gM=tA(30*XI),vM=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,l,c,f,p,d,h,m,g){var v=l-r,y=c-i,b=v*v+y*y;if(b>4*e&&m--){var _=a+p,w=s+d,x=u+h,E=sA(_*_+w*w+x*x),C=Cs(x/=E),S=ZI(ZI(x)-1)<qI||ZI(o-f)<qI?(o+f)/2:QI(w,_),O=t(S,C),k=O[0],T=O[1],P=k-r,N=T-i,I=y*P-v*N;(I*I/b>e||ZI((v*P+y*N)/b-.5)>.3||a*p+s*d+u*h<gM)&&(n(r,i,o,a,s,u,k,T,S,_/=E,w/=E,x,m,g),g.point(k,T),n(k,T,S,_,w,x,l,c,f,p,d,h,m,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){v=NaN,x.point=o,e.lineStart()}function o(r,i){var o=Ds([r,i]),a=t(r,i);n(v,y,g,b,_,w,v=a[0],y=a[1],g=r,b=o[0],_=o[1],w=o[2],mM,e),e.point(v,y)}function a(){x.point=r,e.lineEnd()}function s(){i(),x.point=u,x.lineEnd=l}function u(t,e){o(c=t,e),f=v,p=y,d=b,h=_,m=w,x.point=o}function l(){n(v,y,g,b,_,w,f,p,c,d,h,m,mM,e),x.lineEnd=a,a()}var c,f,p,d,h,m,g,v,y,b,_,w,x={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),x.lineStart=s},polygonEnd:function(){e.polygonEnd(),x.lineStart=i}};return x}}(t,e):function(t){return Fu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},yM=Fu({point:function(t,e){this.stream.point(t*XI,e*XI)}}),bM=function(){return Ku(Xu).scale(155.424).center([0,33.6442])},_M=function(){return bM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},wM=Zu(function(t){return sA(2/(1+t))});wM.invert=Ju(function(t){return 2*Cs(t/2)});var xM=Zu(function(t){return(t=Es(t))&&t/oA(t)});xM.invert=Ju(function(t){return t});Qu.invert=function(t,e){return[t,2*JI(nA(e))-GI]};rl.invert=rl;var EM=1.340264,CM=-.081106,SM=893e-6,OM=.003796,kM=sA(3)/2;ol.invert=function(t,e){for(var n,r,i,o=e,a=o*o,s=a*a*a,u=0;u<12&&(r=o*(EM+CM*a+s*(SM+OM*a))-e,i=EM+3*CM*a+s*(7*SM+9*OM*a),o-=n=r/i,a=o*o,s=a*a*a,!(ZI(n)<1e-12));++u);return[kM*t*(EM+3*CM*a+s*(7*SM+9*OM*a))/tA(o),Cs(oA(o)/kM)]};al.invert=Ju(JI);ul.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(ZI(n)>qI&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};ll.invert=Ju(Cs);cl.invert=Ju(function(t){return 2*JI(t)});fl.invert=function(t,e){return[-e,2*JI(nA(t))-GI]};var TM=hM(),PM=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],NM={albers:_M,albersusa:function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(o.point(e,n),s)||(a.point(e,n),s)}function e(){return n=r=null,t}var n,r,i,o,a,s,u=_M(),l=bM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=bM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},t.stream=function(t){return n&&r===t?n:n=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([u.stream(r=t),l.stream(t),c.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),l.scale(.35*e),c.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),r=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(f),o=l.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+qI,s+.12*n+qI],[r-.214*n-qI,s+.234*n-qI]]).stream(f),a=c.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+qI,s+.166*n+qI],[r-.115*n-qI,s+.234*n-qI]]).stream(f),e()},t.fitExtent=function(e,n){return Uu(t,e,n)},t.fitSize=function(e,n){return Wu(t,e,n)},t.fitWidth=function(e,n){return qu(t,e,n)},t.fitHeight=function(e,n){return Hu(t,e,n)},t.scale(1070)},azimuthalequalarea:function(){return $u(wM).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return $u(xM).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ku(nl).scale(109.5).parallels([30,30])},conicequalarea:bM,conicequidistant:function(){return Ku(il).scale(131.154).center([0,13.9389])},equirectangular:function(){return $u(rl).scale(152.63)},gnomonic:function(){return $u(al).scale(144.049).clipAngle(60)},identity:function(){function t(){return i=o=null,a}var e,n,r,i,o,a,s=1,u=0,l=0,c=1,f=1,p=FA,d=null,h=FA;return a={stream:function(t){return i&&o===t?i:i=p(h(o=t))},postclip:function(i){return arguments.length?(h=i,d=e=n=r=null,t()):h},clipExtent:function(i){return arguments.length?(h=null==i?(d=e=n=r=null,FA):vu(d=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),t()):null==d?null:[[d,e],[n,r]]},scale:function(e){return arguments.length?(p=sl((s=+e)*c,s*f,u,l),t()):s},translate:function(e){return arguments.length?(p=sl(s*c,s*f,u=+e[0],l=+e[1]),t()):[u,l]},reflectX:function(e){return arguments.length?(p=sl(s*(c=e?-1:1),s*f,u,l),t()):c<0},reflectY:function(e){return arguments.length?(p=sl(s*c,s*(f=e?-1:1),u,l),t()):f<0},fitExtent:function(t,e){return Uu(a,t,e)},fitSize:function(t,e){return Wu(a,t,e)},fitWidth:function(t,e){return qu(a,t,e)},fitHeight:function(t,e){return Hu(a,t,e)}}},mercator:function(){return tl(Qu).scale(961/YI)},naturalEarth1:function(){return $u(ul).scale(175.295)},orthographic:function(){return $u(ll).scale(249.5).clipAngle(90+qI)},stereographic:function(){return $u(cl).scale(250).clipAngle(142)},transversemercator:function(){var t=tl(fl),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}};for(var IM in NM)pl(IM,NM[IM]);hl.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Object(Jw.u)(hl,oe).transform=function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||Jw.t,o=t.as||"path",a=n.SOURCE;!r||t.modified()?(this.value=r=dl(t.projection),n.materialize().reflow()):a=i===Jw.t||e.modified(i.fields)?n.ADD_MOD:n.ADD;var s=function(t,e){var n=t.pointRadius();return t.context(null),null!=e&&t.pointRadius(e),n}(r,t.pointRadius);return n.visit(a,function(t){t[o]=r(i(t))}),r.pointRadius(s),n.modifies(o)},ml.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Object(Jw.u)(ml,oe).transform=function(t,e){function n(t){var e=i([o(t),a(t)]);e?(t[u]=e[0],t[l]=e[1]):(t[u]=void 0,t[l]=void 0)}var r,i=t.projection,o=t.fields[0],a=t.fields[1],s=t.as||["x","y"],u=s[0],l=s[1];return t.modified()?e=e.materialize().reflow(!0).visit(e.SOURCE,n):(r=e.modified(o.fields)||e.modified(a.fields),e.visit(r?e.ADD_MOD:e.ADD,n)),e.modifies(s)},gl.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Object(Jw.u)(gl,oe).transform=function(t,e){var n=e.fork(e.ALL),r=this.value,i=t.field||Object(Jw.r)("datum"),o=t.as||"shape",a=n.ADD_MOD;return r&&!t.modified()||(this.value=r=function(t,e,n){var r=null==n?function(n){return t(e(n))}:function(r){var i=t.pointRadius(),o=t.pointRadius(n)(e(r));return t.pointRadius(i),o};return r.context=function(e){return t.context(e),r},r}(dl(t.projection),i,t.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,function(t){t[o]=r}),n.modifies(o)},vl.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Object(Jw.u)(vl,oe).transform=function(t,e){var n,r=this.value,i=this.generator;if(!r.length||t.modified())for(var o in t)Object(Jw.y)(i[o])&&i[o](t[o]);return n=i(),r.length?e.mod.push(c(r[0],n)):e.add.push(s(n)),r[0]=n,e};Object(Jw.u)(yl,oe).transform=function(t,e){var n=this.value;return!n||t.modified("type")?(this.value=n=function(t){var e=pl((t||"mercator").toLowerCase());return e||Object(Jw.m)("Unrecognized projection type: "+t),e()}(t.type),PM.forEach(function(e){null!=t[e]&&_l(n,e,t[e])})):PM.forEach(function(e){t.modified(e)&&_l(n,e,t[e])}),null!=t.pointRadius&&n.path.pointRadius(t.pointRadius),t.fit&&bl(n,t),e.fork(e.NO_SOURCE|e.NO_FIELDS)};var AM=function(t){return function(){return t}},MM=function(){return 1e-6*(Math.random()-.5)},DM=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},RM=Cl.prototype=Sl.prototype;RM.copy=function(){var t,e,n=new Sl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ol(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Ol(e));return n},RM.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return wl(this.cover(e,n),e,n,t)},RM.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));for(c<u&&(u=this._x0,c=this._x1),f<l&&(l=this._y0,f=this._y1),this.cover(u,l).cover(c,f),n=0;n<o;++n)wl(this,a[n],s[n],t[n]);return this},RM.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{a=new Array(4),a[s]=l,l=a}while(u*=2,i=n+u,o=r+u,t>i||e>o);break;case 1:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=i-u,o=r+u,n>t||e>o);break;case 2:do{a=new Array(4),a[s]=l,l=a}while(u*=2,i=n+u,r=o-u,t>i||r>e);break;case 3:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=i-u,r=o-u,n>t||r>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},RM.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},RM.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},RM.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,f=this._y0,p=this._x1,d=this._y1,h=[],m=this._root;for(m&&h.push(new DM(m,c,f,p,d)),null==n?n=1/0:(c=t-n,f=e-n,p=t+n,d=e+n,n*=n);u=h.pop();)if(!(!(m=u.node)||(i=u.x0)>p||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<f))if(m.length){var g=(i+a)/2,v=(o+s)/2;h.push(new DM(m[3],g,v,a,s),new DM(m[2],i,v,g,s),new DM(m[1],g,o,a,v),new DM(m[0],i,o,g,v)),(l=(e>=v)<<1|t>=g)&&(u=h[h.length-1],h[h.length-1]=h[h.length-1-l],h[h.length-1-l]=u)}else{var y=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);c=t-w,f=e-w,p=t+w,d=e+w,r=m.data}}return r},RM.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,f,p,d=this._root,h=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(h+g)/2))?h=s:g=s,(c=a>=(u=(m+v)/2))?m=u:v=u,e=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,p=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=i,this)},RM.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},RM.root=function(){return this._root},RM.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},RM.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new DM(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new DM(n,l,c,o,a)),(n=u[2])&&s.push(new DM(n,r,c,l,a)),(n=u[1])&&s.push(new DM(n,l,i,o,c)),(n=u[0])&&s.push(new DM(n,r,i,l,c))}return this},RM.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new DM(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&n.push(new DM(o,a,s,c,f)),(o=i[1])&&n.push(new DM(o,c,s,u,f)),(o=i[2])&&n.push(new DM(o,a,f,c,l)),(o=i[3])&&n.push(new DM(o,c,f,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},RM.x=function(t){return arguments.length?(this._x=t,this):this._x},RM.y=function(t){return arguments.length?(this._y=t,this):this._y};var jM={value:function(){}};Al.prototype=Il.prototype={constructor:Al,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ml(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ml(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Al(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var LM,zM,FM=Il,BM=0,VM=0,UM=0,WM=1e3,qM=0,HM=0,GM=0,$M="object"==typeof performance&&performance.now?performance:Date,YM="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};jl.prototype=Ll.prototype={constructor:jl,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Dl():+n)+(null==e?0:+e),this._next||zM===this||(zM?zM._next=this:LM=this,zM=this),this._call=t,this._time=n,Bl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bl())}};var KM=10,XM=Math.PI*(3-Math.sqrt(5)),ZM=function(t){function e(){n(),d.call("tick",o),a<s&&(p.stop(),d.call("end",o))}function n(){var e,n,r=t.length;for(a+=(l-a)*u,f.each(function(t){t(a)}),e=0;e<r;++e)null==(n=t[e]).fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function r(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=KM*Math.sqrt(n),o=n*XM;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var o,a=1,s=.001,u=1-Math.pow(s,1/300),l=0,c=.6,f=Mk(),p=Ll(e),d=FM("tick","end");return null==t&&(t=[]),r(),o={tick:n,restart:function(){return p.restart(e),o},stop:function(){return p.stop(),o},nodes:function(e){return arguments.length?(t=e,r(),f.each(i),o):t},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(s=+t,o):s},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(l=+t,o):l},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return arguments.length>1?(null==e?f.remove(t):f.set(t,i(e)),o):f.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(d.on(t,e),o):d.on(t)}}},JM={center:function(t,e){function n(){var n,i,o=r.length,a=0,s=0;for(n=0;n<o;++n)a+=(i=r[n]).x,s+=i.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)(i=r[n]).x-=a,i.y-=s}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},collide:function(t){function e(){function t(t,e,n,r,i){var o=t.data,s=t.r,d=f+s;if(!o)return e>l+d||r<l-d||n>c+d||i<c-d;if(o.index>u.index){var h=l-o.x-o.vx,m=c-o.y-o.vy,g=h*h+m*m;g<d*d&&(0===h&&(h=MM(),g+=h*h),0===m&&(m=MM(),g+=m*m),g=(d-(g=Math.sqrt(g)))/g*a,u.vx+=(h*=g)*(d=(s*=s)/(p+s)),u.vy+=(m*=g)*d,o.vx-=h*(d=1-d),o.vy-=m*d)}}for(var e,r,u,l,c,f,p,d=i.length,h=0;h<s;++h)for(r=Cl(i,kl,Tl).visitAfter(n),e=0;e<d;++e)p=(f=o[(u=i[e]).index])*f,l=u.x+u.vx,c=u.y+u.vy,r.visit(t)}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function r(){if(i){var e,n,r=i.length;for(o=new Array(r),e=0;e<r;++e)n=i[e],o[n.index]=+t(n,e,i)}}var i,o,a=1,s=1;return"function"!=typeof t&&(t=AM(null==t?1:+t)),e.initialize=function(t){i=t,r()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:AM(+n),r(),e):t},e},nbody:function(){function t(t){var e,s=i.length,u=Cl(i,Vl,Ul).visitAfter(n);for(a=t,e=0;e<s;++e)o=i[e],u.visit(r)}function e(){if(i){var t,e,n=i.length;for(s=new Array(n),t=0;t<n;++t)e=i[t],s[e.index]=+u(e,t,i)}}function n(t){var e,n,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function r(t,e,n,r){if(!t.value)return!0;var i=t.x-o.x,u=t.y-o.y,p=r-e,d=i*i+u*u;if(p*p/f<d)return d<c&&(0===i&&(i=MM(),d+=i*i),0===u&&(u=MM(),d+=u*u),d<l&&(d=Math.sqrt(l*d)),o.vx+=i*t.value*a/d,o.vy+=u*t.value*a/d),!0;if(!(t.length||d>=c)){(t.data!==o||t.next)&&(0===i&&(i=MM(),d+=i*i),0===u&&(u=MM(),d+=u*u),d<l&&(d=Math.sqrt(l*d)));do{t.data!==o&&(o.vx+=i*(p=s[t.data.index]*a/d),o.vy+=u*p)}while(t=t.next)}}var i,o,a,s,u=AM(-30),l=1,c=1/0,f=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:AM(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.distanceMax=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.theta=function(e){return arguments.length?(f=e*e,t):Math.sqrt(f)},t},link:function(t){function e(e){for(var n=0,r=t.length;n<d;++n)for(var i,s,u,c,f,p,h,m=0;m<r;++m)c=(u=(i=t[m]).target).x+u.vx-(s=i.source).x-s.vx||MM(),f=u.y+u.vy-s.y-s.vy||MM(),f*=p=((p=Math.sqrt(c*c+f*f))-a[m])/p*e*o[m],u.vx-=(c*=p)*(h=l[m]),u.vy-=f*h,s.vx+=c*(h=1-h),s.vy+=f*h}function n(){if(s){var e,n,f=s.length,p=t.length,d=Mk(s,c);for(e=0,u=new Array(f);e<p;++e)(n=t[e]).index=e,"object"!=typeof n.source&&(n.source=Nl(d,n.source)),"object"!=typeof n.target&&(n.target=Nl(d,n.target)),u[n.source.index]=(u[n.source.index]||0)+1,u[n.target.index]=(u[n.target.index]||0)+1;for(e=0,l=new Array(p);e<p;++e)l[e]=u[(n=t[e]).source.index]/(u[n.source.index]+u[n.target.index]);o=new Array(p),r(),a=new Array(p),i()}}function r(){if(s)for(var e=0,n=t.length;e<n;++e)o[e]=+f(t[e],e,t)}function i(){if(s)for(var e=0,n=t.length;e<n;++e)a[e]=+p(t[e],e,t)}var o,a,s,u,l,c=Pl,f=function(t){return 1/Math.min(u[t.source.index],u[t.target.index])},p=AM(30),d=1;return null==t&&(t=[]),e.initialize=function(t){s=t,n()},e.links=function(r){return arguments.length?(t=r,n(),e):t},e.id=function(t){return arguments.length?(c=t,e):c},e.iterations=function(t){return arguments.length?(d=+t,e):d},e.strength=function(t){return arguments.length?(f="function"==typeof t?t:AM(+t),r(),e):f},e.distance=function(t){return arguments.length?(p="function"==typeof t?t:AM(+t),i(),e):p},e},x:function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=AM(.1);return"function"!=typeof t&&(t=AM(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:AM(+t),n(),e):a},e.x=function(r){return arguments.length?(t="function"==typeof r?r:AM(+r),n(),e):t},e},y:function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vy+=(o[n]-e.y)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=AM(.1);return"function"!=typeof t&&(t=AM(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:AM(+t),n(),e):a},e.y=function(r){return arguments.length?(t="function"==typeof r?r:AM(+r),n(),e):t},e}},QM="forces",tD=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],eD=["static","iterations"],nD=["x","y","vx","vy"];Wl.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:nD}]};var rD=Object(Jw.u)(Wl,oe);rD.transform=function(t,e){var n=this.value,r=e.changed(e.ADD_REM),i=t.modified(tD),o=t.iterations||300;if(n?(r&&(e.modifies("index"),n.nodes(e.source)),(i||e.changed(e.MOD))&&ql(n,t,0,e)):(this.value=n=function(t,e){var n=ZM(t),r=!1,i=n.stop,o=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,o()},n.stop=function(){return r=!0,i()},ql(n,e,!0).on("end",function(){r=!0})}(e.source,t),n.on("tick",function(t,e){return function(){t.touch(e).run()}}(e.dataflow,this)),t.static||(r=!0,n.tick()),e.modifies("index")),i||r||t.modified(eD)||e.changed()&&t.restart)if(n.alpha(Math.max(n.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),t.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return e.StopPropagation;return this.finish(t,e)},rD.finish=function(t,e){for(var n,r=e.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if((n=i[o]).name===QM&&"link"===n.op._argval.force)for(var s,u=n.op._argops,l=0,c=u.length;l<c;++l)if("links"===u[l].name&&(s=u[l].op.source)){r.pulse(s,r.changeset().reflow());break}return e.reflow(t.modified()).modifies(nD)};var iD=function(t,e,n){var r={};return t.each(function(t){var i=t.data;n(i)&&(r[e(i)]=t)}),t.lookup=r,t};Ql.prototype=Kl.prototype={constructor:Ql,count:function(){return this.eachAfter(Yl)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Kl(this).eachBefore(Zl)}};var oD=Array.prototype.slice,aD=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(oD.call(t))).length,o=[];r<i;)e=t[r],n&&ec(n,e)?++r:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return rc(t[0],t[1]);case 3:return ic(t[0],t[1],t[2])}}(o=function(t,e){var n,r;if(nc(e,t))return[e];for(n=0;n<t.length;++n)if(tc(e,t[n])&&nc(rc(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(tc(rc(t[n],t[r]),e)&&tc(rc(t[n],e),t[r])&&tc(rc(t[r],e),t[n])&&nc(ic(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}(o,e)),r=0);return n},sD=function(t){return function(){return t}},uD=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},lD=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},cD="$",fD={depth:-1},pD={},dD=function(){function t(t){var r,i,o,a,s,u,l,c=t.length,f=new Array(c),p={};for(i=0;i<c;++i)s=f[i]=new Ql(r=t[i]),null!=(u=e(r,i,t))&&(u+="")&&(p[l=cD+(s.id=u)]=l in p?pD:s);for(i=0;i<c;++i)if(s=f[i],null!=(u=n(t[i],i,t))&&(u+="")){if(!(a=p[cD+u]))throw new Error("missing: "+u);if(a===pD)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=fD,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(Jl),o.parent=null,c>0)throw new Error("cycle");return o}var e=gc,n=vc;return t.id=function(n){return arguments.length?(e=cc(n),t):e},t.parentId=function(e){return arguments.length?(n=cc(e),t):n},t};Ec.prototype=Object.create(Ql.prototype);var hD=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},mD=(1+Math.sqrt(5))/2,gD=function t(e){function n(t,n,r,i,o){Cc(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(mD),vD=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,c,f=-1,p=a.length,d=t.value;++f<p;){for(u=(s=a[f]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?lD(s,n,r,i,r+=(o-r)*s.value/d):hD(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=Cc(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(mD);Sc.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};Object(Jw.u)(Sc,oe).transform=function(t,e){e.source||Object(Jw.m)("Nest transform requires an upstream data source.");var n=t.generate,r=t.modified(),a=e.clone(),u=this.value;return(!u||r||e.changed())&&(u&&u.each(function(t){t.children&&i(t.data)&&a.rem.push(t.data)}),this.value=u=Kl({values:Object(Jw.i)(t.keys).reduce(function(t,e){return t.key(e),t},function(){function t(e,i,a,s){if(i>=o.length)return null!=n&&e.sort(n),null!=r?r(e):e;for(var u,l,c,f=-1,p=e.length,d=o[i++],h=Mk(),m=a();++f<p;)(c=h.get(u=d(l=e[f])+""))?c.push(l):h.set(u,[l]);return h.each(function(e,n){s(m,n,t(e,i,a,s))}),m}function e(t,n){if(++n>o.length)return t;var i,s=a[n-1];return null!=r&&n>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:e(t,n)})})),null!=s?i.sort(function(t,e){return s(t.key,e.key)}):i}var n,r,i,o=[],a=[];return i={object:function(e){return t(e,0,so,uo)},map:function(e){return t(e,0,lo,co)},entries:function(n){return e(t(n,0,lo,co),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return a[o.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return r=t,i}}}()).entries(a.source)},Oc),n&&u.each(function(t){t.children&&(t=s(t.data),a.add.push(t),a.source.push(t))}),iD(u,o,o)),a.source.root=u,a};Object(Jw.u)(kc,oe).transform=function(t,e){e.source&&e.source.root||Object(Jw.m)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(t.method),r=this.fields,i=e.source.root,o=t.as||r;t.field&&i.sum(t.field),t.sort&&i.sort(t.sort),function(t,e,n){for(var r,i=0,o=e.length;i<o;++i)(r=e[i])in n&&t[r](n[r])}(n,this.params,t),n.separation&&n.separation(!1!==t.separation?Tc:Jw.G);try{this.value=n(i)}catch(t){Object(Jw.m)(t)}return i.each(function(t){!function(t,e,n){for(var r=t.data,i=0,o=e.length-1;i<o;++i)r[n[i]]=t[e[i]];r[n[o]]=t.children?t.children.length:0}(t,r,o)}),e.reflow(t.modified()).modifies(o).modifies("leaf")};var yD=["x","y","r","depth","children"];Pc.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yD.length,default:yD}]};var bD=Object(Jw.u)(Pc,kc);bD.layout=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(dc(e)).eachAfter(hc(i,.5)).eachBefore(mc(1)):t.eachBefore(dc(pc)).eachAfter(hc(fc,1)).eachAfter(hc(i,t.r/Math.min(n,r))).eachBefore(mc(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=fc;return t.radius=function(n){return arguments.length?(e=function(t){return null==t?null:cc(t)}(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:sD(+e),t):i},t},bD.params=["size","padding"],bD.fields=yD;var _D=["x0","y0","x1","y1","depth","children"];Nc.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:_D.length,default:_D}]};var wD=Object(Jw.u)(Nc,kc);wD.layout=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=e,t.y1=n/o,t.eachBefore(function(t,e){return function(n){n.children&&lD(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,a=n.x1-r,s=n.y1-r;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),n.x0=i,n.y0=o,n.x1=a,n.y1=s}}(n,o)),i&&t.eachBefore(uD),t}var e=1,n=1,r=0,i=!1;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(r){return arguments.length?(e=+r[0],n=+r[1],t):[e,n]},t.padding=function(e){return arguments.length?(r=+e,t):r},t},wD.params=["size","round","padding"],wD.fields=_D,Ic.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Object(Jw.u)(Ic,oe).transform=function(t,e){e.source||Object(Jw.m)("Stratify transform requires an upstream data source.");var n=this.value,r=t.modified(),i=e.fork(e.ALL).materialize(e.SOURCE),o=!this.value||r||e.changed(e.ADD_REM)||e.modified(t.key.fields)||e.modified(t.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?iD(dD().id(t.key).parentId(t.parentKey)(i.source),t.key,Jw.V):iD(dD()([{}]),t.key,t.key)),i.source.root=this.value=n,i};var xD={tidy:function(){function t(t){var u=function(t){for(var e,n,r,i,o,a=new Ec(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Ec(r[i],i)),n.parent=e;return(a.parent=new Ec(null,0)).children=[a],a}(t);if(u.eachAfter(e),u.parent.m=-u.z,u.eachBefore(n),s)t.eachBefore(r);else{var l=t,c=t,f=t;t.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)});var p=l===c?1:i(l,c)/2,d=p-l.x,h=o/(c.x+p+d),m=a/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*h,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,o=t,a=t,s=e,u=o.parent.children[0],l=o.m,c=a.m,f=s.m,p=u.m;s=_c(s),o=bc(o),s&&o;)u=bc(u),(a=_c(a)).a=t,(r=s.z+f-o.z-l+i(s._,o._))>0&&(wc(xc(s,t,n),t,r),l+=r,c+=r),f+=s.m,l+=o.m,p+=u.m,c+=a.m;s&&!_c(a)&&(a.t=s,a.m+=f-c),o&&!bc(u)&&(u.t=o,u.m+=l-p,n=t)}return n}(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*a}var i=yc,o=1,a=1,s=null;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(s=!1,o=+e[0],a=+e[1],t):s?null:[o,a]},t.nodeSize=function(e){return arguments.length?(s=!0,o=+e[0],a=+e[1],t):s?[o,a]:null},t},cluster:function(){function t(t){var o,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=function(t){return t.reduce(Gl,0)/t.length}(n),t.y=function(t){return 1+t.reduce($l,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(t),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(t),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*r}:function(e){e.x=(e.x-l)/(c-l)*n,e.y=(1-(t.y?e.y/t.y:1))*r})}var e=Hl,n=1,r=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],r=+e[1],t):i?null:[n,r]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],r=+e[1],t):i?[n,r]:null},t}},ED=["x","y","depth","children"];Ac.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:ED.length,default:ED}]};var CD=Object(Jw.u)(Ac,kc);CD.layout=function(t){var e=t||"tidy";if(xD.hasOwnProperty(e))return xD[e]();Object(Jw.m)("Unrecognized Tree layout method: "+e)},CD.params=["size","nodeSize"],CD.fields=ED,Mc.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Object(Jw.u)(Mc,oe).transform=function(t,e){var n=this.value,r=e.source&&e.source.root,i=e.fork(e.NO_SOURCE),a={};return r||Object(Jw.m)("TreeLinks transform requires a tree data source."),e.changed(e.ADD_REM)?(i.rem=n,e.visit(e.SOURCE,function(t){a[o(t)]=1}),r.each(function(t){var e=t.data,n=t.parent&&t.parent.data;n&&a[o(e)]&&a[o(n)]&&i.add.push(s({source:n,target:e}))}),this.value=i.add):e.changed(e.MOD)&&(e.visit(e.MOD,function(t){a[o(t)]=1}),n.forEach(function(t){(a[o(t.source)]||a[o(t.target)])&&i.mod.push(t)})),i};var SD={binary:function(t,e,n,r,i){function o(t,e,n,r,i,a,s){if(t>=e-1){var l=u[t];return l.x0=r,l.y0=i,l.x1=a,void(l.y1=s)}for(var f=c[t],p=n/2+f,d=t+1,h=e-1;d<h;){var m=d+h>>>1;c[m]<p?d=m+1:h=m}p-c[d-1]<c[d]-p&&t+1<d&&--d;var g=c[d]-f,v=n-g;if(a-r>s-i){var y=(r*v+a*g)/n;o(t,d,g,r,i,y,s),o(d,e,v,y,i,a,s)}else{var b=(i*v+s*g)/n;o(t,d,g,r,i,a,b),o(d,e,v,r,b,a,s)}}var a,s,u=t.children,l=u.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=u[a].value;o(0,l,t.value,e,n,r,i)},dice:lD,slice:hD,slicedice:function(t,e,n,r,i){(1&t.depth?hD:lD)(t,e,n,r,i)},squarify:gD,resquarify:vD},OD=["x0","y0","x1","y1","depth","children"];Dc.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:OD.length,default:OD}]};var kD=Object(Jw.u)(Dc,kc);kD.layout=function(){var t=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(uD),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,p=t.y1-e;o<r&&(r=o=(r+o)/2),p<i&&(i=p=(i+p)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=p,t.children&&(e=a[t.depth+1]=s(t)/2,r+=f(t)-e,i+=u(t)-e,o-=l(t)-e,p-=c(t)-e,o<r&&(r=o=(r+o)/2),p<i&&(i=p=(i+p)/2),n(t,r,i,o,p))}var n=gD,r=!1,i=1,o=1,a=[0],s=fc,u=fc,l=fc,c=fc,f=fc;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=cc(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:sD(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:sD(+e),t):u},t.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:sD(+e),t):l},t.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:sD(+e),t):c},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:sD(+e),t):f},t}();return t.ratio=function(e){var n=t.tile();n.ratio&&t.tile(n.ratio(e))},t.method=function(e){SD.hasOwnProperty(e)?t.tile(SD[e]):Object(Jw.m)("Unrecognized Treemap layout method: "+e)},t},kD.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],kD.fields=OD;var TD=function(t){return function(){return t}};Lc.prototype={constructor:Lc,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Vc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Fc(this,n),n=(t=n).U),n.C=!1,r.C=!0,Bc(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Bc(this,n),n=(t=n).U),n.C=!1,r.C=!0,Fc(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Vc(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Fc(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Bc(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Fc(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Bc(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Fc(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Bc(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var PD,ND,ID,AD,MD,DD=Lc,RD=[],jD=[],LD=1e-6,zD=1e-12;af.prototype={constructor:af,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Yc(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,l=e[i[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=e[i[u]]).left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&rf(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],f=u*u+l*l;f<c&&(c=f,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};sf.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var FD=[[-1e5,-1e5],[1e5,1e5]];Object(Jw.u)(sf,oe).transform=function(t,e){var n,r,i,o,a=t.as||"path",s=e.source;for(n=function(){function t(t){return new af(t.map(function(r,i){var o=[Math.round(e(r,i,t)/LD)*LD,Math.round(n(r,i,t)/LD)*LD];return o.index=i,o.data=r,o}),r)}var e=Rc,n=jc,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:TD(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:TD(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t}().x(t.x).y(t.y),t.size?n.size(t.size):n.extent(t.extent||FD),this.value=n=n(s),r=n.polygons(),i=0,o=s.length;i<o;++i)s[i][a]=r[i]?"M"+r[i].join("L")+"Z":null;return e.reflow(t.modified()).modifies(a)};var BD=Math.PI/180,VD=64,UD=2048,WD=function(){var t,e,n,r,i,o,a,s=[256,256],u=uf,l=[],c=Math.random,f={};return f.layout=function(){for(var f=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(VD<<5)/e,t.height=UD/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(En()),p=function(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}((s[0]>>5)*s[1]),d=null,h=l.length,m=-1,g=[],v=l.map(function(s){return{text:t(s),font:e(s),style:r(s),weight:i(s),rotate:o(s),size:~~n(s),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}}).sort(function(t,e){return e.size-t.size});++m<h;){var y=v[m];y.x=s[0]*(c()+.5)>>1,y.y=s[1]*(c()+.5)>>1,function(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(VD<<5)/o,UD/o);var a,s,u,l,c,f=0,p=0,d=0,h=n.length;for(--r;++r<h;){if(e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font,a=i.measureText(e.text+"m").width*o,u=e.size<<1,e.rotate){var m=Math.sin(e.rotate*BD),g=Math.cos(e.rotate*BD),v=a*g,y=a*m,b=u*g,_=u*m;a=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,u=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(u>d&&(d=u),f+a>=VD<<5&&(f=0,p+=d,d=0),p+u>=UD)break;i.translate((f+(a>>1))/o,(p+(u>>1))/o),e.rotate&&i.rotate(e.rotate*BD),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=a,e.height=u,e.xoff=f,e.yoff=p,e.x1=a>>1,e.y1=u>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,f+=a}for(var w=i.getImageData(0,0,(VD<<5)/o,UD/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(s=(a=e.width)>>5,u=e.y1-e.y0,l=0;l<u*s;l++)x[l]=0;if(null==(f=e.xoff))return;p=e.yoff;var E=0,C=-1;for(c=0;c<u;c++){for(l=0;l<a;l++){var S=w[(p+c)*(VD<<5)+(f+l)<<2]?1<<31-l%32:0;x[s*c+(l>>5)]|=S,E|=S}E?C=c:(e.y0++,u--,c--,p++)}e.y1=e.y0+C,e.sprite=x.slice(0,(e.y1-e.y0)*s)}}}(f,y,v,m),y.hasText&&function(t,e,n){for(var r,i,o,a=e.x,l=e.y,f=Math.sqrt(s[0]*s[0]+s[1]*s[1]),p=u(s),d=c()<.5?1:-1,h=-d;(r=p(h+=d))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=f));)if(e.x=a+i,e.y=l+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>s[0]||e.y+e.y1>s[1])&&(!n||!function(t,e,n){for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,l=t.y1-t.y0,c=(t.y+t.y0)*(n>>=5)+(a>>5),f=0;f<l;f++){r=0;for(var p=0;p<=o;p++)if((r<<u|(p<o?(r=i[f*o+p])>>>s:0))&e[c+p])return!0;c+=n}return!1}(e,t,s[0]))&&(!n||function(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}(e,n))){for(var m,g=e.sprite,v=e.width>>5,y=s[0]>>5,b=e.x-(v<<4),_=127&b,w=32-_,x=e.y1-e.y0,E=(e.y+e.y0)*y+(b>>5),C=0;C<x;C++){m=0;for(var S=0;S<=v;S++)t[E+S]|=m<<w|(S<v?(m=g[C*v+S])>>>_:0);E+=y}return e.sprite=null,!0}return!1}(p,y,d)&&(g.push(y),d?function(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}(d,y):d=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=s[0]>>1,y.y-=s[1]>>1)}return g},f.words=function(t){return arguments.length?(l=t,f):l},f.size=function(t){return arguments.length?(s=[+t[0],+t[1]],f):s},f.font=function(t){return arguments.length?(e=lf(t),f):e},f.fontStyle=function(t){return arguments.length?(r=lf(t),f):r},f.fontWeight=function(t){return arguments.length?(i=lf(t),f):i},f.rotate=function(t){return arguments.length?(o=lf(t),f):o},f.text=function(e){return arguments.length?(t=lf(e),f):t},f.spiral=function(t){return arguments.length?(u=qD[t]||t,f):u},f.fontSize=function(t){return arguments.length?(n=lf(t),f):n},f.padding=function(t){return arguments.length?(a=lf(t),f):a},f.random=function(t){return arguments.length?(c=t,f):c},f},qD={archimedean:uf,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}},HD=["x","y","font","fontSize","fontStyle","fontWeight","angle"],GD=["text","font","rotate","fontSize","fontStyle","fontWeight"];cf.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:HD}]};Object(Jw.u)(cf,oe).transform=function(t,e){var n=t.modified();if(n||e.changed(e.ADD_REM)||GD.some(function(n){var r=t[n];return Object(Jw.y)(r)&&e.modified(r.fields)})){var r,i=e.materialize(e.SOURCE).source,o=this.value,a=t.as||HD,s=t.fontSize||14;if(Object(Jw.y)(s)?r=t.fontSizeRange:s=Object(Jw.k)(s),r){var u=s,l=Ta("sqrt")().domain(function(t,e){for(var n,r=1/0,i=-1/0,o=0,a=e.length;o<a;++o)(n=t(e[o]))<r&&(r=n),n>i&&(i=n);return[r,i]}(u,i)).range(r);s=function(t){return l(u(t))}}i.forEach(function(t){t[a[0]]=NaN,t[a[1]]=NaN,t[a[3]]=0});for(var c,f,p=o.words(i).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(s).random(AE).layout(),d=o.size(),h=d[0]>>1,m=d[1]>>1,g=0,v=p.length;g<v;++g)(f=(c=p[g]).datum)[a[0]]=c.x+h,f[a[1]]=c.y+m,f[a[2]]=c.font,f[a[3]]=c.size,f[a[4]]=c.style,f[a[5]]=c.weight,f[a[6]]=c.rotate;return e.reflow(n).modifies(a)}};var $D=function(t,e,n){var r=1<<e;return{one:r,zero:~r,range:n.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,e){var n,i=this.bisect(this.range,t.value),o=t.index,a=i[0],s=i[1],u=o.length;for(n=0;n<a;++n)e[o[n]]|=r;for(n=s;n<u;++n)e[o[n]]|=r;return this}}};hf.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var YD=Object(Jw.u)(hf,oe);YD.transform=function(t,e){if(this._dims){return t.modified("fields")||t.fields.some(function(t){return e.modified(t.fields)})?this.reinit(t,e):this.eval(t,e)}return this.init(t,e)},YD.init=function(t,e){for(var n,r,i=t.fields,o=t.query,a=this._indices={},s=this._dims=[],u=o.length,l=0;l<u;++l)r=a[n=i[l].fname]||(a[n]=df()),s.push($D(r,l,o[l]));return this.eval(t,e)},YD.reinit=function(t,e){var n,r,i,o,a,s,u,l,c,f=e.materialize().fork(),p=t.fields,d=t.query,h=this._indices,m=this._dims,g=this.value,v=g.curr(),y=g.prev(),b=g.all(),_=f.rem=f.add,w=f.mod,x=d.length,E={};if(y.set(v),e.rem.length&&(a=this.remove(t,e,f)),e.add.length&&g.add(e.add),e.mod.length)for(s={},u=0,l=(o=e.mod).length;u<l;++u)s[o[u]._index]=1;for(u=0;u<x;++u)c=p[u],(!m[u]||t.modified("fields",u)||e.modified(c.fields))&&((n=E[i=c.fname])||(h[i]=r=df(),E[i]=n=r.insert(c,e.source,0)),m[u]=$D(r,u,d[u]).onAdd(n,v));for(u=0,l=g.data().length;u<l;++u)a[u]||(y[u]!==v[u]?_.push(u):s[u]&&v[u]!==b&&w.push(u));return g.mask=(1<<x)-1,f},YD.eval=function(t,e){var n=e.materialize().fork(),r=this._dims.length,i=0;return e.rem.length&&(this.remove(t,e,n),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,e,n)),e.add.length&&(this.insert(t,e,n),i|=(1<<r)-1),e.mod.length&&(this.modify(e,n),i|=(1<<r)-1),this.value.mask=i,n},YD.insert=function(t,e,n){var r,i,o,a=e.add,s=this.value,u=this._dims,l=this._indices,c=t.fields,f={},p=n.add,d=s.size(),h=d+a.length,m=u.length;s.resize(h,m),s.add(a);var g=s.curr(),v=s.prev(),y=s.all();for(r=0;r<m;++r)o=f[i=c[r].fname]||(f[i]=l[i].insert(c[r],a,d)),u[r].onAdd(o,g);for(;d<h;++d)v[d]=y,g[d]!==y&&p.push(d)},YD.modify=function(t,e){var n,r,i,o=e.mod,a=this.value,s=a.curr(),u=a.all(),l=t.mod;for(n=0,r=l.length;n<r;++n)s[i=l[n]._index]!==u&&o.push(i)},YD.remove=function(t,e,n){var r,i,o,a,s=this._indices,u=this.value,l=u.curr(),c=u.prev(),f=u.all(),p={},d=n.rem,h=e.rem;for(r=0,i=h.length;r<i;++r)p[o=h[r]._index]=1,c[o]=a=l[o],l[o]=f,a!==f&&d.push(o);for(o in s)s[o].remove(i,p);return this.reindex(e,i,p),p},YD.reindex=function(t,e,n){var r=this._indices,i=this.value;t.runAfter(function(){var t=i.remove(e,n);for(var o in r)r[o].reindex(t)})},YD.update=function(t,e,n){var r,i,o=this._dims,a=t.query,s=e.stamp,u=o.length,l=0;for(n.filters=0,i=0;i<u;++i)t.modified("query",i)&&(r=i,++l);if(1===l)l=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,l=0;i<u;++i)t.modified("query",i)&&(l|=o[i].one,this.incrementAll(o[i],a[i],s,n.add),n.rem=n.add);return l},YD.incrementAll=function(t,e,n,r){var i,o,a,s=this.value,u=s.seen(),l=s.curr(),c=s.prev(),f=t.index(),p=t.bisect(t.range),d=t.bisect(e),h=d[0],m=d[1],g=p[0],v=p[1],y=t.one;if(h<g)for(i=h,o=Math.min(g,m);i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;else if(h>g)for(i=g,o=Math.min(h,v);i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;if(m>v)for(i=Math.max(h,v),o=m;i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;else if(m<v)for(i=Math.max(g,m),o=v;i<o;++i)u[a=f[i]]!==n&&(c[a]=l[a],u[a]=n,r.push(a)),l[a]^=y;t.range=e.slice()},YD.incrementOne=function(t,e,n,r){var i,o,a,s=this.value.curr(),u=t.index(),l=t.bisect(t.range),c=t.bisect(e),f=c[0],p=c[1],d=l[0],h=l[1],m=t.one;if(f<d)for(i=f,o=Math.min(d,p);i<o;++i)s[a=u[i]]^=m,n.push(a);else if(f>d)for(i=d,o=Math.min(f,h);i<o;++i)s[a=u[i]]^=m,r.push(a);if(p>h)for(i=Math.max(f,h),o=p;i<o;++i)s[a=u[i]]^=m,n.push(a);else if(p<h)for(i=Math.max(d,p),o=h;i<o;++i)s[a=u[i]]^=m,r.push(a);t.range=e.slice()},mf.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Object(Jw.u)(mf,oe).transform=function(t,e){var n=~(t.ignore||0),r=t.filter,i=r.mask;if(0==(i&n))return e.StopPropagation;var o=e.fork(e.ALL),a=r.data(),s=r.curr(),u=r.prev(),l=function(t){return s[t]&n?null:a[t]};return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,function(t){var e=s[t]&n;return!e&&e^u[t]&n?a[t]:null}),o.filter(o.REM,function(t){var e=s[t]&n;return e&&!(e^e^u[t]&n)?a[t]:null})):(o.filter(o.ADD,l),o.filter(o.REM,function(t){return(s[t]&n)===i?a[t]:null})),o.filter(o.SOURCE,function(t){return l(t._index)})};var KD=n(462),XD=function(t){var e=t._signals.cursor;e||(t._signals.cursor=e=t.add({user:"default",item:null})),t.on(t.events("view","mousemove"),e,function(t,n){var r=e.value,i=r?Object(Jw.C)(r)?r:r.user:"default",o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}}),t.add(null,function(t){var e=t.cursor,n=this.value;return Object(Jw.C)(e)||(n=e.item,e=e.user),function(t){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=t)}(e&&"default"!==e?e:n||e),n},{cursor:e})},ZD=function(t,e,n){var r,i,o=t._renderer.canvas();return o&&(i=_f(t),(r=UO(e.changedTouches?e.changedTouches[0]:e,o))[0]-=i[0],r[1]-=i[1]),e.dataflow=t,e.vega=function(t,e,n){function r(t){var n,r=o;if(t)for(n=e;n;n=n.mark.group)if(n.mark.name===t){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function i(t){if(!t)return n;Object(Jw.C)(t)&&(t=r(t));for(var e=n.slice();t;)e[0]-=t.x||0,e[1]-=t.y||0,t=t.mark&&t.mark.group;return e}var o=e?"group"===e.mark.marktype?e:e.mark.group:null;return{view:Object(Jw.k)(t),item:Object(Jw.k)(e||{}),group:r,xy:i,x:function(t){return i(t)[0]},y:function(t){return i(t)[1]}}}(t,n,r),e.item=n,e},JD="view",QD="timer",tR="window",eR={trap:!1},nR=function(t,e,n){var r=document.createElement(t);for(var i in e)r.setAttribute(i,e[i]);return null!=n&&(r.textContent=n),r},rR="vega-bind",iR="vega-bind-name",oR="vega-bind-radio",aR="vega-option-",sR=function(t,e,n){if(e){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(e){e!==t.signal(r.signal)&&(i.source=!0,t.signal(r.signal,e).run())}},r.debounce&&(i.update=Object(Jw.l)(r.debounce,i.update))),function(t,e,n,r){var i=nR("div",{class:rR});i.appendChild(nR("span",{class:iR},n.name||n.signal)),e.appendChild(i);var o=Cf;switch(n.input){case"checkbox":o=Sf;break;case"select":o=Of;break;case"radio":o=kf;break;case"range":o=Tf}o(t,i,n,r)}(i,e,r,t.signal(r.signal)),i.active||(t.on(t._signals[r.signal],null,function(){i.source?i.source=!1:i.set(t.signal(r.signal))}),i.active=!0),i}},uR=function(t,e,n,r,i){return(e=e||new r(t.loader())).initialize(n,yf(t),bf(t),_f(t),i).background(t._background)},lR=function(t,e){return e?function(){try{e.apply(this,arguments)}catch(e){t.error(e)}}:null},cR=function(t,e,n){var r=Ii(e),i=r&&r.headless;return i?t.runAsync().then(function(){return uR(t,null,null,i,n).renderAsync(t._scenegraph.root)}):Promise.reject("Unrecognized renderer type: "+e)},fR=function(t,e){return t=t||e.autosize,Object(Jw.A)(t)?t:(t=t||"pad",{type:t})},pR=function(t,e){return t=t||e.padding,Object(Jw.A)(t)?{top:If(t.top),bottom:If(t.bottom),left:If(t.left),right:If(t.right)}:function(t){return{top:t,bottom:t,left:t,right:t}}(If(t))},dR=["value","update","init","react","bind"],hR=function(t,e){var n=t.name;if("outer"===t.push)e.signals[n]||Af("No prior signal definition",n),dR.forEach(function(e){void 0!==t[e]&&Af("Invalid property ",e)});else{var r=e.addSignal(n,t.value);!1===t.react&&(r.react=!1),t.bind&&e.addBinding(n,t.bind)}};Mf.prototype.visit=function(t){var e,n,r;if(t(this))return 1;for(n=0,r=(e=function(t){switch(t.type){case"ArrayExpression":return t.elements;case"BinaryExpression":case"LogicalExpression":return[t.left,t.right];case"CallExpression":var e=t.arguments.slice();return e.unshift(t.callee),e;case"ConditionalExpression":return[t.test,t.consequent,t.alternate];case"MemberExpression":return[t.object,t.property];case"ObjectExpression":return t.properties;case"Property":return[t.key,t.value];case"UnaryExpression":return[t.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(e[n].visit(t))return 1};var mR,gR,vR,yR,bR,_R=1,wR=2,xR=3,ER=4,CR=5,SR=6,OR=7,kR=8;(mR={})[_R]="Boolean",mR[wR]="<end>",mR[xR]="Identifier",mR[ER]="Keyword",mR[CR]="Null",mR[SR]="Numeric",mR[OR]="Punctuator",mR[kR]="String",mR[9]="RegularExpression";var TR="ArrayExpression",PR="BinaryExpression",NR="CallExpression",IR="ConditionalExpression",AR="Identifier",MR="Literal",DR="LogicalExpression",RR="MemberExpression",jR="ObjectExpression",LR="Property",zR="UnaryExpression",FR="Unexpected token %0",BR="Unexpected number",VR="Unexpected string",UR="Unexpected identifier",WR="Unexpected reserved word",qR="Unexpected end of input",HR="Invalid regular expression",GR="Invalid regular expression: missing /",$R="Octal literals are not allowed in strict mode.",YR="Duplicate data property in object literal not allowed in strict mode",KR="ILLEGAL",XR="Disabled.",ZR=new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),JR=new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),QR={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1},tj={if:1,this:1},ej=function(t){vR=0,yR=(gR=t).length,bR=null,Jf();var e=Ep();if(bR.type!==wR)throw new Error("Unexpect token after expression.");return e},nj={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},rj=function(t){function e(e,n,r){return function(i){return function(e,n,r,i){var o=t(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(i<0?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}(e,i,n,r)}}var n="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){e.length<3&&Object(Jw.m)("Missing arguments to clamp function."),e.length>3&&Object(Jw.m)("Too many arguments to clamp function.");var n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:e("getDate",n,0),day:e("getDay",n,0),year:e("getFullYear",n,0),month:e("getMonth",n,0),hours:e("getHours",n,0),minutes:e("getMinutes",n,0),seconds:e("getSeconds",n,0),milliseconds:e("getMilliseconds",n,0),time:e("getTime",n,0),timezoneoffset:e("getTimezoneOffset",n,0),utcdate:e("getUTCDate",n,0),utcday:e("getUTCDay",n,0),utcyear:e("getUTCFullYear",n,0),utcmonth:e("getUTCMonth",n,0),utchours:e("getUTCHours",n,0),utcminutes:e("getUTCMinutes",n,0),utcseconds:e("getUTCSeconds",n,0),utcmilliseconds:e("getUTCMilliseconds",n,0),length:e("length",null,-1),indexof:e("indexOf",null),lastindexof:e("lastIndexOf",null),slice:e("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:e("toUpperCase","String",0),lower:e("toLowerCase","String",0),substring:e("substring","String"),split:e("split","String"),replace:e("replace","String"),regexp:"RegExp",test:e("test","RegExp"),if:function(e){e.length<3&&Object(Jw.m)("Missing arguments to if function."),e.length>3&&Object(Jw.m)("Too many arguments to if function.");var n=e.map(t);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}},ij={},oj=new Date(2e3,0,1),aj="undefined"!=typeof window&&window||null,sj="Literal",uj="Identifier",lj="@",cj="%",fj=":",pj=Ap("area",function(t){return dA.reset(),fA(t,hA),2*dA}),dj=Ap("bounds",function(t){var e,n,r,i,o,a,s;if(_I=bI=-(vI=yI=1/0),SI=[],fA(t,gA),n=SI.length){for(SI.sort(Ys),e=1,o=[r=SI[0]];e<n;++e)Ks(r,(i=SI[e])[0])||Ks(r,i[1])?($s(r[0],i[1])>$s(r[0],r[1])&&(r[1]=i[1]),$s(i[0],r[1])>$s(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)(s=$s(r[1],(i=o[e])[0]))>a&&(a=s,vI=i[0],bI=r[1])}return SI=OI=null,vI===1/0||yI===1/0?[[NaN,NaN],[NaN,NaN]]:[[vI,yI],[bI,_I]]}),hj=Ap("centroid",function(t){kI=TI=PI=NI=II=AI=MI=DI=RI=jI=LI=0,fA(t,vA);var e=RI,n=jI,r=LI,i=e*e+n*n+r*r;return i<1e-12&&(e=AI,n=MI,r=DI,TI<qI&&(e=PI,n=NI,r=II),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[QI(n,e)*KI,Cs(r/sA(i))*KI]}),mj={},gj="E",vj="R",yj="R-E",bj="R-LE",_j="R-RE",wj="intersect",xj="union",Ej="index:unit",Cj={E_union:function(t,e){if(!t.length)return e;for(var n=0,r=e.length;n<r;++n)t.indexOf(e[n])<0&&t.push(e[n]);return t},E_intersect:function(t,e){return t.length?t.filter(function(t){return e.indexOf(t)>=0}):e},R_union:function(t,e){var n=Object(Jw.R)(e[0]),r=Object(Jw.R)(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?(t[0]>n&&(t[0]=n),t[1]<r&&(t[1]=r),t):[n,r]},R_intersect:function(t,e){var n=Object(Jw.R)(e[0]),r=Object(Jw.R)(e[1]);return n>r&&(n=e[1],r=e[0]),t.length?r<t[0]||t[1]<n?[]:(t[0]<n&&(t[0]=n),t[1]>r&&(t[1]=r),t):[n,r]}},Sj="bin_",Oj="intersect",kj="union",Tj="index:unit",Pj={random:function(){return AE()},isArray:Jw.v,isBoolean:Jw.w,isDate:Jw.x,isNumber:Jw.z,isObject:Jw.A,isRegExp:Jw.B,isString:Jw.C,isTuple:i,toBoolean:Jw.P,toDate:Jw.Q,toNumber:Jw.R,toString:Jw.T,pad:Jw.H,peek:Jw.L,truncate:Jw.U,rgb:wo,lab:Po,hcl:jo,hsl:So,sequence:BE,format:function(t,e){return Cp("format",ZT.format,e)(t)},utcFormat:function(t,e){return Cp("utcFormat",cE,e)(t)},utcParse:function(t,e){return Cp("utcParse",fE,e)(t)},timeFormat:Sp,timeParse:function(t,e){return Cp("timeParse",lE,e)(t)},monthFormat:function(t){return Op(t,1,"%B")},monthAbbrevFormat:function(t){return Op(t,1,"%b")},dayFormat:function(t){return Op(0,2+t,"%A")},dayAbbrevFormat:function(t){return Op(0,2+t,"%a")},quarter:function(t){return 1+~~(new Date(t).getMonth()/3)},utcquarter:function(t){return 1+~~(new Date(t).getUTCMonth()/3)},warn:function(){return Tp(this.context.dataflow,"warn",arguments)},info:function(){return Tp(this.context.dataflow,"info",arguments)},debug:function(){return Tp(this.context.dataflow,"debug",arguments)},extent:function(t){var e,n,r,i,o=0;if(t&&(e=t.length)){for(n=t[o];null==n||n!=n;n=t[++o]);for(r=i=n;o<e;++o)null!=(n=t[o])&&(n<r&&(r=n),n>i&&(i=n))}return[r,i]},inScope:function(t){var e=this.context.group,n=!1;if(e)for(;t;){if(t===e){n=!0;break}t=t.mark.group}return n},clampRange:function(t,e,n){var r,i=t[0],o=t[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-e?[e,n]:[i=Math.min(Math.max(i,e),n-r),i+r]},pinchDistance:function(t){var e=t.touches,n=e[0].clientX-e[1].clientX,r=e[0].clientY-e[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(t){var e=t.touches;return Math.atan2(e[0].clientY-e[1].clientY,e[0].clientX-e[1].clientX)},screen:function(){return aj?aj.screen:{}},containerSize:function(){var t=this.context.dataflow,e=t.container&&t.container();return e?[e.clientWidth,e.clientHeight]:[void 0,void 0]},windowSize:function(){return aj?[aj.innerWidth,aj.innerHeight]:[void 0,void 0]},span:function(t){return t[t.length-1]-t[0]||0},merge:function(){var t=[].slice.call(arguments);return t.unshift({}),Jw.n.apply(null,t)},flush:function(t,e,n,r,i,o){if(!n&&0!==n)return o;var a,s,u=t[0],l=Object(Jw.L)(t),c=+n;return l<u&&(a=u,u=l,l=a),a=Math.abs(e-u),s=Math.abs(l-e),a<s&&a<=c?r:s<=c?i:o},bandspace:function(t,e,n){return Nk(t||0,e||0,n||0)},inrange:kp,setdata:function(t,e){var n=this.context.dataflow;return n.pulse(this.context.data[t].input,n.changeset().remove(Jw.V).insert(e)),1},pathShape:function(t){var e=null;return function(n){return n?WS(n,e=e||zS(t)):t}},panLinear:Jw.I,panLog:Jw.J,panPow:Jw.K,zoomLinear:Jw.Y,zoomLog:Jw.Z,zoomPow:Jw._0,encode:function(t,e,n){if(t){var r=this.context.dataflow;r.pulse(t.mark.source,r.changeset().encode(t,e))}return void 0!==n?n:t},modify:function(t,e,n,r,o,a){var s,u,l=this.context.dataflow,c=this.context.data[t],f=c.input,p=c.changes,d=l.stamp();if(!1===l._trigger||!(f.value.length||e||r))return 0;if((!p||p.stamp<d)&&(c.changes=p=l.changeset(),p.stamp=d,l.runAfter(function(){c.modified=!0,l.pulse(f,p).run()},!0,1)),n&&(s=!0===n?Jw.V:Object(Jw.v)(n)||i(n)?n:zp(n),p.remove(s)),e&&p.insert(e),r&&(s=zp(r),f.value.some(s)?p.remove(s):p.insert(r)),o)for(u in a)p.modify(o,u,a[u]);return 1}},Nj=["view","item","group","xy","x","y"],Ij="event.vega.",Aj="this.",Mj={};Zp("bandwidth",function(t,e){var n=Pp(t,(e||this).context);return n&&n.bandwidth?n.bandwidth():0},Ip),Zp("copy",function(t,e){var n=Pp(t,(e||this).context);return n?n.copy():void 0},Ip),Zp("domain",function(t,e){var n=Pp(t,(e||this).context);return n?n.domain():[]},Ip),Zp("range",function(t,e){var n=Pp(t,(e||this).context);return n&&n.range?n.range():[]},Ip),Zp("invert",function(t,e,n){var r=Pp(t,(n||this).context);return r?Object(Jw.v)(e)?(r.invertRange||r.invert)(e):(r.invert||r.invertExtent)(e):void 0},Ip),Zp("scale",function(t,e,n){var r=Pp(t,(n||this).context);return r?r(e):void 0},Ip),Zp("gradient",function(t,e,n,r,i){t=Pp(t,(i||this).context);var o=rS(e,n),a=t.domain(),s=a[0],u=Object(Jw.L)(a),l=Na(t,s,u);t.ticks&&(s!==(a=t.ticks(+r||15))[0]&&a.unshift(s),u!==Object(Jw.L)(a)&&a.push(u));for(var c=0,f=a.length;c<f;++c)o.stop(l(a[c]),t(a[c]));return o},Ip),Zp("geoArea",pj,Ip),Zp("geoBounds",dj,Ip),Zp("geoCentroid",hj,Ip),Zp("geoShape",function(t,e,n){var r=Pp(t,(n||this).context);return function(t){return r?r.path.context(t)(e):""}},Ip),Zp("indata",function(t,e,n){var r=this.context.data[t]["index:"+e],i=r?r.value.get(n):void 0;return i?i.count:i},function(t,e,n,r){e[0].type!==sj&&Object(Jw.m)("First argument to indata must be a string literal."),e[1].type!==sj&&Object(Jw.m)("Second argument to indata must be a string literal.");var i=e[0].value,o=e[1].value,a=lj+o;r.hasOwnProperty(a)||(r[a]=n.getData(i).indataRef(n,o))}),Zp("data",Mp,Dp),Zp("treePath",function(t,e,n){var r=jp(t,this),i=r[e],o=r[n];return i&&o?i.path(o).map(Rp):void 0},Dp),Zp("treeAncestors",function(t,e){var n=jp(t,this)[e];return n?n.ancestors().map(Rp):void 0},Dp),Zp("vlSelectionTest",function(t,e,n){for(var r,i,o,a,s,u=this.context.data[t],l=u?u.values.value:[],c=u?u[Ej]&&u[Ej].value:void 0,f=n===wj,p=l.length,d=0;d<p;++d)if(r=l[d],c&&f){if(i=i||{},-1===(o=i[a=r.unit]||0))continue;if(s=Fp(e,r),i[a]=s?-1:++o,s&&1===c.size)return!0;if(!s&&o===c.get(a).count)return!1}else if(s=Fp(e,r),f^s)return s;return p&&f},Bp),Zp("vlSelectionResolve",function(t,e){for(var n,r,i,o,a,s,u,l,c,f,p=this.context.data[t],d=p?p.values.value:[],h={},m={},g=d.length,v=0;v<g;++v)for(o=(n=d[v]).unit,i=n.values,c=0,f=(r=n.fields).length;c<f;++c)u=(s=h[(a=r[c]).field]||(h[a.field]={}))[o]||(s[o]=[]),m[a.field]=l=a.type.charAt(0),s[o]=(0,Cj[l+"_union"])(u,Object(Jw.i)(i[c]));return e=e||xj,Object.keys(h).forEach(function(t){h[t]=Object.keys(h[t]).map(function(e){return h[t][e]}).reduce(function(n,r){return void 0===n?r:Cj[m[t]+"_"+e](n,r)})}),h},Bp),Zp("vlSingle",qp,Dp),Zp("vlSingleDomain",Gp,Dp),Zp("vlMulti",qp,Hp),Zp("vlMultiDomain",Gp,Hp),Zp("vlInterval",function(t,e,n){return Wp.call(this,t,e,n,Up)},Dp),Zp("vlIntervalDomain",function(t,e,n,r){var i,o,a,s,u,l=this.context.data[t],c=l?l.values.value:[],f=c[0],p=0;if(f){for(i=f.intervals.length;p<i;++p)if(o=f.intervals[p],e&&o.encoding===e||n&&o.field===n){if(!o.extent)return;a=p,u=o.extent.length>2;break}return s=c.reduce(function(t,e){var n=e.intervals[a].extent,r=u?n.map(function(t){return{unit:e.unit,value:t}}):{unit:e.unit,value:n};return u?t.push.apply(t,r):t.push(r),t},[]),u?$p(s,r):Yp(s,r)}},Dp);var Dj,Rj,jj={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_["+Object(Jw.O)("$"+t)+"]"},functions:function(t){var e=rj(t);Nj.forEach(function(t){e[t]=Ij+t});for(var n in Pj)e[n]=Aj+n;return e},constants:nj,visitors:Mj},Lj=function(t){function e(t){if(Object(Jw.C)(t))return t;var e=d[t.type];return null==e&&Object(Jw.m)("Unsupported type: "+t.type),e(t)}function n(t){var n={code:e(t),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},n}var r=(t=t||{}).whitelist?Object(Jw.S)(t.whitelist):{},i=t.blacklist?Object(Jw.S)(t.blacklist):{},o=t.constants||nj,a=(t.functions||rj)(e),s=t.globalvar,u=t.fieldvar,l={},c={},f=0,p=Object(Jw.y)(s)?s:function(t){return s+'["'+t+'"]'},d={Literal:function(t){return t.raw},Identifier:function(t){var e=t.name;return f>0?e:i.hasOwnProperty(e)?Object(Jw.m)("Illegal identifier: "+e):o.hasOwnProperty(e)?o[e]:r.hasOwnProperty(e)?e:(l[e]=1,p(e))},MemberExpression:function(t){var n=!t.computed,r=e(t.object);n&&(f+=1);var i=e(t.property);return r===u&&(c[i]=1),n&&(f-=1),r+(n?"."+i:"["+i+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&Object(Jw.m)("Illegal callee type: "+t.callee.type);var n=t.callee.name,r=t.arguments,i=a.hasOwnProperty(n)&&a[n];return i||Object(Jw.m)("Unrecognized function: "+n),Object(Jw.y)(i)?i(r):i+"("+r.map(e).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(e).join(",")+"]"},BinaryExpression:function(t){return"("+e(t.left)+t.operator+e(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+e(t.argument)+")"},ConditionalExpression:function(t){return"("+e(t.test)+"?"+e(t.consequent)+":"+e(t.alternate)+")"},LogicalExpression:function(t){return"("+e(t.left)+t.operator+e(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(e).join(",")+"}"},Property:function(t){f+=1;var n=e(t.key);return f-=1,n+":"+e(t.value)}};return n.functions=a,n.constants=o,n}(jj),zj=function(t,e,n){var r,i,o={};try{t=Object(Jw.C)(t)?t:Object(Jw.O)(t)+"",r=ej(t)}catch(e){Object(Jw.m)("Expression parse error: "+t)}return r.visit(function(t){if("CallExpression"===t.type){var n=t.callee.name,r=jj.visitors[n];r&&r(n,t.arguments,e,o)}}),(i=Lj(r)).globals.forEach(function(t){var n="$"+t;!o.hasOwnProperty(n)&&e.getSignal(t)&&(o[n]=e.signalRef(t))}),{$expr:n?n+"return("+i.code+");":i.code,$fields:i.fields,$params:o}},Fj={$tupleid:1,toString:function(){return":_tupleid_:"}},Bj=nd("key"),Vj="descending",Uj="scope",Wj="view",qj="timer",Hj=function(t,e,n){return Dj=e||Gj,Rj=n||nL,md(t.trim()).map(gd)},Gj="view",$j="[",Yj="]",Kj="{",Xj="}",Zj=":",Jj=",",Qj="@",tL=">",eL=/[[\]{}]/,nL={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},rL="var datum=event.item&&event.item.datum;",iL=function(t,e,n){var r,i=t.events,o=t.update,a=t.encode,s=[],u="";i||Object(Jw.m)("Signal update missing events specification."),Object(Jw.C)(i)&&(i=Hj(i,e.isSubscope()?Uj:Wj)),(i=Object(Jw.i)(i).filter(function(t){return t.signal||t.scale?(s.push(t),0):1})).length&&s.push(i.length>1?{merge:i}:i[0]),null!=a&&(o&&Object(Jw.m)("Signal encode and update are mutually exclusive."),o="encode(item(),"+Object(Jw.O)(a)+")"),u=Object(Jw.C)(o)?zj(o,e,rL):null!=o.expr?zj(o.expr,e,rL):null!=o.value?o.value:null!=o.signal?{$expr:"_.value",$params:{value:e.signalRef(o.signal)}}:Object(Jw.m)("Invalid signal update specification."),r={target:n,update:u},t.force&&(r.options={force:!0}),s.forEach(function(t){e.addUpdate(Object(Jw.n)(function(t,e){return{source:t.signal?e.signalRef(t.signal):t.scale?e.scaleRef(t.scale):ld(t,e)}}(t,e),r))})},oL=vd("aggregate"),aL=vd("axisticks"),sL=vd("bound"),uL=vd("collect"),lL=vd("compare"),cL=vd("datajoin"),fL=vd("encode"),pL=vd("expression"),dL=(vd("extent"),vd("facet")),hL=vd("field"),mL=vd("key"),gL=vd("legendentries"),vL=vd("load"),yL=vd("mark"),bL=vd("multiextent"),_L=vd("multivalues"),wL=vd("overlap"),xL=vd("params"),EL=vd("prefacet"),CL=vd("projection"),SL=vd("proxy"),OL=vd("relay"),kL=vd("render"),TL=vd("scale"),PL=vd("sieve"),NL=vd("sortitems"),IL=vd("viewlayout"),AL=vd("values"),ML=0,DL=["identity","ordinal","band","point","bin-linear","bin-ordinal","quantize","quantile","threshold","linear","pow","sqrt","log","sequential","time","utc"],RL=Object(Jw.S)(DL),jL=Object(Jw.S)(DL.slice(4,9)),LL=Object(Jw.S)(DL.slice(9)),zL=Object(Jw.S)(DL.slice(1,6)),FL="top",BL="left",VL="bottom",UL="vertical",WL="start",qL="end",HL="guide-label",GL="group-title",$L="symbol",YL="gradient",KL="discrete",XL=["size","shape","fill","stroke","strokeDash","opacity"],ZL={name:1,interactive:1},JL=Object(Jw.S)(["rule"]),QL=Object(Jw.S)(["group","image","rect"]),tz=function(t,e){var n="";return JL[e]?n:(t.x2&&(t.x?(QL[e]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),t.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(QL[e]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),t.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)},ez=function(t,e,n,r){var i=zj(t,e);return i.$fields.forEach(function(t){r[t]=1}),Object(Jw.n)(n,i.$params),i.$expr},nz=function(t,e,n,r){return Td(Object(Jw.A)(t)?t:{datum:t},e,n,r)},rz=function(t,e,n,r,i){var o,a,s,u=Pd(t.scale,n,r,i);return null!=t.range?(a=u+".range()",e=0===(o=+t.range)?a+"[0]":"($="+a+","+(1===o?"$[$.length-1]":"$[0]+"+o+"*($[$.length-1]-$[0])")+")"):(void 0!==e&&(e=u+"("+e+")"),t.band&&(s=function(t,e){if(!Object(Jw.C)(t))return-1;var n=e.scaleType(t);return"band"===n||"point"===n?1:0}(t.scale,n))&&(o=(a=u+".bandwidth")+"()"+(1===(o=+t.band)?"":"*"+o),s<0&&(o="("+a+"?"+o+":0)"),e=(e?e+"+":"")+o,t.extra&&(e="(datum.extra?"+u+"(datum.extra.value):"+e+")")),null==e&&(e="0")),e},iz=function(t,e,n,r){return Object(Jw.A)(t)?"("+oz(null,t,e,n,r)+")":t},oz=function(t,e,n,r,i){if(null!=e.gradient)return function(t,e,n,r){return"this.gradient("+Pd(t.gradient,e,n,r)+","+Object(Jw.O)(t.start)+","+Object(Jw.O)(t.stop)+","+Object(Jw.O)(t.count)+")"}(e,n,r,i);var o=e.signal?ez(e.signal,n,r,i):e.color?function(t,e,n,r){function i(t,i,o,a){return"this."+t+"("+[oz(null,i,e,n,r),oz(null,o,e,n,r),oz(null,a,e,n,r)].join(",")+").toString()"}return t.c?i("hcl",t.h,t.c,t.l):t.h||t.s?i("hsl",t.h,t.s,t.l):t.l||t.a?i("lab",t.l,t.a,t.b):t.r||t.g||t.b?i("rgb",t.r,t.g,t.b):null}(e.color,n,r,i):null!=e.field?nz(e.field,n,r,i):void 0!==e.value?Object(Jw.O)(e.value):void 0;return null!=e.scale&&(o=rz(e,o,n,r,i)),void 0===o&&(o=null),null!=e.exponent&&(o="Math.pow("+o+","+iz(e.exponent,n,r,i)+")"),null!=e.mult&&(o+="*"+iz(e.mult,n,r,i)),null!=e.offset&&(o+="+"+iz(e.offset,n,r,i)),e.round&&(o="Math.round("+o+")"),o},az=function(t,e,n){return t+"["+Object(Jw.O)(e)+"]="+n+";"},sz=function(t,e,n,r,i){var o="";return e.forEach(function(e){var a=oz(t,e,n,r,i);o+=e.test?ez(e.test,n,r,i)+"?"+a+":":a}),":"===Object(Jw.L)(o)&&(o+="null"),az("o",t,o)},uz="mark",lz="frame",cz="title",fz=function(t,e,n,r,i,o,a){return{type:t,name:a?a.name:void 0,role:e,style:a&&a.style||n,key:r,from:i,interactive:!(!a||!a.interactive),encode:Md(o,a,ZL)}},pz="group",dz="text",hz=function(t,e,n,r){var i,o,a,s,u,l={value:0},c=zd(t,e.gradientDirection),f=Id(Bd(t,e)),p=Fd(t,e),d=Ld("labelOverlap",t,e),h="";return i={enter:o={opacity:l},update:a={opacity:{value:1},text:{field:"label"}},exit:{opacity:l}},Ad(i,"fill",Ld("labelColor",t,e)),Ad(i,"font",Ld("labelFont",t,e)),Ad(i,"fontSize",Ld("labelFontSize",t,e)),Ad(i,"fontWeight",Ld("labelFontWeight",t,e)),Ad(i,"fillOpacity",Ld("labelOpacity",t,e)),Ad(i,"limit",sd(t.labelLimit,e.gradientLabelLimit)),c?(o.align={value:"left"},o.baseline=a.baseline={signal:'datum.perc<=0?"bottom":datum.perc>=1?"top":"middle"'},s="y",u="x",h="1-"):(o.align=a.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},o.baseline={value:"top"},s="x",u="y"),o[s]=a[s]={signal:h+"datum.perc",mult:p},o[u]=a[u]=f,f.offset=sd(t.labelOffset,e.gradientLabelOffset)||0,t=fz(dz,"legend-label",HL,"value",r,i,n),d&&(t.overlap={method:d,order:"datum.index"}),t},mz=function(t,e,n,r,i,o,a,s){return{type:pz,name:n,role:t,style:e,from:r,interactive:i||!1,encode:o,marks:a,layout:s}},gz={value:0},vz=function(t){var e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")?t.type===pz?"scope":e||uz:e},yz=function(t,e){var n=ae(t.type);n||Object(Jw.m)("Unrecognized transform type: "+Object(Jw.O)(t.type));var r=Qp(n.type.toLowerCase(),null,qd(n,t,e));return t.signal&&e.addSignal(t.signal,e.proxy(r)),r.metadata=n.metadata||{},r};Zd.fromEntries=function(t,e){var n=e.length,r=1,i=e[0],o=e[n-1],a=e[n-2],s=null;for(t.add(e[0]);r<n;++r)e[r].params.pulse=ed(e[r-1]),t.add(e[r]),"aggregate"===e[r].type&&(s=e[r]);return new Zd(t,i,a,o,s)};var bz=Zd.prototype;bz.countsRef=function(t,e,n){var r,i,o,a=this.counts||(this.counts={}),s=Jd(e);return null!=s&&(t=this.scope,r=a[s]),r?n&&n.field&&Qd(t,r.agg.params,n):(o={groupby:t.fieldRef(e,"key"),pulse:ed(this.output)},n&&n.field&&Qd(t,o,n),r={agg:i=t.add(oL(o)),ref:ed(r=t.add(uL({pulse:ed(i)})))},null!=s&&(a[s]=r)),r.ref},bz.tuplesRef=function(){return ed(this.values)},bz.extentRef=function(t,e){return th(t,this,"extent","extent",e,!1)},bz.domainRef=function(t,e){return th(t,this,"domain","values",e,!1)},bz.valuesRef=function(t,e,n){return th(t,this,"vals","values",e,n||!0)},bz.lookupRef=function(t,e){return th(t,this,"lookup","tupleindex",e,!1)},bz.indataRef=function(t,e){return th(t,this,"indata","tupleindex",e,!0,!0)};var _z=function(t,e,n){var r,i,o=t.remove,a=t.insert,s=t.toggle,u=t.modify,l=t.values,c=e.add(td());r="if("+t.trigger+',modify("'+n+'",'+[a,o,s,u,l].map(function(t){return null==t?"null":t}).join(",")+"),0)",i=zj(r,e),c.update=i.$expr,c.params=i.$params},wz=function(t,e){var n,r,i,o,a,s,u,l,c,f,p,d,h,m=vz(t),g=t.type===pz,v=t.from&&t.from.facet,y=t.layout||"scope"===m||m===lz,b=m===uz||y||v,_=t.overlap;i=function(t,e,n){var r,i,o,a,s;return t?(r=t.facet)&&(e||Object(Jw.m)("Only group marks can be faceted."),null!=r.field?a=s=Xd(r,n):(t.data?s=ed(n.getData(t.data).aggregate):((o=yz(Object(Jw.n)({type:"aggregate",groupby:Object(Jw.i)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),o.params.pulse=Xd(r,n),a=s=ed(n.add(o))),i=n.keyRef(r.groupby,!0))):a=ed(n.add(uL(null,[{}]))),a||(a=Xd(t,n)),{key:i,pulse:a,parent:s}}(t.from,g,e),c=ed(r=e.add(cL({key:i.key||(t.key?nd(t.key):void 0),pulse:i.pulse,clean:!g}))),r=o=e.add(uL({pulse:c})),f=ed(r=e.add(yL({markdef:function(t){return{marktype:t.type,name:t.name||void 0,role:t.role||vz(t),zindex:+t.zindex||void 0}}(t),interactive:function(t,e){return t&&t.signal?e.signalRef(t.signal):!1!==t}(t.interactive,e),clip:function(t,e){var n;return Object(Jw.A)(t)&&(t.signal?n=t.signal:t.path?n="pathShape("+Wd(t.path)+")":t.sphere&&(n="geoShape("+Wd(t.sphere)+', {type: "Sphere"})')),n?e.signalRef(n):!!t}(t.clip,e),context:{$context:!0},groups:e.lookup(),parent:e.signals.parent?e.signalRef("parent"):null,index:e.markpath(),pulse:ed(r)}))),(r=e.add(fL(Dd(t.encode,t.type,m,t.style,e,{pulse:f})))).params.parent=e.encode(),t.transform&&t.transform.forEach(function(t){var n=yz(t,e);(n.metadata.generates||n.metadata.changes)&&Object(Jw.m)("Mark transforms should not generate new data."),n.params.pulse=ed(r),e.add(r=n)}),t.sort&&(r=e.add(NL({sort:e.compareRef(t.sort,!0),pulse:ed(r)}))),p=ed(r),(v||y)&&(d=ed(y=e.add(IL({layout:e.objectProperty(t.layout),legendMargin:e.config.legendMargin,mark:f,pulse:p})))),h=ed(a=e.add(sL({mark:f,pulse:d||p}))),g&&(b&&((n=e.operators).pop(),y&&n.pop()),e.pushState(p,d||h,c),v?function(t,e,n){var r,i,o,a,s=t.from.facet,u=s.name,l=Xd(s,e);s.name||Object(Jw.m)("Facet must have a name: "+Object(Jw.O)(s)),s.data||Object(Jw.m)("Facet must reference a data set: "+Object(Jw.O)(s)),s.field?a=e.add(EL({field:e.fieldRef(s.field),pulse:l})):s.groupby?a=e.add(dL({key:e.keyRef(s.groupby),group:ed(e.proxy(n.parent)),pulse:l})):Object(Jw.m)("Facet must specify groupby or field: "+Object(Jw.O)(s)),i=(r=e.fork()).add(uL()),o=r.add(PL({pulse:ed(i)})),r.addData(u,new Zd(r,i,i,o)),r.addSignal("parent",null),a.params.subflow={$subflow:kz(t,r).toRuntime()}}(t,e,i):b?function(t,e,n){var r=e.add(EL({pulse:n.pulse})),i=e.fork();i.add(PL()),i.addSignal("parent",null),r.params.subflow={$subflow:kz(t,i).toRuntime()}}(t,e,i):kz(t,e),e.popState(),b&&(y&&n.push(y),n.push(a))),_&&(h=function(t,e,n){var r,i=t.method,o=t.bound,a={method:od(i)?n.signalRef(i.signal):i,pulse:e};return t.order&&(a.sort=n.compareRef({field:t.order})),o&&(a.boundTolerance=od(r=o.tolerance)?n.signalRef(r.signal):+r,a.boundScale=n.scaleRef(o.scale),a.boundOrient=o.orient),ed(n.add(wL(a)))}(_,h,e)),s=e.add(kL({pulse:h})),u=e.add(PL({pulse:ed(s)},void 0,e.parent())),null!=t.name&&(e.addData(l=t.name,new Zd(e,o,s,u)),t.on&&t.on.forEach(function(t){(t.insert||t.remove||t.toggle)&&Object(Jw.m)("Marks only support modify triggers."),_z(t,e,l)}))},xz=function(t,e){var n,r,i,o,a,s,u,l,c,f=e.config.legend,p=t.encode||{},d=p.legend||{},h=d.name||void 0,m=d.interactive,g=d.style,v=XL.reduce(function(e,n){return e||t[n]},0);return v||Object(Jw.m)("Missing valid scale for legend."),a=eh(t,e.scaleType(v)),s={orient:Ld("orient",t,f),title:null!=t.title,type:a},u=ed(e.add(uL(null,[s]))),d=Md(function(t,e){var n={enter:{},update:{}};return Ad(n,"offset",Ld("offset",t,e)),Ad(n,"padding",Ld("padding",t,e)),Ad(n,"titlePadding",Ld("titlePadding",t,e)),Ad(n,"fill",Ld("fillColor",t,e)),Ad(n,"stroke",Ld("strokeColor",t,e)),Ad(n,"strokeWidth",Ld("strokeWidth",t,e)),Ad(n,"cornerRadius",Ld("cornerRadius",t,e)),Ad(n,"strokeDash",e.strokeDash),n}(t,f),d,ZL),n={enter:{x:{value:0},y:{value:0}}},l=ed(e.add(gL(i={type:a,scale:e.scaleRef(v),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),formatSpecifier:e.property(t.format)}))),a===YL?(o=[function(t,e,n,r){var i,o,a,s,u,l,c={value:0},f=zd(t,n.gradientDirection),p=Bd(t,n),d=Fd(t,n);return f?(a=[0,1],s=[0,0],u=p,l=d):(a=[0,0],s=[1,0],u=d,l=p),i={enter:o={opacity:c,x:c,y:c,width:Id(u),height:Id(l)},update:Object(Jw.n)({},o,{opacity:{value:1},fill:{gradient:e,start:a,stop:s}}),exit:{opacity:c}},Ad(i,"stroke",Ld("gradientStrokeColor",t,n)),Ad(i,"strokeWidth",Ld("gradientStrokeWidth",t,n)),Ad(i,"opacity",Ld("gradientOpacity",t,n),"update"),fz("rect","legend-gradient",null,void 0,void 0,i,r)}(t,v,f,p.gradient),hz(t,f,p.labels,l)],i.count=i.count||e.signalRef("max(2,2*floor(("+ud(Fd(t,f))+")/100))")):a===KL?o=[function(t,e,n,r,i){var o,a,s,u,l,c,f={value:0},p=zd(t,n.gradientDirection),d=Bd(t,n),h=Fd(t,n),m="";return p?(s="y",l="y2",u="x",c="width",m="1-"):(s="x",l="x2",u="y",c="height"),a={opacity:f,fill:{scale:e,field:"value"}},a[s]={signal:m+"datum.perc",mult:h},a[u]=f,a[l]={signal:m+"datum.perc2",mult:h},a[c]=Id(d),o={enter:a,update:Object(Jw.n)({},a,{opacity:{value:1}}),exit:{opacity:f}},Ad(o,"stroke",Ld("gradientStrokeColor",t,n)),Ad(o,"strokeWidth",Ld("gradientStrokeWidth",t,n)),Ad(o,"opacity",Ld("gradientOpacity",t,n),"update"),fz("rect","legend-band",null,"value",i,o,r)}(t,v,f,p.gradient,l),hz(t,f,p.labels,l)]:(r=Ud(t,f),o=[function(t,e,n,r,i){var o,a,s,u,l,c,f,p=n.entries,d=!(!p||!p.interactive),h=p?p.name:void 0,m=Ld("clipHeight",t,e),g=Ld("symbolOffset",t,e),v={data:"value"},y={},b=i+"?datum.offset:datum.size",_=m?Id(m):{field:"size"},w="datum.index",x="max(1,"+i+")";return _.mult=.5,y={enter:o={opacity:gz,x:{signal:b,mult:.5,offset:g},y:_},update:a={opacity:{value:1},x:o.x,y:o.y},exit:{opacity:gz}},t.fill||(Ad(y,"fill",e.symbolBaseFillColor),Ad(y,"stroke",e.symbolBaseStrokeColor)),Ad(y,"shape",Ld("symbolType",t,e)),Ad(y,"size",Ld("symbolSize",t,e)),Ad(y,"strokeWidth",Ld("symbolStrokeWidth",t,e)),Ad(y,"fill",Ld("symbolFillColor",t,e)),Ad(y,"stroke",Ld("symbolStrokeColor",t,e)),Ad(y,"opacity",Ld("symbolOpacity",t,e),"update"),XL.forEach(function(e){t[e]&&(a[e]=o[e]={scale:t[e],field:"value"})}),u=fz("symbol","legend-symbol",null,"value",v,y,n.symbols),m&&(u.clip=!0),s=Id(g),s.offset=Ld("labelOffset",t,e),y={enter:o={opacity:gz,x:{signal:b,offset:s},y:_},update:a={opacity:{value:1},text:{field:"label"},x:o.x,y:o.y},exit:{opacity:gz}},Ad(y,"align",Ld("labelAlign",t,e)),Ad(y,"baseline",Ld("labelBaseline",t,e)),Ad(y,"fill",Ld("labelColor",t,e)),Ad(y,"font",Ld("labelFont",t,e)),Ad(y,"fontSize",Ld("labelFontSize",t,e)),Ad(y,"fontWeight",Ld("labelFontWeight",t,e)),Ad(y,"limit",Ld("labelLimit",t,e)),Ad(y,"fillOpacity",Ld("labelOpacity",t,e)),l=fz(dz,"legend-label",HL,"value",v,y,n.labels),y={enter:{noBound:{value:!0},width:gz,height:m?Id(m):gz,opacity:gz},exit:{opacity:gz},update:a={opacity:{value:1},row:{signal:null},column:{signal:null}}},zd(t,e.symbolDirection)?(a.row.signal=w+"%"+(c="ceil(item.mark.items.length/"+x+")"),a.column.signal="floor("+w+"/"+c+")",f={field:["row",w]}):(a.row.signal="floor("+w+"/"+x+")",a.column.signal=w+"%"+x,f={field:w}),a.column.signal=i+"?"+a.column.signal+":"+w,r={facet:{data:r,name:"value",groupby:"index"}},t=mz("scope",null,h,r,d,Md(y,p,ZL),[u,l]),t.sort=f,t}(t,f,p,l,ud(r.columns))],i.size=nh(t,e,o[0].marks)),o=[mz("legend-entry",null,null,u,m,n,o,r)],s.title&&o.push(function(t,e,n,r){var i,o,a={value:0};return i={enter:o={opacity:a,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},update:{opacity:{value:1},text:Id(t.title),x:o.x,y:o.y},exit:{opacity:a}},Ad(i,"align",Ld("titleAlign",t,e)),Ad(i,"baseline",Ld("titleBaseline",t,e)),Ad(i,"fill",Ld("titleColor",t,e)),Ad(i,"font",Ld("titleFont",t,e)),Ad(i,"fontSize",Ld("titleFontSize",t,e)),Ad(i,"fontWeight",Ld("titleFontWeight",t,e)),Ad(i,"limit",Ld("titleLimit",t,e)),Ad(i,"fillOpacity",Ld("titleOpacity",t,e)),fz(dz,"legend-title","guide-title",null,r,i,n)}(t,f,p.title,u)),c=mz("legend",g,h,u,m,d,o),t.zindex&&(c.zindex=t.zindex),wz(c,e)},Ez=rh(Object(Jw.O)(BL),Object(Jw.O)("right"),Object(Jw.O)("center")),Cz=rh('+(item.orient==="right")','+(item.orient!=="'+BL+'")',"0.5"),Sz=function(t,e){t=Object(Jw.C)(t)?{text:t}:t;var n,r,i,o=e.config.title,a=Object(Jw.n)({},t.encode);return n={orient:Ld("orient",t,o)},r=ed(e.add(uL(null,[n]))),a.name=t.name,a.interactive=t.interactive,i=function(t,e,n,r){var i,o,a,s,u,l={value:0},c=t.text,f=Ld("orient",t,e),p=Ld("anchor",t,e),d=f===BL||f===FL?-1:1,h=f===FL||f===VL,m={group:h?"width":"height"};return s={field:m,mult:{signal:Cz}},u=d<0?l:h?{field:{group:"height"}}:{field:{group:"width"}},i={enter:o={opacity:l},update:a={opacity:{value:1},text:Id(c),anchor:Id(p),orient:Id(f),extent:{field:m},align:{signal:Ez}},exit:{opacity:l}},h?(a.x=s,a.y=u,o.angle=l,o.baseline={value:f===FL?VL:FL}):(a.x=u,a.y=s,o.angle={value:90*d},o.baseline={value:VL}),Ad(i,"align",Ld("align",t,e),"update"),Ad(i,"angle",Ld("angle",t,e)),Ad(i,"baseline",Ld("baseline",t,e)),Ad(i,"fill",Ld("color",t,e)),Ad(i,"font",Ld("font",t,e)),Ad(i,"fontSize",Ld("fontSize",t,e)),Ad(i,"fontWeight",Ld("fontWeight",t,e)),Ad(i,"frame",Ld("frame",t,e)),Ad(i,"limit",Ld("limit",t,e)),Ad(i,"offset",Ld("offset",t,e)||0),fz(dz,cz,t.style||GL,null,r,i,n)}(t,o,a,r),t.zindex&&(i.zindex=t.zindex),wz(i,e)},Oz=function(t,e){var n,r,i,o,a,s,u=function(t,e){var n=e.config,r=t.orient,i=r===FL||r===VL?n.axisX:n.axisY,o=n["axis"+r[0].toUpperCase()+r.slice(1)],a="band"===e.scaleType(t.scale)&&n.axisBand;return i||o||a?Object(Jw.n)({},n.axis,i,o,a):n.axis}(t,e),l=t.encode||{},c=l.axis||{},f=c.name||void 0,p=c.interactive,d=c.style;return n={orient:t.orient,ticks:!!Ld("ticks",t,u),labels:!!Ld("labels",t,u),grid:!!Ld("grid",t,u),domain:!!Ld("domain",t,u),title:!!sd(t.title,!1)},r=ed(e.add(uL({},[n]))),c=Md({update:{range:{signal:'abs(span(range("'+t.scale+'")))'},offset:Id(sd(t.offset,0)),position:Id(sd(t.position,0)),titlePadding:Id(Ld("titlePadding",t,u)),minExtent:Id(Ld("minExtent",t,u)),maxExtent:Id(Ld("maxExtent",t,u))}},l.axis,ZL),i=ed(e.add(aL({scale:e.scaleRef(t.scale),extra:e.property(Ld("tickExtra",t,u)),count:e.objectProperty(t.tickCount),values:e.objectProperty(t.values),formatSpecifier:e.property(t.format)}))),s=[],n.grid&&s.push(function(t,e,n,r){var i,o,a,s,u,l,c,f,p,d=t.orient,h=t.gridScale,m=d===BL||d===FL?1:-1,g=m*t.offset||0,v={value:0};return i={enter:o={opacity:v},update:s={opacity:{value:1}},exit:a={opacity:v}},Ad(i,"stroke",Ld("gridColor",t,e)),Ad(i,"strokeDash",Ld("gridDash",t,e)),Ad(i,"strokeOpacity",Ld("gridOpacity",t,e)),Ad(i,"strokeWidth",Ld("gridWidth",t,e)),u={scale:t.scale,field:"value",band:Ld("bandPosition",t,e),round:Ld("tickRound",t,e),extra:Ld("tickExtra",t,e),offset:Ld("tickOffset",t,e)},d===FL||d===VL?(l="x",c="y",p="height"):(l="y",c="x",p="width"),f=c+"2",s[l]=o[l]=a[l]=u,h?(o[c]={scale:h,range:0,mult:m,offset:g},s[f]=o[f]={scale:h,range:1,mult:m,offset:g}):(o[c]={value:g},s[f]=o[f]={signal:p,mult:m,offset:g}),fz("rule","axis-grid",null,"value",r,i,n)}(t,u,l.grid,i)),n.ticks&&(o=Ld("tickSize",t,u),s.push(function(t,e,n,r,i){var o,a,s,u,l,c,f=t.orient,p=f===BL||f===FL?-1:1,d={value:0};return o={enter:a={opacity:d},update:u={opacity:{value:1}},exit:s={opacity:d}},Ad(o,"stroke",Ld("tickColor",t,e)),Ad(o,"strokeOpacity",Ld("tickOpacity",t,e)),Ad(o,"strokeWidth",Ld("tickWidth",t,e)),l=Id(i),l.mult=p,c={scale:t.scale,field:"value",band:Ld("bandPosition",t,e),round:Ld("tickRound",t,e),extra:Ld("tickExtra",t,e),offset:Ld("tickOffset",t,e)},f===FL||f===VL?(u.y=a.y=d,u.y2=a.y2=l,u.x=a.x=s.x=c):(u.x=a.x=d,u.x2=a.x2=l,u.y=a.y=s.y=c),fz("rule","axis-tick",null,"value",r,o,n)}(t,u,l.ticks,i,o))),n.labels&&s.push(function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h=t.orient,m=h===BL||h===FL?-1:1,g=h===FL||h===VL,v=t.scale,y=ud(Ld("labelFlush",t,e)),b=ud(Ld("labelFlushOffset",t,e)),_=0===y||!!y,w=Ld("labelAlign",t,e),x=Ld("labelBaseline",t,e),E={value:0};return s=Id(i),s.mult=m,s.offset=Id(Ld("labelPadding",t,e)||0),s.offset.mult=m,u={scale:v,field:"value",band:.5,offset:Ld("tickOffset",t,e)},g?(l=w||(_?sh(v,y,'"left"','"right"','"center"'):"center"),c=x||(h===FL?"bottom":"top"),f=!w):(l=w||("right"===h?"left":"right"),c=x||(_?sh(v,y,'"top"','"bottom"','"middle"'):"middle"),f=!x),f=f&&_&&b?sh(v,y,"-"+b,b,0):null,o={enter:a={opacity:E,x:g?u:s,y:g?s:u},update:{opacity:{value:1},text:{field:"label"},x:a.x,y:a.y},exit:{opacity:E,x:a.x,y:a.y}},Ad(o,g?"dx":"dy",f),Ad(o,"align",l),Ad(o,"baseline",c),Ad(o,"angle",Ld("labelAngle",t,e)),Ad(o,"fill",Ld("labelColor",t,e)),Ad(o,"font",Ld("labelFont",t,e)),Ad(o,"fontSize",Ld("labelFontSize",t,e)),Ad(o,"fontWeight",Ld("labelFontWeight",t,e)),Ad(o,"limit",Ld("labelLimit",t,e)),Ad(o,"fillOpacity",Ld("labelOpacity",t,e)),p=Ld("labelBound",t,e),d=Ld("labelOverlap",t,e),t=fz(dz,"axis-label",HL,"value",r,o,n),(d||p)&&(t.overlap={method:d,order:"datum.index",bound:p?{scale:v,orient:h,tolerance:p}:null}),t}(t,u,l.labels,i,o=n.ticks?o:0)),n.domain&&s.push(function(t,e,n,r){var i,o,a,s,u,l,c=t.orient,f={value:0};return i={enter:o={opacity:f},update:a={opacity:{value:1}},exit:{opacity:f}},Ad(i,"stroke",Ld("domainColor",t,e)),Ad(i,"strokeWidth",Ld("domainWidth",t,e)),Ad(i,"strokeOpacity",Ld("domainOpacity",t,e)),c===FL||c===VL?(s="x",l="y"):(s="y",l="x"),u=s+"2",o[l]=f,a[s]=o[s]=ah(t,0),a[u]=o[u]=ah(t,1),fz("rule","axis-domain",null,null,r,i,n)}(t,u,l.domain,r)),n.title&&s.push(function(t,e,n,r){var i,o,a,s,u=t.orient,l=u===BL||u===FL?-1:1,c=u===FL||u===VL,f={value:0};return i={enter:o={opacity:f},update:a={opacity:{value:1},text:Id(t.title)},exit:{opacity:f}},s={scale:t.scale,range:.5},c?(a.x=s,o.angle={value:0},o.baseline={value:u===FL?"bottom":"top"}):(a.y=s,o.angle={value:90*l},o.baseline={value:"bottom"}),Ad(i,"align",Ld("titleAlign",t,e)),Ad(i,"angle",Ld("titleAngle",t,e)),Ad(i,"baseline",Ld("titleBaseline",t,e)),Ad(i,"fill",Ld("titleColor",t,e)),Ad(i,"font",Ld("titleFont",t,e)),Ad(i,"fontSize",Ld("titleFontSize",t,e)),Ad(i,"fontWeight",Ld("titleFontWeight",t,e)),Ad(i,"limit",Ld("titleLimit",t,e)),Ad(i,"fillOpacity",Ld("titleOpacity",t,e)),!Ad(i,"x",Ld("titleX",t,e),"update")&&c&&!jd("x",n)&&(i.enter.auto={value:!0}),!Ad(i,"y",Ld("titleY",t,e),"update")&&!c&&!jd("y",n)&&(i.enter.auto={value:!0}),fz(dz,"axis-title","guide-title",null,r,i,n)}(t,u,l.title,r)),a=mz("axis",d,f,r,p,c,s),t.zindex&&(a.zindex=t.zindex),wz(a,e)},kz=function(t,e,n){var r=Object(Jw.i)(t.signals),i=Object(Jw.i)(t.scales);return n||r.forEach(function(t){hR(t,e)}),Object(Jw.i)(t.projections).forEach(function(t){!function(t,e){var n={};for(var r in t)"name"!==r&&(n[r]=kd(t[r],r,e));e.addProjection(t.name,n)}(t,e)}),i.forEach(function(t){!function(t,e){var n=t.type||"linear";RL.hasOwnProperty(n)||Object(Jw.m)("Unrecognized scale type: "+Object(Jw.O)(n)),e.addScale(t.name,{type:n,domain:void 0})}(t,e)}),Object(Jw.i)(t.data).forEach(function(t){ih(t,e)}),i.forEach(function(t){wd(t,e)}),r.forEach(function(t){!function(t,e){var n=e.getSignal(t.name),r=t.update;t.init&&(r?Object(Jw.m)("Signals can not include both init and update expressions."):(r=t.init,n.initonly=!0)),r&&(r=zj(r,e),n.update=r.$expr,n.params=r.$params),t.on&&t.on.forEach(function(t){iL(t,e,n.id)})}(t,e)}),Object(Jw.i)(t.axes).forEach(function(t){Oz(t,e)}),Object(Jw.i)(t.marks).forEach(function(t){wz(t,e)}),Object(Jw.i)(t.legends).forEach(function(t){xz(t,e)}),t.title&&Sz(t.title,e),e.parseLambdas(),e},Tz=Object(Jw.S)(["width","height","padding","autosize"]),Pz=uh.prototype=lh.prototype;Pz.fork=function(){return new lh(this)},Pz.isSubscope=function(){return this._subid>0},Pz.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},Pz.id=function(){return(this._subid?this._subid+":":0)+this._id++},Pz.add=function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach(function(e){e.$ref=t.id}),t.refs=null),t},Pz.proxy=function(t){var e=t instanceof Jp?ed(t):t;return this.add(SL({value:e}))},Pz.addStream=function(t){return this.streams.push(t),t.id=this.id(),t},Pz.addUpdate=function(t){return this.updates.push(t),t},Pz.finish=function(){function t(t,e,n){var r;t&&((r=t.data||(t.data={}))[e]||(r[e]=[])).push(n)}var e,n;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;for(e in this.data){t((n=this.data[e]).input,e,"input"),t(n.output,e,"output"),t(n.values,e,"values");for(var r in n.index)t(n.index[r],e,"index:"+r)}return this},Pz.pushState=function(t,e,n){this._encode.push(ed(this.add(PL({pulse:t})))),this._parent.push(e),this._lookup.push(n?ed(this.proxy(n)):null),this._markpath.push(-1)},Pz.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},Pz.parent=function(){return Object(Jw.L)(this._parent)},Pz.encode=function(){return Object(Jw.L)(this._encode)},Pz.lookup=function(){return Object(Jw.L)(this._lookup)},Pz.markpath=function(){var t=this._markpath;return++t[t.length-1]},Pz.fieldRef=function(t,e){if(Object(Jw.C)(t))return nd(t,e);t.signal||Object(Jw.m)("Unsupported field reference: "+Object(Jw.O)(t));var n,r=t.signal,i=this.field[r];return i||(n={name:this.signalRef(r)},e&&(n.as=e),this.field[r]=i=ed(this.add(hL(n)))),i},Pz.compareRef=function(t,e){function n(t){return od(t)?(i=!0,r.signalRef(t.signal)):t}var r=this,i=!1,o=Object(Jw.i)(t.field).map(n),a=Object(Jw.i)(t.order).map(n);return e&&o.push(Fj),i?ed(this.add(lL({fields:o,orders:a}))):rd(o,a)},Pz.keyRef=function(t,e){var n=this.signals,r=!1;return t=Object(Jw.i)(t).map(function(t){return od(t)?(r=!0,ed(n[t.signal])):t}),r?ed(this.add(mL({fields:t,flat:e}))):function(t,e){var n={$key:t};return e&&(n.$flat=!0),n}(t,e)},Pz.sortRef=function(t){if(!t)return t;var e=[id(t.op,t.field),Fj],n=t.order||"ascending";return n.signal?ed(this.add(lL({fields:e,orders:[n=this.signalRef(n.signal),n]}))):rd(e,[n,n])},Pz.event=function(t,e){var n=t+":"+e;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:t,type:e}),this.events[n]=r}return this.events[n]},Pz.addSignal=function(t,e){this.signals.hasOwnProperty(t)&&Object(Jw.m)("Duplicate signal name: "+Object(Jw.O)(t));var n=e instanceof Jp?e:this.add(td(e));return this.signals[t]=n},Pz.getSignal=function(t){return this.signals[t]||Object(Jw.m)("Unrecognized signal name: "+Object(Jw.O)(t)),this.signals[t]},Pz.signalRef=function(t){return this.signals[t]?ed(this.signals[t]):(this.lambdas.hasOwnProperty(t)||(this.lambdas[t]=this.add(td(null))),ed(this.lambdas[t]))},Pz.parseLambdas=function(){for(var t=Object.keys(this.lambdas),e=0,n=t.length;e<n;++e){var r=t[e],i=zj(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},Pz.property=function(t){return t&&t.signal?this.signalRef(t.signal):t},Pz.objectProperty=function(t){return t&&Object(Jw.A)(t)?this.signalRef(t.signal||ch(t)):t},Pz.exprRef=function(t,e){var n={expr:zj(t,this)};return e&&(n.expr.$name=e),ed(this.add(pL(n)))},Pz.addBinding=function(t,e){this.bindings||Object(Jw.m)("Nested signals do not support binding: "+Object(Jw.O)(t)),this.bindings.push(Object(Jw.n)({signal:t},e))},Pz.addScaleProj=function(t,e){this.scales.hasOwnProperty(t)&&Object(Jw.m)("Duplicate scale or projection name: "+Object(Jw.O)(t)),this.scales[t]=this.add(e)},Pz.addScale=function(t,e){this.addScaleProj(t,TL(e))},Pz.addProjection=function(t,e){this.addScaleProj(t,CL(e))},Pz.getScale=function(t){return this.scales[t]||Object(Jw.m)("Unrecognized scale name: "+Object(Jw.O)(t)),this.scales[t]},Pz.projectionRef=Pz.scaleRef=function(t){return ed(this.getScale(t))},Pz.projectionType=Pz.scaleType=function(t){return this.getScale(t).params.type},Pz.addData=function(t,e){return this.data.hasOwnProperty(t)&&Object(Jw.m)("Duplicate data set name: "+Object(Jw.O)(t)),this.data[t]=e},Pz.getData=function(t){return this.data[t]||Object(Jw.m)("Undefined data set name: "+Object(Jw.O)(t)),this.data[t]},Pz.addDataPipeline=function(t,e){return this.data.hasOwnProperty(t)&&Object(Jw.m)("Duplicate data set name: "+Object(Jw.O)(t)),this.addData(t,Zd.fromEntries(this,e))};var Nz=function(t){var e={padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:Dz},area:{fill:Dz},image:null,line:{stroke:Dz,strokeWidth:Mz},path:{stroke:Dz},rect:{fill:Dz},rule:{stroke:Rz},shape:{stroke:Dz},symbol:{fill:Dz,size:64},text:{fill:Rz,font:Iz,fontSize:11},style:{"guide-label":{fill:Rz,font:Iz,fontSize:10},"guide-title":{fill:Rz,font:Iz,fontSize:11,fontWeight:"bold"},"group-title":{fill:Rz,font:Iz,fontSize:13,fontWeight:"bold"},point:{size:Az,strokeWidth:Mz,shape:"circle"},circle:{size:Az,strokeWidth:Mz},square:{size:Az,strokeWidth:Mz,shape:"square"},cell:{fill:"transparent",stroke:Lz}},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:jz,grid:!1,gridWidth:1,gridColor:Lz,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:jz,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titleAlign:"center",titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",offset:18,padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:Lz,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:jz,titleAlign:"left",titleBaseline:"top",titleLimit:180,titlePadding:5},title:{orient:"top",anchor:"middle",offset:4},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues",extent:[.2,1]},heatmap:{scheme:"viridis"},ramp:{scheme:"blues",extent:[.2,1]},diverging:{scheme:"blueorange"},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}};return(t||[]).forEach(function(t){var n,r,i;if(t)for(n in t)if("style"===n){i=e.style||(e.style={});for(n in t.style)i[n]=Object(Jw.n)(i[n]||{},t.style[n])}else r=t[n],e[n]=Object(Jw.A)(r)&&!Object(Jw.v)(r)?Object(Jw.n)(Object(Jw.A)(e[n])?e[n]:{},r):r}),e},Iz="sans-serif",Az=30,Mz=2,Dz="#4c78a8",Rz="#000",jz="#888",Lz="#ddd",zz=function(t,e){return Object(Jw.A)(t)||Object(Jw.m)("Input Vega specification must be an object."),function(t,e){var n,r,i,o,a,s=e.config;return e.background=t.background||s.background,e.eventConfig=s.events,a=ed(e.root=e.add(td())),e.addSignal("width",t.width||0),e.addSignal("height",t.height||0),e.addSignal("padding",pR(t.padding,s)),e.addSignal("autosize",fR(t.autosize,s)),Object(Jw.i)(t.signals).forEach(function(t){Tz[t.name]||hR(t,e)}),r=e.add(uL()),i=Md({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t.encode),i=e.add(fL(Dd(i,pz,lz,t.style,e,{pulse:ed(r)}))),o=e.add(IL({layout:e.objectProperty(t.layout),legendMargin:s.legendMargin,autosize:e.signalRef("autosize"),mark:a,pulse:ed(i)})),e.operators.pop(),e.pushState(ed(i),ed(o),null),kz(t,e,!0),e.operators.push(o),n=e.add(sL({mark:a,pulse:ed(o)})),n=e.add(kL({pulse:ed(n)})),n=e.add(PL({pulse:ed(n)})),e.addData("root",new Zd(e,r,r,n)),e}(t,new uh(Nz([e,t.config]))).toRuntime()},Fz=[{key:"$ref",parse:function(t,e){return e.get(t.$ref)||Object(Jw.m)("Operator not defined: "+t.$ref)}},{key:"$key",parse:function(t,e){var n="k:"+t.$key+"_"+!!t.$flat;return e.fn[n]||(e.fn[n]=Object(Jw.D)(t.$key,t.$flat))}},{key:"$expr",parse:function(t,e,n){t.$params&&hh(t.$params,e,n);var r="e:"+t.$expr+"_"+t.$name;return e.fn[r]||(e.fn[r]=Object(Jw.f)(function(t,e){return fh(["datum","_"],t,e)}(t.$expr,e),t.$fields,t.$name))}},{key:"$field",parse:function(t,e){if(!t.$field)return null;var n="f:"+t.$field+"_"+t.$name;return e.fn[n]||(e.fn[n]=Object(Jw.r)(t.$field,t.$name))}},{key:"$encode",parse:function(t,e){var n,r,i=t.$encode,o={};for(n in i)r=i[n],o[n]=Object(Jw.f)(dh(r.$expr,e),r.$fields),o[n].output=r.$output;return o}},{key:"$compare",parse:function(t,e){var n="c:"+t.$compare+"_"+t.$order,r=Object(Jw.i)(t.$compare).map(function(t){return t&&t.$tupleid?o:t});return e.fn[n]||(e.fn[n]=Object(Jw.j)(r,t.$order))}},{key:"$context",parse:function(t,e){return e}},{key:"$subflow",parse:function(t,e){var n=t.$subflow;return function(t,r,i){var o=Uz(n,e.fork()),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(i),a}}},{key:"$tupleid",parse:function(){return o}}],Bz=function(t,e){!function(t){return"operator"===gh(t)}(t.type)&&t.type?e.transform(t,t.type):e.operator(t,t.update?function(t,e){return fh(["_"],t,e)}(t.update,e):null)},Vz=function(t,e){var n=Object(Jw.A)(n=t.source)?n.$ref:n,r=e.get(n),i=null,o=t.update,a=void 0;r||Object(Jw.m)("Source not defined: "+t.source),i=t.target&&t.target.$expr?ph(t.target.$expr,e):e.get(t.target),o&&o.$expr&&(o.$params&&(a=hh(o.$params,e)),o=function(t,e){return fh(["_","event"],t,e)}(o.$expr,e)),e.update(t,r,i,o,a)},Uz=function(t,e){var n=t.operators||[];return t.background&&(e.background=t.background),t.eventConfig&&(e.eventConfig=t.eventConfig),n.forEach(function(t){Bz(t,e)}),n.forEach(function(t){!function(t,e){if(t.params){var n=e.get(t.id);n||Object(Jw.m)("Invalid operator id: "+t.id),e.dataflow.connect(n,n.parameters(hh(t.params,e),t.react,t.initonly))}}(t,e)}),(t.streams||[]).forEach(function(t){!function(t,e){var n,r=null!=t.filter?ph(t.filter,e):void 0,i=null!=t.stream?e.get(t.stream):void 0;t.source?i=e.events(t.source,t.type,r):t.merge&&(i=(n=t.merge.map(e.get.bind(e)))[0].merge.apply(n[0],n.slice(1))),t.between&&(n=t.between.map(e.get.bind(e)),i=i.between(n[0],n[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&Object(Jw.m)("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),e.stream(t,i)}(t,e)}),(t.updates||[]).forEach(function(t){Vz(t,e)}),e.resolve()},Wz={skip:!0},qz=function(t,e,n){return new vh(t,e,n)};vh.prototype=yh.prototype={fork:function(){var t=new yh(this);return(this.subcontext||(this.subcontext=[])).push(t),t},get:function(t){return this.nodes[t]},set:function(t,e){return this.nodes[t]=e},add:function(t,e){var n,r=this,i=r.dataflow;if(r.set(t.id,e),function(t){return"collect"===gh(t)}(t.type)&&(n=t.value)&&(n.$ingest?i.ingest(e,n.$ingest,n.$format):n.$load?r.get(n.$load.$ref).target=e:n.$request?i.request(e,n.$request,n.$format):i.pulse(e,i.changeset().insert(n))),t.root&&(r.root=e),t.parent){var o=r.get(t.parent.$ref);o?(i.connect(o,[e]),e.targets().add(o)):(r.unresolved=r.unresolved||[]).push(function(){o=r.get(t.parent.$ref),i.connect(o,[e]),e.targets().add(o)})}if(t.signal&&(r.signals[t.signal]=e),t.scale&&(r.scales[t.scale]=e),t.data)for(var a in t.data)n=r.data[a]||(r.data[a]={}),t.data[a].forEach(function(t){n[t]=e})},resolve:function(){return(this.unresolved||[]).forEach(function(t){t()}),delete this.unresolved,this},operator:function(t,e){this.add(t,this.dataflow.add(t.value,e))},transform:function(t,e){this.add(t,this.dataflow.add(this.transforms[gh(e)]))},stream:function(t,e){this.set(t.id,e)},update:function(t,e,n,r,i){this.dataflow.on(e,n,r,i,t.options)},getState:function(t){var e=this,n={};if(t.signals){var r=n.signals={};Object.keys(e.signals).forEach(function(n){var i=e.signals[n];t.signals(n,i)&&(r[n]=i.value)})}if(t.data){var i=n.data={};Object.keys(e.data).forEach(function(n){var r=e.data[n];t.data(n,r)&&(i[n]=r.input.value)})}return e.subcontext&&!1!==t.recurse&&(n.subcontext=e.subcontext.map(function(e){return e.getState(t)})),n},setState:function(t){var e=this,n=e.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach(function(t){n.update(e.signals[t],i[t],Wz)}),Object.keys(r||{}).forEach(function(t){n.pulse(e.data[t].input,n.changeset().remove(Jw.V).insert(r[t]))}),(t.subcontext||[]).forEach(function(t,n){var r=e.subcontext[n];r&&r.setState(t)})}};var Hz=function(t,e,n){return Uz(e,qz(t,kE,n||Pj))},Gz="width",$z="height",Yz="padding",Kz={skip:!0},Xz=function(t,e,n,r){var i=t.element();i&&i.setAttribute("title",wh(r))},Zz=Object(Jw.u)(Ch,re);Zz.run=function(t){if(re.prototype.run.call(this,t),this._pending)this.resize();else if(this._redraw||this._resize)try{this.render()}catch(t){this.error(t)}return this},Zz.render=function(){return this._renderer&&(this._resize&&(this._resize=0,function(t){var e=_f(t),n=yf(t),r=bf(t);t._renderer.background(t._background),t._renderer.resize(n,r,e),t._handler.origin(e),t._resizeListeners.forEach(function(e){try{e(n,r)}catch(e){t.error(e)}})}(this)),this._renderer.render(this._scenegraph.root)),this._redraw=!1,this},Zz.dirty=function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},Zz.container=function(){return this._el},Zz.scenegraph=function(){return this._scenegraph},Zz.origin=function(){return this._origin.slice()},Zz.signal=function(t,e,n){var r=Sh(this,t);return 1===arguments.length?r.value:this.update(r,e,n)},Zz.background=function(t){return arguments.length?(this._background=t,this._resize=1,this):this._background},Zz.width=function(t){return arguments.length?this.signal("width",t):this.signal("width")},Zz.height=function(t){return arguments.length?this.signal("height",t):this.signal("height")},Zz.padding=function(t){return arguments.length?this.signal("padding",t):this.signal("padding")},Zz.autosize=function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},Zz.renderer=function(t){return arguments.length?(Ii(t)||Object(Jw.m)("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},Zz.tooltip=function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},Zz.loader=function(t){return arguments.length?(t!==this._loader&&(re.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},Zz.resize=function(){return this._autosize=1,this.touch(Sh(this,"autosize"))},Zz._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el))},Zz._resizeView=function(t,e,n,r,i,o){this.runAfter(function(a){var s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal(Gz,n,Kz),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal($z,r,Kz),a._resizeHeight.skip(!0)),a._viewWidth!==t&&(a._resize=1,a._viewWidth=t),a._viewHeight!==e&&(a._resize=1,a._viewHeight=e),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter(function(){a.resize()})},!1,1)},Zz.addEventListener=function(t,e,n){var r=e;return n&&!1===n.trap||((r=lR(this,e)).raw=e),this._handler.on(t,r),this},Zz.removeEventListener=function(t,e){for(var n,r,i=this._handler.handlers(t),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,t===r&&(e===n||e===n.raw)){this._handler.off(r,n);break}return this},Zz.addResizeListener=function(t){var e=this._resizeListeners;return e.indexOf(t)<0&&e.push(t),this},Zz.removeResizeListener=function(t){var e=this._resizeListeners,n=e.indexOf(t);return n>=0&&e.splice(n,1),this},Zz.addSignalListener=function(t,e){return kh(this,t,Sh(this,t),e)},Zz.removeSignalListener=function(t,e){return Th(this,Sh(this,t),e)},Zz.addDataListener=function(t,e){return kh(this,t,gf(this,t).values,e)},Zz.removeDataListener=function(t,e){return Th(this,gf(this,t).values,e)},Zz.preventDefault=function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},Zz.timer=function(t,e){this._timers.push(function(t,e,n){var r=new jl,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Dl():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)}(function(e){t({timestamp:Date.now(),elapsed:e})},e))},Zz.events=function(t,e,n){var r,i=this,o=new g(n),a=function(n,r){t===JD&&function(t,e){var n=t._eventConfig.defaults,r=n&&n.prevent,i=n&&n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[e]:i?!i[e]:t.preventDefault()))}(i,e)&&n.preventDefault();try{o.receive(ZD(i,n,r))}catch(t){i.error(t)}finally{i.run()}};if(t===QD)i.timer(a,e);else if(t===JD)i.addEventListener(e,a,eR);else if(t===tR?"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&(r=document.querySelectorAll(t)),r){for(var s=0,u=r.length;s<u;++s)r[s].addEventListener(e,a);i._eventListeners.push({type:e,sources:r,handler:a})}else i.warn("Can not resolve event source: "+t);return o},Zz.finalize=function(){var t,e,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(t=i.length;--t>=0;)i[t].stop();for(t=o.length;--t>=0;)for(e=(n=o[t]).sources.length;--e>=0;)n.sources[e].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},Zz.hover=function(t,e){return t=[t||"hover"],e=[e||"update",t[0]],this.on(this.events("view","mouseover",wf),xf,Ef(t)),this.on(this.events("view","mouseout",wf),xf,Ef(e)),this},Zz.data=function(t){return gf(this,t).values.value},Zz.change=vf,Zz.insert=function(t,e){return vf.call(this,t,p().insert(e))},Zz.remove=function(t,e){return vf.call(this,t,p().remove(e))},Zz.scale=function(t){var e=this._runtime.scales;return e.hasOwnProperty(t)||Object(Jw.m)("Unrecognized scale or projection: "+t),e[t].value},Zz.initialize=function(t,e){var n,r,i=this,o=i._renderType,a=Ii(o);return t=i._el=t?Nf(i,t):null,a||i.error("Unrecognized renderer type: "+o),n=a.handler||mi,r=t?a.renderer:a.headless,i._renderer=r?uR(i,i._renderer,t,r):null,i._handler=function(t,e,n,r){var i=new r(t.loader(),lR(t,t.tooltip())).scene(t.scenegraph().root).initialize(n,_f(t),t);return e&&e.handlers().forEach(function(t){i.on(t.type,t.handler)}),i}(i,i._handler,t,n),i._redraw=!0,t&&(e=e?Nf(i,e):t.appendChild(nR("div",{class:"vega-bindings"})),i._bind.forEach(function(t){t.param.element&&(t.element=Nf(i,t.param.element))}),i._bind.forEach(function(t){sR(i,t.element||e,t)})),i},Zz.toImageURL=function(t,e){return t!==ck.Canvas&&t!==ck.SVG&&t!==ck.PNG?Promise.reject("Unrecognized image type: "+t):cR(this,t,e).then(function(e){return t===ck.SVG?function(t,e){var n=new Blob([t],{type:e});return window.URL.createObjectURL(n)}(e.svg(),"image/svg+xml"):e.canvas().toDataURL("image/png")})},Zz.toCanvas=function(t){return cR(this,ck.Canvas,t).then(function(t){return t.canvas()})},Zz.toSVG=function(t){return cR(this,ck.SVG,t).then(function(t){return t.svg()})},Zz.getState=function(t){return this._runtime.getState(t||{data:function(t,e){return e.modified&&Object(Jw.v)(e.input.value)&&t.indexOf("_:vega:_")},signals:function(t,e){return!("parent"===t||e instanceof kE.proxy)},recurse:!0})},Zz.setState=function(t){var e=this;return e.runAfter(function(){e._trigger=!1,e._runtime.setState(t),e.run().runAfter(function(){e._trigger=!0})}),this},Object(Jw.n)(kE,lw,cw,dw,hw,mw,gw,vw,yw,bw);var Jz,Qz=n(463),tF=n.n(Qz),eF=n(464),nF=n.n(eF),rF=tF.a,iF=nF.a,oF=Object.keys,aF=42,sF={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},uF=tm(sF),lF=["count","valid","missing","distinct"],cF=["count","sum","distinct","valid","missing"],fF=["mean","average","median","q1","q3","min","max"],pF=Object(Jw.S)(fF),dF=["domain","grid","labels","ticks","title"],hF={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"main",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"main",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},mF={orient:1,bandPosition:1,domain:1,domainColor:1,domainOpacity:1,domainWidth:1,format:1,grid:1,gridColor:1,gridDash:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickExtra:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},gF=$w.__assign({},mF,{encoding:1,labelAngle:1,tickStep:1}),vF=tm($w.__assign({gridScale:1,scale:1},mF,{encode:1})),yF=tm(gF),bF=Object(Jw.E)(Jw.e),_F=bF;!function(t){t.INVALID_SPEC="Invalid spec",t.FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.',t.CANNOT_FIX_RANGE_STEP_WITH_FIT='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',t.cannotProjectOnChannelWithoutField=function(t){return'Cannot project a selection on encoding channel "'+t+'", which has no field.'},t.nearestNotSupportForContinuous=function(t){return'The "nearest" transform is not supported for '+t+" marks."},t.selectionNotSupported=function(t){return"Selection not supported for "+t+" yet"},t.selectionNotFound=function(t){return'Cannot find a selection named "'+t+'"'},t.SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.",t.noSuchRepeatedValue=function(t){return'Unknown repeated value "'+t+'".'},t.CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated views.",t.REPEAT_CANNOT_SHARE_AXIS="Axes cannot be shared in repeated views.",t.cannotSetTitleAnchor=function(t){return'Cannot set title "anchor" for a '+t+" spec"},t.unrecognizedParse=function(t){return'Unrecognized parse "'+t+'".'},t.differentParse=function(t,e,n){return'An ancestor parsed field "'+t+'" as '+n+" but a child wants to parse the field as "+e+"."},t.invalidTransformIgnored=function(t){return"Ignoring an invalid transform: "+iF(t)+"."},t.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.',t.encodingOverridden=function(t){return"Layer's shared "+t.join(",")+" channel "+(1===t.length?"is":"are")+" overriden"},t.projectionOverridden=function(t){var e=t.projection;return"Layer's shared projection "+iF(t.parentProjection)+" is overridden by a child projection "+iF(e)+"."},t.primitiveChannelDef=function(t,e,n){return"Channel "+t+" is a "+e+". Converted to {value: "+iF(n)+"}."},t.invalidFieldType=function(t){return'Invalid field type "'+t+'"'},t.nonZeroScaleUsedWithLengthMark=function(t,e,n){return"A "+(n.scaleType?n.scaleType+" scale":n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero")+" is used to encode "+t+"'s "+e+". This can be misleading as the "+("x"===e?"width":"height")+" of the "+t+" can be arbitrary based on the scale domain. You may want to use point mark instead."},t.invalidFieldTypeForCountAggregate=function(t,e){return'Invalid field type "'+t+'" for aggregate: "'+e+'", using "quantitative" instead.'},t.invalidAggregate=function(t){return'Invalid aggregation operator "'+t+'"'},t.emptyOrInvalidFieldType=function(t,e,n){return'Invalid field type "'+t+'" for channel "'+e+'", using "'+n+'" instead.'},t.droppingColor=function(t,e){var n=e.fill;return"Dropping color "+t+" as the plot also has "+(n&&e.stroke?"fill and stroke":n?"fill":"stroke")},t.emptyFieldDef=function(t,e){return"Dropping "+iF(t)+' from channel "'+e+'" since it does not contain data field or value.'},t.latLongDeprecated=function(t,e,n){return t+"-encoding with type "+e+" is deprecated. Replacing with "+n+"-encoding."},t.LINE_WITH_VARYING_SIZE="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.",t.incompatibleChannel=function(t,e,n){return t+' dropped as it is incompatible with "'+e+'"'+(n?" when "+n:"")+"."},t.invalidEncodingChannel=function(t){return t+"-encoding is dropped as "+t+" is not a valid encoding channel."},t.facetChannelShouldBeDiscrete=function(t){return t+" encoding should be discrete (ordinal / nominal / binned)."},t.discreteChannelCannotEncode=function(t,e){return'Using discrete channel "'+t+'" to encode "'+e+'" field can be misleading as it does not encode '+("ordinal"===e?"order":"magnitude")+"."},t.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",t.lineWithRange=function(t,e){return"Line mark is for continuous lines and thus cannot be used with "+(t&&e?"x2 and y2":t?"x2":"y2")+". We will use the rule mark (line segments) instead."},t.orientOverridden=function(t,e){return'Specified orient "'+t+'" overridden with "'+e+'"'},t.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",t.cannotUseScalePropertyWithNonColor=function(t){return'Cannot use the scale property "'+t+'" with non-color channel.'},t.unaggregateDomainHasNoEffectForRawField=function(t){return"Using unaggregated domain with raw field has no effect ("+iF(t)+")."},t.unaggregateDomainWithNonSharedDomainOp=function(t){return'Unaggregated domain not applicable for "'+t+'" since it produces values outside the origin domain of the source data.'},t.unaggregatedDomainWithLogScale=function(t){return"Unaggregated domain is currently unsupported for log scale ("+iF(t)+")."},t.cannotApplySizeToNonOrientedMark=function(t){return'Cannot apply size to non-oriented mark "'+t+'".'},t.rangeStepDropped=function(t){return'rangeStep for "'+t+'" is dropped as top-level '+("x"===t?"width":"height")+" is provided."},t.scaleTypeNotWorkWithChannel=function(t,e,n){return'Channel "'+t+'" does not work with "'+e+'" scale. We are using "'+n+'" scale instead.'},t.scaleTypeNotWorkWithFieldDef=function(t,e){return'FieldDef does not work with "'+t+'" scale. We are using "'+e+'" scale instead.'},t.scalePropertyNotWorkWithScaleType=function(t,e,n){return n+"-scale's \""+e+'" is dropped as it does not work with '+t+" scale."},t.scaleTypeNotWorkWithMark=function(t,e){return'Scale type "'+e+'" does not work with mark "'+t+'".'},t.mergeConflictingProperty=function(t,e,n,r){return"Conflicting "+e.toString()+' property "'+t.toString()+'" ('+iF(n)+" and "+iF(r)+").  Using "+iF(n)+"."},t.independentScaleMeansIndependentGuide=function(t){return'Setting the scale to be independent for "'+t+'" means we also have to set the guide (axis or legend) to be independent.'},t.domainSortDropped=function(t){return"Dropping sort property "+iF(t)+" as unioned domains only support boolean or op 'count'."},t.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",t.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",t.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",t.cannotStackRangedMark=function(t){return'Cannot stack "'+t+'" if there is already "'+t+'2"'},t.cannotStackNonLinearScale=function(t){return"Cannot stack non-linear scale ("+t+")"},t.stackNonSummativeAggregate=function(t){return'Stacking is applied even though the aggregate function is non-summative ("'+t+'")'},t.invalidTimeUnit=function(t,e){return"Invalid "+t+": "+iF(e)},t.dayReplacedWithDate=function(t){return'Time unit "'+t+'" is not supported. We are replacing it with '+t.replace("day","date")+"."},t.droppedDay=function(t){return"Dropping day from datetime "+iF(t)+" as day cannot be combined with other units."},t.errorBarCenterAndExtentAreNotNeeded=function(t,e){return(e?"extent ":"")+(e&&t?"and ":"")+(t?"center ":"")+(e&&t?"are ":"is ")+"not needed when data are aggregated."},t.errorBarCenterIsUsedWithWrongExtent=function(t,e,n){return t+" is not usually used with "+e+" for "+n+"."},t.errorBarContinuousAxisHasCustomizedAggregate=function(t,e){return"Continuous axis should not have customized aggregation function "+t+"; "+e+" already agregates the axis."},t.errorBarCenterIsNotNeeded=function(t,e){return"Center is not needed to be specified in "+e+" when extent is "+t+"."},t.errorBand1DNotSupport=function(t){return"1D error band does not support "+t},t.channelRequiredForBinned=function(t){return"Channel "+t+' is required for "binned" bin'},t.domainRequiredForThresholdScale=function(t){return"Domain for "+t+" is required for threshold scale"}}(Jz||(Jz={}));var wF,xF=2006,EF=["january","february","march","april","may","june","july","august","september","october","november","december"],CF=EF.map(function(t){return t.substr(0,3)}),SF=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],OF=SF.map(function(t){return t.substr(0,3)});!function(t){t.YEAR="year",t.MONTH="month",t.DAY="day",t.DATE="date",t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds",t.MILLISECONDS="milliseconds",t.YEARMONTH="yearmonth",t.YEARMONTHDATE="yearmonthdate",t.YEARMONTHDATEHOURS="yearmonthdatehours",t.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",t.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",t.MONTHDATE="monthdate",t.MONTHDATEHOURS="monthdatehours",t.HOURSMINUTES="hoursminutes",t.HOURSMINUTESSECONDS="hoursminutesseconds",t.MINUTESSECONDS="minutesseconds",t.SECONDSMILLISECONDS="secondsmilliseconds",t.QUARTER="quarter",t.YEARQUARTER="yearquarter",t.QUARTERMONTH="quartermonth",t.YEARQUARTERMONTH="yearquartermonth",t.UTCYEAR="utcyear",t.UTCMONTH="utcmonth",t.UTCDAY="utcday",t.UTCDATE="utcdate",t.UTCHOURS="utchours",t.UTCMINUTES="utcminutes",t.UTCSECONDS="utcseconds",t.UTCMILLISECONDS="utcmilliseconds",t.UTCYEARMONTH="utcyearmonth",t.UTCYEARMONTHDATE="utcyearmonthdate",t.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",t.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",t.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",t.UTCMONTHDATE="utcmonthdate",t.UTCMONTHDATEHOURS="utcmonthdatehours",t.UTCHOURSMINUTES="utchoursminutes",t.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",t.UTCMINUTESSECONDS="utcminutesseconds",t.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",t.UTCQUARTER="utcquarter",t.UTCYEARQUARTER="utcyearquarter",t.UTCQUARTERMONTH="utcquartermonth",t.UTCYEARQUARTERMONTH="utcyearquartermonth"}(wF||(wF={}));var kF,TF={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},PF=tm(TF),NF={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1},IF={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},AF=$w.__assign({},NF,IF),MF=$w.__assign({},TF,NF,{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},IF),DF=tm(MF),RF={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};!function(t){t.QUANTITATIVE="quantitative",t.ORDINAL="ordinal",t.TEMPORAL="temporal",t.NOMINAL="nominal",t.GEOJSON="geojson"}(kF||(kF={}));var jF,LF={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},zF=kF.QUANTITATIVE,FF=kF.ORDINAL,BF=kF.TEMPORAL,VF=kF.NOMINAL,UF=kF.GEOJSON,WF=function(t,e){switch(e.fieldTitle){case"plain":return t.field;case"functional":return rg(t);default:return ng(t,e)}},qF=WF,HF={compatible:!0};!function(t){t.AREA="area",t.BAR="bar",t.LINE="line",t.POINT="point",t.RECT="rect",t.RULE="rule",t.TEXT="text",t.TICK="tick",t.TRAIL="trail",t.CIRCLE="circle",t.SQUARE="square",t.GEOSHAPE="geoshape"}(jF||(jF={}));var GF,$F=jF.AREA,YF=jF.BAR,KF=jF.LINE,XF=jF.POINT,ZF=jF.TEXT,JF=jF.TICK,QF=jF.TRAIL,tB=jF.RECT,eB=jF.RULE,nB=jF.GEOSHAPE,rB=jF.CIRCLE,iB=jF.SQUARE,oB={area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1},aB=tm(oB),sB=Object(Jw.S)(aB),uB=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],lB=["fill","fillOpacity"],cB=[].concat(uB,lB),fB=["filled","color","tooltip"],pB={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},dB={color:"#4c78a8",tooltip:{content:"encoding"}},hB={binSpacing:1,continuousBandSize:5},mB={thickness:1};!function(t){t.ROW="row",t.COLUMN="column",t.X="x",t.Y="y",t.X2="x2",t.Y2="y2",t.XERROR="xError",t.YERROR="yError",t.XERROR2="xError2",t.YERROR2="yError2",t.LATITUDE="latitude",t.LONGITUDE="longitude",t.LATITUDE2="latitude2",t.LONGITUDE2="longitude2",t.COLOR="color",t.FILL="fill",t.STROKE="stroke",t.SHAPE="shape",t.SIZE="size",t.OPACITY="opacity",t.FILLOPACITY="fillOpacity",t.STROKEOPACITY="strokeOpacity",t.STROKEWIDTH="strokeWidth",t.TEXT="text",t.ORDER="order",t.DETAIL="detail",t.KEY="key",t.TOOLTIP="tooltip",t.HREF="href"}(GF||(GF={}));var gB,vB=GF.X,yB=GF.Y,bB=GF.X2,_B=GF.Y2,wB=GF.XERROR,xB=GF.YERROR,EB=GF.XERROR2,CB=GF.YERROR2,SB=GF.LATITUDE,OB=GF.LATITUDE2,kB=GF.LONGITUDE,TB=GF.LONGITUDE2,PB=GF.ROW,NB=GF.COLUMN,IB=GF.SHAPE,AB=GF.SIZE,MB=GF.COLOR,DB=GF.FILL,RB=GF.STROKE,jB=GF.TEXT,LB=GF.DETAIL,zB=GF.KEY,FB=GF.ORDER,BB=GF.OPACITY,VB=GF.FILLOPACITY,UB=GF.STROKEOPACITY,WB=GF.STROKEWIDTH,qB=GF.TOOLTIP,HB=GF.HREF,GB={longitude:1,longitude2:1,latitude:1,latitude2:1},$B=tm(GB),YB=$w.__assign({x:1,y:1,x2:1,y2:1,xError:1,yError:1,xError2:1,yError2:1},GB,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1}),KB=$w.__assign({},YB,{row:1,column:1}),XB=tm(KB),ZB=tm($w.__rest(KB,["order","detail"])),JB=tm(YB),QB=$w.__rest(YB,["x","y","x2","y2","xError","yError","xError2","yError2","latitude","longitude","latitude2","longitude2"]),tV=tm(QB),eV={x:1,y:1},nV=tm(eV),rV=$w.__rest(QB,["text","tooltip","href","detail","key","order"]),iV=tm(rV),oV=$w.__assign({},eV,rV),aV=tm(oV);!function(t){t.LINEAR="linear",t.BIN_LINEAR="bin-linear",t.LOG="log",t.POW="pow",t.SQRT="sqrt",t.TIME="time",t.UTC="utc",t.SEQUENTIAL="sequential",t.QUANTILE="quantile",t.QUANTIZE="quantize",t.THRESHOLD="threshold",t.ORDINAL="ordinal",t.BIN_ORDINAL="bin-ordinal",t.POINT="point",t.BAND="band"}(gB||(gB={}));var sV={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},uV=oF(sV),lV={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:10,band:11,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},cV=["linear","bin-linear","log","pow","sqrt","time","utc"],fV=Object(Jw.S)(cV),pV=["quantile","quantize","threshold"],dV=Object(Jw.S)(pV),hV=cV.concat(["sequential","quantile","quantize","threshold"]),mV=Object(Jw.S)(hV),gV=["ordinal","bin-ordinal","point","band"],vV=Object(Jw.S)(gV),yV=Object(Jw.S)(["bin-linear","bin-ordinal"]),bV=["time","utc"],_V={textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},wV={type:1,domain:1,range:1,rangeStep:1,scheme:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},xV=tm(wV),EV=tm($w.__rest(wV,["type","domain","range","rangeStep","scheme"])),CV=function(){for(var t={},e=0,n=XB;e<n.length;e++)for(var r=n[e],i=0,o=oF(LF);i<o.length;i++)for(var a=o[i],s=0,u=uV;s<u.length;s++)for(var l=u[s],c=0,f=[!1,!0];c<f.length;c++){var p=f[c],d=Xg(r,a,p);Yg(r,l)&&$g(l,a,p)&&(t[d]=t[d]||[],t[d].push(l))}return t}(),SV="_vgsid_",OV={single:{on:"click",fields:[SV],resolve:"global",empty:"all"},multi:{on:"click",fields:[SV],toggle:"event.shiftKey",resolve:"global",empty:"all"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}},kV={zero:1,center:1,normalize:1},TV=[YF,$F,eB,XF,rB,iB,KF,ZF,JF],PV=[YF,$F],NV=["background","padding"],IV=tm({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1}),AV={titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontWeight:"fontWeight",titleLimit:"limit",titlePadding:"offset"},MV={labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelLimit:"limit",labelPadding:"offset"},DV=Object.keys(AV),RV=Object.keys(MV),jV=function(){function t(t,e){this.debugName=e,this._children=[],this._parent=null,t&&(this.parent=t)}return t.prototype.clone=function(){throw new Error("Cannot clone node")},t.prototype.hash=function(){return void 0===this._hash&&(this._hash=dm()),this._hash},t.prototype.producedFields=function(){return{}},t.prototype.dependentFields=function(){return{}},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t,t.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return this._children.length},t.prototype.addChild=function(t,e){this._children.indexOf(t)>-1?console.warn("Attempt to add the same child twice."):void 0!==e?this._children.splice(e,0,t):this._children.push(t)},t.prototype.removeChild=function(t){var e=this._children.indexOf(t);return this._children.splice(e,1),e},t.prototype.remove=function(){for(var t=this._parent.removeChild(this),e=0,n=this._children;e<n.length;e++){var r=n[e];r._parent=this._parent,this._parent.addChild(r,t++)}},t.prototype.insertAsParentOf=function(t){var e=t.parent;e.removeChild(this),this.parent=e,t.parent=this},t.prototype.swapWithParent=function(){for(var t=this._parent,e=t.parent,n=0,r=this._children;n<r.length;n++){r[n].parent=t}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=e,t.parent=this},t}(),LV=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.type=r,o.refCounts=i,o._source=o._name=n,!o.refCounts||o._name in o.refCounts||(o.refCounts[o._name]=0),o}return $w.__extends(e,t),e.prototype.clone=function(){var t=new this.constructor;return t.debugName="clone_"+this.debugName,t._source=this._source,t._name="clone_"+this._name,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t},e.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},e.prototype.isRequired=function(){return!!this.refCounts[this._name]},e.prototype.setSource=function(t){this._source=t},e}(jV),zV=function(t){function e(e,n){var r=t.call(this,e)||this;return r.transform=n,r._dependentFields=Wv(r.transform.calculate),r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.transform))},e.parseAllForSortIndex=function(t,n){return n.forEachFieldDef(function(n,r){if(Ym(n)&&Bv(n.sort)){var i=n.field,o=n.timeUnit,a=n.sort,s=a.map(function(t,e){return wb({field:i,timeUnit:o,equal:t})+" ? "+e+" : "}).join("")+a.length;t=new e(t,{calculate:s,as:qv(n,r,{forAs:!0})})}}),t},e.prototype.producedFields=function(){var t={};return t[this.transform.as]=!0,t},e.prototype.dependentFields=function(){return this._dependentFields},e.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},e.prototype.hash=function(){return"Calculate "+jh(this.transform)},e}(jV),FV=["row","column"],BV=["header","footer"],VV={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64},UV={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,strokeWidth:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,title:1,titleAlign:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,type:1,values:1,zindex:1},WV=$w.__assign({},UV,{opacity:1,shape:1,stroke:1,fill:1,size:1,encode:1}),qV=tm(UV),HV=tm(WV),GV=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.explicit=t,this.implicit=e}return t.prototype.clone=function(){return new t(em(this.explicit),em(this.implicit))},t.prototype.combine=function(){return $w.__assign({},this.explicit,this.implicit)},t.prototype.get=function(t){return pm(this.explicit[t],this.implicit[t])},t.prototype.getWithExplicit=function(t){return void 0!==this.explicit[t]?{explicit:!0,value:this.explicit[t]}:void 0!==this.implicit[t]?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}},t.prototype.setWithExplicit=function(t,e){void 0!==e.value&&this.set(t,e.value,e.explicit)},t.prototype.set=function(t,e,n){return delete this[n?"implicit":"explicit"][t],this[n?"explicit":"implicit"][t]=e,this},t.prototype.copyKeyFromSplit=function(t,e){void 0!==e.explicit[t]?this.set(t,e.explicit[t],!0):void 0!==e.implicit[t]&&this.set(t,e.implicit[t],!1)},t.prototype.copyKeyFromObject=function(t,e){void 0!==e[t]&&this.set(t,e[t],!0)},t.prototype.copyAll=function(t){for(var e=0,n=oF(t.combine());e<n.length;e++){var r=n[e],i=t.getWithExplicit(r);this.setWithExplicit(r,i)}},t}(),$V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e}(GV),YV="main",KV="raw",XV=["type","clipAngle","clipExtent","center","rotate","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],ZV=function(t){function e(e,n,r,i){var o=t.call(this,$w.__assign({},n),{name:e})||this;return o.specifiedProjection=n,o.size=r,o.data=i,o.merged=!1,o}return $w.__extends(e,t),e}(GV),JV=function(t){function e(e){var n=t.call(this,null)||this,r=(e=e||{name:"source"}).format?$w.__assign({},Rh(e.format,["parse"])):{};if(by(e))n._data={values:e.values};else if(yy(e)){if(n._data={url:e.url},!r.type){var i=/(?:\.([^.]+))?$/.exec(e.url)[1];Lh(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else _y(e)&&(n._data={});return e.name&&(n._name=e.name),r&&oF(r).length>0&&(n._data.format=r),n}return $w.__extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.hasName=function(){return!!this._name},Object.defineProperty(e.prototype,"dataName",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{set:function(t){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),e.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},e.prototype.hash=function(){throw new Error("Cannot hash sources")},e.prototype.assemble=function(){return $w.__assign({name:this._name},this._data,{transform:[]})},e}(jV),QV=function(){function t(){this._mutated=!1}return t.prototype.setMutated=function(){this._mutated=!0},Object.defineProperty(t.prototype,"mutatedFlag",{get:function(){return this._mutated},enumerable:!0,configurable:!0}),t}(),tU=function(t){function e(){var e=t.call(this)||this;return e._continue=!1,e}return $w.__extends(e,t),e.prototype.setContinue=function(){this._continue=!0},Object.defineProperty(e.prototype,"continueFlag",{get:function(){return this._continue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(t){var e=t.mutatedFlag;t.continueFlag&&this.setContinue(),e&&this.setMutated()},enumerable:!0,configurable:!0}),e.prototype.optimizeNextFromLeaves=function(t){if(t instanceof JV)return!1;var e=t.parent;return this.run(t).continueFlag&&this.optimizeNextFromLeaves(e),this.mutatedFlag},e}(QV),eU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e}(QV),nU=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dimensions=n,i.measures=r,i}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,$w.__assign({},this.dimensions),em(this.measures))},Object.defineProperty(e.prototype,"groupBy",{get:function(){return this.dimensions},enumerable:!0,configurable:!0}),e.makeFromEncoding=function(t,n){var r=!1;n.forEachFieldDef(function(t){t.aggregate&&(r=!0)});var i={},o={};return r?(n.forEachFieldDef(function(t,e){var r,a,s,u,l=t.aggregate,c=t.field;l?"count"===l?(i["*"]=i["*"]||{},i["*"].count=(r={},r[Jm(t,{forAs:!0})]=!0,r)):(i[c]=i[c]||{},i[c][l]=(a={},a[Jm(t,{forAs:!0})]=!0,a),kg(e)&&"unaggregated"===n.scaleDomain(e)&&(i[c].min=(s={},s[Jm({field:c,aggregate:"min"},{forAs:!0})]=!0,s),i[c].max=(u={},u[Jm({field:c,aggregate:"max"},{forAs:!0})]=!0,u))):function(t,e,n){Ag(n.bin)?(t[Jm(n,{})]=!0,t[Jm(n,{binSuffix:"end"})]=!0,a_(n,e)&&(t[Jm(n,{binSuffix:"range"})]=!0)):t[Jm(n)]=!0}(o,e,t)}),oF(o).length+oF(i).length===0?null:new e(t,o,i)):null},e.makeFromTransform=function(t,n){for(var r,i,o,a,s={},u={},l=0,c=n.aggregate;l<c.length;l++){var f=(g=c[l]).op,p=g.field,d=g.as;f&&("count"===f?(u["*"]=u["*"]||{},u["*"].count=(r={},r[d]=!0,r||(i={},i[Jm(g,{forAs:!0})]=!0,i))):(u[p]=u[p]||{},u[p][f]=(o={},o[d]=!0,o||(a={},a[Jm(g,{forAs:!0})]=!0,a))))}for(var h=0,m=n.groupby||[];h<m.length;h++){var g;s[g=m[h]]=!0}return oF(s).length+oF(u).length===0?null:new e(t,s,u)},e.prototype.merge=function(t){return Gh(this.dimensions,t.dimensions)?(function(t,e){var n;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];for(var o in i)i.hasOwnProperty(o)&&(r in t?t[r][o]=$w.__assign({},t[r][o],i[o]):t[r]=(n={},n[o]=i[o],n))}}(this.measures,t.measures),!0):(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_F.debug.apply(_F,arguments)}("different dimensions, cannot merge"),!1)},e.prototype.addDimensions=function(t){var e=this;t.forEach(function(t){return e.dimensions[t]=!0})},e.prototype.dependentFields=function(){var t={};return oF(this.dimensions).forEach(function(e){return t[e]=!0}),oF(this.measures).forEach(function(e){return t[e]=!0}),t},e.prototype.producedFields=function(){for(var t={},e=0,n=oF(this.measures);e<n.length;e++)for(var r=n[e],i=0,o=oF(this.measures[r]);i<o.length;i++){var a=o[i];0===oF(this.measures[r][a]).length?t[a+"_"+r]=!0:Object(Jw.n)(t,this.measures[r][a])}return t},e.prototype.hash=function(){return"Aggregate "+jh({dimensions:this.dimensions,measures:this.measures})},e.prototype.assemble=function(){for(var t=[],e=[],n=[],r=0,i=oF(this.measures);r<i.length;r++)for(var o=i[r],a=0,s=oF(this.measures[o]);a<s.length;a++)for(var u=s[a],l=0,c=oF(this.measures[o][u]);l<c.length;l++){n.push(c[l]),t.push(u),e.push(lm(o))}return{type:"aggregate",groupby:oF(this.dimensions),ops:t,fields:e,as:n}},e}(jV),rU=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.model=n,o.name=r,o.data=i;for(var a=0,s=[NB,PB];a<s.length;a++){var u=s[a],l=n.facet[u];if(l){var c=l.bin,f=l.sort;o[u]=$w.__assign({name:n.getName(u+"_domain"),fields:[Jm(l)].concat(Ag(c)?[Jm(l,{binSuffix:"end"})]:[])},Fv(f)?{sortField:f}:Object(Jw.v)(f)?{sortIndexField:qv(l,u)}:{})}}return o.childModel=n.child,o}return $w.__extends(e,t),e.prototype.hash=function(){var t="Facet";return this.column&&(t+=" c:"+jh(this.column)),this.row&&(t+=" r:"+jh(this.row)),t},Object.defineProperty(e.prototype,"fields",{get:function(){return(this.column&&this.column.fields||[]).concat(this.row&&this.row.fields||[])},enumerable:!0,configurable:!0}),e.prototype.getSource=function(){return this.name},e.prototype.getChildIndependentFieldsWithStep=function(){for(var t={},e=0,n=["x","y"];e<n.length;e++){var r=n[e],i=this.childModel.component.scales[r];if(i&&!i.merged){var o=i.get("type"),a=i.get("range");if(zg(o)&&jv(a)){var s=Ay(My(this.childModel,r));s?t[r]=s:_m("Unknown field for ${channel}.  Cannot calculate view size.")}}}return t},e.prototype.assembleRowColumnData=function(t,e,n){var r="row"===t?"y":"x",i=[],o=[],a=[];n[r]&&(e?(i.push("distinct_"+n[r]),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_"+n[r]));var s=this[t],u=s.sortField,l=s.sortIndexField;if(u){var c=u.op;i.push(u.field),o.push(c),a.push(Jm(u,{forAs:!0}))}else l&&(i.push(l),o.push("max"),a.push(l));return{name:this[t].name,source:e||this.data,transform:[$w.__assign({type:"aggregate",groupby:this[t].fields},i.length?{fields:i,ops:o,as:a}:{})]}},e.prototype.assemble=function(){var t=[],e=null,n=this.getChildIndependentFieldsWithStep();if(this.column&&this.row&&(n.x||n.y)){e="cross_"+this.column.name+"_"+this.row.name;var r=[].concat(n.x?[n.x]:[],n.y?[n.y]:[]),i=r.map(function(){return"distinct"});t.push({name:e,source:this.data,transform:[{type:"aggregate",groupby:this.column.fields.concat(this.row.fields),fields:r,ops:i}]})}for(var o=0,a=[NB,PB];o<a.length;o++){var s=a[o];this[s]&&t.push(this.assembleRowColumnData(s,e,n))}return t},e}(jV),iU=function(t){function e(e,n){var r=t.call(this,e)||this;return r._parse=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this._parse))},e.prototype.hash=function(){return"Parse "+jh(this._parse)},e.makeExplicit=function(t,e,n){var r={},i=e.data;return i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(t,r,{},n)},e.makeImplicitFromFilterTransform=function(t,e,n){var r={};return Ah(e.filter,function(t){if(yb(t)){var e=null;fb(t)?e=t.equal:gb(t)?e=t.range[0]:vb(t)&&(e=(t.oneOf||t.in)[0]),e&&(wm(e)?r[t.field]="date":Object(Jw.z)(e)?r[t.field]="number":Object(Jw.C)(e)&&(r[t.field]="string")),t.timeUnit&&(r[t.field]="date")}}),0===oF(r).length?null:this.makeWithAncestors(t,{},r,n)},e.makeImplicitFromEncoding=function(t,e,n){var r={};return($y(e)||Yy(e))&&e.forEachFieldDef(function(t){vg(t)?r[t.field]="date":gg(t)&&vm(t.aggregate)?r[t.field]="number":fm(t.field)>1?t.field in r||(r[t.field]="flatten"):Ym(t)&&Fv(t.sort)&&fm(t.sort.field)>1&&(t.sort.field in r||(r[t.sort.field]="flatten"))}),this.makeWithAncestors(t,{},r,n)},e.makeWithAncestors=function(t,n,r,i){for(var o=0,a=oF(r);o<a.length;o++){void 0!==(c=i.getWithExplicit(l=a[o])).value&&(c.explicit||c.value===r[l]||"derived"===c.value||"flatten"===r[l]?delete r[l]:_m(Jz.differentParse(l,r[l],c.value)))}for(var s=0,u=oF(n);s<u.length;s++){var l,c;void 0!==(c=i.get(l=u[s]))&&(c===n[l]?delete n[l]:_m(Jz.differentParse(l,n[l],c)))}var f=new GV(n,r);i.copyAll(f);for(var p={},d=0,h=oF(f.combine());d<h.length;d++){var m=h[d],g=f.get(m);null!==g&&(p[m]=g)}return 0===oF(p).length||i.parseNothing?null:new e(t,p)},Object.defineProperty(e.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){this._parse=$w.__assign({},this._parse,t.parse),t.remove()},e.prototype.assembleFormatParse=function(){for(var t={},e=0,n=oF(this._parse);e<n.length;e++){var r=n[e],i=this._parse[r];1===fm(r)&&(t[r]=i)}return t},e.prototype.producedFields=function(){return Object(Jw.S)(oF(this._parse))},e.prototype.dependentFields=function(){return Object(Jw.S)(oF(this._parse))},e.prototype.assembleTransforms=function(t){var e=this;return void 0===t&&(t=!1),oF(this._parse).filter(function(e){return!t||fm(e)>1}).map(function(t){var n=function(t,e){var n=sm(t);if("number"===e)return"toNumber("+n+")";if("boolean"===e)return"toBoolean("+n+")";if("string"===e)return"toString("+n+")";if("date"===e)return"toDate("+n+")";if("flatten"===e)return n;if(0===e.indexOf("date:"))return"timeParse("+n+","+e.slice(5,e.length)+")";if(0===e.indexOf("utc:"))return"utcParse("+n+","+e.slice(4,e.length)+")";return _m(Jz.unrecognizedParse(e)),null}(t,e._parse[t]);if(!n)return null;return{type:"formula",expr:n,as:cm(t)}}).filter(function(t){return null!==t})},e}(jV),oU=function(t){function e(e,n){var r=t.call(this,e)||this;return r._stack=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this._stack))},e.makeFromTransform=function(t,n){var r=n.stack,i=n.groupby,o=n.as,a=n.offset,s=void 0===a?"zero":a,u=[],l=[];if(void 0!==n.sort)for(var c=0,f=n.sort;c<f.length;c++){var p=f[c];u.push(p.field),l.push(pm(p.order,"ascending"))}var d,h={field:u,order:l};return d=function(t){return Object(Jw.v)(t)&&t.every(function(t){return Object(Jw.C)(t)})&&t.length>1}(o)?o:Object(Jw.C)(o)?[o,o+"_end"]:[n.stack+"_start",n.stack+"_end"],new e(t,{stackField:r,groupby:i,offset:s,sort:h,facetby:[],as:d})},e.makeFromEncoding=function(t,n){var r=n.stack;if(!r)return null;var i;r.groupbyChannel&&(i=n.fieldDef(r.groupbyChannel));var o,a=function(t){return t.stack.stackBy.reduce(function(t,e){var n=Jm(e.fieldDef);return n&&t.push(n),t},[])}(n),s=n.encoding.order;return o=Object(Jw.v)(s)||Hm(s)?n_(s):a.reduce(function(t,e){return t.field.push(e),t.order.push("descending"),t},{field:[],order:[]}),new e(t,{dimensionFieldDef:i,stackField:n.vgField(r.fieldChannel),facetby:[],stackby:a,sort:o,offset:r.offset,impute:r.impute,as:[n.vgField(r.fieldChannel,{suffix:"start",forAs:!0}),n.vgField(r.fieldChannel,{suffix:"end",forAs:!0})]})},Object.defineProperty(e.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),e.prototype.addDimensions=function(t){this._stack.facetby=this._stack.facetby.concat(t)},e.prototype.dependentFields=function(){var t={};t[this._stack.stackField]=!0,this.getGroupbyFields().forEach(function(e){return t[e]=!0}),this._stack.facetby.forEach(function(e){return t[e]=!0});var e=this._stack.sort.field;return Object(Jw.v)(e)?e.forEach(function(e){return t[e]=!0}):t[e]=!0,t},e.prototype.producedFields=function(){return this._stack.as.reduce(function(t,e){return t[e]=!0,t},{})},e.prototype.hash=function(){return"Stack "+jh(this._stack)},e.prototype.getGroupbyFields=function(){var t=this._stack,e=t.dimensionFieldDef,n=t.groupby;return e?e.bin?t.impute?[Jm(e,{binSuffix:"mid"})]:[Jm(e,{}),Jm(e,{binSuffix:"end"})]:[Jm(e)]:n||[]},e.prototype.assemble=function(){var t=[],e=this._stack,n=e.facetby,r=e.dimensionFieldDef,i=e.stackField,o=e.stackby,a=e.sort,s=e.offset,u=e.as;return e.impute&&r&&(r.bin&&t.push({type:"formula",expr:"("+Jm(r,{expr:"datum"})+"+"+Jm(r,{expr:"datum",binSuffix:"end"})+")/2",as:Jm(r,{binSuffix:"mid",forAs:!0})}),t.push({type:"impute",field:i,groupby:o,key:Jm(r,{binSuffix:"mid"}),method:"value",value:0})),t.push({type:"stack",groupby:this.getGroupbyFields().concat(n),field:i,sort:a,as:u,offset:s}),t},e}(jV),aU=function(t){function e(e,n){var r=t.call(this,e)||this;return r.formula=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.formula))},e.makeFromEncoding=function(t,n){var r=n.reduceFieldDef(function(t,e){if(e.timeUnit){var n=Jm(e,{forAs:!0});t[n]={as:n,timeUnit:e.timeUnit,field:e.field}}return t},{});return 0===oF(r).length?null:new e(t,r)},e.makeFromTransform=function(t,n){var r;return new e(t,(r={},r[n.field]={as:n.as,timeUnit:n.timeUnit,field:n.field},r))},e.prototype.merge=function(t){this.formula=$w.__assign({},this.formula,t.formula),t.remove()},e.prototype.producedFields=function(){var t={};return Jh(this.formula).forEach(function(e){t[e.as]=!0}),t},e.prototype.dependentFields=function(){var t={};return Jh(this.formula).forEach(function(e){t[e.field]=!0}),t},e.prototype.hash=function(){return"TimeUnit "+jh(this.formula)},e.prototype.assemble=function(){return Jh(this.formula).map(function(t){return{type:"formula",as:t.as,expr:Mm(t.timeUnit,t.field)}})},e}(jV),sU=function(t){function e(e,n){var r=t.call(this,e)||this;return r.transform=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.transform))},e.prototype.addDimensions=function(t){this.transform.groupby=Hh(this.transform.groupby.concat(t),function(t){return t})},e.prototype.dependentFields=function(){var t={};return this.transform.groupby.forEach(function(e){return t[e]=!0}),this.transform.sort.forEach(function(e){return t[e.field]=!0}),this.transform.window.map(function(t){return t.field}).filter(function(t){return void 0!==t}).forEach(function(e){return t[e]=!0}),t},e.prototype.producedFields=function(){var t=this,e={};return this.transform.window.forEach(function(n){return e[t.getDefaultName(n)]=!0}),e},e.prototype.getDefaultName=function(t){return t.as||Jm(t)},e.prototype.hash=function(){return"WindowTransform "+jh(this.transform)},e.prototype.assemble=function(){for(var t=[],e=[],n=[],r=[],i=0,o=this.transform.window;i<o.length;i++){var a=o[i];e.push(a.op),n.push(this.getDefaultName(a)),r.push(void 0===a.param?null:a.param),t.push(void 0===a.field?null:a.field)}var s=this.transform.frame,u=this.transform.groupby,l=[],c=[];if(void 0!==this.transform.sort)for(var f=0,p=this.transform.sort;f<p.length;f++){var d=p[f];l.push(d.field),c.push(d.order||"ascending")}var h=this.transform.ignorePeers,m={type:"window",params:r,as:n,ops:e,fields:t,sort:{field:l,order:c}};return void 0!==h&&(m.ignorePeers=h),void 0!==u&&(m.groupby=u),void 0!==s&&(m.frame=s),m},e}(jV),uU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.run=function(t){var e=t.parent;if(t instanceof iU){if(e instanceof JV)return this.flags;if(e.numChildren()>1)return this.setContinue(),this.flags;if(e instanceof iU)this.setMutated(),e.merge(t);else{if(Kh(e.producedFields(),t.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),t.swapWithParent()}}return this.setContinue(),this.flags},e}(tU),lU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.mergeNodes=function(t,e){for(var n=e.shift(),r=0,i=e;r<i.length;r++){var o=i[r];t.removeChild(o),o.parent=n,o.remove()}},e.prototype.run=function(t){for(var e=t.children.map(function(t){return t.hash()}),n={},r=0;r<e.length;r++)void 0===n[e[r]]?n[e[r]]=[t.children[r]]:n[e[r]].push(t.children[r]);for(var i=0,o=oF(n);i<o.length;i++){var a=o[i];n[a].length>1&&(this.setMutated(),this.mergeNodes(t,n[a]))}for(var s=0,u=t.children;s<u.length;s++){this.run(u[s])}return this.mutatedFlag},e}(eU),cU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.run=function(t){return t instanceof LV||t.numChildren()>0||t instanceof rU?this.flags:(this.setMutated(),t.remove(),this.flags)},e}(tU),fU=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields={},e}return $w.__extends(e,t),e.prototype.run=function(t){var e=this;if(this.setContinue(),t instanceof aU){var n=t.producedFields();oF(n).every(function(t){return!!e.fields[t]})?(this.setMutated(),t.remove()):this.fields=$w.__assign({},this.fields,n)}return this.flags},e}(tU),pU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.run=function(t){t instanceof LV&&!t.isRequired()&&(this.setMutated(),t.remove());for(var e=0,n=t.children;e<n.length;e++){this.run(n[e])}return this.mutatedFlag},e}(eU),dU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.run=function(t){var e=t.parent,n=e.children.filter(function(t){return t instanceof iU});if(n.length>1){for(var r={},i=0,o=n;i<o.length;i++)for(var a=(d=o[i]).parse,s=0,u=oF(a);s<u.length;s++){var l=u[s];void 0===r[l]?r[l]=a[l]:r[l]!==a[l]&&delete r[l]}if(0!==oF(r).length){this.setMutated();for(var c=new iU(e,r),f=0,p=n;f<p.length;f++){for(var d=p[f],h=0,m=oF(r);h<m.length;h++){delete d.parse[m[h]]}e.removeChild(d),d.parent=c,0===oF(d.parse).length&&d.remove()}}}return this.setContinue(),this.flags},e}(tU),hU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.run=function(t){for(var e=t.parent,n={},r=0,i=e.children.filter(function(t){return t instanceof nU});r<i.length;r++){var o=jh(oF((p=i[r]).groupBy).sort());o in n||(n[o]=[]),n[o].push(p)}for(var a=0,s=oF(n);a<s.length;a++){var u=n[s[a]];if(u.length>1)for(var l=u.pop(),c=0,f=u;c<f.length;c++){var p;l.merge(p=f[c])&&(e.removeChild(p),p.parent=l,p.remove(),this.setMutated())}}return this.setContinue(),this.flags},e}(tU),mU="scale_",gU=5,vU=function(t){function e(e,n){var r=t.call(this,{},{name:e})||this;return r.merged=!1,r.domains=[],r.setWithExplicit("type",n),r}return $w.__extends(e,t),e}(GV),yU=["shortTimeLabels"],bU=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength"],_U={width:200,height:200},wU={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",view:_U,mark:dB,area:{},bar:hB,circle:{},geoshape:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:mB,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:_V,projection:{},axis:{},axisX:{},axisY:{minExtent:30},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:VV,selection:OV,style:{},title:{}},xU=["view"].concat(aB),EU=["padding","numberFormat","timeFormat","countTitle","stack","scale","selection","invalidValues","overlay"],CU=$w.__assign({view:["width","height"]},pB),SU=["range","rangeStep","scheme"],OU=ny(function(t,e){return Lg(t)-Lg(e)}),kU=function(){function t(){this.nameMap={}}return t.prototype.rename=function(t,e){this.nameMap[t]=e},t.prototype.has=function(t){return void 0!==this.nameMap[t]},t.prototype.get=function(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t},t}(),TU=function(){function t(t,e,n,r,i,o){var a=this;this.children=[],this.correctDataNames=function(t){return t.from&&t.from.data&&(t.from.data=a.lookupDataSource(t.from.data)),t.from&&t.from.facet&&t.from.facet.data&&(t.from.facet.data=a.lookupDataSource(t.from.facet.data)),t},this.parent=e,this.config=r,this.repeater=i,this.name=t.name||n,this.title=Object(Jw.C)(t.title)?{text:t.title}:t.title,this.scaleNameMap=e?e.scaleNameMap:new kU,this.projectionNameMap=e?e.projectionNameMap:new kU,this.layoutSizeNameMap=e?e.layoutSizeNameMap:new kU,this.data=t.data,this.description=t.description,this.transforms=Dv(t.transform||[]),this.layout=sv(t)||uv(t)?void 0:function(t){var e=t||{},n=e.align,r=e.center,i=e.bounds,o=e.spacing;return{align:void 0===n?void 0:n,bounds:void 0===i?void 0:i,center:void 0===r?void 0:r,spacing:void 0===o?void 0:o}}(t),this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:av(t)||e&&e.component.data.isFaceted&&!t.data},layoutSize:new GV,layoutHeaders:{row:{},column:{}},mark:null,resolve:$w.__assign({scale:{},axis:{},legend:{}},o?em(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object.defineProperty(t.prototype,"width",{get:function(){return this.getSizeSignalRef("width")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getSizeSignalRef("height")},enumerable:!0,configurable:!0}),t.prototype.initSize=function(t){var e=t.width,n=t.height;e&&this.component.layoutSize.set("width",e,!0),n&&this.component.layoutSize.set("height",n,!0)},t.prototype.parse=function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSize(),this.parseSelection(),this.parseProjection(),this.parseData(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},t.prototype.parseScale=function(){!function(t){Gy(t),Py(t);for(var e=0,n=EV;e<n.length;e++)Wy(t,n[e]);By(t)}(this)},t.prototype.parseProjection=function(){wy(this)},t.prototype.renameTopLevelLayoutSize=function(){"width"!==this.getName("width")&&this.renameLayoutSize(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameLayoutSize(this.getName("height"),"height")},t.prototype.parseLegend=function(){py(this)},t.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type)return"cell"},t.prototype.assembleLayoutSize=function(){if("unit"===this.type||"layer"===this.type)return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},t.prototype.assembleLayout=function(){if(this.layout){var t=this.layout,e=t.align,n=t.bounds,r=t.center,i=t.spacing,o=void 0===i?{}:i;return $w.__assign({padding:Object(Jw.z)(o)?o:{row:o.row||10,column:o.column||10}},this.assembleDefaultLayout(),e?{align:e}:{},n?{bounds:n}:{},r?{center:r}:{})}},t.prototype.assembleDefaultLayout=function(){return{}},t.prototype.assembleHeaderMarks=function(){for(var t=this.component.layoutHeaders,e=[],n=0,r=FV;n<r.length;n++){t[a=r[n]].title&&e.push(Gv(this,a))}for(var i=0,o=FV;i<o.length;i++){var a;e=e.concat($v(this,a=o[i]))}return e},t.prototype.assembleAxes=function(){return function(t,e){var n=t.x,r=void 0===n?[]:n,i=t.y,o=void 0===i?[]:i;return r.map(function(t){return zv(t,"main",e)}).concat(r.map(function(t){return zv(t,"grid",e)}),o.map(function(t){return zv(t,"main",e)}),o.map(function(t){return zv(t,"grid",e)})).filter(function(t){return t})}(this.component.axes,this.config)},t.prototype.assembleLegends=function(){return my(this)},t.prototype.assembleProjections=function(){return gy(this)},t.prototype.assembleTitle=function(){var t=this.title||{},e=t.encoding,n=$w.__rest(t,["encoding"]),r=$w.__assign({},yv(this.config.title).nonMark,n,e?{encode:{update:e}}:{});if(r.text)return Lh(["unit","layer"],this.type)||(r.anchor&&"start"!==r.anchor&&_m(Jz.cannotSetTitleAnchor(this.type)),r.anchor="start"),Lh(["middle",void 0],r.anchor)&&void 0===r.frame&&(r.frame="group"),oF(r).length>0?r:void 0},t.prototype.assembleGroup=function(t){void 0===t&&(t=[]);var e={};(t=t.concat(this.assembleSelectionSignals())).length>0&&(e.signals=t);var n=this.assembleLayout();n&&(e.layout=n),e.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||Yy(this.parent)?Dy(this):[];r.length>0&&(e.scales=r);var i=this.assembleAxes();i.length>0&&(e.axes=i);var o=this.assembleLegends();return o.length>0&&(e.legends=o),e},t.prototype.hasDescendantWithFieldOnChannel=function(t){for(var e=0,n=this.children;e<n.length;e++){var r=n[e];if($y(r)){if(r.channelHasField(t))return!0}else if(r.hasDescendantWithFieldOnChannel(t))return!0}return!1},t.prototype.getName=function(t){return rm((this.name?this.name+"_":"")+t)},t.prototype.requestDataName=function(t){var e=this.getName(t),n=this.component.data.outputNodeRefCounts;return n[e]=(n[e]||0)+1,e},t.prototype.getSizeSignalRef=function(t){if(Yy(this.parent)){var e="width"===t?"x":"y",n=this.component.scales[e];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(zg(r)&&jv(i)){var o=n.get("name"),a=Ay(My(this,e));if(a){return{signal:Jv(o,n,Jm({aggregate:"distinct",field:a},{expr:"datum"}))}}return _m("Unknown field for ${channel}.  Cannot calculate view size."),null}}}return{signal:this.layoutSizeNameMap.get(this.getName(t))}},t.prototype.lookupDataSource=function(t){var e=this.component.data.outputNodes[t];return e?e.getSource():t},t.prototype.getSizeName=function(t){return this.layoutSizeNameMap.get(t)},t.prototype.renameLayoutSize=function(t,e){this.layoutSizeNameMap.rename(t,e)},t.prototype.renameScale=function(t,e){this.scaleNameMap.rename(t,e)},t.prototype.renameProjection=function(t,e){this.projectionNameMap.rename(t,e)},t.prototype.scaleName=function(t,e){return e?this.getName(t):Sg(t)&&kg(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t))?this.scaleNameMap.get(this.getName(t)):void 0},t.prototype.projectionName=function(t){return t?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0},t.prototype.getScaleComponent=function(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var e=this.component.scales[t];return e&&!e.merged?e:this.parent?this.parent.getScaleComponent(t):void 0},t.prototype.getSelectionComponent=function(t,e){var n=this.component.selection[t];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(t,e)),!n)throw new Error(Jz.selectionNotFound(e));return n},t}(),PU=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $w.__extends(e,t),e.prototype.vgField=function(t,e){void 0===e&&(e={});var n=this.fieldDef(t);if(n)return Jm(n,e)},e.prototype.reduceFieldDef=function(t,e,n){return m_(this.getMapping(),function(e,n,r){var i=fg(n);return i?t(e,i,r):e},e,n)},e.prototype.forEachFieldDef=function(t,e){h_(this.getMapping(),function(e,n){var r=fg(e);r&&t(r,n)},e)},e}(TU),NU="_fields",IU={has:function(t){return"interval"===t.type&&"global"===t.resolve&&t.bind&&"scales"===t.bind},parse:function(t,e,n){for(var r=rm(n.name),i=n.scales=[],o=0,a=n.project;o<a.length;o++){var s=a[o],u=s.channel;if(kg(u)){var l=t.getScaleComponent(u),c=l?l.get("type"):void 0;if(l&&Bg(c)&&!Fg(c)){if(l.set("domainRaw",{signal:sm(s.field,r)},!0),i.push(u),t.repeater&&t.repeater.row===t.repeater.column){t.getScaleComponent(u===vB?yB:vB).set("domainRaw",{signal:sm(s.field,r)},!0)}}else _m(Jz.SCALE_BINDINGS_CONTINUOUS)}}},topLevelSignals:function(t,e,n){var r=e.scales.filter(function(t){return!n.filter(function(n){return n.name===lb(e,t,"data")}).length}).map(function(t){return{channel:t,signal:lb(e,t,"data")}});if(!t.parent||!r.length)return n;var i=n.filter(function(t){return t.name===e.name})[0],o=i.update;if(o.indexOf(GU)>=0)i.update="{"+r.map(function(t){return Object(Jw.O)(e.fields[t.channel])+": "+t.signal}).join(", ")+"}";else for(var a=0,s=r;a<s.length;a++){var u=s[a],l=", "+Object(Jw.O)(e.fields[u.channel])+": "+u.signal;o.indexOf(l)<0&&(i.update=o.substring(0,o.length-1)+l+"}")}return n.concat(r.map(function(t){return{name:t.signal}}))},signals:function(t,e,n){if(t.parent)for(var r=function(t){var r=n.filter(function(n){return n.name===lb(e,t,"data")})[0];r.push="outer",delete r.value,delete r.update},i=0,o=e.scales;i<o.length;i++){r(o[i])}return n}},AU="_scale_trigger",MU={signals:function(t,e){var n=e.name,r=n+WU+NU,i=IU.has(e),o=[],a=[],s=[];if(e.translate&&!i){var u="!event.item || event.item.mark.name !== "+Object(Jw.O)(n+"_brush");Qy(e,function(t,e){var n=e.between[0].filter||(e.between[0].filter=[]);n.indexOf(u)<0&&n.push(u)})}for(var l=0,c=e.project;l<c.length;l++){var f=c[l].channel;if(f===vB||f===yB){var p=function(t,e,n){var r=lb(e,n,"visual"),i=lb(e,n,"data"),o=IU.has(e),a=t.scaleName(n),s=Object(Jw.O)(a),u=t.getScaleComponent(n),l=u?u.get("type"):void 0,c=t.getSizeSignalRef(n===vB?"width":"height").signal,f=n+"(unit)",p=Qy(e,function(t,e){return t.concat({events:e.between[0],update:"["+f+", "+f+"]"},{events:e,update:"["+r+"[0], clamp("+f+", 0, "+c+")]"})});return p.push({events:{signal:e.name+AU},update:Bg(l)&&!Fg(l)?"[scale("+s+", "+i+"[0]), scale("+s+", "+i+"[1])]":"[0, 0]"}),o?[{name:i,on:[]}]:[{name:r,value:[],on:p},{name:i,on:[{events:{signal:r},update:r+"[0] === "+r+"[1] ? null : invert("+s+", "+r+")"}]}]}(t,e,f),d=lb(e,f,"data"),h=lb(e,f,"visual"),m=Object(Jw.O)(t.scaleName(f)),g=Bg(t.getScaleComponent(f).get("type"))?"+":"";o.push.apply(o,p),a.push(d),s.push({scaleName:t.scaleName(f),expr:"(!isArray("+d+") || ("+g+"invert("+m+", "+h+")[0] === "+g+d+"[0] && "+g+"invert("+m+", "+h+")[1] === "+g+d+"[1]))"})}else _m("Interval selections only support x and y encoding channels.")}return i||o.push({name:n+AU,update:s.map(function(t){return t.expr}).join(" && ")+" ? "+(n+AU)+" : {}"}),o.concat({name:n+WU,on:[{events:a.map(function(t){return{signal:t}}),update:a.join(" && ")+" ? {unit: "+sb(t)+", fields: "+r+", values: ["+a.join(", ")+"]} : null"}]})},modifyExpr:function(t,e){return e.name+WU+", "+("global"===e.resolve?"true":"{unit: "+sb(t)+"}")},marks:function(t,e,n){var r=e.name,i=cb(e),o=i.xi,a=i.yi,s="data("+Object(Jw.O)(e.name+UU)+")";if(IU.has(e))return n;var u={x:null!==o?{signal:r+"_x[0]"}:{value:0},y:null!==a?{signal:r+"_y[0]"}:{value:0},x2:null!==o?{signal:r+"_x[1]"}:{field:{group:"width"}},y2:null!==a?{signal:r+"_y[1]"}:{field:{group:"height"}}};if("global"===e.resolve)for(var l=0,c=oF(u);l<c.length;l++){var f=c[l];u[f]=[$w.__assign({test:s+".length && "+s+"[0].unit === "+sb(t)},u[f]),{value:0}]}var p=e.mark,d=p.fill,h=p.fillOpacity,m=$w.__rest(p,["fill","fillOpacity"]),g=oF(m).reduce(function(t,e){return t[e]=[{test:[null!==o&&r+"_x[0] !== "+r+"_x[1]",null!=a&&r+"_y[0] !== "+r+"_y[1]"].filter(function(t){return t}).join(" && "),value:m[e]},{value:null}],t},{});return[{name:r+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:h}},update:u}}].concat(n,{name:r+"_brush",type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:$w.__assign({},u,g)}})}},DU={has:function(t){return"interval"!==t.type&&t.nearest},marks:function(t,e,n){var r=cb(e),i=r.x,o=r.y,a=t.mark;if(wg(a))return _m(Jz.nearestNotSupportForContinuous(a)),n;var s={name:t.getName("voronoi"),type:"path",from:{data:t.getName("marks")},encode:{enter:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}}},transform:[{type:"voronoi",x:{expr:i||!i&&!o?"datum.datum.x || 0":"0"},y:{expr:o||!i&&!o?"datum.datum.y || 0":"0"},size:[t.getSizeSignalRef("width"),t.getSizeSignalRef("height")]}]},u=0,l=!1;return n.forEach(function(e,n){var r=e.name||"";r===t.component.mark[0].name?u=n:r.indexOf("voronoi")>=0&&(l=!0)}),l||n.splice(u+1,0,s),n}},RU={signals:tb,modifyExpr:function(t,e){return e.name+WU+", "+("global"===e.resolve?"null":"{unit: "+sb(t)+"}")}},jU={signals:tb,modifyExpr:function(t,e){return e.name+WU+", "+("global"===e.resolve?"true":"{unit: "+sb(t)+"}")}},LU="_translate_anchor",zU="_translate_delta",FU="_zoom_anchor",BU="_zoom_delta",VU={project:{has:function(t){return void 0!==t.fields||void 0!==t.encodings},parse:function(t,e,n){var r={},i={},o=n.project||(n.project=[]);n.fields={},e.fields&&o.push.apply(o,e.fields.map(function(t){return{field:t,type:"E"}}));for(var a=0,s=e.encodings||[];a<s.length;a++){var u=s[a],l=t.fieldDef(u);if(l){var c=l.field;if(l.timeUnit&&(r[c=t.vgField(u)]={as:c,field:l.field,timeUnit:l.timeUnit}),!i[c]){var f="E";if("interval"===n.type){var p=t.getScaleComponent(u).get("type");Bg(p)&&!Fg(p)&&(f="R")}else l.bin&&(f="R-RE");o.push(i[c]={field:c,channel:u,type:f})}n.fields[u]=c}else _m(Jz.cannotProjectOnChannelWithoutField(u))}oF(r).length&&(n.timeUnit=new aU(null,r))},signals:function(t,e,n){var r=e.name+WU+NU;return n.filter(function(t){return t.name===r}).length?n:n.concat({name:r,update:""+JSON.stringify(e.project)})}},toggle:{has:function(t){return"multi"===t.type&&t.toggle},signals:function(t,e,n){return n.concat({name:e.name+"_toggle",value:!1,on:[{events:e.events,update:e.toggle}]})},modifyExpr:function(t,e,n){var r=e.name+WU,i=e.name+"_toggle";return i+" ? null : "+r+", "+("global"===e.resolve?i+" ? null : true, ":i+" ? null : {unit: "+sb(t)+"}, ")+i+" ? "+r+" : null"}},scales:IU,translate:{has:function(t){return"interval"===t.type&&t.translate},signals:function(t,e,n){var r=e.name,i=IU.has(e),o=r+LU,a=cb(e),s=a.x,u=a.y,l=Hj(e.translate,"scope");return i||(l=l.map(function(t){return t.between[0].markname=r+"_brush",t})),n.push({name:o,value:{},on:[{events:l.map(function(t){return t.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==s?", extent_x: "+(i?Jy(t,vB):"slice("+lb(e,"x","visual")+")"):"")+(null!==u?", extent_y: "+(i?Jy(t,yB):"slice("+lb(e,"y","visual")+")"):"")+"}"}]},{name:r+zU,value:{},on:[{events:l,update:"{x: "+o+".x - x(unit), y: "+o+".y - y(unit)}"}]}),null!==s&&eb(t,e,vB,"width",n),null!==u&&eb(t,e,yB,"height",n),n}},zoom:{has:function(t){return"interval"===t.type&&t.zoom},signals:function(t,e,n){var r=e.name,i=IU.has(e),o=r+BU,a=cb(e),s=a.x,u=a.y,l=Object(Jw.O)(t.scaleName(vB)),c=Object(Jw.O)(t.scaleName(yB)),f=Hj(e.zoom,"scope");return i||(f=f.map(function(t){return t.markname=r+"_brush",t})),n.push({name:r+FU,on:[{events:f,update:i?"{"+[l?"x: invert("+l+", x(unit))":"",c?"y: invert("+c+", y(unit))":""].filter(function(t){return!!t}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==s&&nb(t,e,"x","width",n),null!==u&&nb(t,e,"y","height",n),n}},inputs:{has:function(t){return"single"===t.type&&"global"===t.resolve&&t.bind&&"scales"!==t.bind},topLevelSignals:function(t,e,n){for(var r=e.name,i=e.project,o=e.bind,a=DU.has(e)?"(item().isVoronoi ? datum.datum : datum)":"datum",s=function(t){var i=rm(r+"_"+t.field);n.filter(function(t){return t.name===i}).length||n.unshift({name:i,value:"",on:[{events:e.events,update:"datum && item().mark.marktype !== 'group' ? "+sm(t.field,a)+" : null"}],bind:o[t.field]||o[t.channel]||o})},u=0,l=i;u<l.length;u++){s(l[u])}return n},signals:function(t,e,n){var r=e.name,i=e.project,o=n.filter(function(t){return t.name===r+WU})[0],a=r+WU+NU,s=i.map(function(t){return rm(r+"_"+t.field)}),u=s.map(function(t){return t+" !== null"}).join(" && ");return s.length&&(o.update=u+" ? {fields: "+a+", values: ["+s.join(", ")+"]} : null"),delete o.value,delete o.on,n}},nearest:DU},UU="_store",WU="_tuple",qU="_modify",HU="_selection_domain_",GU="vlSelectionResolve",$U="boxplot",YU=oF({box:1,median:1,outliers:1,rule:1,ticks:1}),KU=["x","y","color","detail","opacity","size"],XU="errorbar",ZU=oF({ticks:1,rule:1}),JU=["x","y","x2","y2","xError","yError","xError2","yError2","color","detail","opacity"],QU="errorband",tW=oF({band:1,borders:1}),eW={};S_($U,function(t,e){var n,r=(t=w_(t,KU,$U)).mark,i=t.selection,o=$w.__rest(t,["mark","encoding","selection","projection"]),a=xg(r)?r:{type:r};i&&_m(Jz.selectionNotSupported("boxplot"));var s=a.extent||e.boxplot.extent,u=pm(a.size,e.boxplot.size),l=!Object(Jw.z)(s),c=function(t,e,n){var r=__(t,$U),i=y_(t,r,$U),o=i.continuousAxisChannelDef,a=i.continuousAxis,s=o.field,u=!Object(Jw.z)(e),l=x_(s).concat([{op:"median",field:s,as:"mid_box_"+s},{op:"min",field:s,as:(u?"lower_whisker_":"min_")+s},{op:"max",field:s,as:(u?"upper_whisker_":"max_")+s}]),c=u?[]:[{calculate:"datum.upper_box_"+s+" - datum.lower_box_"+s,as:"iqr_"+s},{calculate:"min(datum.upper_box_"+s+" + datum.iqr_"+s+" * "+e+", datum.max_"+s+")",as:"upper_whisker_"+s},{calculate:"max(datum.lower_box_"+s+" - datum.iqr_"+s+" * "+e+", datum.min_"+s+")",as:"lower_whisker_"+s}],f=t.encoding,p=c_($w.__rest(f,["symbol"==typeof a?a:a+""]),n),d=p.groupby,h=p.encoding,m="vertical"===r?"horizontal":"vertical";return{transform:p.bins.concat(p.timeUnits,[{aggregate:p.aggregate.concat(l),groupby:d}],c),groupby:d,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:h,tickOrient:m}}(t,s,e),f=c.transform,p=c.continuousAxisChannelDef,d=c.continuousAxis,h=c.groupby,m=c.encodingWithoutContinuousAxis,g=c.tickOrient,v=m.size,y=$w.__rest(m,["color","size"]),b=function(t){return g_(a,d,p,t,e.boxplot)},_=b(y),w=b(m),x=b($w.__assign({},y,v?{size:v}:{})),E={type:"tick",color:"black",opacity:1,orient:g},C=$w.__assign({type:"bar"},u?{size:u}:{}),S=$w.__assign({type:"tick"},Object(Jw.A)(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},u?{size:u}:{},{orient:g}),O=_("rule","rule","lower_whisker","lower_box").concat(_("rule","rule","upper_box","upper_whisker"),_("ticks",E,"lower_whisker"),_("ticks",E,"upper_whisker"),w("box",C,"lower_box","upper_box"),x("median",S,"mid_box")),k=[];if(!l){var T="datum.lower_box_"+p.field,P="datum.upper_box_"+p.field,N="("+P+" - "+T+")",I=T+" - "+s+" * "+N,A=P+" + "+s+" * "+N,M="datum."+p.field;k=v_(a,"outliers",e.boxplot,{transform:[{window:x_(p.field),frame:[null,null],groupby:h},{filter:"("+M+" < "+I+") || ("+M+" > "+A+")"}],mark:"point",encoding:$w.__assign((n={},n[d]={field:p.field,type:p.type},n),y)})}return $w.__assign({},o,k.length>0?{layer:[{transform:f,layer:O}].concat(k)}:{transform:(o.transform||[]).concat(f),layer:O})},YU),S_(XU,function(t,e){var n=C_(t,XU,e),r=n.transform,i=n.ticksOrient,o=n.outerSpec,a=g_(n.markDef,n.continuousAxis,n.continuousAxisChannelDef,n.encodingWithoutContinuousAxis,e.errorbar),s={type:"tick",orient:i};return $w.__assign({},o,{transform:r,layer:a("ticks",s,"lower").concat(a("ticks",s,"upper"),a("rule","rule","lower","upper"))})},ZU),S_(QU,function(t,e){var n=C_(t,QU,e),r=n.transform,i=n.markDef,o=n.outerSpec,a=g_(i,n.continuousAxis,n.continuousAxisChannelDef,n.encodingWithoutContinuousAxis,e.errorband),s=void 0!==t.encoding.x&&void 0!==t.encoding.y,u={type:s?"area":"rect"},l={type:s?"line":"rule"},c=$w.__assign({},i.interpolate?{interpolate:i.interpolate}:{},i.tension&&i.interpolate?{interpolate:i.tension}:{});return s?(u=$w.__assign({},u,c),l=$w.__assign({},l,c)):i.interpolate?_m(Jz.errorBand1DNotSupport("interpolate")):i.tension&&_m(Jz.errorBand1DNotSupport("tension")),$w.__assign({},o,{transform:r,layer:a("band",u,"lower","upper").concat(a("borders",l,"lower"),a("borders",l,"upper"))})},tW);var nW=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bins=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.bins))},e.makeFromEncoding=function(t,n){var r=n.reduceFieldDef(function(t,e,r){if(Ag(e.bin)){var i=N_(e,e.bin,n),o=i.key;t[o]=$w.__assign({},i.binComponent,t[o],function(t,e,n,r){if(a_(e,n)){var i=$y(t)?t.axis(n)||t.legend(n)||{}:{},o=Jm(e,{expr:"datum"}),a=Jm(e,{expr:"datum",binSuffix:"end"});return{formulaAs:Jm(e,{binSuffix:"range",forAs:!0}),formula:t_(o,a,i.format,r)}}return{}}(n,e,r,n.config))}return t},{});return 0===oF(r).length?null:new e(t,r)},e.makeFromTransform=function(t,n,r){var i,o=N_(n,n.bin,r);return new e(t,(i={},i[o.key]=o.binComponent,i))},e.prototype.merge=function(t){this.bins=$w.__assign({},this.bins,t.bins),t.remove()},e.prototype.producedFields=function(){var t={};return Jh(this.bins).forEach(function(e){e.as.forEach(function(e){return t[e]=!0})}),t},e.prototype.dependentFields=function(){var t={};return Jh(this.bins).forEach(function(e){t[e.field]=!0}),t},e.prototype.hash=function(){return"Bin "+jh(this.bins)},e.prototype.assemble=function(){return Uh(Jh(this.bins).map(function(t){var e=[],n=$w.__assign({type:"bin",field:t.field,as:t.as,signal:t.signal},t.bin);return!t.bin.extent&&t.extentSignal&&(e.push({type:"extent",field:t.field,signal:t.extentSignal}),n.extent={signal:t.extentSignal}),e.push(n),t.formula&&e.push({type:"formula",expr:t.formula,as:t.formulaAs}),e}))},e}(jV),rW=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.model=n,i.filter=r,i.expr=bb(i.model,i.filter,i),i._dependentFields=Wv(i.expr),i}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,this.model,em(this.filter))},e.prototype.dependentFields=function(){return this._dependentFields},e.prototype.assemble=function(){return{type:"filter",expr:this.expr}},e.prototype.hash=function(){return"Filter "+this.expr},e}(jV),iW=function(t){function e(e,n){var r=t.call(this,e)||this;r.transform=n,r.transform=em(n);var i=r.transform,o=i.as,a=void 0===o?[]:o;return r.transform.as=i.flatten.map(function(t,e){return a[e]||t}),r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(this.parent,em(this.transform))},e.prototype.producedFields=function(){var t=this;return this.transform.flatten.reduce(function(e,n,r){return e[t.transform.as[r]]=!0,e},{})},e.prototype.hash=function(){return"FlattenTransform "+jh(this.transform)},e.prototype.assemble=function(){var t=this.transform;return{type:"flatten",fields:t.flatten,as:t.as}},e}(jV),oW=function(t){function e(e,n){var r=t.call(this,e)||this;r.transform=n,r.transform=em(n);var i=r.transform.as||[void 0,void 0];return r.transform.as=[i[0]||"key",i[1]||"value"],r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.transform))},e.prototype.producedFields=function(){return this.transform.as.reduce(function(t,e){return t[e]=!0,t},{})},e.prototype.hash=function(){return"FoldTransform "+jh(this.transform)},e.prototype.assemble=function(){var t=this.transform;return{type:"fold",fields:t.fold,as:t.as}},e}(jV),aW=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.fields=n,o.geojson=r,o.signal=i,o}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.fields),this.geojson,this.signal)},e.parseAll=function(t,n){var r=0;if([[kB,SB],[TB,OB]].forEach(function(i){var o=i.map(function(t){return n.channelHasField(t)?n.fieldDef(t).field:void 0});(o[0]||o[1])&&(t=new e(t,o,null,n.getName("geojson_"+r++)))}),n.channelHasField(IB)){var i=n.fieldDef(IB);i.type===UF&&(t=new e(t,null,i.field,n.getName("geojson_"+r++)))}return t},e.prototype.assemble=function(){return $w.__assign({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})},e}(jV),sW=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.projection=n,o.fields=r,o.as=i,o}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,this.projection,em(this.fields),em(this.as))},e.parseAll=function(t,n){return n.projectionName()?([[kB,SB],[TB,OB]].forEach(function(r){var i=r.map(function(t){return n.channelHasField(t)?n.fieldDef(t).field:void 0}),o=r[0]===TB?"2":"";(i[0]||i[1])&&(t=new e(t,n.projectionName(),i,[n.getName("x"+o),n.getName("y"+o)]))}),t):t},e.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}},e}(jV),uW=function(t){function e(e){return t.call(this,e)||this}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null)},e.prototype.producedFields=function(){var t;return t={},t[SV]=!0,t},e.prototype.assemble=function(){return{type:"identifier",as:SV}},e}(jV),lW={area:{vgMark:"area",encodeEntry:function(t){return $w.__assign({},Rb(t,{size:"ignore",orient:"include"}),Hb("x",t,"zeroOrMin"),Hb("y",t,"zeroOrMin"),Gb(t,"zeroOrMin","horizontal"===t.markDef.orient?"x2":"y2"),zb(t))}},bar:{vgMark:"rect",encodeEntry:function(t){return $w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}),function(t){var e=t.config,n=t.encoding,r=t.markDef,i=t.width,o=r.orient,a=n.size,s=n.x,u=n.x2,l=t.scaleName(vB),c=t.getScaleComponent(vB);if(Hm(s)&&Mg(s.bin))return qb(s,u,vB,l,pm(r.binSpacing,e.bar.binSpacing),c.get("reverse"));if("horizontal"===o||u)return $w.__assign({},Hb("x",t,"zeroOrMin"),Gb(t,"zeroOrMin","x2"));if(Hm(s)){var f=c.get("type");if(Ag(s.bin)&&!a&&!zg(f))return qb(s,void 0,vB,t.scaleName("x"),pm(r.binSpacing,e.bar.binSpacing),c.get("reverse"));if(f===gB.BAND)return Ub(s,"x",t)}return Wb("x",t,$w.__assign({},Ib(i)),I_(r,l,c,e))}(t),function(t){var e=t.config,n=t.encoding,r=t.height,i=t.markDef,o=i.orient,a=n.size,s=n.y,u=n.y2,l=t.scaleName(yB),c=t.getScaleComponent(yB);if(Hm(s)&&Mg(s.bin))return qb(s,u,yB,l,pm(i.binSpacing,e.bar.binSpacing),c.get("reverse"));if("vertical"===o||u)return $w.__assign({},Hb("y",t,"zeroOrMin"),Gb(t,"zeroOrMin","y2"));if(Hm(s)){var f=c.get("type");if(Ag(s.bin)&&!a&&!zg(f))return qb(s,void 0,yB,t.scaleName("y"),pm(i.binSpacing,e.bar.binSpacing),c.get("reverse"));if(f===gB.BAND)return Ub(s,"y",t)}return Wb("y",t,Ib(r),I_(i,l,c,e))}(t))}},circle:{vgMark:"symbol",encodeEntry:function(t){return A_(t,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(t){return $w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}))},postEncodingTransform:function(t){var e=t.encoding.shape;return[$w.__assign({type:"geoshape",projection:t.projectionName()},e&&Hm(e)&&e.type===UF?{field:Jm(e,{expr:"datum"})}:{})]}},line:{vgMark:"line",encodeEntry:function(t){var e=t.width,n=t.height;return $w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}),Hb("x",t,Ib(e)),Hb("y",t,Ib(n)),Fb("size",t,{vgChannel:"strokeWidth"}),zb(t))}},point:{vgMark:"symbol",encodeEntry:function(t){return A_(t)}},rect:{vgMark:"rect",encodeEntry:function(t){return $w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}),function(t){var e=t.encoding.x,n=t.encoding.x2,r=t.getScaleComponent(vB),i=r?r.get("type"):void 0,o=t.scaleName(vB);if(Hm(e)&&(Ag(e.bin)||Mg(e.bin)))return qb(e,n,vB,o,0,r.get("reverse"));if(Hm(e)&&r&&zg(i)){if(i===gB.BAND)return Ub(e,"x",t);throw new Error(Jz.scaleTypeNotWorkWithMark(tB,i))}return $w.__assign({},Hb("x",t,"zeroOrMax"),Gb(t,"zeroOrMin","x2"))}(t),function(t){var e=t.encoding.y,n=t.encoding.y2,r=t.getScaleComponent(yB),i=r?r.get("type"):void 0,o=t.scaleName(yB);if(Hm(e)&&(Ag(e.bin)||Mg(e.bin)))return qb(e,n,yB,o,0,r.get("reverse"));if(Hm(e)&&r&&zg(i)){if(i===gB.BAND)return Ub(e,"y",t);throw new Error(Jz.scaleTypeNotWorkWithMark(tB,i))}return $w.__assign({},Hb("y",t,"zeroOrMax"),Gb(t,"zeroOrMin","y2"))}(t))}},rule:{vgMark:"rule",encodeEntry:function(t){var e=t.markDef,n=t.width,r=t.height,i=e.orient;return t.encoding.x||t.encoding.y||t.encoding.latitude||t.encoding.longitude?$w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}),Hb("x",t,"horizontal"===i?"zeroOrMin":Ib(n)),Hb("y",t,"vertical"===i?"zeroOrMin":Ib(r)),"vertical"!==i?Gb(t,"zeroOrMax","x2"):{},"horizontal"!==i?Gb(t,"zeroOrMax","y2"):{},Fb("size",t,{vgChannel:"strokeWidth",defaultValue:e.size})):{}}},square:{vgMark:"symbol",encodeEntry:function(t){return A_(t,"square")}},text:{vgMark:"text",encodeEntry:function(t){var e=t.config,n=t.width,r=t.height,i=t.markDef,o=pm(i.fontSize,i.size,Kb("fontSize",i,e.style),Kb("size",i,e.style),e[i.type].fontSize,e[i.type].size);return $w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}),Hb("x",t,Ib(n)),Hb("y",t,Ib(r)),Vb(t),Fb("size",t,{defaultValue:o,vgChannel:"fontSize"}),function(t,e){var n;if(void 0!==e)return n={},n[t]={value:e},n}("align",function(t,e,n){if(void 0===(t.align||Yb("align",t,n)))return"center"}(t.markDef,0,e)))}},tick:{vgMark:"rect",encodeEntry:function(t){var e,n=t.config,r=t.markDef,i=t.width,o=t.height,a=r.orient,s="horizontal"===a?"width":"height",u="horizontal"===a?"height":"width";return $w.__assign({},Rb(t,{size:"ignore",orient:"ignore"}),Hb("x",t,Ib(i),"xc"),Hb("y",t,Ib(o),"yc"),Fb("size",t,{defaultValue:function(t){var e=t.config,n=t.markDef,r=t.getScaleComponent("horizontal"===n.orient?"x":"y");if(void 0!==n.size)return n.size;if(void 0!==e.tick.bandSize)return e.tick.bandSize;var i=r?r.get("range"):void 0,o=i&&jv(i)?i.step:e.scale.rangeStep;if("number"!=typeof o)throw new Error("Function does not handle non-numeric rangeStep");return o/1.5}(t),vgChannel:s}),(e={},e[u]={value:pm(r.thickness,n.tick.thickness)},e))}},trail:{vgMark:"trail",encodeEntry:function(t){var e=t.width,n=t.height;return $w.__assign({},Rb(t,{size:"include",orient:"ignore"}),Hb("x",t,Ib(e)),Hb("y",t,Ib(n)),Fb("size",t),zb(t))}}},cW="faceted_path_",fW=function(t){function e(e,n){var r=t.call(this,e)||this;return r.transform=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.transform))},e.prototype.producedFields=function(){var t;return t={},t[this.transform.impute]=!0,t},e.prototype.processSequence=function(t){var e=t.start,n=t.step;return{signal:"sequence("+[void 0===e?0:e,t.stop].concat(n?[n]:[]).join(",")+")"}},e.makeFromTransform=function(t,n){return new e(t,n)},e.makeFromEncoding=function(t,n){var r=n.encoding,i=r.x,o=r.y;if(Hm(i)&&Hm(o)){var a=i.impute?i:o.impute?o:void 0;if(void 0===a)return;var s=i.impute?o:o.impute?i:void 0,u=a.impute,l=u.method,c=u.value,f=u.frame,p=u.keyvals,d=R_(n.mark,r);return new e(t,$w.__assign({impute:a.field,key:s.field},l?{method:l}:{},void 0!==c?{value:c}:{},f?{frame:f}:{},void 0!==p?{keyvals:p}:{},d.length?{groupby:d}:{}))}return null},e.prototype.hash=function(){return"Impute "+jh(this.transform)},e.prototype.assemble=function(){var t,e=this.transform,n=e.impute,r=e.keyvals,i=e.method,o=e.groupby,a=e.value,s=e.frame,u=void 0===s?[null,null]:s,l=$w.__assign({type:"impute",field:n,key:e.key},r?{keyvals:xv(r)?this.processSequence(r):r}:{},{method:"value"},o?{groupby:o}:{},{value:null});if(i&&"value"!==i){t=[$w.__assign({type:"window",as:["imputed_"+n+"_value"],ops:[i],fields:[n],frame:u,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum."+n+" === null ? datum.imputed_"+n+"_value : datum."+n,as:n}]}else{t=[{type:"formula",expr:"datum."+n+" === null ? "+a+" : datum."+n,as:n}]}return[l].concat(t)},e}(jV),pW=function(t){function e(e,n,r){void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r=!1);var i=t.call(this,e,n)||this;return i.explicit=e,i.implicit=n,i.parseNothing=r,i}return $w.__extends(e,t),e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.parseNothing=this.parseNothing,e},e}(GV),dW=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.transform=n,i.secondary=r,i}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.transform),this.secondary)},e.make=function(t,n,r,i){var o=n.component.data.sources,a=G_(r.from.data,o);a||(a=new JV(r.from.data),o.push(a));var s=n.getName("lookup_"+i),u=new LV(a,s,"lookup",n.component.data.outputNodeRefCounts);return n.component.data.outputNodes[s]=u,new e(t,r,u.getSource())},e.prototype.producedFields=function(){return Object(Jw.S)(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},e.prototype.hash=function(){return"Lookup "+jh({transform:this.transform,secondary:this.secondary})},e.prototype.assemble=function(){var t;if(this.transform.from.fields)t=$w.__assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var e=this.transform.as;Object(Jw.C)(e)||(_m(Jz.NO_FIELDS_NEEDS_AS),e="_lookup"),t={as:[e]}}return $w.__assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t,this.transform.default?{default:this.transform.default}:{})},e}(jV),hW=function(t){function e(e,n){var r=t.call(this,e)||this;return r.transform=n,r}return $w.__extends(e,t),e.prototype.clone=function(){return new e(null,em(this.transform))},e.prototype.hash=function(){return"SampleTransform "+jh(this.transform)},e.prototype.assemble=function(){return{type:"sample",size:this.transform.sample}},e}(jV),mW=L_,gW=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,o,i,e.resolve)||this;a.type="facet",a.child=tw(e.spec,a,a.getName("child"),void 0,i,o,!1),a.children=[a.child];var s=function(t,e){return q_(t,e)}(e.facet,i);return a.facet=a.initFacet(s),a}return $w.__extends(e,t),e.prototype.initFacet=function(t){return m_(t,function(t,e,n){return Lh([PB,NB],n)?void 0===e.field?(_m(Jz.emptyFieldDef(e,n)),t):(t[n]=pg(e,n),t):(_m(Jz.incompatibleChannel(n,"facet")),t)},{})},e.prototype.channelHasField=function(t){return!!this.facet[t]},e.prototype.fieldDef=function(t){return this.facet[t]},e.prototype.parseData=function(){this.component.data=$_(this),this.child.parseData()},e.prototype.parseLayoutSize=function(){z_(this)},e.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},e.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()},e.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},e.prototype.parseHeader=function(t){if(this.channelHasField(t)){var e=this.facet[t],n=ag(e,this.config,{allowDisabling:!0});this.child.component.layoutHeaders[t].title&&(n+=" / "+this.child.component.layoutHeaders[t].title,this.child.component.layoutHeaders[t].title=null),this.component.layoutHeaders[t]={title:n,facetFieldDef:e,header:[this.makeHeaderComponent(t,!0)]}}},e.prototype.makeHeaderComponent=function(t,e){var n="row"===t?"height":"width";return{labels:e,sizeSignal:this.child.component.layoutSize.get(n)?this.child.getSizeSignalRef(n):void 0,axes:[]}},e.prototype.mergeChildAxis=function(t){var e=this.child;if(e.component.axes[t]){var n=this.component,r=n.layoutHeaders,i=n.resolve;if(i.axis[t]=Qv(i,t),"shared"===i.axis[t])for(var o="x"===t?"column":"row",a=r[o],s=0,u=e.component.axes[t];s<u.length;s++){var l=u[s],c=Hv(l.get("orient"));a[c]=a[c]||[this.makeHeaderComponent(o,!1)];var f=zv(l,"main",this.config,{header:!0});a[c][0].axes.push(f),l.mainExtracted=!0}}},e.prototype.assembleSelectionTopLevelSignals=function(t){return this.child.assembleSelectionTopLevelSignals(t)},e.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},e.prototype.assembleSelectionData=function(t){return this.child.assembleSelectionData(t)},e.prototype.getHeaderLayoutMixins=function(){var t=this,e={};return["row","column"].forEach(function(n){["header","footer"].forEach(function(r){var i=t.component.layoutHeaders[n],o=i[r];if(o&&o[0]){var a="header"===r?"headerBand":"footerBand";t.child.component.layoutSize.get("row"===n?"height":"width")||(e[a]=e[a]||{},e[a][n]=.5),i.title&&(e.offset=e.offset||{},e.offset["row"===n?"rowTitle":"columnTitle"]=10)}})}),e},e.prototype.assembleDefaultLayout=function(){var t=this.channelHasField("column")?this.columnDistinctSignal():1;return $w.__assign({},this.getHeaderLayoutMixins(),{columns:t,bounds:"full",align:"all"})},e.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},e.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof e)){return{signal:"length(data('"+this.getName("column_domain")+"'))"}}},e.prototype.assembleGroup=function(n){return this.parent&&this.parent instanceof e?$w.__assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Jm(this.facet.column,{prefix:"distinct"})}}}}:{},t.prototype.assembleGroup.call(this,n)):t.prototype.assembleGroup.call(this,n)},e.prototype.getCardinalityAggregateForChild=function(){var t=[],n=[],r=[];if(this.child instanceof e){if(this.child.channelHasField("column")){var i=Jm(this.child.facet.column);t.push(i),n.push("distinct"),r.push("distinct_"+i)}}else for(var o=0,a=["x","y"];o<a.length;o++){var s=a[o],u=this.child.component.scales[s];if(u&&!u.merged){var l=u.get("type"),c=u.get("range");if(zg(l)&&jv(c)){(i=Ay(My(this.child,s)))?(t.push(i),n.push("distinct"),r.push("distinct_"+i)):_m("Unknown field for ${channel}.  Cannot calculate view size.")}}}return{fields:t,ops:n,as:r}},e.prototype.assembleFacet=function(){var t=this,e=this.component.data.facetRoot,n=e.name,r=e.data,i=this.facet,o=i.row,a=i.column,s=this.getCardinalityAggregateForChild(),u=s.fields,l=s.ops,c=s.as,f=[];["row","column"].forEach(function(e){var n=t.facet[e];if(n){f.push(Jm(n));var r=n.sort;if(Fv(r)){var i=r.field,s=r.op,p=H_(n,r);o&&a?(u.push(p),l.push("max"),c.push(p)):(u.push(i),l.push(s),c.push(p))}else if(Object(Jw.v)(r)){p=qv(n,e);u.push(p),l.push("max"),c.push(p)}}});var p=!!o&&!!a;return $w.__assign({name:n,data:r,groupby:f},p||u.length?{aggregate:$w.__assign({},p?{cross:p}:{},u.length?{fields:u,ops:l,as:c}:{})}:{})},e.prototype.headerSortFields=function(t){var e=this.facet[t];return e?Fv(e.sort)?[H_(e,e.sort,{expr:"datum"})]:Object(Jw.v)(e.sort)?[qv(e,t,{expr:"datum"})]:[Jm(e,{expr:"datum"})]:[]},e.prototype.headerSortOrder=function(t){var e=this.facet[t];if(e){var n=e.sort;return[(Fv(n)?n.order:!Object(Jw.v)(n)&&n)||"ascending"]}return[]},e.prototype.assembleMarks=function(){var t=this.child,e=function(t){var e=[],n=j_(e);return t.children.forEach(function(e){return n(e,{source:t.name,name:null,transform:[]})}),e}(this.component.data.facetRoot),n=t.assembleLayoutSize(),r=t.assembleTitle(),i=t.assembleGroupStyle();return[$w.__assign({name:this.getName("cell"),type:"group"},r?{title:r}:{},i?{style:i}:{},{from:{facet:this.assembleFacet()},sort:{field:this.headerSortFields("row").concat(this.headerSortFields("column")),order:this.headerSortOrder("row").concat(this.headerSortOrder("column"))}},e.length>0?{data:e}:{},n?{encode:{update:n}}:{},t.assembleGroup(function(t,e){if(t.component.selection&&oF(t.component.selection).length){var n=Object(Jw.O)(t.getName("cell"));e.unshift({name:"facet",value:{},on:[{events:Hj("mousemove","scope"),update:"isTuple(facet) ? facet : group("+n+").datum"}]})}return e}(this,[])))]},e.prototype.getMapping=function(){return this.facet},e}(PU),vW=function(t){function e(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)||this}return $w.__extends(e,t),e.prototype.parseData=function(){this.component.data=$_(this),this.children.forEach(function(t){t.parseData()})},e.prototype.parseSelection=function(){var t=this;this.component.selection={};for(var e=function(e){e.parseSelection(),oF(e.component.selection).forEach(function(n){t.component.selection[n]=e.component.selection[n]})},n=0,r=this.children;n<r.length;n++){e(r[n])}},e.prototype.parseMarkGroup=function(){for(var t=0,e=this.children;t<e.length;t++){e[t].parseMarkGroup()}},e.prototype.parseAxisAndHeader=function(){for(var t=0,e=this.children;t<e.length;t++){e[t].parseAxisAndHeader()}},e.prototype.assembleSelectionTopLevelSignals=function(t){return this.children.reduce(function(t,e){return e.assembleSelectionTopLevelSignals(t)},t)},e.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(t){return t.assembleSelectionSignals()}),[]},e.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(t,e){return t.concat(e.assembleLayoutSignals())},Kv(this))},e.prototype.assembleSelectionData=function(t){return this.children.reduce(function(t,e){return e.assembleSelectionData(t)},t)},e.prototype.assembleMarks=function(){return this.children.map(function(t){var e=t.assembleTitle(),n=t.assembleGroupStyle(),r=t.assembleLayoutSize();return $w.__assign({type:"group",name:t.getName("group")},e?{title:e}:{},n?{style:n}:{},r?{encode:{update:r}}:{},t.assembleGroup())})},e}(TU),yW=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,o,i,e.resolve)||this;return a.type="concat",e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&_m(Jz.CONCAT_CANNOT_SHARE_AXIS),a.isVConcat=fv(e),a.children=(fv(e)?e.vconcat:e.hconcat).map(function(t,e){return tw(t,a,a.getName("concat_"+e),void 0,i,o,!1)}),a}return $w.__extends(e,t),e.prototype.parseLayoutSize=function(){!function(t){z_(t);var e=t.isVConcat?"width":"height";t.component.layoutSize.setWithExplicit(e,F_(t,e))}(this)},e.prototype.parseAxisGroup=function(){return null},e.prototype.assembleDefaultLayout=function(){return $w.__assign({},this.isVConcat?{columns:1}:{},{bounds:"full",align:"each"})},e}(vW),bW=function(t){function e(e,n,r){void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r=!1);var i=t.call(this)||this;return i.explicit=e,i.implicit=n,i.mainExtracted=r,i}return $w.__extends(e,t),e.prototype.clone=function(){return new e(em(this.explicit),em(this.implicit),this.mainExtracted)},e.prototype.hasAxisPart=function(t){return"axis"===t||("grid"===t||"title"===t?!!this.get(t):!function(t){return!1===t||null===t}(this.get(t)))},e}(GV),_W={bottom:"top",top:"bottom",left:"right",right:"left"},wW=function(t){function e(e,n,r,i,o,a,s){void 0===i&&(i={});var u=t.call(this,e,n,r,a,o,void 0)||this;u.fit=s,u.type="unit",u.specifiedScales={},u.specifiedAxes={},u.specifiedLegends={},u.specifiedProjection={},u.selection={},u.children=[],u.initSize($w.__assign({},i,e.width?{width:e.width}:{},e.height?{height:e.height}:{}));var l=xg(e.mark)?e.mark.type:e.mark,c=u.encoding=f_(function(t,e){return q_(t,e)}(e.encoding||{},o),l);return u.markDef=Q_(e.mark,c,a),u.stack=Jg(l,c,u.config.stack),u.specifiedScales=u.initScales(l,c),u.specifiedAxes=u.initAxes(c),u.specifiedLegends=u.initLegend(c),u.specifiedProjection=e.projection,u.selection=e.selection,u}return $w.__extends(e,t),Object.defineProperty(e.prototype,"hasProjection",{get:function(){var t=this.encoding,e=this.mark===nB,n=t&&$B.some(function(e){return Hm(t[e])});return e||n},enumerable:!0,configurable:!0}),e.prototype.scaleDomain=function(t){var e=this.specifiedScales[t];return e?e.domain:void 0},e.prototype.axis=function(t){return this.specifiedAxes[t]},e.prototype.legend=function(t){return this.specifiedLegends[t]},e.prototype.initScales=function(t,e){return aV.reduce(function(t,n){var r,i,o=e[n];return Hm(o)?(r=o,i=o.scale):Wm(o)?(r=o.condition,i=o.condition.scale):"x"===n?r=fg(e.x2):"y"===n&&(r=fg(e.y2)),r&&(t[n]=i||{}),t},{})},e.prototype.initAxes=function(t){return[vB,yB].reduce(function(e,n){var r=t[n];if(Hm(r)||n===vB&&Hm(t.x2)||n===yB&&Hm(t.y2)){var i=Hm(r)?r.axis:null;null!==i&&(e[n]=$w.__assign({},i))}return e},{})},e.prototype.initLegend=function(t){return iV.reduce(function(e,n){var r=t[n];if(r){var i=Hm(r)?r.legend:Wm(r)?r.condition.legend:null;null!==i&&!1!==i&&(e[n]=$w.__assign({},i))}return e},{})},e.prototype.parseData=function(){this.component.data=$_(this)},e.prototype.parseLayoutSize=function(){!function(t){var e=t.component.layoutSize;if(!e.explicit.width){var n=B_(t,"width");e.set("width",n,!1)}if(!e.explicit.height){var r=B_(t,"height");e.set("height",r,!1)}}(this)},e.prototype.parseSelection=function(){this.component.selection=function(t,e){var n={},r=t.config.selection;e&&(e=em(e));var i=function(i){if(!e.hasOwnProperty(i))return"continue";var o=e[i],a=r[o.type];for(var s in a)"encodings"===s&&o.fields||"fields"===s&&o.encodings||("mark"===s&&(o[s]=$w.__assign({},a[s],o[s])),void 0!==o[s]&&!0!==o[s]||(o[s]=a[s]||o[s]));i=rm(i);var u=n[i]=$w.__assign({},o,{name:i,events:Object(Jw.C)(o.on)?Hj(o.on,"scope"):o.on});rb(u,function(e){e.parse&&e.parse(t,o,u)})};for(var o in e)i(o);return n}(this,this.selection)},e.prototype.parseMarkGroup=function(){this.component.mark=M_(this)},e.prototype.parseAxisAndHeader=function(){this.component.axes=X_(this)},e.prototype.assembleSelectionTopLevelSignals=function(t){return function(t,e){var n=!1;ab(t,function(r,i){var o=r.name,a=Object(Jw.O)(o+UU);e.filter(function(t){return t.name===o}).length||e.push({name:r.name,update:GU+"("+a+("global"===r.resolve?")":", "+Object(Jw.O)(r.resolve)+")")}),n=!0,i.topLevelSignals&&(e=i.topLevelSignals(t,r,e)),rb(r,function(n){n.topLevelSignals&&(e=n.topLevelSignals(t,r,e))})}),n&&(e.filter(function(t){return"unit"===t.name}).length||e.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}));return e}(this,t)},e.prototype.assembleSelectionSignals=function(){return function(t,e){return ab(t,function(n,r){var i=n.name,o=r.modifyExpr(t,n);e.push.apply(e,r.signals(t,n)),rb(n,function(r){r.signals&&(e=r.signals(t,n,e)),r.modifyExpr&&(o=r.modifyExpr(t,n,o))}),e.push({name:i+qU,on:[{events:{signal:i+WU},update:"modify("+Object(Jw.O)(n.name+UU)+", "+o+")"}]})}),e}(this,[])},e.prototype.assembleSelectionData=function(t){return function(t,e){return ab(t,function(t){e.filter(function(e){return e.name===t.name+UU}).length||e.push({name:t.name+UU})}),e}(this,t)},e.prototype.assembleLayout=function(){return null},e.prototype.assembleLayoutSignals=function(){return Kv(this)},e.prototype.assembleMarks=function(){var t=this.component.mark||[];return this.parent&&Zy(this.parent)||(t=ib(this,t)),t.map(this.correctDataNames)},e.prototype.assembleLayoutSize=function(){return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},e.prototype.getMapping=function(){return this.encoding},e.prototype.toSpec=function(t,e){var n,r=em(this.encoding);return n={mark:this.markDef,encoding:r},t||(n.config=em(this.config)),e||(n.data=em(this.data)),n},Object.defineProperty(e.prototype,"mark",{get:function(){return this.markDef.type},enumerable:!0,configurable:!0}),e.prototype.channelHasField=function(t){return u_(this.encoding,t)},e.prototype.fieldDef=function(t){return fg(this.encoding[t])},e}(PU),xW=function(t){function e(n,r,i,o,a,s,u){var l=t.call(this,n,r,i,s,a,n.resolve)||this;l.type="layer";var c=$w.__assign({},o,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return l.initSize(c),l.children=n.layer.map(function(t,n){if(uv(t))return new e(t,l,l.getName("layer_"+n),c,a,s,u);if(sv(t))return new wW(t,l,l.getName("layer_"+n),c,a,s,u);throw new Error(Jz.INVALID_SPEC)}),l}return $w.__extends(e,t),e.prototype.parseData=function(){this.component.data=$_(this);for(var t=0,e=this.children;t<e.length;t++){e[t].parseData()}},e.prototype.parseLayoutSize=function(){L_(this)},e.prototype.parseSelection=function(){var t=this;this.component.selection={};for(var e=function(e){e.parseSelection(),oF(e.component.selection).forEach(function(n){t.component.selection[n]=e.component.selection[n]})},n=0,r=this.children;n<r.length;n++){e(r[n])}},e.prototype.parseMarkGroup=function(){for(var t=0,e=this.children;t<e.length;t++){e[t].parseMarkGroup()}},e.prototype.parseAxisAndHeader=function(){Z_(this)},e.prototype.assembleSelectionTopLevelSignals=function(t){return this.children.reduce(function(t,e){return e.assembleSelectionTopLevelSignals(t)},t)},e.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(t,e){return t.concat(e.assembleSelectionSignals())},[])},e.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(t,e){return t.concat(e.assembleLayoutSignals())},Kv(this))},e.prototype.assembleSelectionData=function(t){return this.children.reduce(function(t,e){return e.assembleSelectionData(t)},t)},e.prototype.assembleTitle=function(){var e=t.prototype.assembleTitle.call(this);if(e)return e;for(var n=0,r=this.children;n<r.length;n++){if(e=r[n].assembleTitle())return e}},e.prototype.assembleLayout=function(){return null},e.prototype.assembleMarks=function(){return function(t,e){for(var n=0,r=t.children;n<r.length;n++){var i=r[n];$y(i)&&(e=ib(i,e))}return e}(this,Uh(this.children.map(function(t){return t.assembleMarks()})))},e.prototype.assembleLegends=function(){return this.children.reduce(function(t,e){return t.concat(e.assembleLegends())},my(this))},e}(TU),EW=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,o,i,e.resolve)||this;return a.type="repeat",e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&_m(Jz.REPEAT_CANNOT_SHARE_AXIS),a.repeat=e.repeat,a.children=a._initChildren(e,a.repeat,i,o),a}return $w.__extends(e,t),e.prototype._initChildren=function(t,e,n,r){for(var i=[],o=e.column||[n?n.column:null],a=0,s=e.row||[n?n.row:null];a<s.length;a++)for(var u=s[a],l=0,c=o;l<c.length;l++){var f=c[l],p={row:u,column:f};i.push(tw(t.spec,this,this.getName("child"+((u?"_"+u:"")+(f?"_"+f:""))),void 0,p,r,!1))}return i},e.prototype.parseLayoutSize=function(){mW(this)},e.prototype.assembleDefaultLayout=function(){return{columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},e}(vW),CW={text:["text"],line:["x","y"],trail:["x","y"],area:["x","y"]},SW={bar:Object(Jw.S)(["row","column","x","y","size","color","fill","stroke","detail"]),line:Object(Jw.S)(["row","column","x","y","color","fill","stroke","color","detail"]),trail:Object(Jw.S)(["row","column","x","y","color","fill","stroke","color","detail","size"]),area:Object(Jw.S)(["row","column","x","y","color","fill","stroke","detail"]),tick:Object(Jw.S)(["row","column","x","y","color","fill","stroke","detail"]),circle:Object(Jw.S)(["row","column","x","y","color","fill","stroke","size","detail"]),square:Object(Jw.S)(["row","column","x","y","color","fill","stroke","size","detail"]),point:Object(Jw.S)(["row","column","x","y","color","fill","stroke","size","detail","shape"]),geoshape:Object(Jw.S)(["row","column","color","fill","stroke","detail","shape"]),text:Object(Jw.S)(["row","column","size","color","fill","stroke","text"])},OW=n(468),kW=n.n(OW).a.version,TW=n(469),PW=n.n(TW);const NW="#4572a7";var IW={background:"#fff",arc:{fill:NW},area:{fill:NW},line:{stroke:NW,strokeWidth:2},path:{stroke:NW},rect:{fill:NW},shape:{stroke:NW},symbol:{fill:NW,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}};var AW={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}};const MW="#ab5787";var DW={background:"#f9f9f9",arc:{fill:MW},area:{fill:MW},line:{stroke:MW},path:{stroke:MW},rect:{fill:MW},shape:{stroke:MW},symbol:{fill:MW,size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}};const RW="#3e5c69";var jW={background:"#fff",arc:{fill:RW},area:{fill:RW},line:{stroke:RW},path:{stroke:RW},rect:{fill:RW},shape:{stroke:RW},symbol:{fill:RW},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}};var LW={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#aaa",tickColor:"#fff"}};const zW="#30a2da",FW="#cbcbcb";var BW={arc:{fill:zW},area:{fill:zW},axisBand:{grid:!1},axisBottom:{domain:!1,domainColor:"#1c1c1c",domainWidth:3,grid:!0,gridColor:FW,gridWidth:1,labelColor:FW,labelFontSize:10,labelPadding:4,tickColor:FW,tickSize:10,titleFontSize:14,titlePadding:10},axisLeft:{domainColor:FW,domainWidth:1,grid:!0,gridColor:FW,gridWidth:1,labelColor:FW,labelFontSize:10,labelPadding:4,tickColor:FW,tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisRight:{domainColor:"#1c1c1c",domainWidth:1,grid:!0,gridColor:FW,gridWidth:1,labelColor:FW,labelFontSize:10,labelPadding:4,tickColor:FW,tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisTop:{domain:!1,domainColor:"#1c1c1c",domainWidth:3,grid:!0,gridColor:FW,gridWidth:1,labelColor:FW,labelFontSize:10,labelPadding:4,tickColor:FW,tickSize:10,titleFontSize:14,titlePadding:10},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#1c1c1c",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#1c1c1c",titleFontSize:14,titlePadding:10},line:{stroke:zW,strokeWidth:2},path:{stroke:zW,strokeWidth:.5},rect:{fill:zW},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},symbol:{filled:!0,opacity:.5,shape:"circle",size:40},shape:{stroke:zW},style:{bar:{binSpacing:2,fill:zW,stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},VW="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n  #vg-tooltip-element td {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    padding-top: 2px;\n    padding-bottom: 2px; }\n    #vg-tooltip-element td.key {\n      color: #808080;\n      max-width: 150px;\n      text-align: right;\n      padding-right: 4px; }\n    #vg-tooltip-element td.value {\n      display: block;\n      max-width: 300px;\n      max-height: 7em;\n      text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n  #vg-tooltip-element.light-theme {\n    background-color: rgba(255, 255, 255, 0.95);\n    border: 1px solid #d9d9d9;\n    color: black; }\n    #vg-tooltip-element.light-theme td.key {\n      color: #808080; }\n";const UW="vg-tooltip-element",WW={offsetX:10,offsetY:10,id:UW,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};class qW{constructor(t){this.options=Object.assign({},WW,t);const e=this.options.id;if(this.call=this.tooltip_handler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const t=document.createElement("style");t.setAttribute("id",this.options.styleId),t.innerHTML=function(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return VW.toString().replace(UW,t)}(e);const n=document.head;n.childNodes.length>0?n.insertBefore(t,n.childNodes[0]):n.appendChild(t)}this.el=document.getElementById(e),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",e),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltip_handler(t,e,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=function(t,e,n){if(Object(Jw.v)(t))return`[${t.map(t=>e(Object(Jw.C)(t)?t:iw(t,n))).join(", ")}]`;if(Object(Jw.A)(t)){let r="";const i=t,{title:o}=i,a=$w.__rest(i,["title"]);o&&(r+=`<h2>${e(o)}</h2>`);const s=Object.keys(a);if(s.length>0){r+="<table>";for(const t of s){let i=a[t];Object(Jw.A)(i)&&(i=iw(i,n)),r+=`<tr><td class="key">${e(t)}:</td><td class="value">${e(i)}</td></tr>`}r+="</table>"}return r||"{}"}return e(t)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:o}=function(t,e,n,r){let i=t.clientX+n;i+e.width>window.innerWidth&&(i=+t.clientX-n-e.width);let o=t.clientY+r;return o+e.height>window.innerHeight&&(o=+t.clientY-r-e.height),{x:i,y:o}}(e,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${i}px`)}}var HW='.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    display: flex;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t}),e.guessMode=sw,e.default=uw;const GW=_w;e.vega=GW;const $W=Hw;e.vl=$W;const YW={vega:"Vega","vega-lite":"Vega-Lite"},KW={vega:GW.version,"vega-lite":$W?$W.version:"not available"},XW={vega:(t,e)=>t,"vega-lite":(t,e)=>$W.compile(t,{config:e}).spec},ZW='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',JW={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Vega Source",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"}},function(t,e,n){var r=n(88),i=n(514),o=n(515),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(109),i=n(161);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../util/util"),r=function(){function t(){this._menus=[]}return t.prototype.open=function(t){var e=this.get(t);if(e&&!this.isAnimating()){var n=this.getOpen();return n&&e!==n&&n.setOpen(!1,!1),e.open()}return Promise.resolve(!1)},t.prototype.close=function(t){var e;return(e=t?this.get(t):this.getOpen())?e.close():Promise.resolve(!1)},t.prototype.toggle=function(t){var e=this.get(t);if(e&&!this.isAnimating()){var n=this.getOpen();return n&&e!==n&&n.setOpen(!1,!1),e.toggle()}return Promise.resolve(!1)},t.prototype.enable=function(t,e){var n=this.get(e);if(n)return n.enable(t)},t.prototype.swipeEnable=function(t,e){var n=this.get(e);if(n)return n.swipeEnable(t)},t.prototype.isOpen=function(t){if(t){var e=this.get(t);return e&&e.isOpen||!1}return!!this.getOpen()},t.prototype.isEnabled=function(t){var e=this.get(t);return e&&e.enabled||!1},t.prototype.get=function(t){return"left"===t||"right"===t?this._menus.find(function(e){return e.side===t&&e.enabled})||this._menus.find(function(e){return e.side===t})||null:t?this._menus.find(function(e){return e.id===t})||null:this._menus.find(function(t){return t.enabled})||(this._menus.length?this._menus[0]:null)},t.prototype.getOpen=function(){return this._menus.find(function(t){return t.isOpen})},t.prototype.getMenus=function(){return this._menus},t.prototype.isAnimating=function(){return this._menus.some(function(t){return t.isAnimating()})},t.prototype._register=function(t){this._menus.push(t)},t.prototype._unregister=function(t){n.removeArrayItem(this._menus,t)},t.prototype._setActiveMenu=function(t){var e=t.side;this._menus.filter(function(n){return n.side===e&&n!==t}).map(function(t){return t.enable(!1)})},t.registerType=function(t,e){i[t]=e},t.create=function(t,e,n){return new i[t](e,n)},t}();e.MenuController=r;var i={}})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,n,r,i){var o=t.call(this,e,null,i)||this;return o.enteringView=n,o.leavingView=r,o}return a(e,t),e.prototype.init=function(){},e.prototype.registerStart=function(t){this._trnsStart=t},e.prototype.start=function(){this._trnsStart&&this._trnsStart(),this._trnsStart=null,this.parent&&this.parent.start()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.parent=this.enteringView=this.leavingView=this._trnsStart=null},e}(t("../animations/animation").Animation);e.Transition=n})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(178),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n){if(!e||!e.links||!t.getBoolean("preloadModules"))return Promise.resolve();var r=e.links.filter(function(t){return!!t.loadChildren&&"off"!==t.priority}),i=r.filter(function(t){return"high"===t.priority}).map(function(t){return n.load(t.loadChildren)});return Promise.all(i).then(function(){var t=r.filter(function(t){return"low"===t.priority}).map(function(t){return n.load(t.loadChildren)});return Promise.all(t)}).catch(function(t){console.error(t.message)})}Object.defineProperty(e,"__esModule",{value:!0});var r=t("@angular/core"),i=t("./ng-module-loader"),o=t("./util");e.LAZY_LOADED_TOKEN=new r.InjectionToken("LZYCMP");var a=function(){function t(t,e){this._ngModuleLoader=t,this._injector=e,this._cfrMap=new Map,this._promiseMap=new Map}return t.prototype.load=function(t){var n=this,r=t.split(s),i=this._promiseMap.get(t);return i||(i=this._ngModuleLoader.load(r[0],r[1]),this._promiseMap.set(t,i)),i.then(function(t){var r=t.create(n._injector),i=r.injector.get(e.LAZY_LOADED_TOKEN);return n._cfrMap.set(i,r.componentFactoryResolver),{componentFactoryResolver:r.componentFactoryResolver,component:i}})},t.prototype.getComponentFactoryResolver=function(t){return this._cfrMap.get(t)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:i.NgModuleLoader},{type:r.Injector}]},t}();e.ModuleLoader=a;var s="#";e.provideModuleLoader=function(t,e){return new a(t,e)},e.setupPreloadingImplementation=n,e.setupPreloading=function(t,e,r,i){return function(){o.requestIonicCallback(function(){i.runOutsideAngular(function(){n(t,e,r)})})}}})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(9),n(4),n(3),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../ion"),i=t("../../util/util"),o=t("../../config/config"),s=t("../../platform/platform"),u={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},l=function(){return function(){}}();e.RootNode=l;var c=function(t){function e(e,r,i,o,a){var s=t.call(this,i,o,a,"split-pane")||this;return s._zone=e,s._plt=r,s._init=!1,s._visible=!1,s._isEnabled=!0,s._mediaQuery=u.md,s.sideContent=null,s.mainContent=null,s.ionChange=new n.EventEmitter,s}return a(e,t),Object.defineProperty(e.prototype,"_setchildren",{set:function(t){var e=this;(this._children=t.filter(function(t){return t!==e})).forEach(function(t){var n=t.initPane();e._setPaneCSSClass(t.getElementRef(),n)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"when",{get:function(){return this._mediaQuery},set:function(t){if("boolean"==typeof t)this._mediaQuery=t;else{var e=u[t];this._mediaQuery=e||t}this._update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=i.isTrueProperty(t),this._update()},enumerable:!0,configurable:!0}),e.prototype._register=function(t,e,n){return this.getElementRef().nativeElement===t.getElementRef().nativeElement.parentNode&&(this._setPaneCSSClass(t.getElementRef(),e),n&&this.ionChange.subscribe(n),e&&(this.mainContent&&console.error("split pane: main content was already set"),this.mainContent=t),!0)},e.prototype.ngAfterViewInit=function(){this._init=!0,this._update()},e.prototype._update=function(){var t=this;if(this._init)if(this._rmListener&&this._rmListener(),this._rmListener=null,this._isEnabled){var e=this._mediaQuery;if("boolean"!=typeof e)if(e&&e.length>0){var n=function(e){return t._setVisible(e.matches)},r=this._plt.win().matchMedia(e);r.addListener(n),this._setVisible(r.matches),this._rmListener=function(){r.removeListener(n)}}else this._setVisible(!1);else this._setVisible(e)}else this._setVisible(!1)},e.prototype._updateChildren=function(){this.mainContent=null,this.sideContent=null;var t=this._visible;this._children.forEach(function(e){return e.paneChanged&&e.paneChanged(t)})},e.prototype._setVisible=function(t){var e=this;this._visible!==t&&(this._visible=t,this.setElementClass("split-pane-visible",t),this._updateChildren(),this._zone.run(function(){e.ionChange.emit(e)}))},e.prototype.isVisible=function(){return this._visible},e.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},e.prototype._setPaneCSSClass=function(t,e){var n=t.nativeElement;this._renderer.setElementClass(n,"split-pane-main",e),this._renderer.setElementClass(n,"split-pane-side",!e)},e.prototype.ngOnDestroy=function(){this._rmListener&&this._rmListener(),this._rmListener=null},e.prototype.initPane=function(){return!0},e.decorators=[{type:n.Directive,args:[{selector:"ion-split-pane",providers:[{provide:l,useExisting:n.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:n.NgZone},{type:s.Platform},{type:o.Config},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={_setchildren:[{type:n.ContentChildren,args:[l,{descendants:!1}]}],when:[{type:n.Input}],enabled:[{type:n.Input}],ionChange:[{type:n.Output}]},e}(r.Ion);e.SplitPane=c})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(296)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i._sbPadding=e.getBoolean("statusbarPadding"),i}return a(e,t),e.decorators=[{type:n.Component,args:[{selector:"ion-toolbar",template:'<div class="toolbar-background" [ngClass]="\'toolbar-background-\' + _mode"></div><ng-content select="[menuToggle],ion-buttons[left]"></ng-content><ng-content select="ion-buttons[start]"></ng-content><ng-content select="ion-buttons[end],ion-buttons[right]"></ng-content><div class="toolbar-content" [ngClass]="\'toolbar-content-\' + _mode"><ng-content></ng-content></div>',host:{class:"toolbar","[class.statusbar-padding]":"_sbPadding"},changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("./toolbar-base").ToolbarBase);e.Toolbar=i})},function(t,e,n){"use strict";(function(t,r,i,o){function a(t,e){function n(){this.constructor=t}Cr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function u(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function l(t){t in Or||(document.createElement("canvas").addEventListener("webglcontextlost",function(e){e.preventDefault(),delete Or[t]},!1),Or[t]=function(t){if(1!==t&&2!==t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=document.createElement("canvas");return 1===t?e.getContext("webgl",kr)||e.getContext("experimental-webgl",kr):e.getContext("webgl2",kr)}(t));var e=Or[t];return e.isContextLost()?(delete Or[t],l(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Or[t])}function c(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function f(t,e,n){return Math.max(t,Math.min(e,n))}function p(t){return t%2==0?t:t+1}function d(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function h(t,e){var n=Math.random();return e*n+(1-n)*t}function m(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function g(t,e,n){void 0===n&&(n=""),m(_(t,e),n+" Shapes "+t+" and "+e+" must match")}function v(t){m(null!=t,"The input to the tensor constructor must be a non-null value.")}function y(t,e){if(void 0===e&&(e=[]),Array.isArray(t)||M(t))for(var n=0;n<t.length;++n)y(t[n],e);else e.push(t);return e}function b(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function _(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function w(t){return t%1==0}function x(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function E(t){for(var e=Math.floor(Math.sqrt(t));e>1;--e)if(t%e==0)return[e,t/e];return[1,t]}function C(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function S(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise(function(r,i){var o=0,a=function(){if(t())r();else{var s=e(++o);null!=n&&o>=n?i():setTimeout(a,s)}};a()})}function O(t,e){for(var n=1,r=-1,i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(-1===t[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(t[i]<0)throw Error("Shapes can not be < 0. Found "+t[i]+" at dim "+i);if(-1===r){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(0===n)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var o=t.slice();return o[r]=e/n,o}function k(t,e){for(var n=[],r=[],i=0,o=0;o<t.length;++o){if(null!=e){if(e[i]===o&&1!==t[o])throw new Error("Can't squeeze axis "+o+" since its dim '"+t[o]+"' is not 1");(null==e[i]||e[i]>o)&&1===t[o]&&(n.push(t[o]),r.push(o)),e[i]<=o&&i++}1!==t[o]&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}}function T(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n}function P(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type "+t);n=new Array(e)}return n}function N(t,e,n){if("float32"===e)for(var r=0;r<t.length;r++)if(isNaN(t[r]))throw Error("The result of the '"+n+"' has NaNs.")}function I(t,e){if("float32"!==e)for(var n=0;n<t.length;n++)if(isNaN(t[n]))throw Error("NaN is not a valid value for dtype: '"+e+"'.")}function A(t,e){return!("complex64"===e||"float32"===e&&"complex64"!==t||"int32"===e&&"float32"!==t&&"complex64"!==t||"bool"===e&&"bool"===t)}function M(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function D(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)}function R(t){if(null==t)return 0;var e=0;return t.forEach(function(t){return e+=2*t.length}),e}function j(t){return"string"==typeof t||t instanceof String}function L(t){return"boolean"==typeof t}function z(t){return"number"==typeof t}function F(t){return t instanceof Array?F(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":z(t)?"float32":j(t)?"string":L(t)?"bool":"float32"}function B(t){return!!(t&&t.constructor&&t.call&&t.apply)}function V(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t}function U(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function W(t,e,n){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(Array.isArray(t)&&(t=y(t)),null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return n&&I(t,e),new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),i=0;i<r.length;++i)0!==Math.round(t[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+e)}function q(t,e){for(var n=H(t,e),r=0;r<n.length;r++)n[r]=1;return n}function H(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}function G(){if("undefined"!=typeof performance)return performance.now();if(void 0!==t){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}function $(t,e,n,r){var i=U(e),o=function(t,e,n,r){var i=b(e),o=r[r.length-1],a=new Array(o).fill(0),s=e.length,u="complex64"===n?X(t):t;if(s>1)for(var l=0;l<i/o;l++)for(var c=l*o,f=0;f<o;f++)a[f]=Math.max(a[f],Y(u[c+f],0).length);return a}(t,e,n,i),a=e.length,s=K(t,e,n,i,o),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+e+"]"),u.push("  values:")),u.push(s.map(function(t){return"    "+t}).join("\n")),u.join("\n")}function Y(t,e){return C(Array.isArray(t)?parseFloat(t[0].toFixed(Mr))+" + "+parseFloat(t[1].toFixed(Mr))+"j":j(t)?"'"+t+"'":parseFloat(t.toFixed(Mr)).toString(),e)}function K(t,e,n,r,i,o){void 0===o&&(o=!0);var a="complex64"===n?2:1,s=e[0],u=e.length;if(0===u)return"complex64"===n?[Y(X(t)[0],0)]:[t[0].toString()];if(1===u){if(s>Ir){var l=Ar*a,c=Array.from(t.slice(0,l)),f=Array.from(t.slice(s-Ar*a,s));return"complex64"===n&&(c=X(c),f=X(f)),["["+c.map(function(t,e){return Y(t,i[e])}).join(", ")+", ..., "+f.map(function(t,e){return Y(t,i[s-Ar+e])}).join(", ")+"]"]}return["["+("complex64"===n?X(t):Array.from(t)).map(function(t,e){return Y(t,i[e])}).join(", ")+"]"]}var p=e.slice(1),d=r.slice(1),h=r[0]*a,m=[];if(s>Ir){for(var g=0;g<Ar;g++){var v=(y=g*h)+h;m.push.apply(m,K(t.slice(y,v),p,n,d,i,!1))}for(m.push("..."),g=s-Ar;g<s;g++)v=(y=g*h)+h,m.push.apply(m,K(t.slice(y,v),p,n,d,i,g===s-1))}else for(g=0;g<s;g++){var y;v=(y=g*h)+h,m.push.apply(m,K(t.slice(y,v),p,n,d,i,g===s-1))}var b=2===u?",":"";for(m[0]="["+m[0]+b,g=1;g<m.length-1;g++)m[g]=" "+m[g]+b;var _=",\n";for(g=2;g<u;g++)_+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(o?"":_),m}function X(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}function Z(t){Rr=t}function J(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error("Can not upcast "+t+" with "+e)}return Gr[t][e]}function Q(t){return J(t,"int32")}function tt(t,e){if(t.dtype===e.dtype)return[t,e];var n=J(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function et(t){var e=[];return nt(t,e,new Set),e}function nt(t,e,n){if(null!=t)if(t instanceof Lr)e.push(t);else if(function(t){return Array.isArray(t)||"object"==typeof t}(t)){var r=t;for(var i in r){var o=r[i];n.has(o)||(n.add(o),nt(o,e,n))}}}function rt(t){try{if(null!=l(t))return!0}catch(t){return!1}return!1}function it(){var t={};if("undefined"==typeof window||void 0===window.location||void 0===window.location.search)return t;var e=function(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}(e,n[0],n[1]),n.join("=")}),e}(window.location.search);if(Jr in e){var n={};e[Jr].split(",").forEach(function(t){var e=t.split(":");n[e[0]]=e[1]}),Zr.forEach(function(e){e.name in n&&(console.log("Setting feature override from URL "+e.name+": "+n[e.name]),e.type===Hr.NUMBER?t[e.name]=+n[e.name]:e.type===Hr.BOOLEAN?t[e.name]="true"===n[e.name]:e.type===Hr.STRING?t[e.name]=n[e.name]:console.warn("Unknown URL param: "+e.name+"."))})}return t}function ot(t,e){return null!=t.getExtension(e)}function at(t,e){var n=t.createFramebuffer(),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);t.texImage2D(t.TEXTURE_2D,0,2===e?t.RGBA32F:t.RGBA,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(n),i}function st(t){return m(B(t),"The f passed in grad(f) must be a function"),function(e,n){return m(e instanceof Lr,"The x passed in grad(f)(x) must be a tensor"),m(null==n||n instanceof Lr,"The dy passed in grad(f)(x, dy) must be a tensor"),ti.engine.tidy(function(){var r=ti.engine.gradients(function(){return t(e)},[e],n),i=r.grads;return null!=n&&g(r.value.shape,n.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),dt(i),i[0]})}}function ut(t){return m(B(t),"The f passed in grads(f) must be a function"),function(e,n){return m(Array.isArray(e)&&e.every(function(t){return t instanceof Lr}),"The args passed in grads(f)(args) must be an array of tensors"),m(null==n||n instanceof Lr,"The dy passed in grads(f)(args, dy) must be a tensor"),ti.engine.tidy(function(){var r=ti.engine.gradients(function(){return t.apply(void 0,e)},e,n),i=r.grads;return null!=n&&g(r.value.shape,n.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),dt(i),i})}}function lt(t){return m(B(t),"The f passed in valueAndGrad(f) must be a function"),function(e,n){m(e instanceof Lr,"The x passed in valueAndGrad(f)(x) must be a tensor"),m(null==n||n instanceof Lr,"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");var r=ti.engine.gradients(function(){return t(e)},[e],n),i=r.grads,o=r.value;return dt(i),{grad:i[0],value:o}}}function ct(t){return m(B(t),"The f passed in valueAndGrads(f) must be a function"),function(e,n){m(Array.isArray(e)&&e.every(function(t){return t instanceof Lr}),"The args passed in valueAndGrads(f)(args) must be array of tensors"),m(null==n||n instanceof Lr,"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");var r=ti.engine.gradients(function(){return t.apply(void 0,e)},e,n);return null!=n&&g(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),dt(r.grads),r}}function ft(t,e){if(m(B(t),"The f passed in variableGrads(f) must be a function"),m(null==e||Array.isArray(e)&&e.every(function(t){return t instanceof zr}),"The varList passed in variableGrads(f, varList) must be an array of variables"),null==e)for(var n in e=[],ti.engine.registeredVariables)e.push(ti.engine.registeredVariables[n]);var r=e.length;m((e=e.filter(function(t){return t.trainable})).length>0,"variableGrads() expects at least one of the input variables to be trainable, but none of the "+r+" variables is trainable.");var i=ti.engine.gradients(t,e,null,!0),o=i.value,a=i.grads;m(a.some(function(t){return null!=t}),"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),m(0===o.rank,"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+o.rank+" tensor");var s={};return e.forEach(function(t,e){null!=a[e]&&(s[t.name]=a[e])}),{value:o,grads:s}}function pt(t){return ti.engine.customGrad(t)}function dt(t){if(t.filter(function(t){return null==t}).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ti.get("IS_TEST")||console.warn.apply(console,t)}function mt(t,e,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(e.slice(0))).push(t[0]/n),i=i.concat(t.slice(1));else{i=i.concat(t[0]);for(var o=e.length,a=0;a<o;++a)i=i.concat([t[a+1]/e[a],e[a]]);i=i.concat(t.slice(o+1))}return i}function gt(t,e,n){void 0===n&&(n=!0);var r=[];if(n){r.push(e);for(var i=e+1;i<t;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{var o=[],a=[];for(i=1;i<t;++i)i>=2*e+1||i%2==1?a.push(i):o.push(i);r.push.apply(r,o),r.push(0),r.push.apply(r,a)}return r}function vt(t,e,n,r){void 0===r&&(r=!0);var i=[];i.push(r?t[0]/n:t[0]*n);for(var o=1;o<t.length;++o)i.push(o<=e.length?r?e[o-1]*t[o]:t[o]/e[o-1]:t[o]);return i}function yt(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function bt(t,e,n){for(var r=t.slice(0,1),i=0;i<n;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}function _t(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function wt(t,e){for(var n=[],r=t.length,i=0;i<r;i++)-1===e.indexOf(i)&&n.push(t[i]);return[n,e.map(function(e){return t[e]})]}function xt(t,e){return function(t,e,n){for(var r=t.length+e.length,i=[],o=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(t[o++]):i.push(e[a++]);return i}(t,e.map(function(t){return 1}),e)}function Et(t,e){var n=e.length;return m((t=null==t?e.map(function(t,e){return e}):[].concat(t)).every(function(t){return t>=-n&&t<n}),"All values in axis param must be in range [-"+n+", "+n+") but got axis "+t),m(t.every(function(t){return w(t)}),"All values in axis param must be integers but got axis "+t),t.map(function(t){return t<0?n+t:t})}function Ct(t,e,n){m(_t(e,n),t+" supports only inner-most axes for now. Got axes "+e+" and rank-"+n+" input.")}function St(t,e){if(_t(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach(function(t){return n.push(t)}),n}function Ot(t){return t.map(function(t,e){return[e,t]}).sort(function(t,e){return t[1]-e[1]}).map(function(t){return t[0]})}function kt(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function Tt(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}function Pt(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==e.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+t.rank);if(0===t.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+t.shape+".");for(var n=e.shape,r=n[n.length-1],i=1,o=0;o<n.length-1;++o)i*=n[o];var a=t.shape,s=n.slice();s.pop();var u=1;for(o=r;o<t.rank;++o)u*=a[o],s.push(a[o]);var l=U(t.shape).map(function(t){return t/u}).concat([1]).slice(0,r);return[s,i,u,l]}function Nt(t){return t<=si?t:V(t,Math.floor(Math.sqrt(t)))}function It(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==e.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===e.size)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(0===t.size)throw new Error("Updates specified for empty output. updates shape: "+t.shape)}!function(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+e.shape+", shape: "+t+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(o+" update.rank < "+i+". ");if(t.length<r+(n.rank-i))throw new Error(o+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+t.length-r)throw new Error(o+" update.rank != "+(i+t.length-r));for(var a=0;a<i;++a)if(n.shape[a]!==e.shape[a])throw new Error(o+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+e.shape[a]+").");for(a=0;a<n.rank-i;++a)if(n.shape[a+i]!==t[a+r])throw new Error(o+" updates.shape["+(a+i)+"] ("+n.shape[a+i]+") != shape["+(a+i)+"] ("+t[a+i]+")")}(n,e,t)}function At(t,e,n){for(var r=e.rank>1?e.shape[e.rank-1]:1,i=n.length,o=1,a=r;a<i;++a)o*=n[a];var s=e.size/(r<1?1:r),u=U(n).concat([1]);return{sliceRank:r,numUpdates:s,sliceSize:o,strides:u.slice(u.length-r,u.length),outputSize:b(n)}}function Mt(t,e,n,r,i,o,a,s,u){if(void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),0!==a)throw new Error("ellipsis mask is not yet supported");if(0!==s)throw new Error("new axis mask is not yet supported");for(var l=[],c=[],p=[],d=0;d<t.length;d++)l[d]=function(t,e,n,r,i){var o=e[i];t&1<<i&&(o=n[i]>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var a=r[i];return o<0&&(o+=a),o=f(0,o,a-1)}(i,e,r,t,d),c[d]=function(t,e,n,r,i){var o=e[i];t&1<<i&&(o=n[i]>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var a=r[i];return o<0&&(o+=a),o=n[i]>0?f(0,o,a):f(-1,o,a-1)}(o,n,r,t,d),u&1<<d&&(c[d]=l[d]+1,p.push(d));var h=new Array(t.length).fill(0);return h=h.map(function(t,e){for(var n=0,i=l[e];!(r[e]>0?i>=c[e]:i<=c[e]);i+=r[e])n+=1;return n}),[l,h,p]}function Dt(t){var e=t;if(M(t))return[t.length];if(!Array.isArray(t))return[];for(var n=[];e instanceof Array||M(e);)n.push(e.length),e=e[0];return t instanceof Array&&ti.get("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Rt(t,n,[]),n}function Rt(t,e,n){if(n=n||[],t instanceof Array||M(t)){m(e.length>0,function(){return"Element arr["+n.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),m(t.length===e[0],function(){return"Element arr["+n.join("][")+"] should have "+e[0]+" elements, but has "+t.length+" elements"});for(var r=e.slice(1),i=0;i<t.length;++i)Rt(t[i],r,n.concat(i))}else m(0===e.length,function(){return"Element arr["+n.join("][")+"] is a primitive, but should be an array/TypedArray of "+e[0]+" elements"})}function jt(t,e,n,r){if(null!=t&&("numeric"!==t&&t!==e||"numeric"===t&&"string"===e))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+t+" tensor, but got "+e+" tensor")}function Lt(t,e,n,r){if(void 0===r&&(r="numeric"),t instanceof Lr)return jt(r,t.dtype,e,n),t;var i=F(t);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),jt(r,i,e,n),!M(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("Argument '"+e+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+t.constructor.name+"'");var o=Dt(t);M(t)||Array.isArray(t)||(t=[t]);var a="string"!==i?W(t,i,ti.get("DEBUG")):y(t);return Lr.make(o,{values:a},i)}function zt(t,e,n){if(!Array.isArray(t))throw new Error("Argument "+e+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return t.map(function(t,r){return Lt(t,e+"["+r+"]",n)})}function Ft(t){var e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var n=e[0],r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ti.engine.startScope(n);try{var i=r.apply(void 0,t);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ti.engine.endScope(i),i}catch(t){throw ti.engine.endScope(null),t}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}function Bt(t,e,n){if(null==n&&(n=F(t)),"complex64"===n)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!M(t)&&!Array.isArray(t)&&"number"!=typeof t&&"boolean"!=typeof t&&"string"!=typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");var r=Dt(t);if(null!=e){var i=b(e),o=b(r);m(i===o,function(){return"Based on the provided shape, ["+e+"], the tensor should have "+i+" values but has "+o});for(var a=0;a<r.length;++a){var s=a!==r.length-1||r[a]!==b(e.slice(a));m(r[a]===e[a]||!s,function(){return"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+e+"). "})}}return M(t)||Array.isArray(t)||(t=[t]),e=e||r,t="string"!==n?W(t,n,ti.get("DEBUG")):y(t),Lr.make(e,{values:t},n)}function Vt(t,e){if((M(t)||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");return Bt(t,[],e)}function Ut(t,e){v(t);var n=Dt(t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Bt(t,n,e)}function Wt(t,e,n){if(v(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Dt(t);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Bt(t,e=e||r,n)}function qt(t,e,n){if(v(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Dt(t);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Bt(t,e=e||r,n)}function Ht(t,e,n){if(v(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Dt(t);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Bt(t,e=e||r,n)}function Gt(t,e,n){if(v(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Dt(t);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Bt(t,e=e||r,n)}function $t(t,e,n){if(v(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Dt(t);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Bt(t,e=e||r,n)}function Yt(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=Yt(t,"float32"),r=Yt(t,"float32");return ci(n,r)}var i=q(b(t),e);return Lr.make(t,{values:i},e)}function Kt(t,e){if(void 0===e&&(e="float32"),"complex64"===e){var n=Kt(t,"float32"),r=Kt(t,"float32");return ci(n,r)}var i=H(b(t),e);return Lr.make(t,{values:i},e)}function Xt(t,e,n){var r=P(n=n||F(e),b(t));return r.fill(e),Lr.make(t,{values:r},n)}function Zt(t,e,n){if(0===n)throw new Error("Cannot request zero samples");var r=(e-t)/(n-1),i=H(n,"float32");i[0]=t;for(var o=1;o<i.length;o++)i[o]=i[o-1]+r;return Ut(i,"float32")}function Jt(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(t===e||t<e&&n<0||e<t&&n>1)return Kt([0],r);var i=H(Math.abs(Math.ceil((e-t)/n)),r);e<t&&1===n&&(n=-1),i[0]=t;for(var o=1;o<i.length;o++)i[o]=i[o-1]+n;return Ut(i,r)}function Qt(t,e,n){if("complex64"===e){if("complex64"===t.dtype)return t.clone();var r=Kt(t.shape),i=t.toFloat(),o=n.complex(i,r);return r.dispose(),i.dispose(),o}if(!A(t.dtype,e))return Lr.make(t.shape,{dataId:t.dataId},e);if("complex64"===t.dtype){var a=n.real(t);return o=a.cast(e),a.dispose(),o}if("int32"===e)return n.int(t);if("bool"===e){var s=Vt(0,t.dtype);return o=n.notEqual(t,s),s.dispose(),o}throw new Error("Error in Cast: unknown dtype argument ("+e+")")}function te(t,e){return Lr.make(e,{dataId:t.dataId},t.dtype)}function ee(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+t.length+", imag: "+e.length+".");for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function ne(t,e){return{real:t[2*e],imag:t[2*e+1]}}function re(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function ie(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function oe(t,e,n,r,i){for(var o=Array.from(e).map(function(t,e){return{score:t,boxIndex:e}}).filter(function(t){return t.score>i}).sort(function(t,e){return e.score-t.score}),a=[],s=0;s<o.length;s++){var u=o[s],l=u.boxIndex;if(u.score<i)break;for(var c=!1,f=a.length-1;f>=0;--f)if(function(t,e,n){var r=t.subarray(4*e,4*e+4),i=t.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),p=Math.max(i[1],i[3]),d=(s-o)*(u-a),h=(f-l)*(p-c);if(d<=0||h<=0)return 0;var m=Math.max(o,l),g=Math.max(a,c),v=Math.min(s,f),y=Math.min(u,p),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(d+h-b)}(t,l,a[f])>=r){c=!0;break}if(!c&&(a.push(l),a.length>=n))break}return Ut(a,"int32")}function ae(t,e,n){var r=Array(t.rank).fill(0),i=t.shape.slice();return e.map(function(e){i[n]=e;var o=t.slice(r,i);return r[n]+=e,o})}function se(t,e,n,r,i){for(var o=e[e.length-1],a=[t.length/o,o],s=a[0],u=a[1],l=T(n,s*r),c=T("int32",s*r),f=0;f<s;f++){for(var p=f*u,d=t.subarray(p,p+u),h=[],m=0;m<d.length;m++)h.push({value:d[m],index:m});h.sort(function(t,e){return e.value-t.value});var g=f*r,v=l.subarray(g,g+r),y=c.subarray(g,g+r);for(m=0;m<r;m++)v[m]=h[m].value,y[m]=h[m].index}var b=e.slice();return b[b.length-1]=r,[Bt(l,b,n),Bt(c,b,"int32")]}function ue(t,e){for(var n=t.length,r=[],i=0;i<n;i++){var o=n-1-i;(e[e.length-1-i]||1)>1&&1===(t[o]||1)&&r.unshift(o)}return r}function le(t,e){for(var n=[],r=0;r<e.length;r++){var i=t[t.length-r-1],o=e.length-r-1;(null==i||1===i&&e[o]>1)&&n.unshift(o)}return n}function ce(t,e){for(var n=[],r=Math.max(t.length,e.length),i=0;i<r;i++){var o=t[t.length-i-1];null==o&&(o=1);var a=e[e.length-i-1];if(null==a&&(a=1),1===o)n.unshift(a);else if(1===a)n.unshift(o);else{if(o!==a)throw Error("Operands could not be broadcast together with shapes "+t+" and "+e+".");n.unshift(o)}}return n}function fe(t,e){return"xTexelR"+t+"C"+(e<0?"minus"+Math.abs(e).toString():e)}function pe(t,e,n,r){return 1===n?r%2==e%2?fe(t,e):"vec4("+fe(t,e-1)+".zw, "+fe(t,e+1)+".xy)":r%2==e%2?"vec4("+fe(t,e)+".xy, "+fe(t,e+2)+".xy)":"vec4("+fe(t,e-1)+".zw, "+fe(t,e+1)+".zw)"}function de(t,e,n){void 0===n&&(n="index");var r=U(e);return r.map(function(e,i){return"int "+t[i]+" = "+n+" / "+e+"; "+(i===r.length-1?"int "+t[i+1]+" = "+n+" - "+t[i]+" * "+e:"index -= "+t[i]+" * "+e)+";"}).join("")}function he(t){return 1===t.length?""+t[0]:"vec"+t.length+"("+t.join(",")+")"}function me(t,e,n,r,i){var o=t.map(function(t){var e=b(t.shapeInfo.logicalShape);return t.shapeInfo.isUniform?"uniform float "+t.name+(e>1?"["+e+"]":"")+";":"uniform sampler2D "+t.name+";"});o=o.join("\n");var a,s,u=t.map(function(t){return function(t,e,n,r){void 0===r&&(r=!1);var i=function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1)+"Flat",r=b(t.shapeInfo.logicalShape);if(t.shapeInfo.isUniform)return 1===r?"float "+n+"(int index) {return "+e+";}":"\n      float "+n+"(int index) {\n        for (int i = 0; i < "+r+"; i++) {\n          if (i == index) {\n            return "+e+"[i];\n          }\n        }\n      }\n    ";var i=t.shapeInfo.texShape,o=i[0],a=i[1];return 1===a&&1===o?"\n      float "+n+"(int index) {\n        return sampleTexture("+e+", halfCR);\n      }\n    ":1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+o+".0);\n        return sampleTexture("+e+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+e+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = UVfrom1D("+o+", "+a+", index);\n      return sampleTexture("+e+", uv);\n    }\n  "}(t);return i+=r?ve(t):ge(t),(n||_(t.shapeInfo.logicalShape,e.logicalShape))&&(i+=r?function(t,e,n){var r=t.name,i=r.charAt(0).toUpperCase()+r.slice(1),o=t.shapeInfo.texShape,a="get"+i+"AtOutCoords",s=e.texShape,u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],l=u[0],c=u[1],f=ue(t.shapeInfo.logicalShape,e.logicalShape),p=t.shapeInfo.logicalShape.length,d=e.logicalShape.length;if(f.length)throw Error("Packed broadcast sampling is not implemented yet.");if(_(t.shapeInfo.texShape,s))return"\n      vec4 "+a+"() {\n        return texture2D("+r+", resultUV);\n      }\n    ";var h="return texture2D("+r+", uv)";return 1===p&&d>1?h="\n      vec4 sample = texture2D("+r+", uv);\n      return vec4(sample.xy, sample.xy);\n    ":0===p&&d>0&&(h=1===d?"\n        vec4 sample = texture2D("+r+", uv);\n        return vec4(sample.x, sample.x, 0., 0.);\n      ":"\n        vec4 sample = texture2D("+r+", uv);\n        return vec4(sample.x);\n      "),"\n    vec4 "+a+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+u[0]+", "+u[1]+"));\n      int index = resTexRC.x * "+u[1]+" + resTexRC.y;\n\n      int texR = index / "+c+";\n      int texC = index - texR * "+c+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+c+", "+l+");\n\n      "+h+";\n    }\n  "}(t,e):function(t,e,n){var r=t.name,i=r.charAt(0).toUpperCase()+r.slice(1),o="get"+i+"AtOutCoords",a=ue(t.shapeInfo.logicalShape,e.logicalShape),s=n&&(e.logicalShape.length>t.shapeInfo.logicalShape.length||a.length>0),u=function(t){for(var e=0;e<t.length;e++)if(t[e]!==e)return!1;return!0}(a),l=t.shapeInfo.isUniform;if(s&&!u)return function(t,e,n,r){var i=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,a="int";2===o?a="ivec2":3===o?a="ivec3":4===o&&(a="ivec4");var s=ue(t.shapeInfo.logicalShape,e.logicalShape),u=o-i;return"\n    float "+r+"() {\n      "+a+" coords = getOutputCoords();\n      "+(0===i?"":o<2&&s.length>=1?"coords = 0;":s.map(function(t){return"coords["+(t+u)+"] = 0;"}).join("\n"))+"\n      return get"+n+"("+(o<2&&i>0?"coords":t.shapeInfo.logicalShape.map(function(t,e){return"coords["+(e+u)+"]"}).join(", "))+");\n    }\n  "}(t,e,i,o);var c=b(t.shapeInfo.logicalShape),f="";s&&u&&(f="\n        int mainPart = index / "+c+";\n        index -= mainPart * "+c+";\n      ");var p=e.texShape;if(l)return 1===c?"float "+o+"() {return "+r+";}":"\n      float "+o+"() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                              vec2("+p[0]+", "+p[1]+"));\n        int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n        "+f+"\n        return get"+i+"Flat(index);\n      }\n    ";var d=t.shapeInfo.texShape;return _(d,p)?"\n      float "+o+"() {\n        return sampleTexture("+r+", resultUV);\n      }\n    ":"\n    float "+o+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+p[0]+", "+p[1]+"));\n      int index = resTexRC.x * "+p[1]+" + resTexRC.y;\n      "+f+"\n      int texR = index / "+d[1]+";\n      int texC = index - texR * "+d[1]+";\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+d[1]+".0, "+d[0]+".0);\n\n      return sampleTexture("+r+", uv);\n    }\n  "}(t,e,n)),i}(t,e,r,i)}).join("\n"),l=e.texShape,c=Wi;return e.isPacked?(a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return 1===e[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return resTexRC.x * "+n[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(_(t,e))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(t[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),i=r*Math.ceil(t[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  "}(t,e);case 4:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[3]/2),i=r*Math.ceil(t[2]/2),o=i*t[1];return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      int b2 = index / "+o+";\n      index -= b2 * "+o+";\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  "}(t,e);default:throw new Error(t.length+"-D packed output coordinate fetching is not yet supported")}}(e.logicalShape,l),s=Ui):(a=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){return 1===e[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+e[1]+".0);\n      }\n    ":1===e[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+e[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      return resTexRC.x * "+e[1]+" + resTexRC.y;\n    }\n  "}(0,e);case 2:return function(t,e){return _(t,e)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+e[0]+", "+e[1]+"));\n      }\n    ":1===t[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===t[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+e[0]+", "+e[1]+"));\n        int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      int r = index / "+t[1]+";\n      int c = index - r * "+t[1]+";\n      return ivec2(r, c);\n    }\n  "}(t,e);case 3:return function(t,e){var n=de(["r","c","d"],t);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+n+"\n      return ivec3(r, c, d);\n    }\n  "}(t,e);case 4:return function(t,e){var n=de(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(t,e);case 5:return function(t,e){var n=de(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+e[0]+",\n                             "+e[1]+"));\n\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(t,e);case 6:return function(t,e){var n=de(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+e[0]+", "+e[1]+"));\n      int index = resTexRC.x * "+e[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(t,e);default:throw new Error(t.length+"-D output sampling is not yet supported")}}(e.logicalShape,l),s=Vi),i&&(c+=qi),[c,Bi,s,o,a,u,n].join("\n")}function ge(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);return t.shapeInfo.isUniform?"float "+n+"() {return "+e+";}":"\n    float "+n+"() {\n      return sampleTexture("+e+", halfCR);\n    }\n  "}(t);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  "}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape;if(null!=i&&_(e,i)){var o=i[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+o+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var a=k(e),s=a.newShape,u=a.keptDims;if(s.length<e.length)return"\n      "+ge(be(t,s))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+_e(["row","col"],u)+");\n      }\n    ";if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        float index = dot(vec2(row, col), vec2("+e[1]+", 1));\n        return "+r+"Flat(round(index));\n      }\n    ";var l=i[0],c=i[1];return 1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec2(row, col), vec2("+e[1]+", 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+l+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===l?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec2(row, col), vec2("+e[1]+", 1));\n      vec2 uv = vec2((index + 0.5) / "+c+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    vec2 uv = UVfrom2D("+l+", "+c+", "+e[1]+", row, col);\n    return sampleTexture("+n+", uv);\n  }\n"}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e[1]*e[2],o=e[2],a=k(e),s=a.newShape,u=a.keptDims;if(s.length<e.length)return"\n        "+ge(be(t,s))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+_e(["row","col","depth"],u)+");\n        }\n      ";if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        float index = dot(vec3(row, col, depth),\n                          vec3("+i+", "+o+", 1));\n        return "+r+"Flat(round(index));\n      }\n    ";var l=t.shapeInfo.texShape,c=l[0],f=l[1];return f===i?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+o+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+f+".0, "+c+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":f===o?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+e[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+f+".0, "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+c+", "+f+", "+i+", "+o+", row, col, depth);\n        return sampleTexture("+n+", uv);\n      }\n  "}(t);case 4:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e[3],o=e[2]*i,a=e[1]*o,s=k(e),u=s.newShape,l=s.keptDims;if(u.length<e.length)return"\n      "+ge(be(t,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+_e(["row","col","depth","depth2"],l)+");\n      }\n    ";if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float index = dot(vec4(row, col, depth, depth2),\n                          vec4("+a+", "+o+", "+i+", 1));\n        return "+r+"Flat(round(index));\n      }\n    ";var c=t.shapeInfo.texShape,f=c[0],p=c[1];return p===a?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2), vec3("+o+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===i?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+e[1]*e[2]+", "+e[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+f+", "+p+", "+a+", "+o+",\n          "+i+", row, col, depth, depth2);\n      return sampleTexture("+n+", uv);\n    }\n  "}(t);case 5:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e[4],o=e[3]*i,a=e[2]*o,s=e[1]*a,u=k(e),l=u.newShape,c=u.keptDims;if(l.length<e.length)return"\n      "+ge(be(t,l))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+_e(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+a+", "+o+", "+i+")) +\n          depth3;\n        return "+r+"Flat(index);\n      }\n    ";var f=t.shapeInfo.texShape,p=f[0],d=f[1];return d===s?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(\n          vec4(col, depth, depth2, depth3),\n          vec4("+a+", "+o+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+d+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":d===i?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+e[1]*e[2]*e[3]+", "+e[2]*e[3]+",\n            "+e[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+d+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      vec2 uv = UVfrom5D("+p+", "+d+", "+s+", "+a+",\n          "+o+", "+i+", row, col, depth, depth2, depth3);\n      return sampleTexture("+n+", uv);\n    }\n  "}(t);case 6:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e[5],o=e[4]*i,a=e[3]*o,s=e[2]*a,u=e[1]*s,l=k(e),c=l.newShape,f=l.keptDims;if(c.length<e.length)return"\n      "+ge(be(t,c))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+_e(["row","col","depth","depth2","depth3","depth4"],f)+");\n      }\n    ";if(t.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+u+", "+s+", "+a+", "+o+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+i+", 1));\n        return "+r+"Flat(index);\n      }\n    ";var p=t.shapeInfo.texShape,d=p[0],h=p[1];return h===u?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(\n          vec4(col, depth, depth2, depth3),\n          vec4("+s+", "+a+", "+o+", "+i+")) + depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===i?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+e[1]*e[2]*e[3]*e[4]+",\n               "+e[2]*e[3]*e[4]+",\n               "+e[3]*e[4]+",\n               "+e[4]+")) + depth3;\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      vec2 uv = UVfrom6D("+d+", "+h+", "+u+", "+s+",\n          "+a+", "+o+", "+i+"\n          ,row, col, depth, depth2, depth3, depth4);\n      return sampleTexture("+n+", uv);\n    }\n  "}(t);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function ve(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var e=t.name;return"\n    vec4 get"+e.charAt(0).toUpperCase()+e.slice(1)+"() {\n      return texture2D("+e+", halfCR);\n    }\n  "}(t);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return texture2D("+e+", uv);\n    }\n  "}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape,o=i[0],a=i[1];if(null!=i&&_(e,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+o+".0);\n\n        return texture2D("+n+", uv);\n      }\n    ";var s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(e[1]/2)+", "+s[0]+", "+s[1]+", row, col);\n      return texture2D("+n+", uv);\n    }\n  "}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===e[0])return"\n        "+ve(be(t,e.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+_e(["b","row","col"],[1,2])+");\n        }\n      ";var a=o[0],s=o[1],u=Math.ceil(e[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+a+", "+s+", "+u*Math.ceil(e[1]/2)+", "+u+", b, row, col);\n      return texture2D("+n+", uv);\n    }\n  "}(t);case 4:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],a=o[0],s=o[1],u=Math.ceil(e[3]/2),l=u*Math.ceil(e[2]/2);return"\n    vec4 "+r+"(int b2, int b, int row, int col) {\n      vec2 uv = packedUVfrom4D(\n        "+a+", "+s+", "+l*e[1]+",\n        "+l+", "+u+", b2, b, row, col);\n      return texture2D("+n+", uv);\n    }\n  "}(t);default:throw new Error("Packed "+e.length+"-D input sampling is not yet supported")}}function ye(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank "+t+" is not yet supported")}function be(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function _e(t,e){return e.map(function(e){return t[e]}).join(", ")}function we(t,e){if(1===t)return""+e;if(2===t)return e+".y";if(3===t)return e+".z";if(4===t)return e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}function xe(t,e){return[e,t]}function Ee(t,e){return t*e}function Ce(t,e,n){var r=function(t,e){if(t%e!=0)throw new Error("unpackedSize ("+t+") must be a multiple of "+e);return t/e}(t.length,n);if(e.length<r)throw new Error("matrix length ("+e.length+") must be >= "+r);for(var i=0,o=0;o<t.length;o+=n)e[i++]=t[o]}function Se(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function Oe(t,e){var n=Se(t,e);return n[0]*n[1]*4}function ke(t,e,n,r,i){var o=n*r;if(i.length<o)throw new Error("matrix length ("+i.length+") must be >= "+o);for(var a=r%2==1,s=n%2==1,u=Math.floor(r/2),l=Math.floor(n/2),c=Math.ceil(r/2),f=c*Math.ceil(n/2),d=p(n)*p(r),h=0;h<e;h++){for(var m=h*n*r,g=h*d,v=a?4:0,y=r+(a?1:0),b=g,_=m,w=m+r,x=0;x<l;++x){for(var E=0;E<u;++E)i[_++]=t[b++],i[_++]=t[b++],i[w++]=t[b++],i[w++]=t[b++];b+=v,_+=y,w+=y}if(a){b=g+4*(c-1);var C=m+r-1;for(v=4*c,y=2*r,x=0;x<l;++x)i[C]=t[b],i[C+r]=t[b+2],b+=v,C+=y}if(s){for(b=g+4*(f-c),C=m+(n-1)*r,E=0;E<u;++E)i[C++]=t[b++],i[C++]=t[b++],b+=2;a&&(i[m+n*r-1]=t[b])}}return i}function Te(t,e){var n=e();return Ne(t),n}function Pe(t){to=t}function Ne(t){if(to){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+Ie(t,e))}}function Ie(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function Ae(t,e){return Qe(t,function(){return t.getExtension(e)},'Extension "'+e+'" not supported on this browser.')}function Me(t,e){var n=Qe(t,function(){return t.createShader(t.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Te(t,function(){return t.shaderSource(n,e)}),Te(t,function(){return t.compileShader(n)}),!1===t.getShaderParameter(n,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function De(t,e){var n=Qe(t,function(){return t.createShader(t.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Te(t,function(){return t.shaderSource(n,e)}),Te(t,function(){return t.compileShader(n)}),!1===t.getShaderParameter(n,t.COMPILE_STATUS))throw function(t,e){var n=eo.exec(e);if(null==n)return console.log("Couldn't parse line number in error: "+e),void console.log(t);for(var r=+n[1],i=t.split("\n"),o=i.length.toString().length+2,a=i.map(function(t,e){return C((e+1).toString(),o)+t}),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var l=a.slice(0,r-1),c=a.slice(r-1,r),f=a.slice(r);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c "+C(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}function Re(t){return Qe(t,function(){return t.createProgram()},"Unable to create WebGLProgram.")}function je(t,e){if(Te(t,function(){return t.linkProgram(e)}),!1===t.getProgramParameter(e,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Le(t,e){if(Te(t,function(){return t.validateProgram(e)}),!1===t.getProgramParameter(e,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function ze(t,e){var n=Qe(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Te(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)}),Te(t,function(){return t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)}),n}function Fe(t,e){var n=Qe(t,function(){return t.createBuffer()},"Unable to create WebGLBuffer");return Te(t,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)}),Te(t,function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)}),n}function Be(){return 2===ti.get("WEBGL_VERSION")?1:4}function Ve(t){return Qe(t,function(){return t.createTexture()},"Unable to create WebGLTexture.")}function Ue(t,e){var n=ti.get("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="["+t+"x"+e+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n)throw r="["+t+"x"+e+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function We(t){return Qe(t,function(){return t.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function qe(t,e,n,r,i,o,a){var s=t.getAttribLocation(e,n);return-1!==s&&(Te(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,r)}),Te(t,function(){return t.vertexAttribPointer(s,i,t.FLOAT,!1,o,a)}),Te(t,function(){return t.enableVertexAttribArray(s)}),!0)}function He(t,e,n){tn(t,n),Te(t,function(){return t.activeTexture(t.TEXTURE0+n)}),Te(t,function(){return t.bindTexture(t.TEXTURE_2D,e)})}function Ge(t,e,n){return Qe(t,function(){return t.getUniformLocation(e,n)},'uniform "'+n+'" not present in program.')}function $e(t,e,n){return t.getUniformLocation(e,n)}function Ye(t,e,n,r,i){Te(t,function(){return He(t,n,i)}),Te(t,function(){return t.uniform1i(r,i)})}function Ke(t,e,n){Te(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)}),Te(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)})}function Xe(t,e){Te(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,e)}),Te(t,function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)})}function Ze(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Je(t,e))}function Je(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Qe(t,e,n){var r=Te(t,function(){return e()});if(null==r)throw new Error(n);return r}function tn(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function en(t,e){void 0===e&&(e=!1);var n=ti.get("WEBGL_MAX_TEXTURE_SIZE");if(e&&(n*=2,t=t.map(function(e,n){return n>=t.length-2?p(t[n]):t[n]})),2!==t.length){var r=k(t);t=r.newShape}var i=b(t);return t.length<=1&&i<=n?[1,i]:2===t.length&&t[0]<=n&&t[1]<=n?t:3===t.length&&t[0]*t[1]<=n&&t[2]<=n?[t[0]*t[1],t[2]]:3===t.length&&t[0]<=n&&t[1]*t[2]<=n?[t[0],t[1]*t[2]]:4===t.length&&t[0]*t[1]*t[2]<=n&&t[3]<=n?[t[0]*t[1]*t[2],t[3]]:4===t.length&&t[0]<=n&&t[1]*t[2]*t[3]<=n?[t[0],t[1]*t[2]*t[3]]:E(i)}function nn(t){return t%2==0}function rn(t,e){if(_(t=t.slice(-2),e=e.slice(-2)))return!0;if(!t.length||!e.length)return!0;if(0===t[0]||0===t[1]||0===e[0]||0===e[1])return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r)return!0;if(nn(n)&&nn(r)&&(1===t[0]||1===e[0]))return!0}else if(nn(t[0])&&nn(e[0])){if(nn(t[1])&&nn(e[1]))return!0;if(t[1]===e[1])return!0}return!1}function on(t){return Me(t,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function an(t){return ze(t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function sn(t){return Fe(t,new Uint16Array([0,1,2,2,1,3]))}function un(t,e){var n,r,i,o,a,s,u,l=t;return 2===ti.get("WEBGL_VERSION")?(n=l.R32F,r=l.R16F,i=l.RGBA32F,o=l.RED,a=4,s=1,u=l.HALF_FLOAT):(n=t.RGBA,r=t.RGBA,i=l.RGBA,o=t.RGBA,a=4,s=4,u=null!=e?e.HALF_FLOAT_OES:null),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:a,defaultNumChannels:s,textureTypeHalfFloat:u}}function ln(t,e,n,r,i,o){Ue(e,n);var a=Ve(t),s=t.TEXTURE_2D;return Te(t,function(){return t.bindTexture(s,a)}),Te(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)}),Te(t,function(){return t.texParameteri(s,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}),Te(t,function(){return t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST)}),Te(t,function(){return t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST)}),Te(t,function(){return t.texImage2D(s,0,r,e,n,0,i,o,null)}),Te(t,function(){return t.bindTexture(t.TEXTURE_2D,null)}),a}function cn(t,e,n,r){var i=xe(e,n);return ln(t,i[0],i[1],r.internalFormatFloat,r.textureFormatFloat,t.FLOAT)}function fn(t,e,n,r){var i=xe(e,n);return ln(t,i[0],i[1],r.internalFormatFloat,r.textureFormatFloat,r.textureTypeHalfFloat)}function pn(t,e,n,r){var i=xe(e,n);return ln(t,i[0],i[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}function dn(t,e,n,r){var i=Se(e,n);return ln(t,i[0],i[1],r.internalFormatPackedFloat,t.RGBA,t.FLOAT)}function hn(t,e,n,r){var i=Se(e,n);return ln(t,i[0],i[1],r.internalFormatHalfFloat,t.RGBA,r.textureTypeHalfFloat)}function mn(t,e,n){return Te(t,function(){return t.bindBuffer(t.ARRAY_BUFFER,n)}),qe(t,e,"clipSpacePos",n,3,20,0)&&qe(t,e,"uv",n,2,20,12)}function gn(t,e,n){Te(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),Te(t,function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}),Te(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function vn(t,e,n,r,i,o){Ue(n,r),Te(t,function(){return t.bindTexture(t.TEXTURE_2D,e)}),Te(t,function(){return t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,o,t.FLOAT,i)}),Te(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})}function yn(t,e,n,r,i,o,a){var s,u=xe(n,r),l=u[0],c=u[1];1===a.defaultNumChannels?s=i:function(t,e,n){var r=Ee(t.length,n);if(e.length<r)throw new Error("unpackedArray length ("+e.length+") must be >= "+r);for(var i=0,o=0;o<t.length;++o)e[i]=t[o],i+=n}(i,s=new Float32Array(Ee(i.length,o)),o),vn(t,e,l,c,s,a.textureFormatFloat)}function bn(t,e,n,r,i,o,a,s,u){var l=Se(o,a),c=l[0],f=l[1],d=new Float32Array(n*Oe(r,i));(function(t,e,n,r,i){var o=Oe(n,r);if(i.length<o)throw new Error("packedRGBA length ("+i.length+") must be >=\n        "+o);for(var a=r%2==1,s=n%2==1,u=Math.floor(r/2),l=Math.floor(n/2),c=Math.ceil(r/2),f=c*Math.ceil(n/2),d=p(n)*p(r),h=0;h<e;h++){for(var m=h*n*r,g=h*d,v=a?4:0,y=r,b=g,_=0;_<l;++_){for(var w=2*_*r,x=0;x<u;++x){var E=m+w+2*x;i[b]=t[E],i[b+1]=t[E+1],i[b+2]=t[E+y],i[b+3]=t[E+y+1],b+=4}b+=v}if(a){E=m+r-1,b=g+4*(c-1);var C=2*r;for(v=4*c,_=0;_<l;++_)i[b]=t[E],i[b+2]=t[E+r],E+=C,b+=v}if(s){for(E=m+(n-1)*r,b=g+4*(f-c),x=0;x<u;++x)i[b++]=t[E++],i[b++]=t[E++],b+=2;a&&s&&(i[g+d-4]=t[E])}}})(s,n,r,i,d),vn(t,e,c,f,d,t.RGBA)}function _n(t,e,n,r,i){var o=e;if(2===ti.get("WEBGL_VERSION")){var a=t,s=a.createBuffer();Te(t,function(){return t.bindBuffer(a.PIXEL_PACK_BUFFER,s)});var u=4*Ee(n*r,i.downloadUnpackNumChannels);Te(t,function(){return t.bufferData(a.PIXEL_PACK_BUFFER,u,t.STATIC_DRAW)}),Te(t,function(){return a.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)}),Te(t,function(){return t.bindBuffer(a.PIXEL_PACK_BUFFER,null)}),o=s}return o}function wn(t,e,n,r,i){var o=t,a=new Float32Array(Ee(n*r,i.downloadUnpackNumChannels));o.bindBuffer(t.ARRAY_BUFFER,e),o.getBufferSubData(t.ARRAY_BUFFER,0,a),o.bindBuffer(t.ARRAY_BUFFER,null);var s=new Float32Array(n*r);return Ce(a,s,i.downloadUnpackNumChannels),s}function xn(t,e,n,r){var i=xe(e,n),o=i[0],a=i[1],s=new Float32Array(Ee(e*n,r.downloadUnpackNumChannels));Te(t,function(){return t.readPixels(0,0,o,a,r.downloadTextureFormat,t.FLOAT,s)});var u=new Float32Array(e*n);return Ce(s,u,r.downloadUnpackNumChannels),u}function En(t,e,n,r){var i=xe(e,n),o=i[0],a=i[1],s=new Uint8Array(Ee(e*n,4));return Te(t,function(){return t.readPixels(0,0,o,a,r.downloadTextureFormat,t.UNSIGNED_BYTE,s)}),new Float32Array(s.buffer)}function Cn(t,e,n,r,i,o,a,s){var u=t,l=new Float32Array(Oe(o,a));u.bindBuffer(t.ARRAY_BUFFER,e),u.getBufferSubData(t.ARRAY_BUFFER,0,l),u.bindBuffer(t.ARRAY_BUFFER,null);var c=new Float32Array(b([n,r,i]));return ke(l,n,r,i,c),c}function Sn(t,e,n,r,i,o,a){var s=Se(i,o),u=s[0],l=s[1],c=new Float32Array(Oe(i,o));Te(t,function(){return t.readPixels(0,0,u,l,t.RGBA,t.FLOAT,c)});var f=new Float32Array(b([e,n,r]));return ke(c,e,n,r,f)}function On(t,e){if(t.length!==e.length)throw Error("Binary was compiled with "+t.length+" inputs, but was executed with "+e.length+" inputs");t.forEach(function(t,n){var r=t.logicalShape,i=e[n],o=i.shape;if(!_(r,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+o+" must match");if(!t.isUniform||!i.isUniform){var a=t.texShape,s=i.isUniform?null:i.texData.texShape;if(!_(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}})}function kn(t,e){return 1===e?[t]:function(t,e){return["x","y","z","w","u","v"].slice(0,e).map(function(e){return t+"."+e})}(t,e)}function Tn(t){return"\n    int getFlatIndex(ivec3 coords) {\n      return round("+function(t,e){if(t.length!==e.length)throw new Error("Vectors to be dotted must be of the same length -got "+t.length+" and "+e.length);for(var n=[],r=Math.floor(t.length/4),i=t.length%4,o=0;o<r;o++){var a=t.slice(4*o,4*o+4),s=e.slice(4*o,4*o+4);n.push(he(a)+", "+he(s))}return 0!==i&&(a=t.slice(4*r),s=e.slice(4*r),1===a.length&&(a=a.map(function(t){return"float("+t+")"}),s=s.map(function(t){return"float("+t+")"})),n.push(he(a)+", "+he(s))),n.map(function(t,e){return"dot("+t+")"}).join("+")}(["coords.x","coords.y","coords.z"],U(t).map(function(t){return t.toString()}).concat(["1."]))+");\n    }\n  "}function Pn(t,e){if(t===Kr.UPLOAD)return e?Xr.PACKED_2X2_FLOAT32:Xr.UNPACKED_FLOAT32;if(t===Kr.RENDER||null==t)return e?ti.get("WEBGL_RENDER_FLOAT32_ENABLED")?Xr.PACKED_2X2_FLOAT32:Xr.PACKED_2X2_FLOAT16:ti.get("WEBGL_RENDER_FLOAT32_ENABLED")?Xr.UNPACKED_FLOAT32:Xr.UNPACKED_FLOAT16;if(t===Kr.DOWNLOAD||t===Kr.PIXELS)return Xr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+t)}function Nn(t,e,n){return t[0]+"_"+t[1]+"_"+e+"_"+n}function In(t,e){return t(e={exports:{}},e.exports),e.exports}function An(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a,s,l,c,f,p,d,h,m,g,v,y,b,_,w,x;return u(this,function(u){switch(u.label){case 0:if(n=Lt(t,"img","toPixels"),t instanceof Lr||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],o=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return s=n.min(),l=n.max(),[4,s.data()];case 1:return c=u.sent()[0],[4,l.data()];case 2:if(f=u.sent()[0],s.dispose(),l.dispose(),"float32"===n.dtype){if(c<0||f>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+c+" - "+f+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(c<0||f>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+c+" - "+f+"].")}return[4,n.data()];case 3:for(p=u.sent(),d="float32"===n.dtype?255:1,h=new Uint8ClampedArray(o*i*4),m=0;m<i*o;++m)g=void 0,v=void 0,y=void 0,b=void 0,1===a?(g=p[m]*d,v=p[m]*d,y=p[m]*d,b=255):3===a?(g=p[3*m]*d,v=p[3*m+1]*d,y=p[3*m+2]*d,b=255):4===a&&(g=p[4*m]*d,v=p[4*m+1]*d,y=p[4*m+2]*d,b=p[4*m+3]*d),h[0+(_=4*m)]=Math.round(g),h[_+1]=Math.round(v),h[_+2]=Math.round(y),h[_+3]=Math.round(b);return null!=e&&(e.width=o,e.height=i,w=e.getContext("2d"),x=new ImageData(h,o,i),w.putImageData(x,0,0)),n!==t&&n.dispose(),[2,h]}})})}function Mn(t,e,n){return void 0===e&&(e="float32"),new Dr(t,e=e||"float32",n)}function Dn(t,e){void 0===e&&(e=!1),console.log(t.toString(e))}function Rn(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);var i=Mn(t,"int32"),o=Mn([n.length,t.length],"int32");for(r=0;r<n.length;r++){var a=i.indexToLoc(n[r]);o.values.set(a,r*t.length)}return o.toTensor()}function jn(t){return t instanceof Float32Array?t:new Float32Array(t)}function Ln(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}function zn(t,e,n,r,i,o,a){void 0===a&&(a="channelsLast");var s,u=Vn(e),l=u[0],c=u[1];if("channelsLast"===a)s=[l,c,t[3],t[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[l,c,t[1],t[1]]}return Fn(t,s,n,r,i,o,!1,a)}function Fn(t,e,n,r,i,o,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],p=u[3];if("channelsLast"===s)l=t[0],c=t[1],f=t[2],p=t[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=t[0],p=t[1],c=t[2],f=t[3]}var d,h=e[0],g=e[1],v=e[3],y=Vn(n),b=y[0],_=y[1],x=Vn(r),E=x[0],C=x[1],S=Wn(h,E),O=Wn(g,C),k=function(t,e,n,r,i,o,a,s){var u,l,c;if("number"==typeof t){u={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var f=function(t,e,n,r,i,o){null==i&&(i=function(t,e,n,r){void 0===r&&(r=1);var i=Wn(e,r);return Math.floor((t[0]*(n-1)-n+i)/2)}(t,e,r));var a=t[1],s=qn((t[0]-e+2*i)/r+1,o);m(w(s),"The output # of rows ("+s+") must be an integer. Change the stride and/or zero pad parameters");var u=qn((a-e+2*i)/r+1,o);return m(w(u),"The output # of columns ("+u+") must be an integer. Change the stride and/or zero pad parameters"),[s,u,n]}([e,n,1],o,1,r,t,s);l=f[0],c=f[1]}else if("same"===t){var p=((l=Math.ceil(e/r))-1)*r+o-e,d=((c=Math.ceil(n/i))-1)*i+a-n,h=Math.floor(p/2),g=p-h,v=Math.floor(d/2);u={top:h,bottom:g,left:v,right:d-v,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((e-o+1)/r),c=Math.ceil((n-a+1)/i)}return{padInfo:u,outHeight:l,outWidth:c}}(i,c,f,b,_,S,O,o),T=k.outHeight,P=k.outWidth,N=a?v*p:v;return"channelsFirst"===s?d=[l,N,T,P]:"channelsLast"===s&&(d=[l,T,P,N]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:p,outHeight:T,outWidth:P,outChannels:N,padInfo:k.padInfo,strideHeight:b,strideWidth:_,filterHeight:h,filterWidth:g,effectiveFilterHeight:S,effectiveFilterWidth:O,dilationHeight:E,dilationWidth:C,inShape:t,outShape:d,filterShape:e}}function Bn(t,e,n,r,i,o,a){void 0===o&&(o=!1),void 0===a&&(a="channelsLast");var s=[-1,-1,-1,-1,-1],u=s[0],l=s[1],c=s[2],f=s[3],p=s[4];if("channelsLast"===a)u=t[0],l=t[1],c=t[2],f=t[3],p=t[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);u=t[0],p=t[1],l=t[2],c=t[3],f=t[4]}var d,h=e[0],m=e[1],g=e[2],v=e[4],y=Un(n),b=y[0],_=y[1],w=y[2],x=Un(r),E=x[0],C=x[1],S=x[2],O=function(t,e,n,r,i,o,a,s,u,l){var c,f,p,d;if("same"===t){var h=((f=Math.ceil(e/i))-1)*i+s-e,m=((p=Math.ceil(n/o))-1)*o+u-n,g=((d=Math.ceil(r/a))-1)*a+l-r,v=Math.floor(h/2),y=h-v,b=Math.floor(m/2),_=m-b,w=Math.floor(g/2);c={top:b,bottom:_,left:w,right:g-w,front:v,back:y,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: "+t);c={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-s+1)/i),p=Math.ceil((n-u+1)/o),d=Math.ceil((r-l+1)/a)}return{padInfo:c,outDepth:f,outHeight:p,outWidth:d}}(i,l,c,f,b,_,w,Wn(h,E),Wn(m,C),Wn(g,S)),k=O.outDepth,T=O.outHeight,P=O.outWidth,N=o?v*p:v;return"channelsFirst"===a?d=[u,N,k,T,P]:"channelsLast"===a&&(d=[u,k,T,P,N]),{batchSize:u,dataFormat:a,inDepth:l,inHeight:c,inWidth:f,inChannels:p,outDepth:k,outHeight:T,outWidth:P,outChannels:N,padInfo:O.padInfo,strideDepth:b,strideHeight:_,strideWidth:w,filterDepth:h,filterHeight:m,filterWidth:g,dilationDepth:E,dilationHeight:C,dilationWidth:S,inShape:t,outShape:d,filterShape:e}}function Vn(t){return"number"==typeof t?[t,t]:t}function Un(t){return"number"==typeof t?[t,t,t]:t}function Wn(t,e){return e<=1?t:t+(t-1)*(e-1)}function qn(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode "+e)}}function Hn(t){var e=Vn(t);return 1===e[0]&&1===e[1]}function Gn(t,e){return Hn(t)||Hn(e)}function $n(t,e,n,r,i,o){m(t.length===e.rank,"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match");var a=t,s=e,u=!1;3===e.rank&&(u=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),a=[1,t[0],t[1],t[2]]);var l=a[3],c=s.shape[3];m(4===a.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+a.length+"."),m(4===s.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+s.rank),m(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),m(l===n.shape[2],"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."),m(c===n.shape[3],"Error in conv2dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[3]+"."),null!=o&&m(w(i),"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var f=Fn(a,n.shape,r,1,i,o),p=ti.engine.runKernel(function(t){return t.conv2dDerInput(s,n,f)},{dy4D:s,filter:n},function(t){return{dy4D:function(){return _s(t,n,r,i,"NHWC",1,o)},filter:function(){return xs(t,s,n.shape,r,i,o)}}});return u?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function Yn(t,e,n,r,i,o){var a=t;3===t.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=e;3===s.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),m(4===a.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+a.shape+"."),m(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+s.shape+"."),m(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."),m(a.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+a.shape[3]+") must match input depth in filter ("+n[2]+"."),m(s.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must match output depth for filter ("+n[3]+")."),null!=o&&m(w(i),"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var u=Fn(a.shape,n,r,1,i,o);return ti.engine.runKernel(function(t){return t.conv2dDerFilter(a,s,u)},{x4D:a,dy4D:s})}function Kn(t){var e=function(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}(t);return 1===e[0]&&1===e[1]&&1===e[2]}function Xn(t,e,n,r,i,o){var a=Lt(t,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),m(4===s.rank,"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."),m(Gn(n,r),"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"),null!=o&&m(w(i),"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var l=zn(s.shape,e,n,r,i,o),c=ti.engine.runKernel(function(t,e){return e(t.maxPool(s,l))},{x:s},function(t,o){var a=o[0];return{x:function(){return function(t,e,n,r,i,o,a,s){var u=Lt(t,"dy","maxPoolBackprop"),l=Lt(e,"input","maxPoolBackprop"),c=Lt(n,"output","maxPoolBackprop");m(l.rank===u.rank,"Rank of input ("+l.rank+") does not match rank of dy ("+u.rank+")"),null==o&&(o=[1,1]),m(Gn(i,o),"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"),m(4===u.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."),m(4===l.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+l.rank+"."),null!=s&&m(w(a),"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+".");var f=zn(l.shape,r,i,o,a,s);return ti.engine.runKernel(function(t){return t.maxPoolBackprop(u,l,c,f)},{$dy:u,$input:l})}(t,s,a,e,n,r,i)}}});return u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function Zn(t,e,n,r,i,o){var a=Lt(t,"x","avgPool","float32");null==r&&(r=[1,1]),m(Gn(n,r),"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'");var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),m(4===s.rank,"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."),null!=o&&m(w(i),"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+".");var l=zn(s.shape,e,n,r,i),c=ti.engine.runKernel(function(t){return t.avgPool(s,l)},{x:s},function(t){return{x:function(){return function(t,e,n,r,i,o){var a=Lt(t,"dy","avgPoolBackprop"),s=Lt(e,"input","avgPoolBackprop");m(s.rank===a.rank,"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"),null==i&&(i=[1,1]),m(Gn(r,i),"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'");var u=s,l=a,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),l=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),m(4===l.rank,"Error in avgPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."),m(4===u.rank,"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+".");var f=zn(u.shape,n,r,i,o),p=ti.engine.runKernel(function(t){return t.avgPoolBackprop(l,u,f)},{dy4D:l,input4D:u});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}(t,s,e,n,r,i)}}});return c=c.cast(a.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function Jn(t,e,n,r,i){var o=e[0];return o.rank<n.rank&&(o=o.reshape(xt(o.shape,r))),t.rank<n.rank&&(t=t.reshape(xt(t.shape,r))),{$x:function(){var e=t.mul(n.equal(o).cast(t.dtype));return null==i?e:e.transpose(i)}}}function Qn(t,e,n){if(void 0===n&&(n=null),0===t.rank)return t.abs();if(1!==t.rank&&null===n)return Qn(t.reshape([-1]),e,n);if(1===t.rank||"number"==typeof n||n instanceof Array&&1===n.length){if(1===e)return t.abs().sum(n);if(e===1/0)return t.abs().max(n);if(e===-1/0)return t.abs().min(n);if("euclidean"===e||2===e)return t.abs().pow(Vt(2,"int32")).sum(n).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}if(n instanceof Array&&2===n.length){if(1===e)return t.abs().sum(n[0]).max(n[1]-1);if(e===1/0)return t.abs().sum(n[1]).max(n[0]);if(e===-1/0)return t.abs().sum(n[1]).min(n[0]);if("fro"===e||"euclidean"===e)return t.square().sum(n).sqrt();throw new Error("Error in norm: invalid ord value: "+e)}throw new Error("Error in norm: invalid axis: "+n)}function tr(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function er(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}function nr(t,e){return void 0===e&&(e=!1),ti.engine.tidy(function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+t.shape.length+"D Tensor.");for(var n=t.shape[0],r=t.shape[1],i=fa(n),o=t.clone(),a=Wt([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,l=function(t){var e,u=o,l=s,c=i;e=ti.engine.tidy(function(){var e=o.slice([t,t],[n-t,1]),u=e.norm(),l=o.slice([t,t],[1,1]),c=l.sign().neg(),f=l.sub(c.mul(u)),p=e.div(f);s=1===p.shape[0]?a.clone():a.concat(p.slice([1,0],[p.shape[0]-1,p.shape[1]]),0);var d=c.matMul(f).div(u).neg(),h=o.slice([t,0],[n-t,r]),m=d.mul(s);o=0===t?h.sub(m.matMul(s.transpose().matMul(h))):o.slice([0,0],[t,r]).concat(h.sub(m.matMul(s.transpose().matMul(h))),0);var g=i.slice([0,t],[n,i.shape[1]-t]);return i=0===t?g.sub(g.matMul(s).matMul(m.transpose())):i.slice([0,0],[n,t]).concat(g.sub(g.matMul(s).matMul(m.transpose())),1),[s,o,i]}),s=e[0],o=e[1],i=e[2],ii([u,l,c])},c=0;c<u;++c)l(c);return!e&&n>r&&(i=i.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[i,o]})}function rr(t,e,n,r,i){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY);var o=t.shape[0];return n=Math.min(n,o),m(0<=r&&r<=1,"iouThreshold must be in [0, 1], but was '"+r+"'"),m(2===t.rank,"boxes must be a 2D tensor, but was of rank '"+t.rank+"'"),m(4===t.shape[1],"boxes must have 4 columns, but 2nd dimension was "+t.shape[1]),m(1===e.rank,"scores must be a 1D tensor"),m(e.shape[0]===o,"scores has incompatible shape with boxes. Expected "+o+", but was "+e.shape[0]),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i}}function ir(){return new Promise(function(t){return Sl(function(){return t()})})}function or(t,e){for(var n={},r=0,i=function(e){var i=e.name,o=e.dtype,a=e.shape,s=b(a),u=void 0;if("quantization"in e){var l=e.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+e.name+" has unknown quantization dtype "+l.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=Ol[l.dtype],f=t.slice(r,r+s*c),p="uint8"===l.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===o)u=Float32Array.from(p,function(t){return t*l.scale+l.min});else{if("int32"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);u=Int32Array.from(p,function(t){return Math.round(t*l.scale+l.min)})}r+=s*c}else{var d=Ol[o];if(f=t.slice(r,r+s*d),"float32"===o)u=new Float32Array(f);else if("int32"===o)u=new Int32Array(f);else{if("bool"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);u=new Uint8Array(f)}r+=s*d}var h=void 0;if("float32"===o)h=Bt(u,a,"float32");else if("int32"===o)h=Bt(u,a,"int32");else{if("bool"!==o)throw new Error("Unsupported dtype in weight '"+i+"': "+o);h=Bt(u,a,"bool")}n[i]=h},o=0,a=e;o<a.length;o++)i(a[o]);return n}function ar(t){return kl?o.byteLength(t):new Blob([t]).size}function sr(t){var e=0;t.forEach(function(t){e+=t.byteLength});var n=new Uint8Array(e),r=0;return t.forEach(function(t){n.set(new Uint8Array(t),r),r+=t.byteLength}),n.buffer}function ur(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function lr(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:ar(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:ar(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}function cr(t){if(-1===t.indexOf(Pl))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Nl.getSchemes().join(","));return{scheme:t.split(Pl)[0],path:t.split(Pl)[1]}}function fr(t,e,n){return void 0===n&&(n=!1),s(this,void 0,void 0,function(){var r,i,o,a,s,l,c,f,p;return u(this,function(u){switch(u.label){case 0:return m(t!==e,"Old path and new path are the same: '"+t+"'"),m((r=Tl.getLoadHandlers(t)).length>0,"Copying failed because no load handler is found for source URL "+t+"."),m(r.length<2,"Copying failed because more than one ("+r.length+") load handlers for source URL "+t+"."),i=r[0],m((o=Tl.getSaveHandlers(e)).length>0,"Copying failed because no save handler is found for destination URL "+e+"."),m(o.length<2,"Copying failed because more than one ("+r.length+") save handlers for destination URL "+e+"."),a=o[0],s=cr(t).scheme,l=cr(t).path,c=s===cr(t).scheme,[4,i.load()];case 1:return f=u.sent(),n&&c?[4,Nl.getManager(s).removeModel(l)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[4,a.save(f)];case 4:return p=u.sent(),!n||c?[3,6]:[4,Nl.getManager(s).removeModel(l)];case 5:u.sent(),u.label=6;case 6:return[2,p.modelArtifactsInfo]}})})}function pr(){if(!ti.get("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function dr(t){var e=t.result;e.createObjectStore(Al,{keyPath:"modelPath"}),e.createObjectStore(Ml,{keyPath:"modelPath"})}function hr(t){return{info:[zl,t,Fl].join(Ll),topology:[zl,t,Bl].join(Ll),weightSpecs:[zl,t,Vl].join(Ll),weightData:[zl,t,Ul].join(Ll)}}function mr(t){var e=t.split(Ll);if(e.length<3)throw new Error("Invalid key format: "+t);return e.slice(1,e.length-1).join(Ll)}function gr(t,e,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return null==n&&(n=fetch),r=t.map(function(t){return n(t,e)}),[4,Promise.all(r)];case 1:return i=o.sent(),[4,Promise.all(i.map(function(t){return t.arrayBuffer()}))];case 2:return[2,o.sent()]}})})}function vr(t){var e=this;return function(n,r,i){return void 0===r&&(r=""),s(e,void 0,void 0,function(){var e,o,a,s,l,c,f,p,d,h;return u(this,function(u){switch(u.label){case 0:if(e=n.map(function(){return!1}),o={},a=null!=i?i.map(function(){return!1}):[],s=[],n.forEach(function(t,n){var r=0;t.weights.forEach(function(t){var u=Ol["quantization"in t?t.quantization.dtype:t.dtype]*b(t.shape),l=function(){e[n]=!0,null==o[n]&&(o[n]=[]),o[n].push({manifestEntry:t,groupOffset:r,sizeBytes:u})};null!=i?i.forEach(function(e,n){e===t.name&&(l(),a[n]=!0)}):l(),s.push(t.name),r+=u})}),!a.every(function(t){return t}))throw l=i.filter(function(t,e){return!a[e]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=e.reduce(function(t,e,n){return e&&t.push(n),t},[]),f=[],c.forEach(function(t){n[t].paths.forEach(function(t){var e=r+(r.endsWith("/")?"":"/")+t;f.push(e)})}),[4,t(f)];case 1:return p=u.sent(),d={},h=0,c.forEach(function(t){for(var e=n[t].paths.length,r=0,i=0;i<e;i++)r+=p[h+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,l=0;l<e;l++){var c=new Uint8Array(p[h+l]);s.set(c,u),u+=c.byteLength}o[t].forEach(function(t){var e=or(a.slice(t.groupOffset,t.groupOffset+t.sizeBytes),[t.manifestEntry]);for(var n in e)d[n]=e[n]}),h+=e}),[2,d]}})})}}function yr(t){return null!=t.match(Zl.URL_SCHEME_REGEX)}function br(t,e,n,r){return new Zl(t,e,n,r)}function _r(t){m(null!=t.className,"Class being registered does not have the static className property defined."),m("string"==typeof t.className,"className is required to be a string, but got type "+typeof t.className),m(t.className.length>0,"Class being registered has an empty-string as its className, which is disallowed."),lc.register(t)}function wr(t,e,n){return null==n&&(n=ti.get("TEST_EPSILON")),xr(t,e,function(t,e){return Er(t,Number(e),n)})}function xr(t,e,n){if(t instanceof Lr||e instanceof Lr){if(t instanceof Lr&&e instanceof Lr){if(t.dtype!==e.dtype)throw new Error("Arrays are of different type actual: "+t.dtype+" vs expected: "+e.dtype+".");if(!_(t.shape,e.shape))throw new Error("Arrays are of different shape actual: "+t.shape+" vs expected: "+e.shape+".")}}else{var r=t.constructor.name,i=e.constructor.name;if(r!==i)throw new Error("Arrays are of different type actual: "+r+" vs expected: "+i)}var o,a;if(o=t instanceof Lr?t.dataSync():t,a=e instanceof Lr?e.dataSync():e,o.length!==a.length)throw new Error("Arrays have different lengths actual: "+o.length+" vs expected: "+a.length+".\nActual:   "+o+".\nExpected: "+a+".");for(var s=0;s<a.length;++s){var u=o[s],l=a[s];if(!n(u,l))throw new Error("Arrays differ: actual["+s+"] = "+u+", expected["+s+"] = "+l+".\nActual:   "+o+".\nExpected: "+a+".")}}function Er(t,e,n){return!(!isNaN(t)||!isNaN(e))||!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}n.d(e,"_123",function(){return Cc}),n.d(e,"_30",function(){return Sc}),n.d(e,"_10",function(){return Oc}),n.d(e,"_68",function(){return kc}),n.d(e,"_176",function(){return pc}),n.d(e,"_81",function(){return ir}),n.d(e,"_15",function(){return ei}),n.d(e,"_40",function(){return oc}),n.d(e,"_62",function(){return sc}),n.d(e,"_122",function(){return cc}),n.d(e,"_160",function(){return fc}),n.d(e,"_171",function(){return Tr}),n.d(e,"_177",function(){return dc}),n.d(e,"a",function(){return mc}),n.d(e,"b",function(){return gc}),n.d(e,"c",function(){return vc}),n.d(e,"d",function(){return yc}),n.d(e,"i",function(){return _c}),n.d(e,"j",function(){return hc}),n.d(e,"k",function(){return wc}),n.d(e,"n",function(){return bc}),n.d(e,"o",function(){return Lr}),n.d(e,"p",function(){return Dr}),n.d(e,"_174",function(){return qr}),n.d(e,"q",function(){return zr}),n.d(e,"l",function(){return Fr}),n.d(e,"m",function(){return Ma}),n.d(e,"f",function(){return ti}),n.d(e,"g",function(){return Qr}),n.d(e,"h",function(){return gi}),n.d(e,"e",function(){return mi}),n.d(e,"_39",function(){return xl}),n.d(e,"_48",function(){return gl}),n.d(e,"_60",function(){return dl}),n.d(e,"_138",function(){return el}),n.d(e,"_88",function(){return Ft}),n.d(e,"J",function(){return ps}),n.d(e,"K",function(){return ds}),n.d(e,"L",function(){return hs}),n.d(e,"I",function(){return ms}),n.d(e,"S",function(){return ci}),n.d(e,"_106",function(){return fi}),n.d(e,"_38",function(){return pi}),n.d(e,"T",function(){return qo}),n.d(e,"U",function(){return Ho}),n.d(e,"V",function(){return Go}),n.d(e,"W",function(){return $o}),n.d(e,"X",function(){return Yo}),n.d(e,"_139",function(){return Ko}),n.d(e,"Y",function(){return bs}),n.d(e,"Z",function(){return _s}),n.d(e,"_2",function(){return ws}),n.d(e,"_0",function(){return xs}),n.d(e,"_8",function(){return Es}),n.d(e,"_121",function(){return Cs}),n.d(e,"_1",function(){return Ss}),n.d(e,"_61",function(){return gs}),n.d(e,"_13",function(){return vs}),n.d(e,"_89",function(){return ys}),n.d(e,"_110",function(){return Os}),n.d(e,"_111",function(){return ks}),n.d(e,"_112",function(){return Ts}),n.d(e,"_113",function(){return Ps}),n.d(e,"_114",function(){return Ns}),n.d(e,"_64",function(){return Is}),n.d(e,"G",function(){return As}),n.d(e,"_95",function(){return Ms}),n.d(e,"_129",function(){return Ds}),n.d(e,"_130",function(){return Rs}),n.d(e,"_131",function(){return js}),n.d(e,"_132",function(){return Ls}),n.d(e,"_133",function(){return zs}),n.d(e,"r",function(){return Da}),n.d(e,"s",function(){return Ra}),n.d(e,"t",function(){return ja}),n.d(e,"B",function(){return La}),n.d(e,"C",function(){return za}),n.d(e,"D",function(){return Fa}),n.d(e,"F",function(){return Ba}),n.d(e,"P",function(){return Va}),n.d(e,"Q",function(){return Ua}),n.d(e,"_3",function(){return Wa}),n.d(e,"_4",function(){return qa}),n.d(e,"_18",function(){return Ha}),n.d(e,"_19",function(){return Ga}),n.d(e,"_21",function(){return $a}),n.d(e,"_25",function(){return Ya}),n.d(e,"_51",function(){return Ka}),n.d(e,"_52",function(){return Xa}),n.d(e,"_53",function(){return Za}),n.d(e,"_80",function(){return Ja}),n.d(e,"_107",function(){return Qa}),n.d(e,"_116",function(){return ts}),n.d(e,"_117",function(){return es}),n.d(e,"_125",function(){return ns}),n.d(e,"_126",function(){return rs}),n.d(e,"_127",function(){return is}),n.d(e,"_128",function(){return os}),n.d(e,"_135",function(){return as}),n.d(e,"_140",function(){return ss}),n.d(e,"_141",function(){return us}),n.d(e,"_146",function(){return ls}),n.d(e,"_151",function(){return cs}),n.d(e,"_152",function(){return fs}),n.d(e,"x",function(){return Fs}),n.d(e,"y",function(){return Bs}),n.d(e,"z",function(){return Vs}),n.d(e,"A",function(){return Us}),n.d(e,"_55",function(){return Ws}),n.d(e,"_63",function(){return qs}),n.d(e,"_67",function(){return Hs}),n.d(e,"_69",function(){return Gs}),n.d(e,"_74",function(){return $s}),n.d(e,"_150",function(){return Ys}),n.d(e,"_100",function(){return Ks}),n.d(e,"_16",function(){return Xs}),n.d(e,"_17",function(){return Zs}),n.d(e,"_33",function(){return Js}),n.d(e,"_34",function(){return Qs}),n.d(e,"_35",function(){return tu}),n.d(e,"_36",function(){return eu}),n.d(e,"_44",function(){return nu}),n.d(e,"_45",function(){return ru}),n.d(e,"_46",function(){return iu}),n.d(e,"_47",function(){return ou}),n.d(e,"_83",function(){return au}),n.d(e,"_84",function(){return su}),n.d(e,"u",function(){return uu}),n.d(e,"v",function(){return lu}),n.d(e,"w",function(){return cu}),n.d(e,"E",function(){return fu}),n.d(e,"_11",function(){return pu}),n.d(e,"_12",function(){return du}),n.d(e,"_26",function(){return hu}),n.d(e,"_65",function(){return mu}),n.d(e,"_66",function(){return gu}),n.d(e,"_70",function(){return vu}),n.d(e,"_71",function(){return yu}),n.d(e,"_72",function(){return bu}),n.d(e,"_73",function(){return _u}),n.d(e,"_76",function(){return wu}),n.d(e,"_77",function(){return xu}),n.d(e,"_96",function(){return Eu}),n.d(e,"_97",function(){return Cu}),n.d(e,"_142",function(){return Su}),n.d(e,"_143",function(){return Ou}),n.d(e,"_148",function(){return ku}),n.d(e,"_149",function(){return Tu}),n.d(e,"_14",function(){return Ru}),n.d(e,"_43",function(){return ju}),n.d(e,"_98",function(){return Lu}),n.d(e,"_108",function(){return zu}),n.d(e,"_120",function(){return Fu}),n.d(e,"_56",function(){return Pu}),n.d(e,"_57",function(){return Nu}),n.d(e,"_58",function(){return Iu}),n.d(e,"_59",function(){return Au}),n.d(e,"_178",function(){return Mu}),n.d(e,"_179",function(){return Du}),n.d(e,"N",function(){return Mn}),n.d(e,"_164",function(){return An}),n.d(e,"_99",function(){return Dn}),n.d(e,"M",function(){return oa}),n.d(e,"O",function(){return aa}),n.d(e,"R",function(){return sa}),n.d(e,"_5",function(){return ua}),n.d(e,"_7",function(){return la}),n.d(e,"_20",function(){return ca}),n.d(e,"_22",function(){return fa}),n.d(e,"_27",function(){return pa}),n.d(e,"_79",function(){return da}),n.d(e,"_85",function(){return ha}),n.d(e,"_90",function(){return ma}),n.d(e,"_91",function(){return ga}),n.d(e,"_92",function(){return va}),n.d(e,"_93",function(){return ya}),n.d(e,"_94",function(){return ba}),n.d(e,"_102",function(){return _a}),n.d(e,"_103",function(){return wa}),n.d(e,"_104",function(){return xa}),n.d(e,"_109",function(){return Ea}),n.d(e,"_136",function(){return Ca}),n.d(e,"_144",function(){return Sa}),n.d(e,"_145",function(){return Oa}),n.d(e,"_162",function(){return ka}),n.d(e,"_168",function(){return Ta}),n.d(e,"_170",function(){return Pa}),n.d(e,"_124",function(){return Na}),n.d(e,"_24",function(){return Xt}),n.d(e,"_49",function(){return Zt}),n.d(e,"_86",function(){return Yt}),n.d(e,"_105",function(){return Jt}),n.d(e,"_118",function(){return Vt}),n.d(e,"_153",function(){return Bt}),n.d(e,"_154",function(){return Ut}),n.d(e,"_155",function(){return Wt}),n.d(e,"_156",function(){return qt}),n.d(e,"_157",function(){return Ht}),n.d(e,"_158",function(){return Gt}),n.d(e,"_159",function(){return $t}),n.d(e,"_180",function(){return Kt}),n.d(e,"_87",function(){return di}),n.d(e,"_181",function(){return hi}),n.d(e,"_167",function(){return Bu}),n.d(e,"_134",function(){return ui}),n.d(e,"_54",function(){return li}),n.d(e,"_50",function(){return Vu}),n.d(e,"_82",function(){return Uu}),n.d(e,"_28",function(){return Wu}),n.d(e,"_169",function(){return qu}),n.d(e,"H",function(){return Hu}),n.d(e,"_78",function(){return Gu}),n.d(e,"_75",function(){return $u}),n.d(e,"_147",function(){return Yu}),n.d(e,"_165",function(){return Ku}),n.d(e,"_119",function(){return Xu}),n.d(e,"_23",function(){return Zu}),n.d(e,"_37",function(){return Ju}),n.d(e,"_115",function(){return Qu}),n.d(e,"_41",function(){return tl}),n.d(e,"_137",function(){return nl}),n.d(e,"_29",function(){return rl}),n.d(e,"_166",function(){return Ec}),n.d(e,"_161",function(){return ni}),n.d(e,"_42",function(){return ri}),n.d(e,"_9",function(){return ii}),n.d(e,"_163",function(){return oi}),n.d(e,"_101",function(){return ai}),n.d(e,"_6",function(){return pt}),n.d(e,"_31",function(){return st}),n.d(e,"_32",function(){return ut}),n.d(e,"_172",function(){return lt}),n.d(e,"_173",function(){return ct}),n.d(e,"_175",function(){return ft});var Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Sr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Or={},kr={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0},Tr=Object.freeze({shuffle:c,clamp:f,nearestLargerEven:p,sum:d,randUniform:h,distSquared:function(t,e){for(var n=0,r=0;r<t.length;r++){var i=Number(t[r])-Number(e[r]);n+=i*i}return n},assert:m,assertShapesMatch:g,assertNonNull:v,flatten:y,sizeFromShape:b,isScalarShape:function(t){return 0===t.length},arraysEqual:_,isInt:w,tanh:x,sizeToSquarishShape:E,createShuffledIndices:function(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return c(e),e},rightPad:C,repeatedTry:S,inferFromImplicitShape:O,squeezeShape:k,getTypedArrayFromDType:T,getArrayFromDType:P,checkComputationForNaN:N,checkConversionForNaN:I,hasEncodingLoss:A,isTypedArray:M,bytesPerElement:D,bytesFromStringArray:R,isString:j,isBoolean:L,isNumber:z,inferDtype:F,isFunction:B,nearestDivisor:V,computeStrides:U,toTypedArray:W,makeOnesTypedArray:q,makeZerosTypedArray:H,now:G}),Pr=function(){function t(t,e){this.backendTimer=t,this.logger=e,null==e&&(this.logger=new Nr)}return t.prototype.profileKernel=function(t,e){var n,r=this,i=this.backendTimer.time(function(){n=e()});return(Array.isArray(n)?n:[n]).forEach(function(e){var n=e.dataSync();N(n,e.dtype,t),i.then(function(i){var o="";null!=i.getExtraProfileInfo&&(o=i.getExtraProfileInfo()),r.logger.logKernelProfile(t,e,n,i.kernelMs,o)})}),n},t}(),Nr=function(){function t(){}return t.prototype.logKernelProfile=function(t,e,n,r,i){var o=C(r+"ms",9),a=C(t,25),s=e.rank,u=e.size,l=C(e.shape.toString(),14);console.log("%c"+a+"\t%c"+o+"\t%c"+s+"D "+l+"\t%c"+u+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green")},t}(),Ir=20,Ar=3,Mr=7,Dr=function(){function t(t,e,n){if(this.dtype=e,this.shape=t.slice(),this.size=b(t),null!=n){var r=n.length;m(r===this.size,"Length of values '"+r+"' does not match the size inferred by the shape '"+this.size+"'.")}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||P(e,b(this.shape)),this.strides=U(t)}return t.prototype.set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];0===e.length&&(e=[0]),m(e.length===this.rank,"The number of provided coordinates ("+e.length+") must match the rank ("+this.rank+")");var r=this.locToIndex(e);this.values[r]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.values[n]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return Lr.make(this.shape,{values:this.values},this.dtype)},t}(),Rr=null,jr=null,Lr=function(){function t(t,e,n,r){this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=b(t),this.strides=U(t),this.dataId=null!=r?r:{},this.id=Rr().nextTensorId(),this.rankType=this.rank<5?this.rank.toString():"higher",Rr().registerTensor(this),null!=n&&Rr().write(this.dataId,n)}return t.make=function(e,n,r){return new t(e,r,n.values,n.dataId)},t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),m(1===this.size,"The array must have only 1 element."),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.as5D=function(t,e,n,r,i){return this.throwIfDisposed(),this.reshape([t,e,n,r,i])},t.prototype.asType=function(t){return this.throwIfDisposed(),jr.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];m(t.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),m("complex64"!==this.dtype,"Tensor.get() is not supported for complex64 tensors yet."),this.throwIfDisposed(),0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.dataSync()[n]},t.prototype.buffer=function(){return jr.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.data=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return this.throwIfDisposed(),[2,Rr().read(this.dataId)]})})},t.prototype.dataSync=function(){return this.throwIfDisposed(),Rr().readSync(this.dataId)},t.prototype.dispose=function(){this.isDisposed||(Rr().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),jr.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),jr.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),jr.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),jr.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),jr.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),jr.clone(this)},t.prototype.toString=function(t){return void 0===t&&(t=!1),$(this.dataSync(),this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),jr.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),jr.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),jr.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),jr.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),jr.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),jr.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),jr.reverse(this,t)},t.prototype.concat=function(e,n){return void 0===n&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),jr.concat([this].concat(e),n)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),jr.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),jr.stack([this,t],e)},t.prototype.unstack=function(t,e){return void 0===e&&(e=0),jr.unstack(this,e)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),jr.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,i){return void 0===n&&(n=.001),this.throwIfDisposed(),jr.batchNormalization(this,t,e,n,r,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.sum(this,t,e)},t.prototype.prod=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.prod(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),jr.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),jr.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),jr.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),jr.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),jr.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),jr.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),jr.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),jr.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),jr.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),jr.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),jr.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),jr.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),jr.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),jr.div(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),jr.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),jr.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),jr.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),jr.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),jr.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),jr.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),jr.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),jr.modStrict(this,t)},t.prototype.squaredDifference=function(t){return this.throwIfDisposed(),jr.squaredDifference(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),jr.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),jr.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),jr.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),jr.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),jr.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),jr.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),jr.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),jr.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),jr.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),jr.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),jr.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),jr.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),jr.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),jr.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),jr.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),jr.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),jr.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),jr.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),jr.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),jr.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),jr.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),jr.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),jr.sign(this)},t.prototype.exp=function(){return this.throwIfDisposed(),jr.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),jr.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),jr.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),jr.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),jr.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),jr.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),jr.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),jr.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),jr.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),jr.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),jr.relu(this)},t.prototype.elu=function(){return this.throwIfDisposed(),jr.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),jr.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),jr.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),jr.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),jr.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),jr.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),jr.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),jr.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),jr.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),jr.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),jr.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),jr.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),jr.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),jr.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),jr.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),jr.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),jr.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),jr.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),jr.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),jr.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),jr.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),jr.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),jr.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),jr.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),jr.softmax(this,t)},t.prototype.logSoftmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),jr.logSoftmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),jr.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),jr.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,i,o){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),jr.conv1d(this,t,e,n,r,i,o)},t.prototype.conv2d=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),jr.conv2d(this,t,e,n,r,i,o)},t.prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),jr.conv2dTranspose(this,t,e,n,r,i)},t.prototype.depthwiseConv2D=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),jr.depthwiseConv2d(this,t,e,n,r,i,o)},t.prototype.separableConv2d=function(t,e,n,r,i,o){return void 0===i&&(i=[1,1]),void 0===o&&(o="NHWC"),this.throwIfDisposed(),jr.separableConv2d(this,t,e,n,r,i,o)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),jr.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),jr.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),jr.localResponseNormalization(this,t,e,n,r)},t.prototype.pool=function(t,e,n,r,i){return this.throwIfDisposed(),jr.pool(this,t,e,n,r,i)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),zr.variable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),jr.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),jr.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),jr.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),jr.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),this.throwIfDisposed(),jr.stridedSlice(this,t,e,n,r,i)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),jr.depthToSpace(this,t,e)},t.prototype.fft=function(){return this.throwIfDisposed(),jr.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),jr.spectral.ifft(this)},t}();Object.defineProperty(Lr,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.shape&&null!=t.dtype}});var zr=function(t){function e(e,n,r){void 0===n&&(n=!0);var i=t.call(this,e.shape,e.dtype,null,e.dataId)||this;i.trainable=n,i.name=r,null==i.name&&(i.name=Rr().nextVariableId().toString());try{Rr().registerVariable(i)}catch(t){throw Rr().disposeTensor(i),t}return i}return a(e,t),e.variable=function(t,n,r,i){return void 0===n&&(n=!0),null!=i&&i!==t.dtype&&(t=t.asType(i)),new e(t,n,r)},e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!_(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");Rr().disposeTensor(this),this.dataId=t.dataId,Rr().registerTensor(this)},e}(Lr);Object.defineProperty(zr,Symbol.hasInstance,{value:function(t){return t instanceof Lr&&null!=t.assign&&t.assign instanceof Function}});var Fr,Br,Vr,Ur,Wr,qr=zr.variable;!function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(Fr||(Fr={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(Br||(Br={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(Vr||(Vr={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(Ur||(Ur={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(Wr||(Wr={}));var Hr,Gr={float32:Ur,int32:Br,bool:Vr,complex64:Wr},$r=function(){function t(t,e,n){this.backend=t,this.safeMode=e,this.debugMode=n,this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.profiling=!1,this.gradientScopeCount=0,this.customGradientDepth=0,this.scopeStack=[],this.keepTensors=new Set,this.tensorInfo=new WeakMap,this.profiler=new Pr(t),this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return t.prototype.moveData=function(t){this.write(t,this.readSync(t))},t.prototype.tidy=function(t,e,n){var r=this;void 0===n&&(n=!1);var i,o=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=t}return this.scopedRun(function(){return r.startScope(o,n)},function(){return r.endScope(i,n)},function(){return(i=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i})},t.prototype.scopedRun=function(t,e,n){t();try{var r=n();return e(),r}catch(t){throw e(),t}},t.prototype.nextTensorId=function(){return t.nextTensorId++},t.prototype.nextVariableId=function(){return t.nextVariableId++},t.prototype.runKernel=function(t,e,n){var r,i=this,o=[],a=function(t){return o.push(t),t},s=this.activeScope.name,u=this.numBytes,l=this.numTensors;if(this.scopedRun(function(){return i.customGradientDepth++},function(){return i.customGradientDepth--},function(){r=i.debugMode()?i.profiler.profileKernel(s,function(){return t(i.backend,a)}):t(i.backend,a)}),this.shouldRecord()){var c={id:this.nextTapeNodeId++,name:s,inputs:e,outputs:Array.isArray(r)?r:[r]};null!=n&&(c.gradient=function(t){return n(t,o)}),this.activeTape.push(c)}return this.profiling&&this.activeProfile.kernels.push({name:s,bytesAdded:this.numBytes-u,totalBytesSnapshot:this.numBytes,tensorsAdded:this.numTensors-l,totalTensorsSnapshot:this.numTensors,inputShapes:Object.keys(e).map(function(t){return e[t].shape}),outputShape:Array.isArray(r)?r.map(function(t){return t.shape}):r.shape}),r},t.prototype.registerTensor=function(t){var e=this.tensorInfo.has(t.dataId)?this.tensorInfo.get(t.dataId).refCount:0;if(this.numTensors++,"string"===t.dtype&&this.numStringTensors++,0===e){this.numDataBuffers++;var n=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(n=b(t.shape)*D(t.dtype)),this.tensorInfo.set(t.dataId,{backend:this.backend,dtype:t.dtype,shape:t.shape,bytes:n,refCount:0}),this.numBytes+=n,this.backend.register(t.dataId,t.shape,t.dtype)}this.tensorInfo.get(t.dataId).refCount++,t instanceof zr||this.track(t)},t.prototype.registerVariable=function(t){if(null!=this.registeredVariables[t.name])throw new Error("Variable with name "+t.name+" was already registered");this.registeredVariables[t.name]=t},t.prototype.disposeTensor=function(t){if(this.tensorInfo.has(t.dataId)){this.keepTensors.has(t.id)&&this.keepTensors.delete(t.id),this.numTensors--,"string"===t.dtype&&this.numStringTensors--;var e=this.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.numBytes-=e.bytes),this.numDataBuffers--,e.backend.disposeData(t.dataId),this.tensorInfo.delete(t.dataId)):this.tensorInfo.get(t.dataId).refCount--}},t.prototype.disposeVariables=function(){for(var t in this.registeredVariables){this.disposeTensor(this.registeredVariables[t]),delete this.registeredVariables[t]}},t.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.numTensors,t.numDataBuffers=this.numDataBuffers,t.numBytes=this.numBytes,this.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},t.prototype.profile=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){return this.profiling=!0,e=this.numBytes,n=this.numTensors,this.activeProfile.kernels=[],this.activeProfile.result=t(),this.profiling=!1,this.activeProfile.peakBytes=Math.max.apply(Math,this.activeProfile.kernels.map(function(t){return t.totalBytesSnapshot})),this.activeProfile.newBytes=this.numBytes-e,this.activeProfile.newTensors=this.numTensors-n,[2,this.activeProfile]})})},t.prototype.shouldRecord=function(){return null!=this.activeTape&&0===this.customGradientDepth},t.prototype.addTapeNode=function(t,e,n){var r={};t.forEach(function(t,e){r[e]=t});var i={id:this.nextTapeNodeId++,name:this.activeScope.name,inputs:r,outputs:[e],gradient:function(t){var e={};return n(t).forEach(function(t,n){e[n]=function(){return t}}),e}};this.activeTape.push(i)},t.prototype.keep=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {...}) to avoid memory leaks.");return this.keepTensors.add(t.id),t},t.prototype.startScope=function(t,e){void 0===e&&(e=!1),e&&0===this.gradientScopeCount&&(this.activeTape=[]),e&&this.gradientScopeCount++;var n={track:[],name:"unnamed scope"};t&&(n.name=t),this.scopeStack.push(n),this.activeScope=n},t.prototype.endScope=function(t,e){var n=this;void 0===e&&(e=!1),e&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null));var r=new Set(this.keepTensors),i=et(t);i.forEach(function(t){return r.add(t.id)});for(var o=0;o<this.activeScope.track.length;o++){var a=this.activeScope.track[o];r.has(a.id)||(null!=this.activeTape?i.push(a):a.dispose())}var s=this.scopeStack.pop();this.activeScope=0===this.scopeStack.length?null:this.scopeStack[this.scopeStack.length-1],i.forEach(function(t){!n.keepTensors.has(t.id)&&function(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return!0;return!1}(t,s.track)&&n.track(t)})},t.prototype.gradients=function(t,e,n,r){var i=this;if(void 0===r&&(r=!1),m(e.length>0,"gradients() received an empty list of xs."),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");return this.tidy("gradients",function(){var o=t();m(o instanceof Lr,"The result y returned by f() must be a tensor.");var a=function(t,e,n){for(var r={},i={},o=0;o<e.length;o++)r[e[o].id]=!0;for(o=0;o<t.length;o++){var a=(h=t[o]).inputs;for(var s in a){for(var u=a[s],l=!1,c=0;c<e.length;c++)if(r[u.id]){h.outputs.forEach(function(t){return r[t.id]=!0}),l=!0,i[h.id]=!0;break}if(l)break}}var f={};f[n.id]=!0;var p={};for(o=t.length-1;o>=0;o--)for(a=(h=t[o]).inputs,c=0;c<h.outputs.length;c++)if(f[h.outputs[c].id]){for(var s in a)f[a[s].id]=!0,p[h.id]=!0;break}var d=[];for(o=0;o<t.length;o++){var h;if(i[(h=t[o]).id]&&p[h.id]){var m={};for(var s in h.inputs){var g=h.inputs[s];r[g.id]&&(m[s]=g)}var v=Object.assign({},h);v.inputs=m,v.outputs=h.outputs,d.push(v)}}return d}(i.activeTape,e,o);if(!r&&0===a.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");var s={};return s[o.id]=null==n?function(t){var e=q(b(t),"float32");return Lr.make(t,{values:e})}(o.shape):n,function(t,e){for(var n=function(n){var r=e[n],i=[];if(r.outputs.forEach(function(e){var n=t[e.id];if(null!=n)i.push(n);else{var r=Lr.make(e.shape,{values:H(e.size,e.dtype)},e.dtype);i.push(r)}}),null==r.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+r.name+".");var o=r.gradient(1===r.outputs.length?i[0]:i);for(var a in r.inputs){if(!(a in o))throw new Error("Cannot backprop through input "+a+". Available gradients found: "+Object.keys(o)+".");var s=o[a]();if("float32"!==s.dtype)throw new Error("Error in gradient for op "+r.name+". The gradient of input "+a+" must have 'float32' dtype, but has '"+s.dtype+"'");var u=r.inputs[a];if(!_(s.shape,u.shape))throw new Error("Error in gradient for op "+r.name+". The gradient of input '"+a+"' has shape '"+s.shape+"', which does not match the shape of the input '"+u.shape+"'");if(null==t[u.id])t[u.id]=s;else{var l=t[u.id];t[u.id]=l.add(s),l.dispose()}}},r=e.length-1;r>=0;r--)n(r)}(s,a),{value:o,grads:e.map(function(t){return s[t.id]})}},!0)},t.prototype.customGrad=function(t){var e=this;return m(B(t),"The f passed in customGrad(f) must be a function."),function(){for(var n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return m(i.every(function(t){return t instanceof Lr}),"The args passed in customGrad(f)(x1, x2,...) must all be tensors"),e.scopedRun(function(){return e.customGradientDepth++},function(){return e.customGradientDepth--},function(){r=e.tidy(t.name,function(){var e=t.apply(void 0,i),r=e.value,o=e.gradFunc;return m(r instanceof Lr,"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),m(B(o),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n=o,r},!0)}),e.shouldRecord()&&e.addTapeNode(i,r,function(t){var e=n(t),r=Array.isArray(e)?e:[e];return m(r.length===i.length,"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),m(r.every(function(t){return t instanceof Lr}),"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."),r}),r}},t.prototype.write=function(t,e){var n=this.tensorInfo.get(t);if("string"===n.dtype){var r=R(e);this.numBytes+=r-n.bytes,n.bytes=r}this.backend!==n.backend&&(n.backend.disposeData(t),n.backend=this.backend,this.backend.register(t,n.shape,n.dtype)),this.backend.write(t,e)},t.prototype.readSync=function(t){return this.tensorInfo.get(t).backend.readSync(t)},t.prototype.read=function(t){return this.tensorInfo.get(t).backend.read(t)},t.prototype.fromPixels=function(t,e){return this.backend.fromPixels(t,e)},t.prototype.time=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){switch(r.label){case 0:return e=G(),[4,this.backend.time(t)];case 1:return(n=r.sent()).wallMs=G()-e,[2,n]}})})},t.prototype.track=function(t){if(1===this.scopeStack.length&&this.safeMode)throw new Error("Safe mode is ON. Enclose all tensor operations inside tf.tidy(): tf.tidy(() => {op();...}); to avoid memory leaks.");return null!=this.activeScope&&this.activeScope.track.push(t),t},t.nextTensorId=0,t.nextVariableId=0,t}();!function(t){t[t.NUMBER=0]="NUMBER",t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING=2]="STRING"}(Hr||(Hr={}));var Yr,Kr,Xr,Zr=[{name:"DEBUG",type:Hr.BOOLEAN},{name:"IS_BROWSER",type:Hr.BOOLEAN},{name:"WEBGL_LAZILY_UNPACK",type:Hr.BOOLEAN},{name:"WEBGL_CPU_FORWARD",type:Hr.BOOLEAN},{name:"WEBGL_PACK",type:Hr.BOOLEAN},{name:"WEBGL_PACK_BATCHNORMALIZATION",type:Hr.BOOLEAN},{name:"WEBGL_PACK_CLIP",type:Hr.BOOLEAN},{name:"WEBGL_PACK_DEPTHWISECONV",type:Hr.BOOLEAN},{name:"WEBGL_CONV_IM2COL",type:Hr.BOOLEAN},{name:"WEBGL_MAX_TEXTURE_SIZE",type:Hr.NUMBER},{name:"WEBGL_PAGING_ENABLED",type:Hr.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",type:Hr.NUMBER},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:Hr.BOOLEAN},{name:"WEBGL_VERSION",type:Hr.NUMBER},{name:"WEBGL_RENDER_FLOAT32_ENABLED",type:Hr.BOOLEAN},{name:"WEBGL_DOWNLOAD_FLOAT_ENABLED",type:Hr.BOOLEAN},{name:"WEBGL_FENCE_API_ENABLED",type:Hr.BOOLEAN},{name:"WEBGL_SIZE_UPLOAD_UNIFORM",type:Hr.NUMBER},{name:"BACKEND",type:Hr.STRING},{name:"EPSILON",type:Hr.NUMBER},{name:"PROD",type:Hr.BOOLEAN},{name:"TENSORLIKE_CHECK_SHAPE_CONSISTENCY",type:Hr.BOOLEAN}],Jr="tfjsflags",Qr=function(){function e(t){this.features={},this.registry={},null!=t&&(this.features=t),this.get("DEBUG")&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}return e.setBackend=function(t,e){if(void 0===e&&(e=!1),!(t in ti.registry))throw new Error("Backend name '"+t+"' not found in registry");ti.engine.backend=ti.findBackend(t),ti.backendName=t},e.getBackend=function(){return ti.initEngine(),ti.backendName},e.disposeVariables=function(){ti.engine.disposeVariables()},e.memory=function(){return ti.engine.memory()},e.profile=function(t){return ti.engine.profile(t)},e.tidy=function(t,e){return ti.engine.tidy(t,e)},e.dispose=function(t){et(t).forEach(function(t){return t.dispose()})},e.keep=function(t){return ti.engine.keep(t)},e.time=function(t){return ti.engine.time(t)},e.prototype.get=function(t){return t in this.features?this.features[t]:(this.features[t]=this.evaluateFeature(t),this.features[t])},e.prototype.getFeatures=function(){return this.features},e.prototype.set=function(t,e){this.features[t]=e},e.prototype.getBestBackendName=function(){var t=this;if(0===Object.keys(this.registry).length)throw new Error("No backend found in registry.");return Object.keys(this.registry).map(function(e){return{name:e,entry:t.registry[e]}}).sort(function(t,e){return e.entry.priority-t.entry.priority})[0].name},e.prototype.evaluateFeature=function(e){if("DEBUG"===e)return!1;if("IS_BROWSER"===e)return"undefined"!=typeof window;if("IS_NODE"===e)return void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node;if("IS_CHROME"===e)return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if("WEBGL_CPU_FORWARD"===e)return!0;if("WEBGL_PACK"===e)return!1;if("WEBGL_PACK_BATCHNORMALIZATION"===e)return this.get("WEBGL_PACK");if("WEBGL_PACK_CLIP"===e)return this.get("WEBGL_PACK");if("WEBGL_PACK_DEPTHWISECONV"===e)return this.get("WEBGL_PACK");if("WEBGL_LAZILY_UNPACK"===e)return this.get("WEBGL_PACK");if("WEBGL_CONV_IM2COL"===e)return this.get("WEBGL_PACK");if("WEBGL_PAGING_ENABLED"===e)return this.get("IS_BROWSER")&&!this.get("PROD");if("WEBGL_MAX_TEXTURE_SIZE"===e)return function(t){if(null==Yr){var e=l(t);Yr=e.getParameter(e.MAX_TEXTURE_SIZE)}return Yr}(this.get("WEBGL_VERSION"));if("IS_TEST"===e)return!1;if("BACKEND"===e)return this.getBestBackendName();if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"===e){var n=this.get("WEBGL_VERSION");return 0===n?0:function(t){if(0===t)return 0;var e=l(t);return ot(e,"EXT_disjoint_timer_query_webgl2")&&2===t?2:ot(e,"EXT_disjoint_timer_query")?1:0}(n)}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!function(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}();if("HAS_WEBGL"===e)return this.get("WEBGL_VERSION")>0;if("WEBGL_VERSION"===e)return rt(2)?2:rt(1)?1:0;if("WEBGL_RENDER_FLOAT32_ENABLED"===e)return function(t){if(0===t)return!1;var e=l(t);if(1===t){if(!ot(e,"OES_texture_float"))return!1}else if(!ot(e,"EXT_color_buffer_float"))return!1;return at(e,t)}(this.get("WEBGL_VERSION"));if("WEBGL_DOWNLOAD_FLOAT_ENABLED"===e)return function(t){if(0===t)return!1;var e=l(t);if(1===t){if(!ot(e,"OES_texture_float"))return!1;if(!ot(e,"WEBGL_color_buffer_float"))return!1}else if(!ot(e,"EXT_color_buffer_float"))return!1;return at(e,t)}(this.get("WEBGL_VERSION"));if("WEBGL_FENCE_API_ENABLED"===e)return function(t){return 2===t&&null!=l(t).fenceSync}(this.get("WEBGL_VERSION"));if("WEBGL_SIZE_UPLOAD_UNIFORM"===e)return this.get("WEBGL_RENDER_FLOAT32_ENABLED")?4:0;if("TEST_EPSILON"===e)return 32===this.backend.floatPrecision()?.001:.1;if("EPSILON"===e)return 32===this.backend.floatPrecision()?1e-7:1e-4;if("PROD"===e)return!1;if("TENSORLIKE_CHECK_SHAPE_CONSISTENCY"===e)return!this.get("PROD");throw new Error("Unknown feature "+e+".")},e.prototype.setFeatures=function(t){this.features=Object.assign({},t)},e.prototype.reset=function(){this.features=it(),null!=this.globalEngine&&(this.globalEngine=null)},Object.defineProperty(e.prototype,"backend",{get:function(){return this.engine.backend},enumerable:!0,configurable:!0}),e.prototype.findBackend=function(t){return t in this.registry?this.registry[t].backend:null},e.prototype.registerBackend=function(t,e,n,r){var i=this;if(void 0===n&&(n=1),t in this.registry)return console.warn(t+" backend was already registered. Reusing existing backend"),null!=r&&r(function(){return i.engine}),!1;try{var o=e();return o.setDataMover({moveData:function(t){return i.engine.moveData(t)}}),this.registry[t]={backend:o,priority:n},!0}catch(e){return console.warn("Registration of backend "+t+" failed"),console.warn(e.stack||e.message),!1}},e.prototype.removeBackend=function(t){if(!(t in this.registry))throw new Error(t+" backend not found in registry");this.registry[t].backend.dispose(),delete this.registry[t]},Object.defineProperty(e.prototype,"engine",{get:function(){return this.initEngine(),this.globalEngine},enumerable:!0,configurable:!0}),e.prototype.initEngine=function(){var t=this;if(null==this.globalEngine){this.backendName=this.get("BACKEND");var e=this.findBackend(this.backendName);this.globalEngine=new $r(e,!1,function(){return t.get("DEBUG")})}},e}(),ti=function(){var e=function(){var e;if("undefined"!=typeof window)e=window;else{if(void 0===t)throw new Error("Could not find a global object");e=t}return e}();return null==e.ENV&&(e.ENV=new Qr(it()),Z(function(){return e.ENV.engine})),e.ENV}(),ei=Object.freeze({EPSILON_FLOAT16:1e-4,EPSILON_FLOAT32:1e-7,Environment:Qr,ENV:ti}),ni=Qr.tidy,ri=Qr.keep,ii=Qr.dispose,oi=Qr.time,ai=Qr.profile,si=30,ui=Ft({softmax_:function(t,e){void 0===e&&(e=-1);var n=Lt(t,"logits","softmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+e);return pt(function(t){var n=t.logSumExp([e],!0),r=t.toFloat().sub(n).exp();return{value:r,gradFunc:function(t){var n=t.mul(r);return n.sub(n.sum([e],!0).mul(r))}}})(n)}}),li=Ft({logSoftmax_:function(t,e){void 0===e&&(e=-1);var n=Lt(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+e);return pt(function(t){var n=t.max(e,!0),r=t.sub(n),i=r.toFloat().sub(r.exp().sum(e,!0).log());return{value:i,gradFunc:function(t){var n=i.exp();return t.sub(t.sum(e,!0).mul(n))}}})(n)}}),ci=Ft({complex_:function(t,e){var n=Lt(t,"real","complex"),r=Lt(e,"imag","complex");return g(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),ti.engine.runKernel(function(t){return t.complex(n,r)},{$real:n,$imag:r})}}),fi=Ft({real_:function(t){var e=Lt(t,"input","real");return ti.engine.runKernel(function(t){return t.real(e)},{$input:e})}}),pi=Ft({imag_:function(t){var e=Lt(t,"input","imag");return ti.engine.runKernel(function(t){return t.imag(e)},{$input:e})}}),di=Ft({onesLike_:function(t){var e=Lt(t,"x","onesLike");return Yt(e.shape,e.dtype)}}),hi=Ft({zerosLike_:function(t){var e=Lt(t,"x","zerosLike");return Kt(e.shape,e.dtype)}}),mi=function(){function t(t){this.dataMover=t,this.data=new WeakMap}return t.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(t),this.data.get(t)},t.prototype.set=function(t,e){this.data.set(t,e)},t.prototype.has=function(t){return this.data.has(t)},t.prototype.delete=function(t){return this.data.delete(t)},t}(),gi=function(){function t(){}return t.prototype.time=function(t){throw new Error("Not yet implemented.")},t.prototype.read=function(t){throw new Error("Not yet implemented.")},t.prototype.readSync=function(t){throw new Error("Not yet implemented.")},t.prototype.disposeData=function(t){throw new Error("Not yet implemented.")},t.prototype.write=function(t,e){throw new Error("Not yet implemented.")},t.prototype.fromPixels=function(t,e){throw new Error("Not yet implemented.")},t.prototype.register=function(t,e,n){throw new Error("Not yet implemented.")},t.prototype.memory=function(){throw new Error("Not yet implemented.")},t.prototype.floatPrecision=function(){throw new Error("Not yet implemented")},t.prototype.batchMatMul=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.slice=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.stridedSlice=function(t,e,n,r,i,o,a,s,u){throw new Error("Not yet implemented")},t.prototype.reverse=function(t,e){throw new Error("Not yet implemented")},t.prototype.concat=function(t,e){throw new Error("Not yet implemented")},t.prototype.neg=function(t){throw new Error("Not yet implemented")},t.prototype.add=function(t,e){throw new Error("Not yet implemented")},t.prototype.addN=function(t){throw new Error("Not yet implemented")},t.prototype.subtract=function(t,e){throw new Error("Not yet implemented")},t.prototype.multiply=function(t,e){throw new Error("Not yet implemented")},t.prototype.realDivide=function(t,e){throw new Error("Not yet implemented")},t.prototype.floorDiv=function(t,e){throw new Error("Not yet implemented")},t.prototype.sum=function(t,e){throw new Error("Not yet implemented")},t.prototype.prod=function(t,e){throw new Error("Not yet implemented")},t.prototype.unsortedSegmentSum=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.argMin=function(t,e){throw new Error("Not yet implemented")},t.prototype.argMax=function(t,e){throw new Error("Not yet implemented")},t.prototype.equal=function(t,e){throw new Error("Not yet implemented")},t.prototype.notEqual=function(t,e){throw new Error("Not yet implemented")},t.prototype.less=function(t,e){throw new Error("Not yet implemented")},t.prototype.lessEqual=function(t,e){throw new Error("Not yet implemented")},t.prototype.greater=function(t,e){throw new Error("Not yet implemented")},t.prototype.greaterEqual=function(t,e){throw new Error("Not yet implemented")},t.prototype.logicalNot=function(t){throw new Error("Not yet implemented")},t.prototype.logicalAnd=function(t,e){throw new Error("Not yet implemented")},t.prototype.logicalOr=function(t,e){throw new Error("Not yet implemented")},t.prototype.where=function(t){throw new Error("Not yet implemented")},t.prototype.select=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.topk=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.min=function(t,e){throw new Error("Not yet implemented")},t.prototype.minimum=function(t,e){throw new Error("Not yet implemented")},t.prototype.mod=function(t,e){throw new Error("Not yet implemented")},t.prototype.max=function(t,e){throw new Error("Not yet implemented")},t.prototype.maximum=function(t,e){throw new Error("Not yet implemented")},t.prototype.all=function(t,e){throw new Error("Not yet implemented")},t.prototype.any=function(t,e){throw new Error("Not yet implemented")},t.prototype.squaredDifference=function(t,e){throw new Error("Not yet implemented")},t.prototype.ceil=function(t){throw new Error("Not yet implemented")},t.prototype.floor=function(t){throw new Error("Not yet implemented")},t.prototype.round=function(t){throw new Error("Not yet implemented")},t.prototype.sign=function(t){throw new Error("Not yet implemented")},t.prototype.pow=function(t,e){throw new Error("Not yet implemented")},t.prototype.exp=function(t){throw new Error("Not yet implemented")},t.prototype.expm1=function(t){throw new Error("Not yet implemented")},t.prototype.log=function(t){throw new Error("Not yet implemented")},t.prototype.log1p=function(t){throw new Error("Not yet implemented")},t.prototype.sqrt=function(t){throw new Error("Not yet implemented")},t.prototype.rsqrt=function(t){throw new Error("Not yet implemented")},t.prototype.square=function(t){throw new Error("Not yet implemented")},t.prototype.reciprocal=function(t){throw new Error("Not yet implemented")},t.prototype.relu=function(t){throw new Error("Not yet implemented")},t.prototype.elu=function(t){throw new Error("Not yet implemented")},t.prototype.eluDer=function(t,e){throw new Error("Not yet implemented")},t.prototype.selu=function(t){throw new Error("Not yet implemented")},t.prototype.int=function(t){throw new Error("Not yet implemented")},t.prototype.clip=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.abs=function(t){throw new Error("Not yet implemented")},t.prototype.complexAbs=function(t){throw new Error("Not yet implemented")},t.prototype.sigmoid=function(t){throw new Error("Not yet implemented")},t.prototype.softplus=function(t){throw new Error("Not yet implemented")},t.prototype.sin=function(t){throw new Error("Not yet implemented")},t.prototype.cos=function(t){throw new Error("Not yet implemented")},t.prototype.tan=function(t){throw new Error("Not yet implemented")},t.prototype.asin=function(t){throw new Error("Not yet implemented")},t.prototype.acos=function(t){throw new Error("Not yet implemented")},t.prototype.atan=function(t){throw new Error("Not yet implemented")},t.prototype.atan2=function(t,e){throw new Error("Not yet implemented")},t.prototype.sinh=function(t){throw new Error("Not yet implemented")},t.prototype.cosh=function(t){throw new Error("Not yet implemented")},t.prototype.tanh=function(t){throw new Error("Not yet implemented")},t.prototype.asinh=function(t){throw new Error("Not yet implemented")},t.prototype.acosh=function(t){throw new Error("Not yet implemented")},t.prototype.atanh=function(t){throw new Error("Not yet implemented")},t.prototype.erf=function(t){throw new Error("Not yet implemented")},t.prototype.step=function(t,e){throw new Error("Not yet implemented")},t.prototype.conv2d=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv2dDerInput=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv2dDerFilter=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.depthwiseConv2D=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.depthwiseConv2DDerInput=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv3d=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv3dDerInput=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.conv3dDerFilter=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.maxPool=function(t,e){throw new Error("Not yet implemented")},t.prototype.maxPoolBackprop=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.avgPool=function(t,e){throw new Error("Not yet implemented")},t.prototype.avgPoolBackprop=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.reshape=function(t,e){throw new Error("Not yet implemented")},t.prototype.cast=function(t,e){throw new Error("Not yet implemented")},t.prototype.tile=function(t,e){throw new Error("Not yet implemented")},t.prototype.pad=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.transpose=function(t,e){throw new Error("Not yet implemented")},t.prototype.gather=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.gatherND=function(t,e){throw new Error("Not yet implemented")},t.prototype.scatterND=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.batchToSpaceND=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.spaceToBatchND=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.resizeBilinear=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.resizeBilinearBackprop=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.resizeNearestNeighbor=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.batchNormalization=function(t,e,n,r,i,o){throw new Error("Not yet implemented")},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){throw new Error("Not yet implemented")},t.prototype.LRNGrad=function(t,e,n,r,i,o,a){throw new Error("Not yet implemented")},t.prototype.multinomial=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.oneHot=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.cumsum=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.nonMaxSuppression=function(t,e,n,r,i){throw new Error("Not yet implemented")},t.prototype.fft=function(t){throw new Error("Not yet implemented")},t.prototype.ifft=function(t){throw new Error("Not yet implemented")},t.prototype.complex=function(t,e){throw new Error("Not yet implemented")},t.prototype.real=function(t){throw new Error("Not yet implemented")},t.prototype.imag=function(t){throw new Error("Not yet implemented")},t.prototype.cropAndResize=function(t,e,n,r,i,o){throw new Error("Not yet implemented")},t.prototype.depthToSpace=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.split=function(t,e,n){throw new Error("Not yet implemented")},t.prototype.sparseToDense=function(t,e,n,r){throw new Error("Not yet implemented")},t.prototype.setDataMover=function(t){throw new Error("Not yet implemented")},t.prototype.dispose=function(){throw new Error("Not yet implemented")},t}(),vi=function(t,e,n){this.variableNames=["A"];var r=t.windowSize,i=t.batchSize,o=t.inSize,a=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+(n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));")+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+("max"===e?">":"<")+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "},yi=function(t){this.variableNames=["dy"],this.outputShape=t.inShape;var e=t.effectiveFilterHeight,n=t.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n      const float avgMultiplier = float("+1/(t.filterHeight*t.filterWidth)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+";\n            wR += "+t.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+";\n            wC+= "+t.dilationWidth+") {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},bi=function(t,e,n,r,i,o){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],ce(t,e),ce(t,n);var a="0.0";null!=r&&(ce(t,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=i&&(ce(t,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+o+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},_i=function(t,e,n,r,i,o){this.supportsBroadcasting=!0,this.usesPackedTextures=!0,this.variableNames=["x","mean","variance"],ce(t,e),ce(t,n);var a="vec4(0.0)";null!=r&&(ce(t,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(ce(t,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+o+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},wi="return areal * breal - aimag * bimag;",xi="return areal * bimag + aimag * breal;",Ei=function(t,e,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.supportsBroadcasting=!0,this.outputShape=ce(e,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+t+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Ci=function(){function t(t,e,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=ce(e,n),this.userCode="\n      uniform float NAN;\n      float binaryOperation(float a, float b) {\n        "+t+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(){var t=this;return function(e,n){null==t.startLoc&&(t.startLoc=e.getUniformLocationNoThrow(n,"NAN"),null==t.startLoc)||e.gl.uniform1f(t.startLoc,NaN)}},t}(),Si=function(t,e,n){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, float("+e+"), float("+n+")));\n      }\n    "},Oi=function(t,e,n){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (hasNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4("+e+"), vec4("+n+")));\n      }\n    "},ki=function(t){this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Ti=function(t,e){this.variableNames=["A","B"],this.outputShape=[],this.outputShape=Tt([t,e],1),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        float value = 0.0;\n        if (yC < "+t[1]+") {\n          value = getA(yR, yC);\n        } else {\n          yC -= "+t[1]+";\n          value = getB(yR, yC);\n        }\n\n        setOutput(value);\n      }\n    "},Pi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ni=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ii=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yF = 0; yF < "+t.outDepth+"; yF++) {\n            int xF = wF + yF * "+t.strideDepth+" - "+t.padInfo.front+";\n\n            if (xF < 0 || xF >= "+t.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n              int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n              if (xR < 0 || xR >= "+t.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n                int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n                if (xC < 0 || xC >= "+t.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ai=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterDepth,n=t.filterHeight,r=t.filterWidth;this.userCode="\n      const ivec3 pads = ivec3("+(e-1-t.padInfo.front)+", "+(n-1-t.padInfo.top)+", "+(r-1-t.padInfo.left)+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+e+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+t.strideDepth+".0;\n\n          if (dyF < 0.0 || dyF >= "+t.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+e+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n            if (dyR < 0.0 || dyR >= "+t.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n              if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+t.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Mi=function(t){this.variableNames=["x","dy"],this.outputShape=t.filterShape;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+t.outChannels/t.inChannels+" + dm;\n\n        float dotProd = 0.0;\n\n        // TODO: Vec4 over the batch size\n        for (int b = 0; b < "+t.batchSize+"; b++) {\n          for (int yR = 0; yR < "+t.outHeight+"; yR++) {\n            int xR = wR + yR * "+t.strideHeight+" - "+t.padInfo.top+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+t.outWidth+"; yC++) {\n              int xC = wC + yC * "+t.strideWidth+" - "+t.padInfo.left+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Di=function(t){this.variableNames=["dy","W"],this.outputShape=t.inShape;var e=t.filterHeight,n=t.filterWidth,r=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+e+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+e+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TODO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+r+"; dm++) {\n              int d2 = d1 * "+r+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ri=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.top,n=t.padInfo.left,r=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,a=t.dilationWidth,s=t.filterHeight,u=t.filterWidth,l=4*Math.floor(t.inChannels/4),c=t.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+r+", "+i+");\n      const ivec2 pads = ivec2("+e+", "+n+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR * "+o+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC * "+a+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+l+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+l+") *\n                getW(wR, wC, "+l+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1),\n                getX(batch, xR, xC, "+l+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2),\n                getW(wR, wC, "+l+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ji=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.padInfo.front,n=t.padInfo.top,r=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,a=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,l=t.dilationWidth,c=t.filterDepth,f=t.filterHeight,p=t.filterWidth,d=4*Math.floor(t.inChannels/4),h=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+o+", "+a+");\n      const ivec3 pads = ivec3("+e+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+t.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+p+"; wC++) {\n              int xC = xCCorner + wC * "+l+";\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===h)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+d+") *\n                  getW(wF, wR, wC, "+d+", d2);\n              } else if ("+(2===h)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===h)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1),\n                  getX(batch, xF, xR, xC, "+d+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2),\n                  getW(wF, wR, wC, "+d+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Li=function(t){this.variableNames=["x","W"],this.outputShape=t.outShape;var e=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+t.strideHeight+", "+t.strideWidth+");\n      const ivec2 pads = ivec2("+t.padInfo.top+", "+t.padInfo.left+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+e+";\n        int q = d2 - d1 * "+e+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+t.filterHeight+"; wR++) {\n          int xR = xRCorner + wR * "+t.dilationHeight+";\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+t.filterWidth+"; wC++) {\n            int xC = xCCorner + wC * "+t.dilationWidth+";\n\n            if (xC < 0 || xC >= "+t.inWidth+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zi=function(t){this.variableNames=["x","W"],this.usesPackedTextures=!0,this.outputShape=t.outShape;for(var e=t.inHeight,n=t.inWidth,r=t.padInfo.top,i=t.padInfo.left,o=t.strideHeight,a=t.strideWidth,s=t.filterHeight,u=t.filterWidth,l=Math.ceil((u+1)/2),c="int xR; int xC;",f=0;f<s;f++){for(var p=-i;p<2*l;p++)c+="vec4 "+fe(f,p)+" = vec4(0.);";for(p=0;p<u;p++)c+="\n          vec4 wR"+f+"C"+p+" = vec4(0.);\n          vec4 xR"+f+"C"+p+" = vec4(0.);"}for(f=0;f<s;f++)for(p=0;p<l;p++){var d=2*p,h=2*p+i;c+="\n          xR = xRCorner + "+f+";\n          xC = xCCorner + "+h+";\n\n          if(xR >= 0 && xR < "+e+" && xC >= 0 && xC < "+n+") {\n            "+fe(f,h)+" = getX(batch, xR, xC, d1);\n          }",0===i?d<u&&p===l-1&&(a>1&&(c+="\n                vec4 "+fe(f,h+2)+" = vec4(0.);\n\n                if(xR >= 0 && xR < "+e+" && xC + 2 < "+n+") {\n                  "+fe(f,h+2)+" = getX(batch, xR, xC + 2, d1);\n                }"),c+="\n              xR"+f+"C"+h+" = "+pe(f,h,a,i)+";\n            "):0===p&&(c+="\n            if(xR >= 0 && xR < "+e+" && xC - 2 >= 0) {\n              "+fe(f,h-2)+" = getX(batch, xR, xC - 2, d1);\n            }"),d>0&&(c+="xR"+f+"C"+(h-2)+" =\n            "+pe(f,h-2,a,i)+";"),h-1>=0&&h-1<u&&(c+="xR"+f+"C"+(h-1)+" =\n              "+pe(f,h-1,a,i)+";"),d<u&&(c+="\n            vec4 wTexel"+f+"C"+d+" = getW("+f+", "+d+", d1, q);\n            wR"+f+"C"+d+" = vec4(wTexel"+f+"C"+d+".xz, wTexel"+f+"C"+d+".xz);\n          ",d+1<u&&(c+="\n              vec4 wTexelR"+f+"C"+(d+1)+" = getW("+f+", "+(d+1)+", d1, q);\n              wR"+f+"C"+(d+1)+" =\n                vec4(wTexelR"+f+"C"+(d+1)+".xz, wTexelR"+f+"C"+(d+1)+".xz);"))}for(f=0;f<s;f++)for(p=0;p<u;p++)c+="result += xR"+f+"C"+p+" * wR"+f+"C"+p+";";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+a+");\n      const ivec2 pads = ivec2("+r+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 result = vec4(0.);\n\n        "+c+"\n\n        setOutput(result);\n      }\n    "},Fi=function(t,e,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=t[0],a=t[1],s=t[2],u=n[0],l=n[1];this.outputShape=[e[0],u,l,t[3]];var c=[a-1+".0",s-1+".0"],f=c[0],p=c[1],d=u>1?[""+(a-1)/(u-1),"(y2-y1) * height_ratio","y1*"+f+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+f],h=l>1?[""+(s-1)/(l-1),"(x2-x1) * width_ratio","x1*"+p+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+p];this.userCode="\n      const float height_ratio = float("+d[0]+");\n      const float width_ratio = float("+h[0]+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+o+") {\n          return;\n        }\n\n        float height_scale = "+d[1]+";\n        float width_scale = "+h[1]+";\n\n        float in_y = "+d[2]+";\n        if( in_y < 0.0 || in_y > "+f+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+h[2]+";\n        if( in_x < 0.0 || in_x > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexRC = vec2(in_y,in_x);\n        if("+("bilinear"===r?1:0)+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n          ivec2 sourceCeilRC = ivec2(ceil(sourceFracIndexRC));\n\n          float topLeft = getImage(b, sourceFloorRC.x, sourceFloorRC.y, d);\n          float bottomLeft = getImage(b, sourceCeilRC.x, sourceFloorRC.y, d);\n          float topRight = getImage(b, sourceFloorRC.x, sourceCeilRC.y, d);\n          float bottomRight = getImage(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n          vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n          float top = topLeft + (topRight - topLeft) * fracRC.y;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n          float newValue = top + (bottom - top) * fracRC.x;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestRC = ivec2(floor(\n            sourceFracIndexRC + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestRC.x, sourceNearestRC.y, d);\n          setOutput(newValue);\n        }\n      }\n    "},Bi="\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\n    return texture2D(textureSampler, uv).r;\n  }\n",Vi="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",Ui="\n  void setOutput(vec4 val) {\n    gl_FragColor = val;\n  }\n",Wi="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  struct ivec5\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n  };\n\n  struct ivec6\n  {\n    int x;\n    int y;\n    int z;\n    int w;\n    int u;\n    int v;\n  };\n\n  "+(ti.get("PROD")?"\n    bool isNaN(float val) {\n      return false;\n    }\n\n    bool hasNaN(vec4 values) {\n      return false;\n    }\n  ":"\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    bool hasNaN(vec4 values) {\n      return any(bvec4(\n        isNaN(values.x),\n        isNaN(values.y),\n        isNaN(values.z),\n        isNaN(values.w)\n      ));\n    }\n  ")+"\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  //Based on the work of Dave Hoskins\n  //https://www.shadertoy.com/view/4djSRW\n  #define HASHSCALE1 443.8975\n  float random(float seed){\n    vec2 p = resultUV * seed;\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom4D(int texNumR, int texNumC, int texelsInBatch2,\n    int texelsInBatch, int texelsInLogicalRow, int b2, int b,\n    int row, int col) {\n  int index = b2 * texelsInBatch2 + b * texelsInBatch +\n    (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom5D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int row, int col, int depth,\n    int depth2, int depth3) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 +\n              depth * stride2 + depth2 * stride3 + depth3;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom6D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int stride3, int stride4,\n    int row, int col, int depth, int depth2, int depth3, int depth4) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2 *\n    stride3 + depth3 * stride4 + depth4;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n",qi="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n",Hi=function(t,e,n){this.variableNames=["x"],this.outputShape=t;var r=t.length,i=t[t.length-1],o=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+ye(r)+" coords = getOutputCoords();\n        int end = "+we(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+o+" end) {\n            continue;\n          }\n          if (idx == end && "+e+") {\n            continue;\n          }\n          "+we(r,"coords")+" = idx;\n          val += getX("+function(t,e){if(1===t)return""+e;if(2===t)return e+".x, "+e+".y";if(3===t)return e+".x, "+e+".y, "+e+".z";if(4===t)return e+".x, "+e+".y, "+e+".z, "+e+".w";throw Error("Cumulative sum for rank "+t+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "},Gi=function(){function t(t,e,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=e,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+e+";\n      int offset_h = imod(h, "+e+");\n      int in_w = w / "+e+";\n      int offset_w = imod(w, "+e+");\n      int offset_d = (offset_h * "+e+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return t.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},t.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},t.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},t.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},t.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},t}(),$i=function(t){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      const float FLOAT_MAX = 1.70141184e38;\n      const float FLOAT_MIN = 1.17549435e-38;\n\n      lowp vec4 encode_float(highp float v) {\n        if (isNaN(v)) {\n          return vec4(255, 255, 255, 255);\n        }\n\n        highp float av = abs(v);\n\n        if(av < FLOAT_MIN) {\n          return vec4(0.0, 0.0, 0.0, 0.0);\n        } else if(v > FLOAT_MAX) {\n          return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n        } else if(v < -FLOAT_MAX) {\n          return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n        }\n\n        highp vec4 c = vec4(0,0,0,0);\n\n        highp float e = floor(log2(av));\n        highp float m = exp2(fract(log2(av))) - 1.0;\n\n        c[2] = floor(128.0 * m);\n        m -= c[2] / 128.0;\n        c[1] = floor(32768.0 * m);\n        m -= c[1] / 32768.0;\n        c[0] = floor(8388608.0 * m);\n\n        highp float ebias = e + 127.0;\n        c[3] = floor(ebias / 2.0);\n        ebias -= c[3] * 2.0;\n        c[2] += floor(ebias) * 128.0;\n\n        c[3] += 128.0 * step(0.0, -v);\n\n        return c / 255.0;\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        gl_FragColor = encode_float(x);\n      }\n    "},Yi="return real * expR - imag * expI;",Ki="return real * expI + imag * expR;",Xi=function(t,e,n){this.variableNames=["real","imag"];var r=e[1];this.outputShape=e;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI;this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+t+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+(n?r+".0":"1.0")+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Zi=function(t){this.variableNames=["A"];var e=t[0],n=t[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+n+".0, "+e+".0);\n\n        vec4 values = texture2D(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Ji=function(t,e,n){this.variableNames=["A","indices"];var r=t.slice();r[n]=e,this.outputShape=r,this.rank=r.length;var i=ye(this.rank),o=function(t,e){var n=t.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],o=0;o<t.length;o++)i.push(o===e?"int(getIndices("+r[o]+"))":""+r[o]);return i.join()}(t,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Qi=function(t,e,n){this.sliceDim=t,this.strides=e,this.variableNames=["x","indices"],this.outputShape=n;var r=ye(e.length),i=ye(n.length);this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+(this.sliceDim>1?"strides[j]":"strides")+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};!function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(Kr||(Kr={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Xr||(Xr={}));var to=!1,eo=/ERROR: [0-9]+:([0-9]+):/g,no=Object.freeze({callAndCheck:Te,enableDebugWebGLErrorChecking:Pe,checkWebGLError:Ne,getWebGLErrorMessage:Ie,getExtensionOrThrow:Ae,createVertexShader:Me,createFragmentShader:De,createProgram:Re,linkProgram:je,validateProgram:Le,createStaticVertexBuffer:ze,createStaticIndexBuffer:Fe,getNumChannels:Be,createTexture:Ve,validateTextureSize:Ue,createFramebuffer:We,bindVertexBufferToProgramAttribute:qe,bindTextureUnit:He,unbindTextureUnit:function(t,e){tn(t,e),Te(t,function(){return t.activeTexture(t.TEXTURE0+e)}),Te(t,function(){return t.bindTexture(t.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:Ge,getProgramUniformLocation:$e,bindTextureToProgramUniformSampler:Ye,bindCanvasToFramebuffer:function(t){Te(t,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Te(t,function(){return t.viewport(0,0,t.canvas.width,t.canvas.height)}),Te(t,function(){return t.scissor(0,0,t.canvas.width,t.canvas.height)})},bindColorTextureToFramebuffer:Ke,unbindColorTextureFromFramebuffer:Xe,validateFramebuffer:Ze,getFramebufferErrorMessage:Je,getTextureShapeFromLogicalShape:en,isReshapeFree:rn}),ro=Object.freeze({createVertexShader:on,createVertexBuffer:an,createIndexBuffer:sn,getTextureConfig:un,createFloat32MatrixTexture:cn,createFloat16MatrixTexture:fn,createUnsignedBytesMatrixTexture:pn,createPackedMatrixTexture:dn,createFloat16PackedMatrixTexture:hn,bindVertexProgramAttributeStreams:mn,uploadPixelDataToTexture:gn,uploadMatrixToTexture:yn,uploadMatrixToPackedTexture:bn,maybeCreateBufferFromOutputTexture:_n,downloadFloat32MatrixFromBuffer:wn,downloadFloat32MatrixFromOutputTexture:xn,downloadByteEncodedFloatMatrixFromOutputTexture:En,downloadPackedMatrixFromBuffer:Cn,downloadMatrixFromPackedOutputTexture:Sn}),io=function(){function t(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[],this.gl=null!=t?t:l(ti.get("WEBGL_VERSION")),1===ti.get("WEBGL_VERSION")?(this.textureFloatExtension=Ae(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float"),ti.get("WEBGL_RENDER_FLOAT32_ENABLED")||(this.textureHalfFloatExtension=Ae(this.gl,"OES_texture_half_float"),this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float"))):this.colorBufferFloatExtension=Ae(this.gl,"EXT_color_buffer_float"),this.vertexBuffer=an(this.gl),this.indexBuffer=sn(this.gl),this.framebuffer=We(this.gl),this.textureConfig=un(this.gl,this.textureHalfFloatExtension)}return t.prototype.dispose=function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;Te(e,function(){return e.finish()}),Te(e,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Te(e,function(){return e.deleteFramebuffer(t.framebuffer)}),Te(e,function(){return e.bindBuffer(e.ARRAY_BUFFER,null)}),Te(e,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}),Te(e,function(){return e.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},t.prototype.enableAutomaticDebugValidation=function(t){this.autoDebugValidate=t,Pe(t)},t.prototype.createFloat32MatrixTexture=function(t,e){return this.throwIfDisposed(),cn(this.gl,t,e,this.textureConfig)},t.prototype.createFloat16MatrixTexture=function(t,e){return this.throwIfDisposed(),fn(this.gl,t,e,this.textureConfig)},t.prototype.createUnsignedBytesMatrixTexture=function(t,e){return this.throwIfDisposed(),pn(this.gl,t,e)},t.prototype.uploadPixelDataToTexture=function(t,e){this.throwIfDisposed(),gn(this.gl,t,e)},t.prototype.createFloat16PackedMatrixTexture=function(t,e){return this.throwIfDisposed(),hn(this.gl,t,e,this.textureConfig)},t.prototype.createPackedMatrixTexture=function(t,e){return this.throwIfDisposed(),dn(this.gl,t,e,this.textureConfig)},t.prototype.deleteMatrixTexture=function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(Xe(this.gl,this.framebuffer),this.outputTexture=null),Te(this.gl,function(){return e.gl.deleteTexture(t)})},t.prototype.uploadMatrixToTexture=function(t,e,n,r){this.throwIfDisposed();var i=Be();return yn(this.gl,t,e,n,r,i,this.textureConfig)},t.prototype.uploadMatrixToPackedTexture=function(t,e,n,r,i,o,a){return this.throwIfDisposed(),bn(this.gl,t,e,n,r,i,o,a)},t.prototype.downloadFloat32MatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return xn(r.gl,e,n,r.textureConfig)})},t.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,e,n){var r=this;return this.downloadMatrixDriver(t,function(){return En(r.gl,e,n,r.textureConfig)})},t.prototype.downloadPackedMatrixFromBuffer=function(t,e,n,r,i,o){return Cn(this.gl,t,e,n,r,i,o)},t.prototype.downloadFloat32MatrixFromBuffer=function(t,e,n){return wn(this.gl,t,e,n,this.textureConfig)},t.prototype.maybeCreateBufferFromTexture=function(t,e,n){this.bindTextureToFrameBuffer(t);var r=_n(this.gl,t,e,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},t.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},t.prototype.createFence=function(t){var e,n,r=this;if(ti.get("WEBGL_FENCE_API_ENABLED")){var i=t,o=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var t=i.clientWaitSync(o,0,0);return t===i.ALREADY_SIGNALED||t===i.CONDITION_SATISFIED},e=o}else ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(e,ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:e,isFencePassed:n}},t.prototype.downloadMatrixFromPackedTexture=function(t,e,n,r,i,o){var a=this;return this.downloadMatrixDriver(t,function(){return Sn(a.gl,e,n,r,i,o)})},t.prototype.createProgram=function(t){this.throwIfDisposed();var e=this.gl,n=De(e,t),r=on(e),i=Re(e);return Te(e,function(){return e.attachShader(i,r)}),Te(e,function(){return e.attachShader(i,n)}),je(e,i),this.autoDebugValidate&&Le(e,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=mn(e,this.program,this.vertexBuffer)),i},t.prototype.deleteProgram=function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&Te(this.gl,function(){return e.gl.deleteProgram(t)})},t.prototype.setProgram=function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.autoDebugValidate&&Le(this.gl,this.program),Te(this.gl,function(){return e.gl.useProgram(t)})},t.prototype.getUniformLocation=function(t,e,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?Ge(this.gl,t,e):$e(this.gl,t,e)},t.prototype.getAttributeLocation=function(t,e){var n=this;return this.throwIfDisposed(),Te(this.gl,function(){return n.gl.getAttribLocation(t,e)})},t.prototype.getUniformLocationNoThrow=function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)},t.prototype.setInputMatrixTexture=function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),Ye(this.gl,0,t,e,n)},t.prototype.setOutputMatrixTexture=function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)},t.prototype.setOutputPackedMatrixTexture=function(t,e,n){this.throwIfDisposed();var r=Se(e,n);this.setOutputMatrixTextureDriver(t,r[0],r[1])},t.prototype.setOutputMatrixWriteRegion=function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)},t.prototype.setOutputPackedMatrixWriteRegion=function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},t.prototype.debugValidate=function(){null!=this.program&&Le(this.gl,this.program),Ze(this.gl)},t.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.autoDebugValidate&&this.debugValidate(),Te(t,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},t.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Te(this.gl,function(){return t.gl.finish()})},t.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ae(this.gl,2===ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},t.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},t.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},t.prototype.beginQuery=function(){if(2===ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},t.prototype.endQuery=function(){if(2!==ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}},t.prototype.waitForQueryAndGetTime=function(t){return s(this,void 0,void 0,function(){var e=this;return u(this,function(n){switch(n.label){case 0:return[4,S(function(){return e.disposed||e.isQueryAvailable(t,ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(t,ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},t.prototype.getQueryTime=function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6},t.prototype.isQueryAvailable=function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},t.prototype.pollFence=function(t){var e=this;return new Promise(function(n){e.addItemToPoll(function(){return t.isFencePassed()},function(){return n()})})},t.prototype.pollItems=function(){for(var t=function(t){for(var e=0,n=t.length-1,r=-1;e<=n;){var i=e+n>>1;t[i]()?(r=i,e=i+1):n=i-1}return r}(this.itemsToPoll.map(function(t){return t.isDoneFn})),e=0;e<=t;++e)(0,this.itemsToPoll[e].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},t.prototype.addItemToPoll=function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||S(function(){return n.pollItems(),0===n.itemsToPoll.length})},t.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),Ke(this.gl,t,this.framebuffer),this.autoDebugValidate&&Ze(this.gl)},t.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Ke(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&Ze(this.gl)):Xe(this.gl,this.framebuffer)},t.prototype.downloadMatrixDriver=function(t,e){this.bindTextureToFrameBuffer(t);var n=e();return this.unbindTextureToFrameBuffer(),n},t.prototype.setOutputMatrixTextureDriver=function(t,e,n){this.throwIfDisposed();var r=this.gl;Ke(r,t,this.framebuffer),this.autoDebugValidate&&Ze(r),this.outputTexture=t,Te(r,function(){return r.viewport(0,0,e,n)}),Te(r,function(){return r.scissor(0,0,e,n)})},t.prototype.setOutputMatrixWriteRegionDriver=function(t,e,n,r){var i=this;this.throwIfDisposed(),Te(this.gl,function(){return i.gl.scissor(t,e,n,r)})},t.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},t.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},t}(),oo=function(t,e,n){this.variableNames=["A"],this.outputShape=t;var r=n.inChannels,i=n.padInfo,o=n.outWidth,a=r*n.filterWidth;this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            int blockIndex = rc.y + col;\n            int pos = rc.x + row;\n\n            if(blockIndex >= "+t[1]+" || pos >= "+t[0]+") continue;\n\n            int offsetY = int(blockIndex / ("+o+")) * "+n.strideHeight+" - "+i.top+";\n            int d0 = offsetY + "+n.dilationHeight+" * (pos / "+a+");\n\n            if(d0 >= "+e[0]+" || d0 < 0) continue;\n\n            int offsetX = int(mod(float(blockIndex), "+o+".) * "+n.strideWidth+". - "+i.left+".);\n            int d1 = offsetX + "+n.dilationWidth+" * (int(mod(float(pos), "+a+".) / "+r+".));\n\n            if(d1 >= "+e[1]+" || d1 < 0) continue;\n\n            result[row * 2 + col] = getA(d0, d1, int(mod(float(pos), "+r+".)));\n          }\n        }\n\n        gl_FragColor = result;\n      }\n    "},ao=function(t,e,n,r,i){this.variableNames=["x"],this.outputShape=[];var o=e,a=t[3]-1;this.outputShape=t;var s="float("+n+") + float("+r+") * sum";this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+a+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+(.5===i?"inversesqrt("+s+")":1===i?"1.0/("+s+")":"exp(log("+s+") * float(-"+i+"));")+";\n        setOutput(val);\n      }\n    "},so=function(t,e,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=e,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+e+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+e+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},uo=function(t){this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var e=t.effectiveFilterHeight,n=t.effectiveFilterWidth;this.userCode="\n      const ivec2 pads = ivec2("+(e-1-t.padInfo.top)+", "+(n-1-t.padInfo.left)+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+e+";\n          wR += "+t.dilationHeight+") {\n          float dyR = float(dyRCorner + wR) / "+t.strideHeight+".0;\n\n          if (dyR < 0.0 || dyR >= "+t.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+t.strideWidth+".0;\n\n            if (dyC < 0.0 || dyC >= "+t.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+(e*n-1)+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},lo=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),this.variableNames=["matrixA","matrixB"];var i=n?t[1]:t[2];this.outputShape=[t[0],n?t[2]:t[1],r?e[1]:e[2]];var o=function(t,e){return n?"batch, "+e+" + "+t+", aRow":"batch, aRow, "+e+" + "+t},a=function(t,e){return r?"batch, bCol, "+e+" + "+t:"batch, "+e+" + "+t+", bCol"},s=4*Math.floor(i/4),u=i%4;this.userCode=" float dotARowBCol(int batch, int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+s+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+o(0,"i")+"),\n          getMatrixA("+o(1,"i")+"),\n          getMatrixA("+o(2,"i")+"),\n          getMatrixA("+o(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+a(0,"i")+"),\n          getMatrixB("+a(1,"i")+"),\n          getMatrixB("+a(2,"i")+"),\n          getMatrixB("+a(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===u)+") {\n        result += getMatrixA("+o(0,s)+") *\n          getMatrixB("+a(0,s)+");\n      } else if ("+(2===u)+") {\n        vec2 a = vec2(\n          getMatrixA("+o(0,s)+"),\n          getMatrixA("+o(1,s)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+a(0,s)+"),\n          getMatrixB("+a(1,s)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===u)+") {\n        vec3 a = vec3(\n          getMatrixA("+o(0,s)+"),\n          getMatrixA("+o(1,s)+"),\n          getMatrixA("+o(2,s)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+a(0,s)+"),\n          getMatrixB("+a(1,s)+"),\n          getMatrixB("+a(2,s)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec3 resBRC = getOutputCoords();\n      setOutput(dotARowBCol(resBRC.x, resBRC.y, resBRC.z));\n    }\n    "},co=function(t,e,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1),this.variableNames=["matrixA","matrixB"],this.usesPackedTextures=!0,this.outputShape=n;var o=r?t[0]:t[1],a=Math.ceil(o/2),s=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],u=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];this.userCode="\n      const float sharedDimension = "+a+".0;\n\n      vec4 dot2x2ARowBCol(ivec2 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+a+"; i++) {\n          vec4 a = getMatrixA("+(r?"i * 2, rc.x":"rc.x, i * 2")+");\n          vec4 b = getMatrixB("+(i?"rc.y, i * 2":"i * 2, rc.y")+");\n\n          result += ("+s[0]+" * "+u[0]+") + ("+s[1]+" * "+u[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n        setOutput(dot2x2ARowBCol(rc));\n      }\n    "},fo=function(){function t(t,e,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(e-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(e-1)+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}},t}(),po=function(t,e,n,r){this.variableNames=["indices"],this.outputShape=[t,e],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},ho=function(t){this.variableNames=["A"],this.isPackShader=!0,this.outputShape=t;var e=t.length;if(0===e)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=kn("rc",e),r=ye(e),i=function(t,e,n){if(1===t)return"rc > "+e[0];for(var r="",i=t-2;i<t;i++)r+=n[i]+" >= "+e[i],i<t-1&&(r+="||");return r}(e,t,n),o=function(t,e,n,r){if(1===t)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+e+";\n    bool rEdge = rp1 >= "+n+";\n  "}(e,t[t.length-1],t[t.length-2],n),a=function(t,e){var n=t.length,r=function(t,e){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var o=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),a=2;a<t;a++)o=e[e.length-1-a]+","+o;n.push(o)}return n}(n,e);return 1===n?"getA(rc),\n            rc + 1 >= "+t[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(t,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+o+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},mo=function(t,e,n){this.variableNames=["x"],this.outputShape=e.map(function(e,n){return e[0]+t[n]+e[1]});var r=t.length,i=ye(r),o=e.map(function(t){return t[0]}).join(","),a=e.map(function(e,n){return e[0]+t[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+o+");\n      "+i+" end = "+i+"("+a+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+o+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},go=function(t,e,n){if(this.variableNames=["x"],"avg"===e&&n)throw new Error("Cannot compute positions for average pool.");var r=t.filterWidth,i=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=t.padInfo.top,f=t.padInfo.left;this.outputShape=t.outShape;var p="avg"===e,d="0.0";if(p||(d="-1.0 / 0.0"),n)this.userCode="\n        const ivec2 strides = ivec2("+i+", "+o+");\n        const ivec2 pads = ivec2("+c+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+t.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+t.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+l+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var h=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===e&&(h="avgValue / count");var m=4*Math.floor(r/4),g=r%4,v="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+i+", "+o+");\n      const ivec2 pads = ivec2("+c+", "+f+");\n      const float initializationValue = "+d+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+t.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+d+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+v+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(2===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+v+"\n          } else if ("+(3===g)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+v+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}},vo=function(t,e){this.variableNames=["x"];var n=t.windowSize,r=t.batchSize,i=t.inSize,o=Math.ceil(i/n);this.outputShape=[r,o];var a="0.0",s="";"prod"===e?a="1.0":"min"===e?(a="1.0 / 0.0",s="min"):"max"===e&&(a="-1.0 / 0.0",s="max");var u=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===e?u="sumValue":"prod"===e?u="prodValue":"all"===e?u="allValue":"any"===e&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,f="\n      if ("+("sum"===e)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===e)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",p="vec4";"all"===e?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===e&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");var d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},yo=function(t,e){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      "+function(t){return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+de(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  "}(e)+"\n      "+Tn(t)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+t[1]+";\n        int cols = "+t[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},bo=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=t.shape,s=a[1],u=a[2],l=[n&&s>1?i-1:i,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],p=l[1]/c[1],d=1/f,h=1/p,m=2*Math.ceil(d)+2,g=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(o-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},_o=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[1],o=t[2];this.outputShape=[t[0],e,n,t[3]];var a=[r&&e>1?i-1:i,r&&n>1?o-1:o],s=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+a[0]/s[0]+",\n          "+a[1]/s[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},wo=function(t,e,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var r=e.shape,i=r[1],o=r[2],a=t.shape,s=a[1],u=a[2],l=[n&&s>1?i-1:i,n&&u>1?o-1:o],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],p=l[1]/c[1],d=1/f,h=1/p,m=2*Math.ceil(d)+2,g=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},xo=function(t,e,n,r){this.variableNames=["A"],this.outputShape=[];var i=t[1],o=t[2];this.outputShape=[t[0],e,n,t[3]];var a=[r&&e>1?i-1:i,r&&n>1?o-1:o],s=[r&&e>1?e-1:e,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+a[0]/s[0]+",\n          "+a[1]/s[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+(r?"0.5":"0.0")+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},Eo=function(t,e){this.variableNames=["x"];var n=t.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=t,1!==n){var r=t.map(function(n,r){return function(n){return-1!==e.indexOf(n)&&1!==t[n]?t[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),i=ye(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+t[0]+" - coord - 1));\n        }\n      "},Co=function(t,e,n,r,i,o,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=ye(i.length),u=ye(o.length),l="";1===n?l="i":2===n&&(l="i, j");var c="";1===r?c="i":2===r&&(c="i, coords[1]");this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+t+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+e+"; j++) {\n              int index = round("+("getIndices("+l+")")+");\n              flattenedIndex += index * "+(e>1?"strides[j]":"strides")+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+("getUpdates("+c+")")+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},So=function(t,e){this.variableNames=["x","segmentIds"];var n=t.windowSize,r=t.batchSize,i=t.inSize,o=t.numSegments,a=o*Math.ceil(i/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, filter);\n    ",c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+o+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+o+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 filter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "},Oo=function(t,e,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=e,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<e.length;u++)s.push(""+o[u]),u<t&&a.push(""+o[u]);r=a.join(),i=s.join()}var l=ye(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},ko=function(){function t(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var e=ye(this.rank),n=function(t){if(1===t)return"sourceLoc";if(2===t)return"sourceLoc.x, sourceLoc.y";if(3===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===t)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+t+" is not yet supported")}(this.rank);this.userCode="\n      uniform "+e+" start;\n\n      void main() {\n        "+e+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    "}return t.prototype.getCustomSetupFunc=function(t){var e=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,r){if(null!=e.startLoc||(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=e.startLoc))if(1===e.rank)n.gl.uniform1i(e.startLoc,t[0]);else if(2===e.rank)n.gl.uniform2i(e.startLoc,t[0],t[1]);else if(3===e.rank)n.gl.uniform3i(e.startLoc,t[0],t[1],t[2]);else{if(4!==e.rank)throw Error("Slicing for rank "+e.rank+" is not yet supported");n.gl.uniform4i(e.startLoc,t[0],t[1],t[2],t[3])}}},t}(),To=function(t,e,n,r){this.variableNames=["x"];var i=n.filter(function(t,e){return-1===r.indexOf(e)});this.outputShape=i;var o=n.length,a=ye(n.length),s=ye(i.length),u="";if(1===o)u="coords * strides + begin";else{var l=0;u=n.map(function(t,e){return-1===r.indexOf(e)?(l++,1===i.length?"coords * strides["+e+"] + begin["+e+"]":"coords["+(l-1)+"] * strides["+e+"] + begin["+e+"]"):"begin["+e+"]"}).join(",")}this.userCode="\n      "+a+" begin = "+a+"("+t+");\n      "+a+" strides = "+a+"("+e+");\n\n      void main() {\n        "+s+" coords = getOutputCoords();\n        setOutput(getX("+u+"));\n      }\n    "},Po=function(){function t(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return t.prototype.acquireTexture=function(t,e,n){var r,i=Pn(e,n),o=Nn(t,i,n);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[o].shift();return this.usedTextures[o].push(a),a}return this.numUsedTextures++,this.log(),i===Xr.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===Xr.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===Xr.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===Xr.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===Xr.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(r),r},t.prototype.releaseTexture=function(t,e,n,r){if(null!=this.freeTextures){var i=Nn(e,Pn(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[i],a=o.indexOf(t);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(a,1),this.log()}},t.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},t.prototype.getNumUsedTextures=function(){return this.numUsedTextures},t.prototype.getNumFreeTextures=function(){return this.numFreeTextures},t.prototype.dispose=function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});for(var e in this.usedTextures)this.usedTextures[e].forEach(function(e){t.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},t}(),No=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[r]*e[r];this.outputShape=n,this.rank=n.length;var i=ye(this.rank),o=function(t){var e=t.length;if(e>5)throw Error("Tile for rank "+e+" is not yet supported");if(1===e)return"imod(resRC, "+t[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<t.length;i++)r.push("imod("+n[i]+", "+t[i]+")");return r.join()}(t);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+o+"));\n      }\n    "},Io=function(t,e){this.variableNames=["A"];for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t[e[r]];this.outputShape=n,this.rank=n.length;var i=ye(this.rank),o=function(t){var e=t.length;if(e>6)throw Error("Transpose for rank "+e+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),i=0;i<t.length;i++)r[t[i]]=n[i];return r.join()}(e);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+o+"));\n    }\n    "},Ao=1.7580993408473768,Mo=1.0507009873554805,Do=function(){function t(t,e){this.variableNames=["A"],this.outputShape=t,this.userCode="\n      uniform float NAN;\n      float unaryOperation(float x) {\n        "+e+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "}return t.prototype.getCustomSetupFunc=function(){var t=this;return function(e,n){null==t.startLoc&&(t.startLoc=e.getUniformLocationNoThrow(n,"NAN"),null==t.startLoc)||e.gl.uniform1f(t.startLoc,NaN)}},t}(),Ro="if (isNaN(x)) return x;",jo=Ro+"\n  return (x < 0.0) ? 0.0 : x;\n",Lo="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+Ao+";\n  float scale = "+Mo+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",zo=Ro+"\n  return sin(x);\n",Fo=Ro+"\n  return cos(x);\n",Bo=Ro+"\n  return atan(x);\n",Vo=Ro+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",Uo=Ro+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",Wo=function(t){this.variableNames=["A"],this.usesPackedTextures=!0,this.outputShape=t;var e=t.length,n=kn("rc",e),r=ye(e),i=function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(e,n),o=n.slice(-2),a=e<=1?"rc":"vec2("+o.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},qo=Ft({concat_:function(t,e){void 0===e&&(e=0),m(t.length>=1,"Pass at least one tensor to concat");var n=zt(t,"tensors","concat");e=Et(e,n[0].shape)[0];var r=Tt(n.map(function(t){return t.shape}),e);if(0===b(r))return Bt([],r);if(1===(n=n.filter(function(t){return t.size>0})).length)return n[0];var i=n.map(function(t){return t.shape});return function(t,e){var n=t[0].length;t.forEach(function(t,e){m(t.length===n,"Error in concat"+n+"D: rank of tensors["+e+"] must be the same as the rank of the rest ("+n+")")}),m(e>=0&&e<n,"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+".");var r=t[0];t.forEach(function(t,i){for(var o=0;o<n;o++)m(o===e||t[o]===r[o],"Error in concat"+n+"D: Shape of tensors["+i+"] ("+t+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+".")})}(i,e),ti.engine.runKernel(function(t){return t.concat(n,e)},n,function(t){var n=i.map(function(t){return t[e]});return Ko(t,n,e).map(function(t){return function(){return t}})})}}),Ho=Ft({concat1d_:function(t){return qo(t,0)}}),Go=Ft({concat2d_:function(t,e){return qo(t,e)}}),$o=Ft({concat3d_:function(t,e){return qo(t,e)}}),Yo=Ft({concat4d_:function(t,e){return qo(t,e)}}),Ko=Ft({split_:function(t,e,n){void 0===n&&(n=0);var r,i=Lt(t,"x","split");return n=Et(n,i.shape)[0],"number"==typeof e?(m(i.shape[n]%e==0,"Number of splits must evenly divide the axis."),r=Array(e).fill(i.shape[n]/e)):(m(i.shape[n]===e.reduce(function(t,e){return t+e}),"The sum of sizes must match the size of the axis dimension."),r=e),ti.engine.runKernel(function(t){return t.split(i,r,n)},{$x:i},function(t){return{$x:function(){return qo(t,n)}}})}}),Xo=("undefined"!=typeof window?window:void 0!==r||"undefined"!=typeof self&&self,In(function(t){!function(e,n,r){function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new function(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}(t),r=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.alea=o}()})),Zo=In(function(t){!function(e,n,r){function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function o(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xor128=o}()}),Jo=In(function(t){!function(e,n,r){function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function o(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xorwow=o}()}),Qo=In(function(t){!function(e,n,r){function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function o(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xorshift7=o}()}),ta=In(function(t){!function(e,n,r){function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function o(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xor4096=o}()}),ea=In(function(t){!function(e,n,r){function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function o(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.tychei=o}()}),na=In(function(t){!function(e,r){function i(t,n,i){var v=[],y=a(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,s(e)]:null==t?function(){try{var t;return u&&(t=u.randomBytes)?t=t(c):(t=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(t)),s(t)}catch(t){var n=l.navigator,r=n&&n.plugins;return[+new Date,l,r,l.screen,s(e)]}}():t,3),v),b=new function(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<c;)a[i]=i++;for(i=0;i<c;i++)a[i]=a[o=g&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=g&i+1],n=n*c+a[g&(a[i]=a[o=g&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(c)}(v),_=function(){for(var t=b.g(f),e=d,n=0;t<h;)t=(t+n)*c,e*=c,n=b.g(1);for(;t>=m;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|b.g(4)},_.quick=function(){return b.g(4)/4294967296},_.double=_,a(s(b.S),e),(n.pass||i||function(t,e,n,i){return i&&(i.S&&o(i,b),t.state=function(){return o(b,{})}),n?(r[p]=t,e):t})(_,y,"global"in n?n.global:this==r,n.state)}function o(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){for(var n,r=t+"",i=0;i<r.length;)e[g&i]=g&(n^=19*e[g&i])+r.charCodeAt(i++);return s(e)}function s(t){return String.fromCharCode.apply(0,t)}var u,l=this,c=256,f=6,p="random",d=r.pow(c,f),h=r.pow(2,52),m=2*h,g=c-1;if(r["seed"+p]=i,a(r.random(),e),t.exports){t.exports=i;try{u=n(210)}catch(t){}}}([],Math)});na.alea=Xo,na.xor128=Zo,na.xorwow=Jo,na.xorshift7=Qo,na.xor4096=ta,na.tychei=ea;var ra=na.alea,ia=function(){function t(t,e,n,r,i){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=ra(o.toString())}return t.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var i=void 0,o=void 0,a=void 0;do{a=(i=2*this.random()-1)*i+(o=2*this.random()-1)*o}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)},t.prototype.convertValue=function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)},t.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},t}(),oa=Ft({batchToSpaceND_:function(t,e,n){var r=Lt(t,"x","batchToSpaceND"),i=e.reduce(function(t,e){return t*e});return m(r.rank>=1+e.length,"input rank is "+r.rank+" but should be > than blockShape.length "+e.length),m(n.length===e.length,"crops.length is "+n.length+" but should be equal to blockShape.length  "+e.length),m(r.shape[0]%i==0,"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+i),ti.engine.runKernel(function(t){return t.batchToSpaceND(r,e,n)},{$x:r},function(t){return{$x:function(){return t.spaceToBatchND(e,n)}}})}}),aa=Ft({cast_:function(t,e){var n=Lt(t,"x","cast");return ti.engine.runKernel(function(t){return t.cast(n,e)},{$x:n},function(t){return{$x:function(){return t.clone()}}})}}),sa=Ft({clone_:function(t){var e=Lt(t,"x","clone",null);return ti.engine.runKernel(function(t){return Lr.make(e.shape,{dataId:e.dataId},e.dtype)},{$x:e},function(t){return{$x:function(){return t.toFloat()}}})}}),ua=Ft({cumsum_:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Lt(t,"x","cumsum"),o=St([e|=0],i.rank),a=i;null!=o&&(a=i.transpose(o));var s=kt(1,i.rank)[0],u=ti.engine.runKernel(function(t){return t.cumsum(a,s,n,r)},{permutedX:a},function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}});return null!=o&&(u=u.transpose(o)),u}}),la=Ft({depthToSpace_:function(t,e,n){void 0===n&&(n="NHWC");var r=Lt(t,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return m(i*e>=0,"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+e+"  for depthToSpace with input shape\n      "+r.shape),m(o*e>=0,"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+e+" for depthToSpace with input shape\n          "+r.shape),m(a%(e*e)==0,"Dimension size must be evenly divisible by "+e*e+" but is "+a+" for depthToSpace with input shape "+r.shape),ti.engine.runKernel(function(t){return t.depthToSpace(r,e,n)},{$x:r})}}),ca=Ft({expandDims_:function(t,e){void 0===e&&(e=0);var n=Lt(t,"x","expandDims");m(e<=n.rank,"Axis must be <= rank of the tensor");var r=n.shape.slice();return e<0&&(m(-(n.rank+1)<=e,"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"),e=n.rank+e+1),r.splice(e,0,1),Ea(n,r)}}),fa=Ft({eye_:function(t,e,n,r){void 0===r&&(r="float32"),null==e&&(e=t);for(var i=Mn([t,e],r),o=t<=e?t:e,a=0;a<o;++a)i.set(1,a,a);var s=i.toTensor().as2D(t,e);if(null==n)return s;if(1===n.length)return ka(ca(s,0),[n[0],1,1]);if(2===n.length)return ka(ca(ca(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return ka(ca(ca(ca(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),pa=Ft({fromPixels_:function(t,e){if(void 0===e&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");return ti.engine.fromPixels(t,e)}}),da=Ft({multinomial_:function(t,e,n,r){void 0===r&&(r=!1);var i=Lt(t,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?i.as2D(1,-1):i,u=ti.engine.runKernel(function(t){return t.multinomial(s,r,e,n)},{logits2D:s});return 1===a?u.as1D():u}}),ha=Ft({oneHot_:function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=0);var i=Lt(t,"indices","oneHot","int32");if(e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);return ti.engine.runKernel(function(t){return t.oneHot(i,e,n,r)},{$indices:i},function(t){return{$indices:function(){return Kt(i.shape,"float32")}}})}}),ma=Ft({pad_:function(t,e,n){void 0===n&&(n=0);var r=Lt(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i=e.map(function(t){return t[0]});return ti.engine.runKernel(function(t){return t.pad(r,e,n)},{$x:r},function(t){return{$x:function(){return t.slice(i,r.shape)}}})}}),ga=Ft({pad1d_:function(t,e,n){return void 0===n&&(n=0),m(2===e.length,"Invalid number of paddings. Must be length of 2."),ma(t,[e],n)}}),va=Ft({pad2d_:function(t,e,n){return void 0===n&&(n=0),m(2===e.length&&2===e[0].length&&2===e[1].length,"Invalid number of paddings. Must be length of 2 each."),ma(t,e,n)}}),ya=Ft({pad3d_:function(t,e,n){return void 0===n&&(n=0),m(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,"Invalid number of paddings. Must be length of 2 each."),ma(t,e,n)}}),ba=Ft({pad4d_:function(t,e,n){return void 0===n&&(n=0),m(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,"Invalid number of paddings. Must be length of 2 each."),ma(t,e,n)}}),_a=Ft({rand_:function(t,e,n){var r=b(t),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var o=0;o<r;o++)i[o]=e();return Lr.make(t,{values:i},n)}}),wa=Ft({randomNormal_:function(t,e,n,r,i){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new ia(e,n,r,!1,i),a=Mn(t,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),xa=Ft({randomUniform_:function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var i=Mn(t,r),o=0;o<i.values.length;o++)i.values[o]=h(e,n);return i.toTensor()}}),Ea=Ft({reshape_:function(t,e){var n=Lt(t,"x","reshape",null);return e=O(e,n.size),m(n.size===b(e),"new shape and old shape must have the same number of elements."),ti.engine.runKernel(function(t){return t.reshape(n,e)},{$x:n},function(t){return{$x:function(){return t.reshape(n.shape)}}})}}),Ca=Ft({spaceToBatchND_:function(t,e,n){var r=Lt(t,"x","spaceToBatchND");return m(r.rank>=1+e.length,"input rank "+r.rank+" should be > than [blockShape] "+e.length),m(n.length===e.length,"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+e.length),m(r.shape.reduce(function(t,r,i){return i>0&&i<=e.length?t&&(r+n[i-1][0]+n[i-1][1])%e[i-1]==0:t},!0),"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+e.toString()),ti.engine.runKernel(function(t){return t.spaceToBatchND(r,e,n)},{$x:r},function(t){return{$x:function(){return t.batchToSpaceND(e,n)}}})}}),Sa=Ft({squeeze_:function(t,e){var n=Lt(t,"x","squeeze");return Ea(n,k(n.shape,e).newShape)}}),Oa=Ft({stack_:function(t,e){void 0===e&&(e=0);var n=zt(t,"tensors","stack");if(m(n.length>=1,"Pass at least one tensor to tf.stack"),1===n.length)return n[0].expandDims(e);var r=n[0].shape,i=n[0].dtype;m(e<=n[0].rank,"Axis must be <= rank of the tensor"),n.forEach(function(t){g(r,t.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(t){m(i===t.dtype,"All tensors passed to stack must have matching dtypes")});var o=n.map(function(t){return t.expandDims(e)});return qo(o,e)}}),ka=Ft({tile_:function(t,e){var n=Lt(t,"x","tile");return m(n.rank===e.length,"Error in transpose: rank of input "+n.rank+" must match length of reps "+e+"."),ti.engine.runKernel(function(t){return t.tile(n,e)},{$x:n},function(t){return{$x:function(){var r=hi(n);if(1===n.rank)for(var i=0;i<e[0];++i)r=r.add(t.slice([i*n.shape[0]],[n.shape[0]]));else if(2===n.rank)for(i=0;i<e[0];++i)for(var o=0;o<e[1];++o)r=r.add(t.slice([i*n.shape[0],o*n.shape[1]],[n.shape[0],n.shape[1]]));else if(3===n.rank)for(i=0;i<e[0];++i)for(o=0;o<e[1];++o)for(var a=0;a<e[2];++a)r=r.add(t.slice([i*n.shape[0],o*n.shape[1],a*n.shape[2]],[n.shape[0],n.shape[1],n.shape[2]]));else{if(4!==n.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+n.rank+" tensors yet.");for(i=0;i<e[0];++i)for(o=0;o<e[1];++o)for(a=0;a<e[2];++a)for(var s=0;s<e[3];++s)r=r.add(t.slice([i*n.shape[0],o*n.shape[1],a*n.shape[2],s*n.shape[3]],[n.shape[0],n.shape[1],n.shape[2],n.shape[3]]))}return r}}})}}),Ta=Ft({truncatedNormal_:function(t,e,n,r,i){if(void 0===e&&(e=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var o=new ia(e,n,r,!0,i),a=Mn(t,r),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),Pa=Ft({unstack_:function(t,e){void 0===e&&(e=0);for(var n,r=Lt(t,"x","unstack"),i=r.shape[e],o=Array(r.rank-1).fill(0),a=0,s=0;s<r.rank;s++)s!==e&&(o[a]=r.shape[s],a++);n=Array(i).fill(1);var u=Array(r.rank).fill(0),l=r.shape.slice();return n.map(function(t){l[e]=t;var n=r.slice(u,l);return u[e]+=t,n.reshape(o)})}}),Na=function(t,e){return s(this,void 0,void 0,function(){var n,r,i,o,a,s,l,c,f,p;return u(this,function(u){switch(u.label){case 0:return n=Lt(t,"x","setdiff1d"),r=Lt(e,"y","setdiff1d"),m(n.dtype===r.dtype,"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."),m(1===n.rank,"x should be 1D tensor, but got x ("+n.shape+")."),m(1===r.rank,"y should be 1D tensor, but got y ("+r.shape+")."),[4,n.data()];case 1:return i=u.sent(),[4,r.data()];case 2:for(o=u.sent(),a=new Set(o),s=0,f=0;f<i.length;f++)a.has(i[f])||s++;for(l=new Dr([s],n.dtype),c=new Dr([s],"int32"),f=0,p=0;f<i.length;f++)a.has(i[f])||(l.values[p]=i[f],c.values[p]=f,p++);return[2,[l.toTensor(),c.toTensor()]]}})})},Ia=300,Aa=function(){function t(t,e){if(void 0===e&&(e=!0),this.gpgpu=t,this.delayedStorage=e,this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.lruDataGPU=[],this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.binaryCache={},this.disposed=!1,ti.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");if(null==t){var n=l(ti.get("WEBGL_VERSION"));this.gpgpu=new io(n),this.canvas=n.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpuCreatedLocally=!1,this.canvas=t.gl.canvas;ti.get("WEBGL_PAGING_ENABLED")&&(this.NUM_BYTES_BEFORE_PAGING=window.screen.height*window.screen.width*window.devicePixelRatio*Ia),this.textureManager=new Po(this.gpgpu)}return t.prototype.register=function(t,e,n){if(this.texData.has(t))throw new Error("Data buffer is already registered");this.texData.set(t,{shape:e,dtype:n})},t.prototype.setDataMover=function(t){this.texData=new mi(t)},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.fromPixels() can not be null");var n=[t.height,t.width],r=[t.height,t.width,e];if(!(t instanceof HTMLVideoElement||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+t.constructor.name);if(t instanceof HTMLVideoElement){if(null==this.fromPixels2DContext){if(!ti.get("IS_BROWSER"))throw new Error("Can't read pixels from HTMLImageElement outside the browser.");if("complete"!==document.readyState)throw new Error("The DOM is not ready yet. Please call tf.fromPixels() once the DOM is ready. One way to do that is to add an event listener for `DOMContentLoaded` on the document object");this.fromPixels2DContext=document.createElement("canvas").getContext("2d")}this.fromPixels2DContext.canvas.width=t.width,this.fromPixels2DContext.canvas.height=t.height,this.fromPixels2DContext.drawImage(t,0,0,t.width,t.height),t=this.fromPixels2DContext.canvas}var i=this.makeTensorHandle(n,"int32");this.texData.get(i.dataId).usage=Kr.PIXELS,this.gpgpu.uploadPixelDataToTexture(this.getTexture(i.dataId),t);var o=new Zi(r),a=this.compileAndRun(o,[i]);return this.disposeData(i.dataId),a},t.prototype.makeTensorHandle=function(t,e){var n={};return this.register(n,t,e),{dataId:n,shape:t,dtype:e}},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendWebGL.write(): values can not be null");var n=this.texData.get(t),r=n.texture,i=n.texShape,o=n.usage,a=n.isPacked;if("complex64"===n.dtype)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");null!=r&&(this.releaseTexture(t,r,i,o,a),n.texture=null,n.texShape=null),n.usage=Kr.UPLOAD,n.values=e,this.delayedStorage||this.uploadToGPU(t)},t.prototype.readSync=function(t){var e=this.texData.get(t),n=e.values,r=e.dtype,i=e.complexTensors;if(null!=n)return this.convertAndCacheOnCPU(t);if("string"===r)return n;var o,a,s=null!=this.activeTimers;return s&&(o=performance.now()),a="complex64"===r?ee(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(t),s&&(this.downloadWaitMs+=performance.now()-o),this.convertAndCacheOnCPU(t,a)},t.prototype.read=function(t){return s(this,void 0,void 0,function(){var e,n,r,i,o,a,s,l,c,f,p,d,h,m,g,v,y,b;return u(this,function(u){switch(u.label){case 0:if(this.pendingRead.has(t))return r=this.pendingRead.get(t),[2,new Promise(function(t){return r.push(t)})];if(i=this.texData.get(t),o=i.texture,a=i.values,s=i.texShape,l=i.isPacked,c=i.shape,null!=a)return[2,this.convertAndCacheOnCPU(t)];if(this.pendingRead.set(t,[]),!ti.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===ti.get("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return f=s[1],p=s[0],l&&(e=Se(s[0],s[1]),f=e[0],p=e[1]),d=this.gpgpu.maybeCreateBufferFromTexture(o,p,f),[4,this.gpgpu.createAndWaitForFence()];case 1:return u.sent(),d instanceof WebGLTexture?h=this.getValuesFromTexture(t):l?(m=this.getBatchDim(c),g=1,v=1,c.length&&(n=this.getRowsCols(c),g=n[0],v=n[1]),h=this.gpgpu.downloadPackedMatrixFromBuffer(d,m,g,v,s[0],s[1])):h=this.gpgpu.downloadFloat32MatrixFromBuffer(d,s[0],s[1]),y=this.convertAndCacheOnCPU(t,h),b=this.pendingRead.get(t),this.pendingRead.delete(t),b.forEach(function(t){return t(y)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)),[2,y]}})})},t.prototype.getValuesFromTexture=function(t){var e,n=this.texData.get(t),r=n.shape,i=n.dtype,o=n.texture,a=n.texShape;if(ti.get("WEBGL_DOWNLOAD_FLOAT_ENABLED")){if(this.texData.get(t).isPacked){var s=this.getBatchDim(r),u=1,l=1;return r.length&&(u=(e=this.getRowsCols(r))[0],l=e[1]),this.gpgpu.downloadMatrixFromPackedTexture(o,s,u,l,a[0],a[1])}return this.gpgpu.downloadFloat32MatrixFromOutputTexture(o,a[0],a[1])}var c=this.makeTensorHandle(r,"float32");c.size=b(r),this.texData.get(c.dataId).usage=Kr.DOWNLOAD;var f=new $i(r);this.compileAndRun(f,[{shape:r,dtype:i,dataId:t}],c,null,!1);var p=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(p.texture,p.texShape[0],p.texShape[1]);return this.disposeData(c.dataId),d},t.prototype.time=function(t){return s(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:return e=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,t(),i=y(this.activeTimers.map(function(t){return t.query})).filter(function(t){return null!=t}),o=y(this.activeTimers.map(function(t){return t.name})).filter(function(t){return null!=t}),this.activeTimers=e,r&&(this.programTimersStack=null),[4,Promise.all(i)];case 1:return a=u.sent(),s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:d(a),getExtraProfileInfo:function(){return a.map(function(t,e){return{name:o[e],ms:t}}).map(function(t){return t.name+": "+t.ms}).join(", ")},wallMs:null},this.uploadWaitMs=0,this.downloadWaitMs=0,[2,s]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?this.gpgpu.beginQuery():{startMs:performance.now(),endMs:null}},t.prototype.endTimer=function(t){return ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(this.gpgpu.endQuery(),t):(t.endMs=performance.now(),t)},t.prototype.getQueryTime=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){return ti.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(e=t).endMs-e.startMs]})})},t.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t))if(this.pendingRead.has(t))this.pendingDisposal.add(t);else if(this.texData.has(t)){var e=this.texData.get(t),n=e.texture,r=e.complexTensors;null!=n&&this.releaseTexture(t,n,e.texShape,e.usage,e.isPacked),null!=r&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(t)}},t.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},t.prototype.getCPUBackend=function(){return ti.get("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=ti.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(t,e){var n=this;return void 0===e&&(e=10),null!=this.getCPUBackend()&&t.every(function(t){return null==n.texData.get(t.dataId).texture&&t.size<e})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.getCanvas=function(){return this.canvas},t.prototype.complex=function(t,e){var n=this.makeOutputArray(t.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:ti.engine.keep(t.clone()),imag:ti.engine.keep(e.clone())},n},t.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},t.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},t.prototype.slice=function(t,e,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,e,n);var r=new ko(n),i=r.getCustomSetupFunc(e);return this.compileAndRun(r,[t],null,i)},t.prototype.stridedSlice=function(t,e,n,r,i,o,a,s,u){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,e,n,r,i,o,a,s,u);var l=Mt(t.shape,e,n,r,i,o,a,s,u),c=l[0],f=l[1],p=l[2],d=f.filter(function(t,e){return-1===p.indexOf(e)});if(d.some(function(t){return 0===t}))return Bt([],d);var h=new To(c,r,f,p);return this.compileAndRun(h,[t])},t.prototype.reverse=function(t,e){var n=new Eo(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.concat2Tensors=function(t,e,n){var r=Tt([t.shape,e.shape],n),i=t.as2D(-1,b(t.shape.slice(n))),o=e.as2D(-1,b(e.shape.slice(n))),a=new Ti(i.shape,o.shape);return this.compileAndRun(a,[i,o]).reshape(r)},t.prototype.concat=function(t,e){if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,e);if(1===t.length)return t[0];for(var n=t[0],r=1;r<t.length;++r)n=this.concat2Tensors(n,t[r],e);return n},t.prototype.neg=function(t){var e=new Do(t.shape,"return -x;");return this.compileAndRun(e,[t])},t.prototype.batchMatMul=function(t,e,n,r){var i=n?t.shape[2]:t.shape[1],o=r?e.shape[1]:e.shape[2],a=n?t.shape[1]:t.shape[2],s=t.shape[0];if((1===i||1===o)&&a>1e3){n&&(t=t.transpose([0,2,1])),r&&(e=e.transpose([0,2,1]));var u=1===o?t:t.as3D(s,a,1),l=1===o?2:1,c=1===o?e.as3D(s,1,a):e;return this.multiply(u,c).sum(l,!0)}var f=J(t.dtype,e.dtype);if(1===s){var p=t.as2D(t.shape[1],t.shape[2]),d=e.as2D(e.shape[1],e.shape[2]),h=new co(p.shape,d.shape,[i,o],n,r),m=this.makePackedTensor(h.outputShape,f),g=this.compileAndRun(h,[p,d],m);return g.reshape([1,g.shape[0],g.shape[1]])}return h=new lo(t.shape,e.shape,n,r),m=this.makeOutputArray(h.outputShape,f),this.compileAndRun(h,[t,e],m)},t.prototype.multiply=function(t,e){if("complex64"===t.dtype){var n=this.texData.get(t.dataId),r=this.texData.get(e.dataId),i=new Ei(wi,t.shape,e.shape),o=new Ei(xi,t.shape,e.shape),a=[this.makeComplexComponentTensorHandle(t,n.complexTensors.real),this.makeComplexComponentTensorHandle(t,n.complexTensors.imag),this.makeComplexComponentTensorHandle(e,r.complexTensors.real),this.makeComplexComponentTensorHandle(e,r.complexTensors.imag)],s=this.compileAndRun(i,a),u=this.compileAndRun(o,a),l=this.complex(s,u);return s.dispose(),u.dispose(),l}if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.multiply(t,e);var c=new Ci("return a * b;",t.shape,e.shape),f=this.makeOutputArray(c.outputShape,t.dtype);return this.compileAndRun(c,[t,e],f)},t.prototype.batchNormalization=function(t,e,n,r,i,o){var a=[t,e,n],s=null;null!=o&&(s=o.shape,a.push(o));var u=null;if(null!=i&&(u=i.shape,a.push(i)),ti.get("WEBGL_PACK_BATCHNORMALIZATION")){var l=new _i(t.shape,e.shape,n.shape,s,u,r);return this.compileAndRun(l,a)}var c=new bi(t.shape,e.shape,n.shape,s,u,r);return this.compileAndRun(c,a)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){var o=new ao(t.shape,e,n,r,i);return this.compileAndRun(o,[t])},t.prototype.LRNGrad=function(t,e,n,r,i,o,a){var s=new so(e.shape,r,i,o,a);return this.compileAndRun(s,[e,n,t])},t.prototype.tile=function(t,e){var n=new No(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.pad=function(t,e,n){var r=new mo(t.shape,e,n);return this.compileAndRun(r,[t])},t.prototype.transpose=function(t,e){var n=new Io(t.shape,e);return this.compileAndRun(n,[t])},t.prototype.gather=function(t,e,n){var r=new Ji(t.shape,e.size,n);return this.compileAndRun(r,[t,e])},t.prototype.batchToSpaceND=function(t,e,n){m(t.rank<=4,"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");var r=e.reduce(function(t,e){return t*e}),i=mt(t.shape,e,r),o=gt(i.length,e.length),a=vt(t.shape,e,r),s=yt(n,e.length),u=bt(a,n,e.length);return t.reshape(i).transpose(o).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(t,e,n){m(t.rank<=4,"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");var r=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,n);for(var o=1+e.length;o<t.shape.length;++o)i.push([0,0]);var a=t.pad(i),s=mt(a.shape,e,r,!1),u=gt(s.length,e.length,!1),l=vt(a.shape,e,r,!1);return a.reshape(s).transpose(u).reshape(l)},t.prototype.reduce=function(t,e,n){var r=t.shape[0],i=t.shape[1],o=Nt(i),a=new vo({windowSize:o,inSize:i,batchSize:r},e),s=a.outputShape,u=this.makeOutputArray([s[0],s[1]],n);return this.compileAndRun(a,[t],u),1===u.shape[1]?u:this.reduce(u,e,n)},t.prototype.argReduce=function(t,e,n){void 0===n&&(n=null);var r=t.shape[0],i=t.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var o=Nt(i),a=new vi({windowSize:o,inSize:i,batchSize:r},e,null==n),s=a.outputShape,u=this.makeOutputArray([s[0],s[1]],"int32"),l=[t];return null!=n&&l.push(n),this.compileAndRun(a,l,u),1===u.shape[1]?u:this.argReduce(t,e,u)},t.prototype.sum=function(t,e){Ct("sum",e,t.rank);var n=wt(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i),a=Q(t.dtype);return this.reduce(o,"sum",a).reshape(r)},t.prototype.prod=function(t,e){var n=wt(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i),a=Q(t.dtype);return this.reduce(o,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(t,e,n){var r=0,i=St([r],t.rank),o=t;null!=i&&(o=t.transpose(i),r=kt(1,t.rank)[0]);var a=function(t,e,n){for(var r=[],i=t.length,o=0;o<i;o++)r.push(o!==e?t[o]:n);return r}(o.shape,r,n),s=b([o.shape[r]]),u=o.as2D(-1,s),l=Q(t.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",e,l,n).reshape(a);return null!=i&&(c=c.transpose(Ot(i))),c},t.prototype.segOpCompute=function(t,e,n,r,i){var o=t.shape[0],a=t.shape[1],s=function(t,e){var n,r=!1;for(t<=si?(n=t,r=!0):n=V(t,Math.floor(Math.sqrt(t)));!r;){if(n>e||n===t){r=!0;break}n=V(t,n+1)}return n}(a,i),u=new So({windowSize:s,inSize:a,batchSize:o,numSegments:i},e),l=u.outputShape,c=this.makeOutputArray([l[0],l[1]],r);return this.compileAndRun(u,[t,n],c),c.shape[1]===i?c:(n=Jt(0,i).tile([a/s]),this.segOpCompute(c,e,n,r,i))},t.prototype.argMin=function(t,e){var n=[e];Ct("argMin",n,t.rank);var r=wt(t.shape,n),i=r[0],o=b(r[1]),a=t.as2D(-1,o);return this.argReduce(a,"min").reshape(i)},t.prototype.argMax=function(t,e){var n=[e];Ct("argMax",n,t.rank);var r=wt(t.shape,n),i=r[0],o=b(r[1]),a=t.as2D(-1,o);return this.argReduce(a,"max").reshape(i)},t.prototype.cumsum=function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+e);var i=new Hi(t.shape,n,r);return this.compileAndRun(i,[t])},t.prototype.equal=function(t,e){var n=new Ci("return float(a == b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.notEqual=function(t,e){var n=new Ci("return float(a != b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.less=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.less(t,e);var n=new Ci("return float(a < b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.lessEqual=function(t,e){var n=new Ci("return float(a <= b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greater=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.greater(t,e);var n=new Ci("return float(a > b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.greaterEqual=function(t,e){var n=new Ci("return float(a >= b);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalNot=function(t){var e=new Do(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(e,[t])},t.prototype.logicalAnd=function(t,e){var n=new Ci("return float(a >= 1.0 && b >= 1.0);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.logicalOr=function(t,e){var n=new Ci("return float(a >= 1.0 || b >= 1.0);",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[t,e],r)},t.prototype.select=function(t,e,n){var r=new Oo(t.rank,e.shape,e.rank),i=this.makeOutputArray(r.outputShape,J(e.dtype,n.dtype));return this.compileAndRun(r,[t,e,n],i)},t.prototype.where=function(t){ht("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var e=t.dataSync();return Rn(t.shape,e)},t.prototype.topk=function(t,e,n){return se(t.dataSync(),t.shape,t.dtype,e)},t.prototype.min=function(t,e){Ct("min",e,t.rank);var n=wt(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"min",o.dtype).reshape(r)},t.prototype.minimum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.minimum(t,e);var n=new Ci("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return min(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.mod=function(t,e){var n=new Ci("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,e.shape),r=n.getCustomSetupFunc();return this.compileAndRun(n,[t,e],null,r)},t.prototype.max=function(t,e){Ct("max",e,t.rank);var n=wt(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"max",o.dtype).reshape(r)},t.prototype.maximum=function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.maximum(t,e);var n=new Ci("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return max(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.all=function(t,e){Ct("all",e,t.rank);var n=wt(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"all",o.dtype).reshape(r)},t.prototype.any=function(t,e){Ct("any",e,t.rank);var n=wt(t.shape,e),r=n[0],i=b(n[1]),o=t.as2D(-1,i);return this.reduce(o,"any",o.dtype).reshape(r)},t.prototype.squaredDifference=function(t,e){var n=new Ci("return (a - b) * (a - b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.realDivide=function(t,e){var n=new Ci("if (a == b) return 1.0;\n  return a / b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t,e],r)},t.prototype.floorDiv=function(t,e){var n=new Ci("\n  float resultSign = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  int result = ia / ib;\n  int amodb = ia - ib * result;\n\n  if (resultSign < 0.0 && amodb != 0) {\n    result -= 1;\n  }\n  return float(result);\n",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,"int32");return this.compileAndRun(n,[t,e],r)},t.prototype.add=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,"return a + b;");var n=new Ci("return a + b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,J(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.complexSeparableBinaryOp=function(t,e,n){var r=this,i=this.texData.get(t.dataId),o=this.texData.get(e.dataId),a=[[i.complexTensors.real,o.complexTensors.real],[i.complexTensors.imag,o.complexTensors.imag]].map(function(i){var o=i[0],a=i[1],s=new Ci(n,t.shape,e.shape),u=r.makeOutputArray(s.outputShape,J(o.dtype,a.dtype)),l=r.makeComplexComponentTensorHandle(t,o),c=r.makeComplexComponentTensorHandle(e,a);return r.compileAndRun(s,[l,c],u)}),s=a[0],u=a[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},t.prototype.makeComplexComponentTensorHandle=function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}},t.prototype.addN=function(t){for(var e=t[0],n=1;n<t.length;n++)e=this.add(e,t[n]);return e},t.prototype.subtract=function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,"return a - b;");if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.subtract(t,e);var n=new Ci("return a - b;",t.shape,e.shape),r=this.makeOutputArray(n.outputShape,J(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],r)},t.prototype.pow=function(t,e){var n=new Ci("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nreturn (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,e.shape),r=n.getCustomSetupFunc(),i=this.makeOutputArray(n.outputShape,J(t.dtype,e.dtype));return this.compileAndRun(n,[t,e],i,r)},t.prototype.ceil=function(t){var e=new Do(t.shape,"return ceil(x);");return this.compileAndRun(e,[t])},t.prototype.floor=function(t){var e=new Do(t.shape,"return floor(x);");return this.compileAndRun(e,[t])},t.prototype.sign=function(t){var e=new Do(t.shape,"\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(e,[t])},t.prototype.round=function(t){var e=new Do(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(e,[t])},t.prototype.exp=function(t){var e=new Do(t.shape,"return exp(x);");return this.compileAndRun(e,[t])},t.prototype.expm1=function(t){var e=new Do(t.shape,"return exp(x) - 1.0;");return this.compileAndRun(e,[t])},t.prototype.log=function(t){var e=new Do(t.shape,"if (x < 0.0) return NAN;\n  return log(x);"),n=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,n)},t.prototype.log1p=function(t){var e=new Do(t.shape,"return log(1.0 + x);");return this.compileAndRun(e,[t])},t.prototype.sqrt=function(t){var e=new Do(t.shape,"return sqrt(x);");return this.compileAndRun(e,[t])},t.prototype.rsqrt=function(t){var e=new Do(t.shape,"return inversesqrt(x);");return this.compileAndRun(e,[t])},t.prototype.square=function(t){var e=new Do(t.shape,"return x * x;");return this.compileAndRun(e,[t])},t.prototype.reciprocal=function(t){var e=new Do(t.shape,"return 1.0 / x;");return this.compileAndRun(e,[t])},t.prototype.relu=function(t){var e=new Do(t.shape,jo);return this.compileAndRun(e,[t])},t.prototype.elu=function(t){var e=new Do(t.shape,"return (x >= 0.0) ? x : (exp(x) - 1.0);");return this.compileAndRun(e,[t])},t.prototype.eluDer=function(t,e){var n=new Ci("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.selu=function(t){var e=new Do(t.shape,Lo);return this.compileAndRun(e,[t])},t.prototype.int=function(t){var e=new Do(t.shape,"return float(int(x));"),n=this.makeOutputArray(e.outputShape,"int32");return this.compileAndRun(e,[t],n)},t.prototype.clip=function(t,e,n){var r;return r=ti.get("WEBGL_PACK_CLIP")?new Oi(t.shape,e,n):new Si(t.shape,e,n),this.compileAndRun(r,[t])},t.prototype.abs=function(t){var e=new Do(t.shape,"return abs(x);");return this.compileAndRun(e,[t])},t.prototype.complexAbs=function(t){var e=this.texData.get(t.dataId),n=new ki(t.shape),r=[this.makeComplexComponentTensorHandle(t,e.complexTensors.real),this.makeComplexComponentTensorHandle(t,e.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(t){var e=new Do(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(e,[t])},t.prototype.softplus=function(t){var e=new Do(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(e,[t])},t.prototype.sin=function(t){var e=new Do(t.shape,zo);return this.compileAndRun(e,[t])},t.prototype.cos=function(t){var e=new Do(t.shape,Fo);return this.compileAndRun(e,[t])},t.prototype.tan=function(t){var e=new Do(t.shape,"return tan(x);");return this.compileAndRun(e,[t])},t.prototype.asin=function(t){var e=new Do(t.shape,"return asin(x);");return this.compileAndRun(e,[t])},t.prototype.acos=function(t){var e=new Do(t.shape,"return acos(x);");return this.compileAndRun(e,[t])},t.prototype.atan=function(t){var e=new Do(t.shape,Bo);return this.compileAndRun(e,[t])},t.prototype.atan2=function(t,e){var n=new Ci("\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n\n  return atan(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])},t.prototype.sinh=function(t){var e=new Do(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},t.prototype.cosh=function(t){var e=new Do(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])},t.prototype.tanh=function(t){var e=new Do(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(e,[t])},t.prototype.asinh=function(t){var e=new Do(t.shape,"return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(e,[t])},t.prototype.acosh=function(t){var e=new Do(t.shape,Vo),n=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,n)},t.prototype.atanh=function(t){var e=new Do(t.shape,Uo),n=e.getCustomSetupFunc();return this.compileAndRun(e,[t],null,n)},t.prototype.erf=function(t){var e=new Do(t.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n');return this.compileAndRun(e,[t])},t.prototype.step=function(t,e){var n=new Do(t.shape,function(t){return void 0===t&&(t=0),Ro+"\n    return x > 0.0 ? 1.0 : float("+t+");\n  "}(e));return this.compileAndRun(n,[t])},t.prototype.conv2dWithIm2Row=function(t,e,n){var r=n.outWidth,i=n.outHeight,o=n.filterWidth*n.filterHeight*n.inChannels,a=i*r,s=[o,a],u=t.squeeze([0]),l=e.reshape([o,-1]),c=new oo(s,u.shape,n),f=this.compileAndRun(c,[u]),p=new co(f.shape,l.shape,[a,n.outChannels],!0,!1);return this.compileAndRun(p,[f,l]).reshape([1,i,r,n.outChannels])},t.prototype.conv2d=function(t,e,n){if(ti.get("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,e,n);var r=new Ri(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerInput=function(t,e,n){var r=new Ni(n);return this.compileAndRun(r,[t,e])},t.prototype.conv2dDerFilter=function(t,e,n){var r=new Pi(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2D=function(t,e,n){var r;return ti.get("WEBGL_PACK_DEPTHWISECONV")&&1===n.dilationWidth&&1===n.dilationHeight&&n.padInfo.left<=1&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new zi(n),this.compileAndRun(r,[t,e],this.makePackedTensor(n.outShape,t.dtype))):(r=new Li(n),this.compileAndRun(r,[t,e]))},t.prototype.depthwiseConv2DDerInput=function(t,e,n){var r=new Di(n);return this.compileAndRun(r,[t,e])},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){var r=new Mi(n);return this.compileAndRun(r,[t,e])},t.prototype.conv3d=function(t,e,n){var r=new ji(n);return this.compileAndRun(r,[t,e])},t.prototype.conv3dDerInput=function(t,e,n){var r=new Ai(n);return this.compileAndRun(r,[t,e])},t.prototype.conv3dDerFilter=function(t,e,n){var r=new Ii(n);return this.compileAndRun(r,[t,e])},t.prototype.maxPool=function(t,e){var n=new go(e,"max",!1),r=this.makeOutputArray(n.outputShape,t.dtype);return this.compileAndRun(n,[t],r)},t.prototype.avgPool=function(t,e){var n=new go(e,"avg",!1),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[t],r)},t.prototype.maxPoolBackprop=function(t,e,n,r){var i=new go(r,"max",!0),o=this.compileAndRun(i,[e]),a=new uo(r),s=this.makeOutputArray(a.outputShape,e.dtype),u=this.compileAndRun(a,[t,o],s);return o.dispose(),u},t.prototype.avgPoolBackprop=function(t,e,n){var r=new yi(n),i=this.makeOutputArray(r.outputShape,e.dtype);return this.compileAndRun(r,[t],i)},t.prototype.cast=function(t,e){return Qt(t,e,this)},t.prototype.reshape=function(t,e){return this.texData.get(t.dataId).isPacked&&!rn(t.shape,e)?this.packedReshape(t,e):te(t,e)},t.prototype.resizeBilinear=function(t,e,n,r){var i=new _o(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeBilinearBackprop=function(t,e,n){var r=new bo(t,e,n);return this.compileAndRun(r,[t])},t.prototype.resizeNearestNeighbor=function(t,e,n,r){var i=new xo(t.shape,e,n,r);return this.compileAndRun(i,[t])},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){var r=new wo(t,e,n);return this.compileAndRun(r,[t])},t.prototype.multinomial=function(t,e,n,r){var i=e?t:ui(t),o=new fo(i.shape[0],i.shape[1],n),a=this.makeOutputArray(o.outputShape,"int32"),s=o.getCustomSetupFunc(r);return this.compileAndRun(o,[i],a,s)},t.prototype.oneHot=function(t,e,n,r){var i=new po(t.size,e,n,r);return this.compileAndRun(i,[t])},t.prototype.nonMaxSuppression=function(t,e,n,r,i){return ht("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),oe(t.dataSync(),e.dataSync(),n,r,i)},t.prototype.cropAndResize=function(t,e,n,r,i,o){var a=new Fi(t.shape,e.shape,r,i,o);return this.compileAndRun(a,[t,e,n])},t.prototype.depthToSpace=function(t,e,n){m(e>1,"blockSize should be > 1 for depthToSpace, but was: "+e);var r=t.shape[0],i=("NHWC"===n?t.shape[1]:t.shape[2])*e,o=("NHWC"===n?t.shape[2]:t.shape[3])*e,a=("NHWC"===n?t.shape[3]:t.shape[1])/(e*e),s=new Gi("NHWC"===n?[r,i,o,a]:[r,a,i,o],e,n);return this.compileAndRun(s,[t])},t.prototype.split=function(t,e,n){return ae(t,e,n)},t.prototype.scatterND=function(t,e,n){var r=At(0,t,n),i=r.sliceRank,o=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,l=[u/a,a],c=t.reshape([o,i]),f=e.reshape([o,a]);if(0===u)return te(Bt([]),n);var p=Vt(0),d=new Co(o,i,c.rank,f.rank,s,l);return this.compileAndRun(d,[f,c,p]).reshape(n)},t.prototype.sparseToDense=function(t,e,n,r){var i=At(0,t,n),o=new Co(i.numUpdates,i.sliceRank,t.rank,e.rank,i.strides,[i.outputSize,1],!1);return this.compileAndRun(o,[e,t,r]).reshape(n)},t.prototype.fft=function(t){return this.fftImpl(t,!1)},t.prototype.ifft=function(t){return this.fftImpl(t,!0)},t.prototype.fftImpl=function(t,e){var n=this.texData.get(t.dataId),r=new Xi(Yi,t.shape,e),i=new Xi(Ki,t.shape,e),o=[this.makeComplexComponentTensorHandle(t,n.complexTensors.real),this.makeComplexComponentTensorHandle(t,n.complexTensors.imag)],a=this.compileAndRun(r,o),s=this.compileAndRun(i,o),u=this.complex(a,s).as2D(t.shape[0],t.shape[1]);return a.dispose(),s.dispose(),u},t.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],i=Pt(t,e),o=i[0],a=i[1],s=i[2],u=i[3],l=e.reshape([a,r]),c=t.reshape([t.size/s,s]),f=new Qi(r,u,[a,s]);return this.compileAndRun(f,[c,l]).reshape(o)},t.prototype.makeOutputArray=function(t,e){return Lr.make(t,{},e)},t.prototype.makePackedTensor=function(t,e){var n=Lr.make(t,{},e);return this.texData.get(n.dataId).isPacked=!0,n},t.prototype.unpackTensor=function(t){var e=new Wo(t.shape);return this.compileAndRun(e,[t],Lr.make(e.outputShape,{},t.dtype))},t.prototype.getBatchDim=function(t,e){return void 0===e&&(e=2),b(t.slice(0,t.length-e))},t.prototype.getRowsCols=function(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]},t.prototype.packedReshape=function(t,e){var n=t.reshape([this.getBatchDim(t.shape)].concat(this.getRowsCols(t.shape))),r=[this.getBatchDim(e)].concat(this.getRowsCols(e)),i=new yo(r,n.shape);return this.compileAndRun(i,[n]).reshape(e)},t.prototype.compileAndRun=function(t,e,n,r,i){var o=this;if(void 0===i&&(i=!0),null==n&&(n=t.usesPackedTextures?this.makePackedTensor(t.outputShape,e[0].dtype):this.makeOutputArray(t.outputShape,e[0].dtype)),0===n.size)return this.texData.get(n.dataId).values=T(n.dtype,0),n;var a=e.map(function(e){if("complex64"===e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=o.texData.get(e.dataId);if(null==n.texture){if(!t.usesPackedTextures&&b(e.shape)<=ti.get("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:e.shape,texData:null,isUniform:!0,uniformValues:o.readSync(e.dataId)};t.usesPackedTextures&&(n.isPacked=!0,n.shape=e.shape)}else if(!!n.isPacked!=!!t.usesPackedTextures){var r=void 0,i=void 0;n.isPacked?(r=new Wo(e.shape),i=o.compileAndRun(r,[e],Lr.make(r.outputShape,{},e.dtype))):(r=new ho(e.shape),i=o.compileAndRun(r,[e],o.makePackedTensor(e.shape,e.dtype))),n=o.texData.get(i.dataId),e=i}else if(n.isPacked&&!rn(n.shape,e.shape)){o.delayedStorage=!1;var a=e.dataSync();o.delayedStorage=!0,e=Lr.make(e.shape,{values:a},e.dtype),(n=o.texData.get(e.dataId)).isPacked=!0}return o.uploadToGPU(e.dataId),{shape:e.shape,texData:n,isUniform:!1}});this.uploadToGPU(n.dataId);var s,u={shape:n.shape,texData:this.texData.get(n.dataId),isUniform:!1},l=function(t,e,n){var r="";e.concat(n).forEach(function(t){r+=t.shape+"_"+(t.isUniform?"uniform":t.texData.texShape)});var i=t.userCode,o=(!0===t.supportsBroadcasting).toString(),a=t.constructor.name;return a+="_"+o+"_"+r+"_"+i}(t,a,u),c=this.getAndSaveBinary(l,function(){return function(t,e,n,r){for(var i=e.userCode,o=n.map(function(t,n){return{name:e.variableNames[n],shapeInfo:{logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform,isPacked:!t.isUniform&&t.texData.isPacked}}}),a=o.map(function(t){return t.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked},u=me(o,s,i,!0===e.supportsBroadcasting,e.usesPackedTextures),l=t.createProgram(u),c={},f=0;f<e.variableNames.length;f++){var p=e.variableNames[f];c[p]=t.getUniformLocation(l,p,!1)}return{program:e,source:u,webGLProgram:l,uniformLocations:c,gpgpu:t,inShapeInfos:a,outShapeInfo:s}}(o.gpgpu,t,a,u)}),f=null!=this.activeTimers;if(f&&(s=this.startTimer()),function(t,e,n,r){On(t.inShapeInfos,e),On([t.outShapeInfo],[n]);var i=n.texData.texture,o=n.texData.texShape,a=t.gpgpu;n.texData.isPacked?a.setOutputPackedMatrixTexture(i,o[0],o[1]):a.setOutputMatrixTexture(i,o[0],o[1]),a.setProgram(t.webGLProgram),e.forEach(function(e,n){var r=t.uniformLocations[t.program.variableNames[n]];if(null!=r){if(e.isUniform){if(1===b(e.shape))a.gl.uniform1f(r,e.uniformValues[0]);else{var i=e.uniformValues;i instanceof Float32Array||(i=new Float32Array(i)),a.gl.uniform1fv(r,i)}return}a.setInputMatrixTexture(e.texData.texture,r,n)}}),null!=r&&r(a,t.webGLProgram),a.executeProgram()}(c,a,u,r),ti.get("WEBGL_PAGING_ENABLED")&&i&&this.numBytesInGPU>this.NUM_BYTES_BEFORE_PAGING)for(var p=this.numBytesInGPU-this.NUM_BYTES_BEFORE_PAGING;p>0&&this.lruDataGPU.length>0;){var d=this.lruDataGPU.shift(),h=this.texData.get(d);p-=this.computeBytes(h.shape,h.dtype),this.read(d)}return f&&(s=this.endTimer(s),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(s)})),ti.get("WEBGL_LAZILY_UNPACK")||!this.texData.get(n.dataId).isPacked||t.isPackShader?n:this.unpackTensor(n)},t.prototype.getAndSaveBinary=function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){if(!this.disposed){for(var t in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[t].webGLProgram);this.textureManager.dispose(),this.canvas.remove(),null!=this.fromPixels2DContext&&this.fromPixels2DContext.canvas.remove(),this.gpgpuCreatedLocally&&this.gpgpu.dispose(),this.disposed=!0}},t.prototype.floatPrecision=function(){var t=this;return ni(function(){return t.abs(Vt(1e-8)).get()>0?32:16})},t.prototype.uploadToGPU=function(t){var e,n=this.texData.get(t),r=n.shape,i=n.values,o=n.usage,a=n.isPacked;if(null==n.texture){var s,u=null!=this.activeTimers;u&&(s=performance.now());var l=en(r,a);n.texShape=l;var c=this.acquireTexture(t,l,o,a);if(n.texture=c,null!=i){if(a){var f=this.getBatchDim(r),p=1,d=1;r.length&&(p=(e=this.getRowsCols(r))[0],d=e[1]),this.gpgpu.uploadMatrixToPackedTexture(c,f,p,d,l[0],l[1],jn(i))}else this.gpgpu.uploadMatrixToTexture(c,l[0],l[1],jn(i));n.values=null,u&&(this.uploadWaitMs+=performance.now()-s)}}else ti.get("WEBGL_PAGING_ENABLED")&&this.lruDataGPU.indexOf(t)>=0&&(this.lruDataGPU.splice(this.lruDataGPU.indexOf(t),1),this.lruDataGPU.push(t))},t.prototype.convertAndCacheOnCPU=function(t,e){var n=this.delayedStorage,r=this.texData.get(t),i=r.texture,o=r.dtype;return n&&null!=i&&(this.releaseTexture(t,i,r.texShape,r.usage,r.isPacked),r.texture=null,r.texShape=null),r.usage=Kr.UPLOAD,null!=e&&(r.values=function(t,e){if("float32"===e||"complex64"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype "+e)}(e,o)),r.values},t.prototype.releaseTexture=function(t,e,n,r,i){var o=this.texData.get(t),a=o.shape,s=o.dtype;if(ti.get("WEBGL_PAGING_ENABLED")){var u=this.lruDataGPU.indexOf(t);u>=0&&this.lruDataGPU.splice(u,1)}this.numBytesInGPU-=this.computeBytes(a,s),this.textureManager.releaseTexture(e,n,r,i)},t.prototype.acquireTexture=function(t,e,n,r){var i=this.texData.get(t),o=i.shape,a=i.dtype;return ti.get("WEBGL_PAGING_ENABLED")&&this.lruDataGPU.push(t),this.numBytesInGPU+=this.computeBytes(o,a),this.textureManager.acquireTexture(e,n,r)},t.prototype.computeBytes=function(t,e){return b(t)*D(e)},t}();ti.get("IS_BROWSER")&&ti.registerBackend("webgl",function(){return new Aa},2,Z);var Ma,Da=Ft({abs_:function(t){var e=Lt(t,"x","abs");return"complex64"===e.dtype?ti.engine.runKernel(function(t){return t.complexAbs(e)},{$x:e}):ti.engine.runKernel(function(t){return t.abs(e)},{$x:e},function(t){return{$x:function(){return t.mulStrict(e.toFloat().step(-1))}}})}}),Ra=Ft({acos_:function(t){var e=Lt(t,"x","acos");return ti.engine.runKernel(function(t){return t.acos(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(Vt(1).sub(e.toFloat().square()).sqrt()).neg()}}})}}),ja=Ft({acosh_:function(t){var e=Lt(t,"x","acosh");return ti.engine.runKernel(function(t){return t.acosh(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(e.toFloat().square().sub(1).sqrt())}}})}}),La=Ft({asin_:function(t){var e=Lt(t,"x","asin");return ti.engine.runKernel(function(t){return t.asin(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(Vt(1).sub(e.toFloat().square()).sqrt())}}})}}),za=Ft({asinh_:function(t){var e=Lt(t,"x","asinh");return ti.engine.runKernel(function(t){return t.asinh(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(Vt(1).add(e.toFloat().square()).sqrt())}}})}}),Fa=Ft({atan_:function(t){var e=Lt(t,"x","atan");return ti.engine.runKernel(function(t){return t.atan(e)},{$x:e},function(t){return{$x:function(){return t.div(e.toFloat().square().add(1))}}})}}),Ba=Ft({atanh_:function(t){var e=Lt(t,"x","atanh");return ti.engine.runKernel(function(t){return t.atanh(e)},{$x:e},function(t){return{$x:function(){return t.div(Vt(1).sub(e.toFloat().square()))}}})}}),Va=Ft({ceil_:function(t){var e=Lt(t,"x","ceil");return ti.engine.runKernel(function(t){return t.ceil(e)},{$x:e},function(t){return{$x:function(){return hi(t)}}})}}),Ua=Ft({clipByValue_:function(t,e,n){var r=Lt(t,"x","clipByValue");return m(e<=n,"Error in clip: min ("+e+") must be less than or equal to max ("+n+")."),ti.engine.runKernel(function(t){return t.clip(r,e,n)},{$x:r},function(t){return{$x:function(){return t.where(r.greaterEqual(e).logicalAnd(r.lessEqual(n)),hi(t))}}})}}),Wa=Ft({cos_:function(t){var e=Lt(t,"x","cos");return ti.engine.runKernel(function(t){return t.cos(e)},{$x:e},function(t){return{$x:function(){return e.toFloat().sin().neg().mulStrict(t)}}})}}),qa=Ft({cosh_:function(t){var e=Lt(t,"x","cosh");return ti.engine.runKernel(function(t){return t.cosh(e)},{$x:e},function(t){return{$x:function(){return e.toFloat().sinh().mulStrict(t)}}})}}),Ha=Ft({erf_:function(t){var e=Lt(t,"x","erf");return m("int32"===e.dtype||"float32"===e.dtype,"Input dtype must be `int32` or `float32`."),"int32"===e.dtype&&(e=e.toFloat()),ti.engine.runKernel(function(t){return t.erf(e)},{$x:e},function(t){return{$x:function(){return t.mul(e.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),Ga=Ft({exp_:function(t){var e=Lt(t,"x","exp");return ti.engine.runKernel(function(t,n){return n(t.exp(e))},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mulStrict(n)}}})}}),$a=Ft({expm1_:function(t){var e=Lt(t,"x","expm1");return ti.engine.runKernel(function(t){return t.expm1(e)},{$x:e},function(t){return{$x:function(){return t.mulStrict(e.exp())}}})}}),Ya=Ft({floor_:function(t){var e=Lt(t,"x","floor");return ti.engine.runKernel(function(t){return t.floor(e)},{$x:e},function(t){return{$x:function(){return hi(t)}}})}}),Ka=Ft({log_:function(t){var e=Lt(t,"x","log");return ti.engine.runKernel(function(t){return t.log(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(e.toFloat())}}})}}),Xa=Ft({log1p_:function(t){var e=Lt(t,"x","log1p");return ti.engine.runKernel(function(t){return t.log1p(e)},{$x:e},function(t){return{$x:function(){return t.div(e.add(1))}}})}}),Za=Ft({logSigmoid_:function(t){var e=Lt(t,"x","logSigmoid");return ti.engine.runKernel(function(t){return t.softplus(e.neg()).neg()},{$x:e},function(t){return{$x:function(){return t.mulStrict(e.neg().sigmoid())}}})}}),Ja=Ft({neg_:function(t){var e=Lt(t,"x","neg");return ti.engine.runKernel(function(t){return t.neg(e)},{$x:e},function(t){return{$x:function(){return t.neg()}}})}}),Qa=Ft({reciprocal_:function(t){var e=Lt(t,"x","reciprocal");return ti.engine.runKernel(function(t){return t.reciprocal(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(e.square().neg())}}})}}),ts=Ft({round_:function(t){var e=Lt(t,"x","round");return ti.engine.runKernel(function(t){return t.round(e)},{$x:e},function(t){return{$x:function(){return hi(t)}}})}}),es=Ft({rsqrt_:function(t){var e=Lt(t,"x","rsqrt");return ti.engine.runKernel(function(t){return t.rsqrt(e)},{$x:e},function(t){return{$x:function(){return t.div(e.pow(1.5).mul(2)).neg()}}})}}),ns=Ft({sigmoid_:function(t){var e=Lt(t,"x","sigmoid");return ti.engine.runKernel(function(t,n){return n(t.sigmoid(e))},{$x:e},function(t,e){var n=e[0];return{$x:function(){return t.mul(n.mul(Vt(1).sub(n)))}}})}}),rs=Ft({sign_:function(t){var e=Lt(t,"x","sign");return ti.engine.runKernel(function(t){return t.sign(e)},{$x:e},function(t){return{$x:function(){return hi(t)}}})}}),is=Ft({sin_:function(t){var e=Lt(t,"x","sin");return ti.engine.runKernel(function(t){return t.sin(e)},{$x:e},function(t){return{$x:function(){return e.toFloat().cos().mulStrict(t)}}})}}),os=Ft({sinh_:function(t){var e=Lt(t,"x","sinh");return ti.engine.runKernel(function(t){return t.sinh(e)},{$x:e},function(t){return{$x:function(){return e.toFloat().cosh().mulStrict(t)}}})}}),as=Ft({softplus_:function(t){var e=Lt(t,"x","softplus");return ti.engine.runKernel(function(t){return t.softplus(e)},{$x:e},function(t){return{$x:function(){return t.mulStrict(e.sigmoid())}}})}}),ss=Ft({sqrt_:function(t){var e=Lt(t,"x","sqrt");return ti.engine.runKernel(function(t){return t.sqrt(e)},{$x:e},function(t){return{$x:function(){return t.div(e.toFloat().sqrt().mul(2))}}})}}),us=Ft({square_:function(t){var e=Lt(t,"x","square");return ti.engine.runKernel(function(t){return t.square(e)},{$x:e},function(t){return{$x:function(){return t.mul(e.toFloat().mul(2))}}})}}),ls=Ft({step_:function(t,e){void 0===e&&(e=0);var n=Lt(t,"x","step");return ti.engine.runKernel(function(t){return t.step(n,e)},{$x:n},function(t){return{$x:function(){return hi(t)}}})}}),cs=Ft({tan_:function(t){var e=Lt(t,"x","tan");return ti.engine.runKernel(function(t){return t.tan(e)},{$x:e},function(t){return{$x:function(){return t.divStrict(e.cos().square())}}})}}),fs=Ft({tanh_:function(t){var e=Lt(t,"x","tanh");return ti.engine.runKernel(function(t,n){return n(t.tanh(e))},{$x:e},function(t,e){var n=e[0];return{$x:function(){return Vt(1).sub(n.square()).mulStrict(t)}}})}}),ps=Ft({batchNormalization2d_:function(t,e,n,r,i,o){void 0===r&&(r=.001);var a,s,u=Lt(t,"x","batchNormalization"),l=Lt(e,"mean","batchNormalization"),c=Lt(n,"variance","batchNormalization");return null!=i&&(a=Lt(i,"scale","batchNormalization")),null!=o&&(s=Lt(o,"offset","batchNormalization")),m(2===u.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+u.rank+"."),m(2===l.rank||1===l.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."),m(2===c.rank||1===c.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."),null!=a&&m(2===a.rank||1===a.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."),null!=s&&m(2===s.rank||1===s.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."),ms(u,l,c,r,a,s)}}),ds=Ft({batchNormalization3d_:function(t,e,n,r,i,o){void 0===r&&(r=.001);var a,s,u=Lt(t,"x","batchNormalization"),l=Lt(e,"mean","batchNormalization"),c=Lt(n,"variance","batchNormalization");return null!=i&&(a=Lt(i,"scale","batchNormalization")),null!=o&&(s=Lt(o,"offset","batchNormalization")),m(3===u.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+u.rank+"."),m(3===l.rank||1===l.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."),m(3===c.rank||1===c.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."),null!=a&&m(3===a.rank||1===a.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."),null!=s&&m(3===s.rank||1===s.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."),ms(u,l,c,r,a,s)}}),hs=Ft({batchNormalization4d_:function(t,e,n,r,i,o){void 0===r&&(r=.001);var a,s,u=Lt(t,"x","batchNormalization"),l=Lt(e,"mean","batchNormalization"),c=Lt(n,"variance","batchNormalization");return null!=i&&(a=Lt(i,"scale","batchNormalization")),null!=o&&(s=Lt(o,"offset","batchNormalization")),m(4===u.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+u.rank+"."),m(4===l.rank||1===l.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."),m(4===c.rank||1===c.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."),null!=a&&m(4===a.rank||1===a.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."),null!=s&&m(4===s.rank||1===s.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."),ms(u,l,c,r,a,s)}}),ms=Ft({batchNormalization_:function(t,e,n,r,i,o){void 0===r&&(r=.001);var a,s,u,l=Lt(t,"x","batchNormalization"),c=Lt(e,"mean","batchNormalization"),f=Lt(n,"variance","batchNormalization");return null!=i&&(a=Lt(i,"scale","batchNormalization")),null!=o&&(s=Lt(o,"offset","batchNormalization")),m(c.rank===f.rank,"Batch normalization gradient requires mean and variance to have equal ranks."),m(null==s||c.rank===s.rank,"Batch normalization gradient requires mean and offset to have equal ranks."),m(null==a||c.rank===a.rank,"Batch normalization gradient requires mean and scale to have equal ranks."),u=0===l.rank||1===l.rank?l.as4D(1,1,1,l.size):2===l.rank?l.as4D(1,1,l.shape[0],l.shape[1]):3===l.rank?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l,ti.engine.runKernel(function(t){return t.batchNormalization(u,Ln(c),Ln(f),r,Ln(a),Ln(s))},{$x:l,$mean:c,$variance:f,$scale:a,$offset:s},function(t){var e=null==a?Vt(1):a,n=le(c.shape,u.shape),i=[];if(1===c.rank){for(var o=0;o<u.shape.length-1;++o)i.push(u.shape[o]);i.push(1)}var s=l.sub(c),p=t.mul(e),d=es(f.add(Vt(r))),h=d.mul(d).mul(d).mul(Vt(-.5));return{$x:function(){return 1===c.rank?t.mul(ka(d.as4D(1,1,1,c.shape[0]),i)).mul(e).reshape(l.shape):t.mul(d).mul(e).reshape(l.shape)},$mean:function(){var t=d.mul(Vt(-1)).mul(p);return 1===c.rank&&(t=t.sum(n)),t.reshape(c.shape)},$variance:function(){var t=h.mul(s).mul(p);return 1===c.rank&&(t=t.sum(n)),t.reshape(c.shape)},$scale:function(){var e=s.mul(d),r=t.mul(e);return 1===c.rank&&(r=r.sum(n)),r.reshape(c.shape)},$offset:function(){var e=t;return 1===c.rank&&(e=e.sum(n)),e.reshape(c.shape)}}}).reshape(l.shape)}}),gs=Ft({matMul_:function(t,e,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var o=Lt(t,"a","matMul"),a=Lt(e,"b","matMul");o=(i=tt(o,a))[0],a=i[1];var s=n?o.shape[o.rank-2]:o.shape[o.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],l=n?o.shape[o.rank-1]:o.shape[o.rank-2],c=r?a.shape[a.rank-2]:a.shape[a.rank-1],f=o.shape.slice(0,-2),p=a.shape.slice(0,-2),d=b(f),h=b(p);m(o.rank>=2&&a.rank>=2&&o.rank===a.rank,"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+a.rank+"."),m(_(f,p),"Error in matMul: outer dimensions ("+f+") and ("+p+") of Tensors with shapes "+o.shape+" and "+a.shape+" must match."),m(s===u,"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+o.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match.");var g=o.shape.slice(0,-2).concat([l,c]),v=n?o.as3D(d,s,l):o.as3D(d,l,s),y=r?a.as3D(h,c,u):a.as3D(h,u,c);return ti.engine.runKernel(function(t){return t.batchMatMul(v,y,n,r)},{$a:v,$b:y},function(t){return n||r?!n&&r?{$a:function(){return t.matMul(y,!1,!1)},$b:function(){return t.matMul(v,!0,!1)}}:n&&!r?{$a:function(){return y.matMul(t,!1,!0)},$b:function(){return v.matMul(t,!1,!1)}}:{$a:function(){return y.matMul(t,!0,!0)},$b:function(){return t.matMul(v,!0,!0)}}:{$a:function(){return t.matMul(y,!1,!0)},$b:function(){return v.matMul(t,!0,!1)}}}).reshape(g)}}),vs=Ft({dot_:function(t,e){var n=Lt(t,"t1","dot"),r=Lt(e,"t2","dot");m(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+".");var i=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];return m(i===o,"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+o+"."),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),ys=Ft({outerProduct_:function(t,e){var n=Lt(t,"v1","outerProduct"),r=Lt(e,"v2","outerProduct");return m(1===n.rank&&1===r.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),bs=Ft({conv1d_:function(t,e,n,r,i,o,a){void 0===i&&(i="NWC"),void 0===o&&(o=1);var s=Lt(t,"x","conv1d"),u=Lt(e,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),m(3===l.rank,"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."),m(3===u.rank,"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."),null!=a&&m(w(r),"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."),m(l.shape[2]===u.shape[1],"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."),m(Gn(n,o),"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+o+"'"),m("NWC"===i,"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported.");var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),p=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),d=_s(p,f,[1,n],r,"NHWC",[1,o],a);return c?d.as2D(d.shape[2],d.shape[3]):d.as3D(d.shape[0],d.shape[2],d.shape[3])}}),_s=Ft({conv2d_:function(t,e,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]);var s=Lt(t,"x","conv2d"),u=Lt(e,"filter","conv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),m(4===l.rank,"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."),m(4===u.rank,"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."),null!=a&&m(w(r),"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."),m(l.shape[3]===u.shape[2],"Error in conv2d: depth of input ("+l.shape[3]+") must match input depth for filter "+u.shape[2]+"."),m(Gn(n,o),"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"),m("NHWC"===i,"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported.");var f,p=Fn(l.shape,u.shape,n,o,r,a);if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)f=ti.engine.runKernel(function(t){return t.conv2d(l,u,p)},{x:l,$filter:u},function(t){return m(Hn(o),"Error in gradient of conv2D: dilation rates greater than 1 are notyet supported in gradients. Got dilations '"+o+"'"),{x:function(){return $n(l.shape,t,u,n,r)},$filter:function(){return Yn(l,t,u.shape,n,r)}}});else{var d=l.reshape([-1,p.inChannels]),h=u.reshape([p.inChannels,p.outChannels]);f=gs(d,h).reshape(p.outShape)}return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),ws=Ft({conv3d_:function(t,e,n,r,i,o){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1,1]);var a=Lt(t,"x","conv3d"),s=Lt(e,"filter","conv3d"),u=a,l=!1;4===a.rank&&(l=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),m(5===u.rank,"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."),m(5===s.rank,"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."),m(u.shape[4]===s.shape[3],"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."),m(function(t,e){return Kn(t)||Kn(e)}(n,o),"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"),m("NHWC"===i,"Error in conv3d: got dataFormat of "+i+" but only NHWC is currently supported.");var c=Bn(u.shape,s.shape,n,o,r),f=ti.engine.runKernel(function(t){return t.conv3d(u,s,c)},{x:u,$filter:s},function(t){return m(Kn(o),"Error in gradient of conv3D: dilation rates greater than 1 are notyet supported in gradients. Got dilations '"+o+"'"),{x:function(){return function(t,e,n,r,i){m(t.length===e.rank,"Length of inShape ("+t.length+") and rank of dy ("+e.rank+") must match");var o=t,a=e,s=!1;4===e.rank&&(s=!0,a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),o=[1,t[0],t[1],t[2],t[3]]);var u=o[4],l=a.shape[4];m(5===o.length,"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."),m(5===a.rank,"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank),m(5===n.rank,"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank),m(u===n.shape[3],"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."),m(l===n.shape[4],"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+".");var c=Bn(o,n.shape,r,1,i),f=ti.engine.runKernel(function(t){return t.conv3dDerInput(a,n,c)},{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}(u.shape,t,s,n,r)},$filter:function(){return function(t,e,n,r,i){var o=t;4===t.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]));var a=e;4===a.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3])),m(5===o.rank,"Error in conv3dDerFilter: input must be rank 5, but got shape "+o.shape+"."),m(5===a.rank,"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."),m(5===n.length,"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."),m(o.shape[4]===n[3],"Error in conv3dDerFilter: depth of input "+o.shape[4]+") must match input depth in filter ("+n[3]+"."),m(a.shape[4]===n[4],"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+").");var s=Bn(o.shape,n,r,1,i);return ti.engine.runKernel(function(t){return t.conv3dDerFilter(o,a,s)},{x5D:o,dy5D:a})}(u,t,s.shape,n,r)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),xs=Ft({conv2dDerFilter_:Yn}),Es=Ft({depthwiseConv2d_:function(t,e,n,r,i,o,a){void 0===i&&(i="NHWC"),void 0===o&&(o=[1,1]);var s=Lt(t,"x","depthwiseConv2d"),u=Lt(e,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),m(4===l.rank,"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."),m(4===u.rank,"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."),m(l.shape[3]===u.shape[2],"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."),null==o&&(o=[1,1]),m(Gn(n,o),"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"),null!=a&&m(w(r),"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+".");var f=Fn(l.shape,u.shape,n,o,r,a,!0),p=ti.engine.runKernel(function(t){return t.depthwiseConv2D(l,u,f)},{x:l,$filter:u},function(t){return m(Hn(o),"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"),{x:function(){return function(t,e,n,r){var i=e,o=!1;3===e.rank&&(o=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=ti.engine.runKernel(function(t){return t.depthwiseConv2DDerInput(i,n,r)},{dy4D:i});return o?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}(0,t,u,f)},$filter:function(){return function(t,e,n,r){var i=t;3===t.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=e;return 3===o.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),ti.engine.runKernel(function(t){return t.depthwiseConv2DDerFilter(i,o,r)},{x4D:i,dy4D:o})}(l,t,0,f)}}});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),Cs=Ft({separableConv2d_:function(t,e,n,r,i,o,a){void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC");var s=Lt(t,"x","separableConv2d"),u=Lt(e,"depthwiseFilter","separableConv2d"),l=Lt(n,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(3===s.rank&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");m(4===c.rank,"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."),m(4===u.rank,"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."),m(4===l.rank,"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."),m(1===l.shape[0],"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."),m(1===l.shape[1],"Error in separableConv2d: the second dimension of pointwise filter  must be 1, but got "+l.shape[1]+".");var p=u.shape[2],d=u.shape[3];m(l.shape[2]===p*d,"Error in separableConv2d: the third dimension of pointwise filter must be "+p*d+", but got "+l.shape[2]+".");var h=Es(c,u,r,i,a,o),g=_s(h,l,1,"valid",a);return f?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),Ss=Ft({conv2dTranspose_:function(t,e,n,r,i,o){return $n(n,Lt(t,"x","conv2dTranspose"),Lt(e,"filter","conv2dTranspose"),r,i,o)}}),Os=Ft({reverse_:function(t,e){var n=Lt(t,"x","reverse");if(0===n.rank)return n.clone();var r=Et(e,n.shape);return ti.engine.runKernel(function(t){return t.reverse(n,r)},{$x:n},function(t){return{$x:function(){return t.reverse(r)}}}).reshapeAs(n)}}),ks=Ft({reverse1d_:function(t){var e=Lt(t,"x","reverse");return m(1===e.rank,"Error in reverse1D: x must be rank 1 but got\n             rank "+e.rank+"."),Os(e,0)}}),Ts=Ft({reverse2d_:function(t,e){var n=Lt(t,"x","reverse");return m(2===n.rank,"Error in reverse2D: x must be rank 2 but got\n             rank "+n.rank+"."),Os(n,e)}}),Ps=Ft({reverse3d_:function(t,e){var n=Lt(t,"x","reverse");return m(3===n.rank,"Error in reverse3D: x must be rank 3 but got\n             rank "+n.rank+"."),Os(n,e)}}),Ns=Ft({reverse4d_:function(t,e){var n=Lt(t,"x","reverse");return m(4===n.rank,"Error in reverse4D: x must be rank 4 but got\n             rank "+n.rank+"."),Os(n,e)}}),Is=Ft({maxPool_:function(t,e,n,r,i){return Xn(t,e,n,1,r,i)}}),As=Ft({avgPool_:function(t,e,n,r,i){return Zn(t,e,n,1,r,i)}}),Ms=Ft({pool_:function(t,e,n,r,i,o){null==i&&(i=[1,1]),null==o&&(o=1),0===r&&(r="valid");var a=Lt(t,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),m(Gn(o,i),"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'");var l,c=zn(s.shape,e,o,i,r),f=[c.dilationHeight,c.dilationWidth];l="same"===r?function(t,e){var n=t.map(function(t,n){return t+(t-1)*(e[n]-1)}).map(function(t){return t-1}),r=n.map(function(t){return Math.floor(t/2)}),i=n.map(function(t,e){return t-r[e]});return n.map(function(t,e){return[r[e],i[e]]})}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];var p=1===f[0]&&1===f[1],d=function(t,e,n){var r=n.map(function(t){return t[0]}),i=n.map(function(t){return t[1]}),o=t.concat(r,i),a=e.map(function(t,e){return(t-o[e]%t)%t}),s=i.map(function(t,e){return t+a[e]});return[e.map(function(t,e){return[r[e],s[e]]}),e.map(function(t,e){return[0,a[e]]})]}([c.inHeight,c.inWidth],f,l),h=d[1],g=p?r:"valid",v=p?s:Ca(s,f,d[0]),y=("avg"===n?function(){return Zn(v,e,o,1,g)}:function(){return Xn(v,e,o,1,g)})(),b=p?y:oa(y,f,h);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Ds=Ft({slice_:function(t,e,n){var r,i,o=Lt(t,"x","slice");if(0===o.rank)throw new Error("Slicing scalar is not possible");r="number"==typeof e?[e].concat(new Array(o.rank-1).fill(0)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(0)):e.slice(),i=(i=null==n?new Array(o.rank).fill(-1):"number"==typeof n?[n].concat(new Array(o.rank-1).fill(-1)):n.length<o.rank?n.concat(new Array(o.rank-n.length).fill(-1)):n).map(function(t,e){return t>=0?t:(m(-1===t,"Bad value in size"),o.shape[e]-r[e])}),function(t,e,n){m(t.rank===e.length,"Error in slice"+t.rank+"D: Length of begin "+e+" must match the rank of the array ("+t.rank+")."),m(t.rank===n.length,"Error in slice"+t.rank+"D: Length of size "+n+" must match the rank of the array ("+t.rank+").");for(var r=0;r<t.rank;++r)m(e[r]+n[r]<=t.shape[r],"Error in slice"+t.rank+"D: begin["+r+"] + size["+r+"] ("+(e[r]+n[r])+") would overflow input.shape["+r+"] ("+t.shape[r]+")")}(o,r,i);var a=o.shape;return ti.engine.runKernel(function(t){return t.slice(o,r,i)},{$x:o},function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],a[n]-r[n]-i[n]]);return{$x:function(){return t.pad(e)}}})}}),Rs=Ft({slice1d_:function(t,e,n){var r=Lt(t,"x","slice1d");return m(1===r.rank,"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"),Ds(r,[e],[n])}}),js=Ft({slice2d_:function(t,e,n){var r=Lt(t,"x","slice2d");return m(2===r.rank,"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"),Ds(r,e,n)}}),Ls=Ft({slice3d_:function(t,e,n){var r=Lt(t,"x","slice3d");return m(3===r.rank,"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"),Ds(r,e,n)}}),zs=Ft({slice4d_:function(t,e,n){var r=Lt(t,"x","slice4d");return m(4===r.rank,"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"),Ds(r,e,n)}}),Fs=Ft({all_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","all","bool"),i=Et(e,r.shape),o=i,a=St(o,r.rank);null!=a&&(r=r.transpose(a),o=kt(o.length,r.rank));var s=ti.engine.runKernel(function(t){return t.all(r,o)},{$x:r});if(n){var u=xt(s.shape,i);return s.reshape(u)}return s}}),Bs=Ft({any_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","any","bool"),i=Et(e,r.shape),o=i,a=St(o,r.rank);null!=a&&(r=r.transpose(a),o=kt(o.length,r.rank));var s=ti.engine.runKernel(function(t){return t.any(r,o)},{$x:r});if(n){var u=xt(s.shape,i);return s.reshape(u)}return s}}),Vs=Ft({argMax_:function(t,e){void 0===e&&(e=0);var n=Lt(t,"x","argMax");null==e&&(e=0);var r=Et(e,n.shape),i=St(r,n.rank);return null!=i&&(n=n.transpose(i),r=kt(r.length,n.rank)),ti.engine.runKernel(function(t){return t.argMax(n,r[0])},{$x:n},function(t){return{$x:function(){return hi(n)}}})}}),Us=Ft({argMin_:function(t,e){void 0===e&&(e=0);var n=Lt(t,"x","argMin");null==e&&(e=0);var r=Et(e,n.shape),i=St(r,n.rank);return null!=i&&(n=n.transpose(i),r=kt(r.length,n.rank)),ti.engine.runKernel(function(t){return t.argMin(n,r[0])},{$x:n},function(t){return{$x:function(){return hi(n)}}})}}),Ws=Ft({logSumExp_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","logSumExp"),i=Et(e,r.shape),o=r.max(i,!0),a=r.sub(o).exp().sum(i).log(),s=o.reshape(a.shape).add(a);if(n){var u=xt(s.shape,i);return s.reshape(u)}return s}}),qs=Ft({max_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","max"),i=r,o=Et(e,r.shape),a=o,s=St(a,r.rank);null!=s&&(r=r.transpose(s),a=kt(a.length,r.rank));var u=ti.engine.runKernel(function(t,e){return e(t.max(r,a))},{$x:r},function(t,e){return Jn(t,e,i,o,s)});if(n){var l=xt(u.shape,o);u=u.reshape(l)}return u}}),Hs=Ft({mean_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","mean"),i=Et(e,r.shape),o=b(wt(r.shape,i)[1]);return pt(function(t){var r=Vt(o);return{value:(r.dtype===t.dtype?t:t.cast(r.dtype)).div(r).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return i.forEach(function(t){n[t]=1}),e.reshape(n).mul(Yt(t.shape,"float32")).div(r)}}})(r)}}),Gs=Ft({min_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","min"),i=r,o=Et(e,r.shape),a=o,s=St(a,r.rank);null!=s&&(r=r.transpose(s),a=kt(a.length,r.rank));var u=ti.engine.runKernel(function(t,e){return e(t.min(r,a))},{$x:r},function(t,e){return Jn(t,e,i,o,s)});if(n){var l=xt(u.shape,o);u=u.reshape(l)}return u}}),$s=Ft({moments_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Et(e,(t=Lt(t,"x","moments")).shape),i=t.mean(r,n),o=i.shape;return n||(o=xt(i.shape,r)),{mean:i,variance:t.toFloat().sub(i.reshape(o)).square().mean(r,n)}}}),Ys=Ft({sum_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=Et(e,r.shape);return pt(function(t){var e=St(i,t.rank),r=i,o=t;null!=e&&(o=t.transpose(e),r=kt(r.length,t.rank));var a=ti.engine.runKernel(function(t){return t.sum(o,r)},{permutedX:o});if(n){var s=xt(a.shape,i);a=a.reshape(s)}return{value:a,gradFunc:function(e){var n=t.shape.slice();return i.forEach(function(t){n[t]=1}),e.reshape(n).mul(Yt(t.shape,"float32"))}}})(r)}}),Ks=Ft({prod_:function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1);var r=Lt(t,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=Et(e,r.shape),o=St(i,r.rank),a=i,s=r;null!=o&&(s=r.transpose(o),a=kt(a.length,r.rank));var u=ti.engine.runKernel(function(t){return t.prod(s,a)},{permutedX:s});if(n){var l=xt(u.shape,i);u=u.reshape(l)}return u}}),Xs=Ft({equal_:function(t,e){var n,r=Lt(t,"a","equal"),i=Lt(e,"b","equal");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.equal(r,i)},{$a:r,$b:i})}}),Zs=Ft({equalStrict_:function(t,e){var n=Lt(t,"a","equalStrict"),r=Lt(e,"b","equalStrict");return g(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Js=Ft({greater_:function(t,e){var n,r=Lt(t,"a","greater"),i=Lt(e,"b","greater");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.greater(r,i)},{$a:r,$b:i})}}),Qs=Ft({greaterEqual_:function(t,e){var n,r=Lt(t,"a","greaterEqual"),i=Lt(e,"b","greaterEqual");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.greaterEqual(r,i)},{$a:r,$b:i},function(t){return{$a:function(){return hi(r)},$b:function(){return hi(i)}}})}}),tu=Ft({greaterEqualStrict_:function(t,e){var n=Lt(t,"a","greaterEqualStrict"),r=Lt(e,"b","greaterEqualStrict");return g(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),eu=Ft({greaterStrict_:function(t,e){var n=Lt(t,"a","greaterStrict"),r=Lt(e,"b","greaterStrict");return g(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),nu=Ft({less_:function(t,e){var n,r=Lt(t,"a","less"),i=Lt(e,"b","less");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.less(r,i)},{$a:r,$b:i})}}),ru=Ft({lessEqual_:function(t,e){var n,r=Lt(t,"a","lessEqual"),i=Lt(e,"b","lessEqual");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.lessEqual(r,i)},{$a:r,$b:i})}}),iu=Ft({lessEqualStrict_:function(t,e){var n=Lt(t,"a","lessEqualStrict"),r=Lt(e,"b","lessEqualStrict");return g(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),ou=Ft({lessStrict_:function(t,e){var n=Lt(t,"a","lessStrict"),r=Lt(e,"b","lessStrict");return g(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),au=Ft({notEqual_:function(t,e){var n,r=Lt(t,"a","notEqual"),i=Lt(e,"b","notEqual");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.notEqual(r,i)},{$a:r,$b:i})}}),su=Ft({notEqualStrict_:function(t,e){var n=Lt(t,"a","notEqualStrict"),r=Lt(e,"b","notEqualStrict");return g(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}}),uu=Ft({add_:function(t,e){var n,r=Lt(t,"a","add"),i=Lt(e,"b","add");n=tt(r,i);var o=ce((r=n[0]).shape,(i=n[1]).shape);return ti.engine.runKernel(function(t){return t.add(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=t,n=le(r.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},$b:function(){var e=t,n=le(i.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(i.shape)}}})}}),lu=Ft({addN_:function(t){m(Array.isArray(t),function(){return"The argument passed to tf.addN() must be a list of tensors"}),m(t.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+t.length});var e=t.map(function(t,e){return Lt(t,"tensors"+e,"addN")}),n=e[0];return e.forEach(function(t){if(t.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(function(t){if(!_(t.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}),ti.engine.runKernel(function(t){return t.addN(e)},e,function(t){var n={};return e.forEach(function(e,r){n[r]=function(){return t.clone()}}),n})}}),cu=Ft({addStrict_:function(t,e){var n=Lt(t,"a","addStrict"),r=Lt(e,"b","addStrict");return g(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),fu=Ft({atan2_:function(t,e){var n,r=Lt(t,"a","atan2"),i=Lt(e,"b","atan2");n=tt(r,i);var o=ce((r=n[0]).shape,(i=n[1]).shape);return ti.engine.runKernel(function(t){return t.atan2(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=uu(r.square(),i.square()),n=t.mul(i.div(e)),a=le(r.shape,o);return a.length>0&&(n=n.sum(a)),n.reshape(r.shape)},$b:function(){var e=uu(r.square(),i.square()),n=Ja(t.mul(r.div(e))),a=le(i.shape,o);return a.length>0&&(n=n.sum(a)),n.reshape(i.shape)}}})}}),pu=Ft({div_:function(t,e){var n,r,i=Lt(t,"a","div"),o=Lt(e,"b","div");if(n=tt(i,o),i=n[0],o=n[1],"int32"===i.dtype&&"int32"===o.dtype)return hu(i,o);r=function(t){return t.realDivide(i,o)};var a=ce(i.shape,o.shape);return ti.engine.runKernel(r,{$a:i,$b:o},function(t){return{$a:function(){var e=t.div(o.toFloat()),n=le(i.shape,a);return n.length>0?e.sum(n).reshape(i.shape):e},$b:function(){var e=t.mul(i.toFloat()),n=le(o.shape,a);n.length>0&&(e=e.sum(n).reshape(o.shape));var r=o.square();return e.div(r.toFloat()).neg()}}})}}),du=Ft({divStrict_:function(t,e){var n=Lt(t,"a","div"),r=Lt(e,"b","div");return g(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),hu=Ft({floorDiv_:function(t,e){var n,r=Lt(t,"a","floorDiv"),i=Lt(e,"b","floorDiv");n=tt(r,i);var o=ce((r=n[0]).shape,(i=n[1]).shape);return ti.engine.runKernel(function(t){return t.floorDiv(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=t.div(i.toFloat()),n=le(r.shape,o);return n.length>0?e.sum(n).reshape(r.shape):e},$b:function(){var e=t.mul(r.toFloat()),n=le(i.shape,o);n.length>0&&(e=e.sum(n).reshape(i.shape));var a=i.square();return e.div(a.toFloat()).neg()}}})}}),mu=Ft({maximum_:function(t,e){var n,r=Lt(t,"a","maximum"),i=Lt(e,"b","maximum");return n=tt(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.maximum(r,i)},{$a:r,$b:i},function(t){return{$a:function(){return t.mul(r.greaterEqual(i).toFloat())},$b:function(){return t.mul(r.less(i).toFloat())}}})}}),gu=Ft({maximumStrict_:function(t,e){var n=Lt(t,"a","maximumStrict"),r=Lt(e,"b","maximumStrict");return g(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),vu=Ft({minimum_:function(t,e){var n,r=Lt(t,"a","minimum"),i=Lt(e,"b","minimum");return n=tt(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.minimum(r,i)},{$a:r,$b:i},function(t){return{$a:function(){return t.mul(r.lessEqual(i).toFloat())},$b:function(){return t.mul(r.greater(i).toFloat())}}})}}),yu=Ft({minimumStrict_:function(t,e){var n=Lt(t,"a","minimumStrict"),r=Lt(e,"b","minimumStrict");return g(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),bu=Ft({mod_:function(t,e){var n,r=Lt(t,"a","mod"),i=Lt(e,"b","mod");n=tt(r,i);var o=ce((r=n[0]).shape,(i=n[1]).shape);return ti.engine.runKernel(function(t){return t.mod(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=le(r.shape,o);return e.length>0?t.sum(e).reshape(r.shape):t},$b:function(){var e=t.mul(r.div(i).floor().neg()),n=le(i.shape,o);return n.length>0?e.sum(n).reshape(i.shape):e}}})}}),_u=Ft({modStrict_:function(t,e){var n=Lt(t,"a","modStrict"),r=Lt(e,"b","modStrict");return g(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),wu=Ft({mul_:function(t,e){var n,r=Lt(t,"a","mul"),i=Lt(e,"b","mul");n=tt(r,i);var o=ce((r=n[0]).shape,(i=n[1]).shape);return ti.engine.runKernel(function(t){return t.multiply(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=t.mul(i.toFloat()),n=le(r.shape,o);return n.length>0?e.sum(n).reshape(r.shape):e},$b:function(){var e=t.mul(r.toFloat()),n=le(i.shape,o);return n.length>0?e.sum(n).reshape(i.shape):e}}})}}),xu=Ft({mulStrict_:function(t,e){var n=Lt(t,"a","mul"),r=Lt(e,"b","mul");return g(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Eu=Ft({pow_:function(t,e){var n=Lt(t,"base","pow"),r=Lt(e,"exp","pow"),i=ce(n.shape,r.shape);return t=n.cast(J(n.dtype,r.dtype)),e=r.cast(J(n.dtype,r.dtype)),ti.engine.runKernel(function(t,e){return e(t.pow(n,r))},{$base:n,$exp:r},function(t,e){var o=e[0];return{$base:function(){var e=r.toFloat(),o=t.mul(e.mul(n.pow(e.sub(Vt(1))))),a=le(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},$exp:function(){var e=t.mul(o.mul(n.log()).toFloat()),a=le(r.shape,i);return a.length>0&&(e=e.sum(a)),e.reshape(r.shape)}}})}}),Cu=Ft({powStrict_:function(t,e){return g(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),Su=Ft({squaredDifference_:function(t,e){var n,r=Lt(t,"a","squaredDifference"),i=Lt(e,"b","squaredDifference");return n=tt(r,i),r=n[0],i=n[1],ce(r.shape,i.shape),ti.engine.runKernel(function(t){return t.squaredDifference(r,i)},{$a:r,$b:i},function(t){var e=Vt(2);return{$a:function(){return t.mul(r.sub(i).mul(e))},$b:function(){return t.mul(i.sub(r).mul(e))}}})}}),Ou=Ft({squaredDifferenceStrict_:function(t,e){var n=Lt(t,"a","squaredDifferenceStrict"),r=Lt(e,"b","squaredDifferenceStrict");return g(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),ku=Ft({sub_:function(t,e){var n,r=Lt(t,"a","sub"),i=Lt(e,"b","sub");n=tt(r,i);var o=ce((r=n[0]).shape,(i=n[1]).shape);return ti.engine.runKernel(function(t){return t.subtract(r,i)},{$a:r,$b:i},function(t){return{$a:function(){var e=t,n=le(r.shape,o);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},$b:function(){var e=t,n=le(i.shape,o);return n.length>0&&(e=e.sum(n)),e.neg().reshape(i.shape)}}})}}),Tu=Ft({subStrict_:function(t,e){var n=Lt(t,"a","subStrict"),r=Lt(e,"b","subStrict");return g(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Pu=Ft({logicalAnd_:function(t,e){var n=Lt(t,"a","logicalAnd","bool"),r=Lt(e,"b","logicalAnd","bool");return ce(n.shape,r.shape),ti.engine.runKernel(function(t){return t.logicalAnd(n,r)},{$a:n,$b:r})}}),Nu=Ft({logicalNot_:function(t){var e=Lt(t,"x","logicalNot","bool");return ti.engine.runKernel(function(t){return t.logicalNot(e)},{$x:e})}}),Iu=Ft({logicalOr_:function(t,e){var n=Lt(t,"a","logicalOr","bool"),r=Lt(e,"b","logicalOr","bool");return ce(n.shape,r.shape),ti.engine.runKernel(function(t){return t.logicalOr(n,r)},{$a:n,$b:r})}}),Au=Ft({logicalXor_:function(t,e){var n=Lt(t,"a","logicalXor","bool"),r=Lt(e,"b","logicalXor","bool");return ce(n.shape,r.shape),Iu(t,e).logicalAnd(Pu(t,e).logicalNot())}}),Mu=Ft({where_:function(t,e,n){var r=Lt(e,"a","where"),i=Lt(n,"b","where"),o=Lt(t,"condition","where","bool");return g(r.shape,i.shape,"Error in where: "),1===o.rank?m(o.shape[0]===r.shape[0],"The first dimension of `a` must match the size of `condition`."):g(o.shape,i.shape,"Error in where: "),ti.engine.runKernel(function(t){return t.select(o,r,i)},{$condition:o,$a:r,$b:i},function(t){return{$condition:function(){return hi(o).toFloat()},$a:function(){return t.mul(o.cast(t.dtype))},$b:function(){return t.mul(o.logicalNot().cast(t.dtype))}}})}}),Du=function(t){return s(this,void 0,void 0,function(){var e,n,r;return u(this,function(i){switch(i.label){case 0:return[4,(e=Lt(t,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=Rn(e.shape,n),t!==e&&e.dispose(),[2,r]}})})},Ru=Ft({elu_:function(t){var e=Lt(t,"x","elu");return ti.engine.runKernel(function(t,n){return n(t.elu(e))},{$x:e},function(t,e){var n=e[0];return{$x:function(){return ti.engine.runKernel(function(e){return e.eluDer(t,n)},{dy:t,y:n})}}})}}),ju=Ft({leakyRelu_:function(t,e){void 0===e&&(e=.2);var n=Lt(t,"x","leakyRelu");return mu(Vt(e).mul(n),n)}}),Lu=Ft({prelu_:function(t,e){var n=Lt(t,"x","prelu"),r=Lt(e,"alpha","prelu"),i=Vt(0);return mu(i,n).add(r.mul(vu(i,n)))}}),zu=Ft({relu_:function(t){var e=Lt(t,"x","relu");return"bool"===e.dtype?e.toInt():ti.engine.runKernel(function(t){return t.relu(e)},{$x:e},function(t){var n=e.step();return{$x:function(){return t.mulStrict(n.toFloat())}}})}}),Fu=Ft({selu_:function(t){var e=Lt(t,"x","selu");return ti.engine.runKernel(function(t){return t.selu(e)},{$x:e},function(t){return{$x:function(){var n=e.greater(Vt(0)),r=Vt(Ao),i=Vt(Mo),o=t.mul(i),a=t.mul(r).mul(e.toFloat().exp());return Mu(n,o,a)}}})}}),Bu=Ft({transpose_:function(t,e){var n=Lt(t,"x","transpose");return null==e&&(e=n.shape.map(function(t,e){return e}).reverse()),m(n.rank===e.length,"Error in transpose: rank of input "+n.rank+" must match length of perm "+e+"."),e.forEach(function(t){m(t>=0&&t<n.rank,"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+e)}),n.rank<=1?n.clone():ti.engine.runKernel(function(t){return t.transpose(n,e)},{$x:n},function(t){var n=Ot(e);return{$x:function(){return t.transpose(n)}}})}}),Vu=Ft({localResponseNormalization_:function(t,e,n,r,i){void 0===e&&(e=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var o=Lt(t,"x","localResponseNormalization");m(4===o.rank||3===o.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+o.rank+"."),m(w(e),"Error in localResponseNormalization: depthRadius must be an integer\n                     but got depthRadius "+e+".");var a=o,s=!1;3===o.rank&&(s=!0,a=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var u=ti.engine.runKernel(function(t,o){return o(t.localResponseNormalization4D(a,e,n,r,i))},{x4D:a},function(t,o){var s=o[0];return{x4D:function(){return ti.engine.runKernel(function(o){return o.LRNGrad(t,a,s,e,n,r,i)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Uu=Ft({norm_:function(t,e,n,r){void 0===e&&(e="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=Qn(t=Lt(t,"x","norm"),e,n),o=i.shape;if(r){var a=Et(n,t.shape);o=xt(i.shape,a)}return i.reshape(o)}}),Wu=Ft({gather_:function(t,e,n){void 0===n&&(n=0);var r=Lt(t,"x","gather"),i=Lt(e,"indices","gather","int32");return n=Et(n,r.shape)[0],ti.engine.runKernel(function(t){return t.gather(r,i,n)},{$x:r},function(t){return{$x:function(){if(0===n)return qu(t,i,r.shape[n]);var e=r.shape,o=i.size,a=e.slice(0,n),s=a.length,u=e.slice(n,e.length).slice(1),l=u.length,c=tr(0,s),f=tr(s+1,s+1+l),p=er([a,[o],u]),d=t.reshape(p),h=i.reshape([o]),m=er([[s],c,f]),g=d.transpose(m),v=qu(g,h,r.shape[n]),y=Ot(m);return v=v.transpose(y)}}})}}),qu=Ft({unsortedSegmentSum_:function(t,e,n){var r=Lt(t,"x","unsortedSegmentSum"),i=Lt(e,"segmentIds","unsortedSegmentSum","int32");return m(w(n),"numSegments must be of dtype int"),ti.engine.runKernel(function(t){return t.unsortedSegmentSum(r,i,n)},{$x:r},function(t){return{$x:function(){return function(t,e){for(var n=mu(e,hi(e)),r=Wu(t,n),i=Qs(e,Vt(0,"int32")),o=r.rank-i.rank,a=0;a<o;++a)i=ca(i,a+1);i=Pu(i,Yt(r.shape,"bool"));var s=hi(r);return Mu(i,r,s)}(t,i)}}})}}),Hu=Ft({basicLSTMCell_:function(t,e,n,r,i,o){var a=Lt(t,"forgetBias","basicLSTMCell"),s=Lt(e,"lstmKernel","basicLSTMCell"),u=Lt(n,"lstmBias","basicLSTMCell"),l=Lt(r,"data","basicLSTMCell"),c=Lt(i,"c","basicLSTMCell"),f=Lt(o,"h","basicLSTMCell"),p=l.concat(f,1).matMul(s).add(u),d=p.shape[1]/4,h=[p.shape[0],d],m=p.slice([0,0],h),g=p.slice([0,d],h),v=p.slice([0,2*d],h),y=p.slice([0,3*d],h),b=m.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(a.add(v).sigmoid()));return[b,b.tanh().mulStrict(y.sigmoid())]}}),Gu=Ft({multiRNNCell_:function(t,e,n,r){for(var i=Lt(e,"data","multiRNNCell"),o=zt(n,"c","multiRNNCell"),a=zt(r,"h","multiRNNCell"),s=i,u=[],l=0;l<t.length;l++){var c=t[l](s,o[l],a[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var f=[],p=[];for(l=0;l<u.length;l+=2)f.push(u[l]),p.push(u[l+1]);return[f,p]}}),$u=Ft({movingAverage_:function(t,e,n,r,i){void 0===i&&(i=!0);var o=Lt(t,"v","movingAverage"),a=Lt(e,"x","movingAverage"),s=Lt(n,"decay","movingAverage");(function(t,e){m(t.dtype===e.dtype,"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match")})(o,a),m(_(o.shape,a.shape),"Shape mismatch in v and x");var u=Vt(1),l=u.sub(s),c=a.sub(o).mul(l);if(i){m(null!=r,"When using zeroDebias: true, step is required.");var f=Lt(r,"step","movingAverage");c=c.div(u.sub(Eu(s,f)))}return o.add(c)}}),Yu=Ft({stridedSlice_:function(t,e,n,r,i,o,a,s,u){if(void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),0!==a)throw new Error("ellipsis mask is not yet supported");if(0!==s)throw new Error("new axis mask is not yet supported");var l=Lt(t,"x","stridedSlice");return ti.engine.runKernel(function(t){return t.stridedSlice(l,e,n,r,i,o,a,s,u)},{$x:l})}}),Ku=Ft({topk_:function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);var r=Lt(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(e>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+e);var o=ti.engine.runKernel(function(t){return t.topk(r,e,n)},{$x:r});return{values:o[0],indices:o[1]}}}),Xu=Ft({scatterND_:function(t,e,n){var r=Lt(t,"indices","scatterND","int32"),i=Lt(e,"updates","scatterND");return It(i,r,n),ti.engine.runKernel(function(t){return t.scatterND(r,i,n)},{$indices:r,$updates:i})}}),Zu=Ft({fft_:function(t){m("complex64"===t.dtype,"The dtype for tf.spectral.fft() must be complex64 but got "+t.dtype+".");var e=t.shape[t.shape.length-1],n=t.as2D(t.size/e,e);return ti.engine.runKernel(function(t){return t.fft(n)},{input:t}).reshape(t.shape)}}),Ju=Ft({ifft_:function(t){m("complex64"===t.dtype,"The dtype for tf.spectral.ifft() must be complex64 but got "+t.dtype+".");var e=t.shape[t.shape.length-1],n=t.as2D(t.size/e,e);return ti.engine.runKernel(function(t){return t.ifft(n)},{input:t}).reshape(t.shape)}}),Qu=Ft({rfft_:function(t){m("float32"===t.dtype,"The dtype for rfft() must be real value but\n    got "+t.dtype);var e=t.shape[t.shape.length-1],n=t.size/e,r=t.zerosLike(),i=ci(t,r).as2D(n,e),o=Zu(i),a=Math.floor(e/2)+1,s=fi(o),u=pi(o),l=s.split([a,e-a],s.shape.length-1),c=u.split([a,e-a],u.shape.length-1),f=t.shape.slice();return f[t.shape.length-1]=a,ci(l[0],c[0]).reshape(f)}}),tl=Ft({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),i=Ju(r);return fi(i)}var o=[n,2*(e-1)],a=fi(t).as2D(n,e),s=pi(t).as2D(n,e),u=a.slice([0,1],[n,e-2]).reverse(1),l=s.slice([0,1],[n,e-2]).reverse(1).mul(Vt(-1)),c=a.concat(u,1),f=s.concat(l,1);return r=ci(c,f).as2D(o[0],o[1]),i=Ju(r),fi(i)}}),el=Object.freeze({fft:Zu,ifft:Ju,rfft:Qu,irfft:tl}),nl=Ft({sparseToDense_:function(t,e,n,r){var i=Lt(t,"sparseIndices","sparseToDense","int32"),o=Lt(e,"sparseValues","sparseToDense"),a=Lt(r,"defaultValue","sparseToDense",o.dtype);return function(t,e,n,r){if("int32"!==t.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+t.shape+".");var i=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+o+".");if(0!==e.rank&&(1!==e.rank||e.size!==i))throw new Error("sparseValues has incorrect shape "+e.shape+", should be [] or ["+i+"]");if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,o,n,a),ti.engine.runKernel(function(t){return t.sparseToDense(i,o,n,a)},{$sparseIndices:i,$sparseValues:o,$defaultValue:a})}}),rl=Ft({gatherND_:function(t,e){var n=Lt(e,"indices","gatherND","int32"),r=Lt(t,"x","gatherND");return ti.engine.runKernel(function(t){return t.gatherND(r,n)},{$x:r,$indices:n})}});!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Ma||(Ma={}));var il=Ft({absoluteDifference_:function(t,e,n,r){void 0===r&&(r=Ma.SUM_BY_NONZERO_WEIGHTS);var i=Lt(t,"labels","absoluteDifference"),o=Lt(e,"predictions","absoluteDifference"),a=null;null!=n&&(a=Lt(n,"weights","absoluteDifference")),g(i.shape,o.shape,"Error in absoluteDifference: ");var s=i.sub(o).abs();return ol(s,a,r)}}),ol=Ft({computeWeightedLoss_:function(t,e,n){void 0===n&&(n=Ma.SUM_BY_NONZERO_WEIGHTS);var r=Lt(t,"losses","computeWeightedLoss"),i=null;null!=e&&(i=Lt(e,"weights","computeWeightedLoss"));var o=null==i?r:r.mul(i);if(n===Ma.NONE)return o;if(n===Ma.SUM)return o.sum();if(n===Ma.MEAN){if(null==i)return o.mean();var a=b(r.shape)/b(i.shape),s=o.sum().div(i.sum());return a>1?s.div(Vt(a)):s}if(n===Ma.SUM_BY_NONZERO_WEIGHTS){if(null==i)return o.sum().div(Vt(r.size));var u=i.mul(Yt(r.shape)).notEqual(Vt(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+n)}}),al=Ft({cosineDistance_:function(t,e,n,r,i){void 0===i&&(i=Ma.SUM_BY_NONZERO_WEIGHTS);var o=Lt(t,"labels","cosineDistance"),a=Lt(e,"predictions","cosineDistance"),s=null;null!=r&&(s=Lt(r,"weights","cosineDistance")),g(o.shape,a.shape,"Error in cosineDistance: ");var u=Vt(1).sub(o.mul(a).sum(n,!0));return ol(u,s,i)}}),sl=Ft({hingeLoss_:function(t,e,n,r){void 0===r&&(r=Ma.SUM_BY_NONZERO_WEIGHTS);var i=Lt(t,"labels","hingeLoss"),o=Lt(e,"predictions","hingeLoss"),a=null;null!=n&&(a=Lt(n,"weights","hingeLoss")),g(i.shape,o.shape,"Error in hingeLoss: ");var s=Vt(1);i=Vt(2).mul(i).sub(s);var u=s.sub(i.mul(o)).relu();return ol(u,a,r)}}),ul=Ft({huberLoss_:function(t,e,n,r,i){void 0===r&&(r=1),void 0===i&&(i=Ma.SUM_BY_NONZERO_WEIGHTS);var o=Lt(t,"labels","huberLoss"),a=Lt(e,"predictions","huberLoss"),s=null;null!=n&&(s=Lt(n,"weights","huberLoss")),g(o.shape,a.shape,"Error in huberLoss: ");var u=Vt(r),l=a.sub(o).abs(),c=vu(l,u),f=l.sub(c),p=Vt(.5).mul(c.square()).add(u.mul(f));return ol(p,s,i)}}),ll=Ft({logLoss_:function(t,e,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=Ma.SUM_BY_NONZERO_WEIGHTS);var o=Lt(t,"labels","logLoss"),a=Lt(e,"predictions","logLoss"),s=null;null!=n&&(s=Lt(n,"weights","logLoss")),g(o.shape,a.shape,"Error in logLoss: ");var u=Vt(1),l=Vt(r),c=o.mul(a.add(l).log()).neg().sub(u.sub(o).mul(u.sub(a).add(l).log()));return ol(c,s,i)}}),cl=Ft({meanSquaredError_:function(t,e,n,r){void 0===r&&(r=Ma.SUM_BY_NONZERO_WEIGHTS);var i=Lt(t,"labels","meanSquaredError"),o=Lt(e,"predictions","meanSquaredError"),a=null;null!=n&&(a=Lt(n,"weights","meanSquaredError")),g(i.shape,o.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(o);return ol(s,a,r)}}),fl=Ft({sigmoidCrossEntropy_:function(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Ma.SUM_BY_NONZERO_WEIGHTS);var o=Lt(t,"multiClassLabels","sigmoidCrossEntropy"),a=Lt(e,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Lt(n,"weights","sigmoidCrossEntropy")),g(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Vt(r),l=Vt(1),c=Vt(.5);o=o.mul(l.sub(u)).add(c.mul(u))}var f=function(t,e){var n=Lt(t,"labels","sigmoidCrossEntropyWithLogits"),r=Lt(e,"logits","sigmoidCrossEntropyWithLogits");g(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),o=r.mul(n),a=r.abs().neg().exp().log1p();return i.sub(o).add(a)}(o,a);return ol(f,s,i)}}),pl=Ft({softmaxCrossEntropy_:function(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=Ma.SUM_BY_NONZERO_WEIGHTS);var o=Lt(t,"onehotLabels","softmaxCrossEntropy"),a=Lt(e,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Lt(n,"weights","softmaxCrossEntropy")),g(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Vt(r),l=Vt(1),c=Vt(o.shape[1]);o=o.mul(l.sub(u)).add(u.div(c))}var f=function(t,e,n){if(void 0===n&&(n=-1),-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+e.rank+" and dim was "+n);return pt(function(t,e){var r=e.logSumExp([n],!0),i=e.toFloat().sub(r);return{value:i.mul(t).neg().sum([n]),gradFunc:function(e){var r=xt(e.shape,[n]);return[e.reshape(r).mul(t.toFloat().sub(i.exp())),e.reshape(r).mul(i.exp().sub(t.toFloat()))]}}})(t,e)}(o,a);return ol(f,s,i)}}),dl=Object.freeze({get Reduction(){return Ma},absoluteDifference:il,computeWeightedLoss:ol,cosineDistance:al,hingeLoss:sl,huberLoss:ul,logLoss:ll,meanSquaredError:cl,sigmoidCrossEntropy:fl,softmaxCrossEntropy:pl}),hl=Ft({gramSchmidt_:function(t){var e;if(Array.isArray(t)){e=!1,m(null!=t&&t.length>0,"Gram-Schmidt process: input must not be null, undefined, or empty");for(var n=t[0].shape[0],r=1;r<t.length;++r)m(t[r].shape[0]===n,"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+t[r].shape[0]+" vs. "+n+")")}else e=!0,t=Ko(t,t.shape[0],0).map(function(t){return Sa(t,[0])});m(t.length<=t[0].shape[0],"Gram-Schmidt: Number of vectors ("+t.length+") exceeds number of dimensions ("+t[0].shape[0]+").");var i=[],o=t,a=function(t){i.push(ti.engine.tidy(function(){var e=o[t];if(t>0)for(var n=0;n<t;++n){var r=Ys(i[n].mulStrict(e)).mul(i[n]);e=e.sub(r)}return e.div(Uu(e,"euclidean"))}))};for(r=0;r<t.length;++r)a(r);return e?Oa(i,0):i}}),ml=Ft({qr_:function(t,e){if(void 0===e&&(e=!1),t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+t.rank);if(2===t.rank)return nr(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce(function(t,e){return t*e}),r=[],i=[];return Pa(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0).forEach(function(t){var n=nr(t,e),o=n[1];r.push(n[0]),i.push(o)}),[Oa(r,0).reshape(t.shape),Oa(i,0).reshape(t.shape)]}}),gl=Object.freeze({gramSchmidt:hl,qr:ml}),vl=Ft({resizeBilinear_:function(t,e,n){void 0===n&&(n=!1);var r=Lt(t,"images","resizeBilinear");m(3===r.rank||4===r.rank,"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."),m(2===e.length,"Error in resizeBilinear: new shape must 2D, but got shape "+e+".");var i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],u=ti.engine.runKernel(function(t,e){return t.resizeBilinear(i,a,s,n)},{batchImages:i},function(t,e){return{batchImages:function(){return ti.engine.runKernel(function(e){return e.resizeBilinearBackprop(t,i,n)},{})}}});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),yl=Ft({resizeNearestNeighbor_:function(t,e,n){void 0===n&&(n=!1);var r=Lt(t,"images","resizeNearestNeighbor");m(3===r.rank||4===r.rank,"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."),m(2===e.length,"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."),m("float32"===r.dtype||"int32"===r.dtype,"`images` must have `int32` or `float32` as dtype");var i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=e[0],s=e[1],u=ti.engine.runKernel(function(t,e){return t.resizeNearestNeighbor(i,a,s,n)},{batchImages:i},function(t,e){return{batchImages:function(){return ti.engine.runKernel(function(e){return e.resizeNearestNeighborBackprop(t,i,n)},{})}}});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),bl=Ft({nonMaxSuppression_:function(t,e,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var o=Lt(t,"boxes","nonMaxSuppression"),a=Lt(e,"scores","nonMaxSuppression"),s=rr(o,a,n,r,i);return n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,ti.engine.runKernel(function(t){return t.nonMaxSuppression(o,a,n,r,i)},{$boxes:o})}}),_l=function(t,e,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),s(this,void 0,void 0,function(){var o,a,s,l,c,f;return u(this,function(u){switch(u.label){case 0:return o=Lt(t,"boxes","nonMaxSuppressionAsync"),a=Lt(e,"scores","nonMaxSuppressionAsync"),s=rr(o,a,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,o.data()];case 1:return l=u.sent(),[4,a.data()];case 2:return c=u.sent(),f=oe(l,c,n,r,i),o!==t&&o.dispose(),a!==e&&a.dispose(),[2,f]}})})},wl=function(t,e,n,r,i,o){var a=Lt(t,"image","cropAndResize","float32"),s=Lt(e,"boxes","cropAndResize","float32"),u=Lt(n,"boxInd","cropAndResize","int32");i=i||"bilinear",o=o||0;var l=s.shape[0];return m(4===a.rank,"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."),m(2===s.rank&&4===s.shape[1],"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."),m(1===u.rank&&u.shape[0]===l,"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."),m(2===r.length,"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."),m(r[0]>=1&&r[1]>=1,"cropSize must be atleast [1,1], but was "+r),m("bilinear"===i||"nearest"===i,"method must be bilinear or nearest, but was "+i),ti.engine.runKernel(function(t,e){return t.cropAndResize(a,s,u,r,i,o)},{$image:a,$boxes:s})},xl=Object.freeze({resizeBilinear:vl,resizeNearestNeighbor:yl,nonMaxSuppression:bl,nonMaxSuppressionAsync:_l,cropAndResize:wl}),El=Object.freeze({image:xl,linalg:gl,losses:dl,spectral:el,op:Ft,batchNormalization2d:ps,batchNormalization3d:ds,batchNormalization4d:hs,batchNormalization:ms,complex:ci,real:fi,imag:pi,concat:qo,concat1d:Ho,concat2d:Go,concat3d:$o,concat4d:Yo,split:Ko,conv1d:bs,conv2d:_s,conv3d:ws,conv2dDerFilter:xs,depthwiseConv2d:Es,separableConv2d:Cs,conv2dTranspose:Ss,matMul:gs,dot:vs,outerProduct:ys,reverse:Os,reverse1d:ks,reverse2d:Ts,reverse3d:Ps,reverse4d:Ns,maxPool:Is,avgPool:As,pool:Ms,slice:Ds,slice1d:Rs,slice2d:js,slice3d:Ls,slice4d:zs,abs:Da,acos:Ra,acosh:ja,asin:La,asinh:za,atan:Fa,atanh:Ba,ceil:Va,clipByValue:Ua,cos:Wa,cosh:qa,erf:Ha,exp:Ga,expm1:$a,floor:Ya,log:Ka,log1p:Xa,logSigmoid:Za,neg:Ja,reciprocal:Qa,round:ts,rsqrt:es,sigmoid:ns,sign:rs,sin:is,sinh:os,softplus:as,sqrt:ss,square:us,step:ls,tan:cs,tanh:fs,all:Fs,any:Bs,argMax:Vs,argMin:Us,logSumExp:Ws,max:qs,mean:Hs,min:Gs,moments:$s,sum:Ys,prod:Ks,equal:Xs,equalStrict:Zs,greater:Js,greaterEqual:Qs,greaterEqualStrict:tu,greaterStrict:eu,less:nu,lessEqual:ru,lessEqualStrict:iu,lessStrict:ou,notEqual:au,notEqualStrict:su,add:uu,addN:lu,addStrict:cu,atan2:fu,div:pu,divStrict:du,floorDiv:hu,maximum:mu,maximumStrict:gu,minimum:vu,minimumStrict:yu,mod:bu,modStrict:_u,mul:wu,mulStrict:xu,pow:Eu,powStrict:Cu,squaredDifference:Su,squaredDifferenceStrict:Ou,sub:ku,subStrict:Tu,elu:Ru,leakyRelu:ju,prelu:Lu,relu:zu,selu:Fu,logicalAnd:Pu,logicalNot:Nu,logicalOr:Iu,logicalXor:Au,where:Mu,whereAsync:Du,buffer:Mn,toPixels:An,print:Dn,batchToSpaceND:oa,cast:aa,clone:sa,cumsum:ua,depthToSpace:la,expandDims:ca,eye:fa,fromPixels:pa,multinomial:da,oneHot:ha,pad:ma,pad1d:ga,pad2d:va,pad3d:ya,pad4d:ba,rand:_a,randomNormal:wa,randomUniform:xa,reshape:Ea,spaceToBatchND:Ca,squeeze:Sa,stack:Oa,tile:ka,truncatedNormal:Ta,unstack:Pa,setdiff1dAsync:Na,fill:Xt,linspace:Zt,ones:Yt,range:Jt,scalar:Vt,tensor:Bt,tensor1d:Ut,tensor2d:Wt,tensor3d:qt,tensor4d:Ht,tensor5d:Gt,tensor6d:$t,zeros:Kt,onesLike:di,zerosLike:hi,transpose:Bu,softmax:ui,logSoftmax:li,localResponseNormalization:Vu,norm:Uu,gather:Wu,unsortedSegmentSum:qu,basicLSTMCell:Hu,multiRNNCell:Gu,movingAverage:$u,stridedSlice:Yu,topk:Ku,scatterND:Xu,fft:Zu,ifft:Ju,rfft:Qu,irfft:tl,sparseToDense:nl,gatherND:rl}),Cl=function(){function t(){this.blockSize=48,this.firstUse=!0,ti.get("IS_BROWSER")&&(this.fromPixels2DContext=document.createElement("canvas").getContext("2d"))}return t.prototype.setDataMover=function(t){this.data=new mi(t)},t.prototype.register=function(t,e,n){if(this.firstUse&&(this.firstUse=!1,ti.get("IS_NODE")&&ht("\n============================\nHi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================\n")),this.data.has(t))throw new Error("Data buffer is already registered");this.data.set(t,{dtype:n})},t.prototype.write=function(t,e){if(null==e)throw new Error("MathBackendCPU.write(): values can not be null");this.data.get(t).values=e},t.prototype.fromPixels=function(t,e){if(null==t)throw new Error("pixels passed to tf.fromPixels() can not be null");var n,r;if(ti.get("IS_NODE")&&null==t.getContext)throw new Error("When running in node, pixels must be an HTMLCanvasElement like the one returned by the `canvas` npm package");if(null!=t.getContext)n=t.getContext("2d").getImageData(0,0,t.width,t.height).data;else if(t instanceof ImageData)n=t.data;else{if(!(t instanceof HTMLImageElement||t instanceof HTMLVideoElement))throw new Error("pixels passed to tf.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement or ImageData, but was "+t.constructor.name);if(null==this.fromPixels2DContext)throw new Error("Can't read pixels from HTMLImageElement outside the browser.");this.fromPixels2DContext.canvas.width=t.width,this.fromPixels2DContext.canvas.height=t.height,this.fromPixels2DContext.drawImage(t,0,0,t.width,t.height),n=this.fromPixels2DContext.getImageData(0,0,t.width,t.height).data}if(4===e)r=new Int32Array(n);else{var i=t.width*t.height;r=new Int32Array(i*e);for(var o=0;o<i;o++)for(var a=0;a<e;++a)r[o*e+a]=n[4*o+a]}return qt(r,[t.height,t.width,e],"int32")},t.prototype.read=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){return[2,this.readSync(t)]})})},t.prototype.readSync=function(t){var e=this.data.get(t),n=e.complexTensors;return"complex64"===e.dtype?ee(n.real.dataSync(),n.imag.dataSync()):this.data.get(t).values},t.prototype.disposeData=function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}},t.prototype.time=function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){return e=G(),t(),[2,{kernelMs:G()-e}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(t,e){var n=Lr.make(t.shape,{},"complex64");return this.data.get(n.dataId).complexTensors={real:ti.engine.keep(t.clone()),imag:ti.engine.keep(e.clone())},n},t.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},t.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},t.prototype.assertNotComplex=function(t,e){Array.isArray(t)||(t=[t]),t.forEach(function(t){null!=t&&m("complex64"!==t.dtype,e+" does not support complex64 tensors.")})},t.prototype.slice=function(t,e,n){this.assertNotComplex(t,"slice");for(var r=Mn(n,t.dtype),i=0;i<r.size;++i){var o=r.indexToLoc(i),a=o.map(function(t,n){return t+e[n]});r.set.apply(r,[t.get.apply(t,a)].concat(o))}return r.toTensor()},t.prototype.stridedSlice=function(t,e,n,r,i,o,a,s,u){this.assertNotComplex(t,"stridedSlice");var l=Mt(t.shape,e,n,r,i,o,a,s,u),c=l[0],f=l[1],p=l[2],d=f.filter(function(t,e){return-1===p.indexOf(e)});if(d.some(function(t){return 0===t}))return Bt([],d);for(var h=Mn(f,t.dtype),m=0;m<h.size;m++){for(var g=h.indexToLoc(m),v=new Array(g.length),y=0;y<v.length;y++)v[y]=g[y]*r[y]+c[y];h.set.apply(h,[t.get.apply(t,v)].concat(g))}return h.toTensor().reshape(d)},t.prototype.reverse=function(t,e){this.assertNotComplex(t,"reverse");for(var n=Mn(t.shape,t.dtype),r=t.buffer(),i=function(i){var o=n.indexToLoc(i),a=o.slice();e.forEach(function(e){return a[e]=t.shape[e]-1-a[e]}),n.set.apply(n,[r.get.apply(r,a)].concat(o))},o=0;o<n.size;o++)i(o);return n.toTensor()},t.prototype.concat=function(t,e){this.assertNotComplex(t,"concat");var n=t.map(function(t){var n=b(t.shape.slice(e));return t.as2D(-1,n)}),r=Tt(n.map(function(t){return t.shape}),1),i=Mn(r,t[0].dtype).values;if(1===n[0].shape[0]){var o=0;n.forEach(function(t){i.set(t.dataSync(),o),o+=t.size})}else{var a=0;n.forEach(function(t){for(var e=t.dataSync(),n=0,o=0;o<t.shape[0];++o)for(var s=o*r[1]+a,u=0;u<t.shape[1];++u)i[s+u]=e[n++];a+=t.shape[1]})}var s=Tt(t.map(function(t){return t.shape}),e);return Bt(i,s,t[0].dtype)},t.prototype.neg=function(t){return this.assertNotComplex(t,"neg"),this.multiply(Vt(-1),t)},t.prototype.add=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t+n,imag:e+r}}):this.broadcastedBinaryOp(t,e,J(t.dtype,e.dtype),function(t,e){return t+e})},t.prototype.addN=function(t){this.assertNotComplex(t,"addN");for(var e=t.map(function(t){return t.dataSync()}),n=Mn(t[0].shape,t[0].dtype),r=n.values,i=0;i<t.length;i++)for(var o=e[i],a=0;a<r.length;a++)r[a]+=o[a];return n.toTensor()},t.prototype.subtract=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t-n,imag:e-r}}):this.broadcastedBinaryOp(t,e,J(t.dtype,e.dtype),function(t,e){return t-e})},t.prototype.pow=function(t,e){return this.assertNotComplex([t,e],"pow"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.pow(t,e)})},t.prototype.batchMatMul=function(t,e,n,r){this.assertNotComplex([t,e],"matMul");for(var i=n?t.shape[1]:t.shape[2],o=n?t.shape[2]:t.shape[1],a=r?e.shape[1]:e.shape[2],s=t.shape[0],u=t.dataSync(),l=e.dataSync(),c=n?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],f=c[0],p=c[1],d=c[2],h=r?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],m=h[0],g=h[1],v=h[2],y=o*a,b=Mn([s,o,a],t.dtype),_=b.values,w=this.blockSize,x=0;x<s;x++)for(var E=0;E<o;E+=w)for(var C=0;C<a;C+=w)for(var S=0;S<i;S+=w)for(var O=Math.min(E+w,o),k=Math.min(C+w,a),T=Math.min(S+w,i),P=E;P<O;P++)for(var N=C;N<k;N++){for(var I=0,A=S;A<T;A++)I+=u[x*f+P*p+A*d]*l[A*m+N*g+x*v];_[x*y+(P*a+N)]+=I}return b.toTensor()},t.prototype.multiply=function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),function(t,e,n,r){return{real:t*n-e*r,imag:t*r+e*n}}):this.broadcastedBinaryOp(t,e,J(t.dtype,e.dtype),function(t,e){return t*e})},t.prototype.realDivide=function(t,e){return this.assertNotComplex([t,e],"realDivide"),this.broadcastedBinaryOp(t,e,"float32",function(t,e){return t/e})},t.prototype.floorDiv=function(t,e){return this.assertNotComplex([t,e],"floorDiv"),this.broadcastedBinaryOp(t,e,"int32",function(t,e){return Math.floor(t/e)})},t.prototype.sum=function(t,e){this.assertNotComplex(t,"sum"),Ct("sum",e,t.rank);for(var n=wt(t.shape,e),r=n[1],i=Kt(n[0],J(t.dtype,"int32")),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=0,f=0;f<o;++f)c+=s[l+f];a[u]=c}return i},t.prototype.prod=function(t,e){this.assertNotComplex(t,"sum");for(var n=wt(t.shape,e),r=n[1],i=Kt(n[0],J(t.dtype,"int32")),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=1,f=0;f<o;++f)c*=s[l+f];a[u]=c}return i},t.prototype.unsortedSegmentSum=function(t,e,n){this.assertNotComplex(t,"unsortedSegmentSum");for(var r=[],i=t.rank-e.rank,o=0;o<i;++o)e=e.expandDims(o+1);for(o=0;o<n;++o){var a=Vt(o,"int32"),s=Xs(a,e).asType("float32").mul(t).sum(0);r.push(s)}return Oa(r)},t.prototype.argMin=function(t,e){this.assertNotComplex(t,"argMin");var n=[e];Ct("argMin",n,t.rank);for(var r=wt(t.shape,n),i=r[1],o=Kt(r[0],"int32"),a=b(i),s=o.dataSync(),u=t.dataSync(),l=0;l<s.length;++l){for(var c=l*a,f=u[c],p=0,d=0;d<a;++d){var h=u[c+d];h<f&&(f=h,p=d)}s[l]=p}return o},t.prototype.argMax=function(t,e){this.assertNotComplex(t,"argMax");var n=[e];Ct("argMax",n,t.rank);for(var r=wt(t.shape,n),i=r[1],o=Kt(r[0],"int32"),a=b(i),s=o.dataSync(),u=t.dataSync(),l=0;l<s.length;++l){for(var c=l*a,f=u[c],p=0,d=0;d<a;++d){var h=u[c+d];h>f&&(f=h,p=d)}s[l]=p}return o},t.prototype.cumsum=function(t,e,n,r){if(this.assertNotComplex(t,"cumsum"),e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+e);for(var i=J(t.dtype,"int32"),o=Kt(t.shape,i),a=o.dataSync(),s=t.dataSync(),u=t.shape[t.rank-1],l=r?function(t,e){return t+u-e-1}:function(t,e){return t+e},c=0;c<s.length;c+=u)for(var f=0;f<u;f++){var p=l(c,f);if(0===f)a[p]=n?0:s[p];else{var d=l(c,f-1);a[p]=n?s[d]+a[d]:s[p]+a[d]}}return o},t.prototype.equal=function(t,e){return this.assertNotComplex([t,e],"equal"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t===e?1:0})},t.prototype.notEqual=function(t,e){return this.assertNotComplex([t,e],"notEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t!==e?1:0})},t.prototype.less=function(t,e){return this.assertNotComplex([t,e],"less"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<e?1:0})},t.prototype.lessEqual=function(t,e){return this.assertNotComplex([t,e],"lessEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t<=e?1:0})},t.prototype.greater=function(t,e){return this.assertNotComplex([t,e],"greater"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>e?1:0})},t.prototype.greaterEqual=function(t,e){return this.assertNotComplex([t,e],"greaterEqual"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t>=e?1:0})},t.prototype.logicalNot=function(t){this.assertNotComplex(t,"logicalNot");for(var e=t.dataSync(),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return Lr.make(t.shape,{values:n},"bool")},t.prototype.logicalAnd=function(t,e){return this.assertNotComplex([t,e],"logicalAnd"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t&&e})},t.prototype.logicalOr=function(t,e){return this.assertNotComplex([t,e],"logicalOr"),this.broadcastedBinaryOp(t,e,"bool",function(t,e){return t||e})},t.prototype.select=function(t,e,n){this.assertNotComplex([t,e,n],"select");for(var r=t.dataSync(),i=e.dataSync(),o=n.dataSync(),a=Kt(e.shape,J(e.dtype,n.dtype)),s=a.dataSync(),u=0,l=0===t.rank||t.rank>1||1===e.rank?1:e.shape[1],c=0;c<r.length;c++)for(var f=0;f<l;f++)s[u++]=1===r[c]?i[c]:o[c];return a},t.prototype.where=function(t){this.assertNotComplex([t],"where");var e=t.dataSync();return Rn(t.shape,e)},t.prototype.topk=function(t,e,n){return this.assertNotComplex(t,"topk"),se(t.dataSync(),t.shape,t.dtype,e)},t.prototype.min=function(t,e){this.assertNotComplex(t,"min"),Ct("min",e,t.rank);for(var n=wt(t.shape,e),r=n[1],i=Kt(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f){var p=s[l+f];p<c&&(c=p)}a[u]=c}return i},t.prototype.minimum=function(t,e){return this.assertNotComplex([t,e],"minimum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.min(t,e)})},t.prototype.mod=function(t,e){return this.assertNotComplex([t,e],"mod"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})},t.prototype.max=function(t,e){this.assertNotComplex(t,"max"),Ct("max",e,t.rank);for(var n=wt(t.shape,e),r=n[1],i=Kt(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f){var p=s[l+f];p>c&&(c=p)}a[u]=c}return i},t.prototype.maximum=function(t,e){return this.assertNotComplex([t,e],"maximum"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.max(t,e)})},t.prototype.all=function(t,e){this.assertNotComplex(t,"all"),Ct("all",e,t.rank);for(var n=wt(t.shape,e),r=n[1],i=Kt(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f){c=c&&s[l+f]}a[u]=c}return i},t.prototype.any=function(t,e){this.assertNotComplex(t,"any"),Ct("any",e,t.rank);for(var n=wt(t.shape,e),r=n[1],i=Kt(n[0],t.dtype),o=b(r),a=i.dataSync(),s=t.dataSync(),u=0;u<a.length;++u){for(var l=u*o,c=s[l],f=0;f<o;++f){c=c||s[l+f]}a[u]=c}return i},t.prototype.squaredDifference=function(t,e){return this.assertNotComplex([t,e],"squaredDifference"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){var n=t-e;return n*n})},t.prototype.ceil=function(t){this.assertNotComplex(t,"ceil");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return Lr.make(t.shape,{values:n})},t.prototype.floor=function(t){this.assertNotComplex(t,"floor");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return Lr.make(t.shape,{values:n})},t.prototype.sign=function(t){this.assertNotComplex(t,"x");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=e[r]<0?-1:e[r]>0?1:0;return Lr.make(t.shape,{values:n})},t.prototype.round=function(t){this.assertNotComplex(t,"round");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=Math.floor(e[r]);n[r]=e[r]-i<.5?Math.floor(e[r]):e[r]-i>.5?Math.ceil(e[r]):i%2==0?i:i+1}return Lr.make(t.shape,{values:n})},t.prototype.exp=function(t){this.assertNotComplex(t,"exp");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return Lr.make(t.shape,{values:n})},t.prototype.expm1=function(t){this.assertNotComplex(t,"expm1");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return Lr.make(t.shape,{values:n})},t.prototype.log=function(t){this.assertNotComplex(t,"log");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.log(i)}return Lr.make(t.shape,{values:n})},t.prototype.log1p=function(t){this.assertNotComplex(t,"log1p");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.log1p(i)}return Lr.make(t.shape,{values:n})},t.prototype.sqrt=function(t){this.assertNotComplex(t,"sqrt");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=Math.sqrt(i)}return Lr.make(t.shape,{values:n})},t.prototype.rsqrt=function(t){this.assertNotComplex(t,"rsqrt");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=1/Math.sqrt(i)}return Lr.make(t.shape,{values:n})},t.prototype.square=function(t){this.assertNotComplex(t,"square");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r){var i=e[r];n[r]=i*i}return Lr.make(t.shape,{values:n})},t.prototype.reciprocal=function(t){this.assertNotComplex(t,"reciprocal");for(var e=t.dataSync(),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return Lr.make(t.shape,{values:n})},t.prototype.relu=function(t){this.assertNotComplex(t,"relu");for(var e=Kt(t.shape,t.dtype),n=e.dataSync(),r=t.dataSync(),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return e},t.prototype.elu=function(t){this.assertNotComplex(t,"elu");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r){var i=n[r];e[r]=i>=0?i:Math.exp(i)-1}return Lr.make(t.shape,{values:e})},t.prototype.eluDer=function(t,e){this.assertNotComplex([t,e],"eluDer");for(var n=new Float32Array(e.size),r=e.dataSync(),i=t.dataSync(),o=0;o<r.length;++o){var a=r[o];n[o]=a>=1?i[o]:i[o]*(a+1)}return Lr.make(e.shape,{values:n})},t.prototype.selu=function(t){this.assertNotComplex(t,"selu");for(var e=Ao,n=Mo,r=new Float32Array(t.size),i=t.dataSync(),o=0;o<i.length;++o){var a=i[o];r[o]=a>=0?n*a:e*(Math.exp(a)-1)}return Lr.make(t.shape,{values:r})},t.prototype.clip=function(t,e,n){this.assertNotComplex(t,"clip");for(var r=new Float32Array(t.size),i=t.dataSync(),o=0;o<i.length;++o){var a=i[o];r[o]=a>n?n:a<e?e:a}return Lr.make(t.shape,{values:r})},t.prototype.abs=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.complexAbs=function(t){for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<t.size;++r){var i=n[2*r],o=n[2*r+1];e[r]=Math.hypot(i,o)}return Lr.make(t.shape,{values:e})},t.prototype.int=function(t){this.assertNotComplex(t,"int");for(var e=new Int32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=n[r];return Lr.make(t.shape,{values:e},"int32")},t.prototype.sigmoid=function(t){this.assertNotComplex(t,"sigmoid");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return Lr.make(t.shape,{values:e})},t.prototype.softplus=function(t){this.assertNotComplex(t,"softplus");for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=t.dataSync(),i=0;i<r.length;++i){var o=r[i]>-e,a=r[i]<e,s=Math.exp(r[i]),u=void 0;u=a?s:o?r[i]:Math.log(1+s),n[i]=u}return Lr.make(t.shape,{values:n})},t.prototype.sin=function(t){this.assertNotComplex(t,"sin");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.cos=function(t){this.assertNotComplex(t,"cos");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.tan=function(t){this.assertNotComplex(t,"tan");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.asin=function(t){this.assertNotComplex(t,"asin");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.acos=function(t){this.assertNotComplex(t,"acos");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.atan=function(t){this.assertNotComplex(t,"atan");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.atan2=function(t,e){return this.assertNotComplex([t,e],"atan2"),this.broadcastedBinaryOp(t,e,t.dtype,function(t,e){return Math.atan2(t,e)})},t.prototype.sinh=function(t){this.assertNotComplex(t,"sinh");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.cosh=function(t){this.assertNotComplex(t,"cosh");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.tanh=function(t){this.assertNotComplex(t,"tanh");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=x(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.asinh=function(t){this.assertNotComplex(t,"asinh");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.acosh=function(t){this.assertNotComplex(t,"acosh");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.atanh=function(t){this.assertNotComplex(t,"atanh");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return Lr.make(t.shape,{values:e})},t.prototype.erf=function(t){this.assertNotComplex(t,"erf");for(var e=new Float32Array(t.size),n=t.dataSync(),r=0;r<n.length;++r){var i=n[r],o=1/(1+.3275911*i);e[r]=1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-i*i)}return Lr.make(t.shape,{values:e})},t.prototype.step=function(t,e){void 0===e&&(e=0),this.assertNotComplex(t,"step");for(var n=new Float32Array(t.size),r=t.dataSync(),i=0;i<r.length;++i){var o=r[i];n[i]=isNaN(o)?NaN:o>0?1:e}return Lr.make(t.shape,{values:n})},t.prototype.conv2d=function(t,e,n){this.assertNotComplex([t,e],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=Mn(n.outShape,t.dtype),c=t.dataSync(),f=e.dataSync(),p=l.values,d=0;d<n.batchSize;++d)for(var h=d*t.strides[0],m=d*l.strides[0],g=0;g<n.outHeight;++g)for(var v=m+g*l.strides[1],y=g*n.strideHeight-s,b=0;b<r;b++){var _=y+b*o;if(!(_<0||_>=n.inHeight))for(var w=b*e.strides[0],x=h+_*t.strides[1],E=0;E<n.outWidth;++E)for(var C=v+E*n.outChannels,S=E*n.strideWidth-u,O=0;O<i;O++){var k=S+O*a;if(!(k<0||k>=n.inWidth))for(var T=w+O*e.strides[1],P=x+k*n.inChannels,N=T,I=0;I<n.inChannels;++I){for(var A=c[P+I],M=0;M<n.outChannels;++M)p[C+M]+=A*f[N+M];N+=n.outChannels}}}return l.toTensor()},t.prototype.conv3d=function(t,e,n){for(var r=n.filterDepth,i=n.filterHeight,o=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,l=n.padInfo.front,c=n.padInfo.left,f=n.padInfo.top,p=Mn(n.outShape,t.dtype),d=t.dataSync(),h=e.dataSync(),m=p.values,g=0;g<n.batchSize;++g)for(var v=g*t.strides[0],y=g*p.strides[0],b=0;b<n.outDepth;++b)for(var _=y+b*p.strides[1],w=b*n.strideDepth-l,x=0;x<r;x++){var E=w+x*a;if(!(E<0||E>=n.inDepth))for(var C=x*e.strides[0],S=v+E*t.strides[1],O=0;O<n.outHeight;++O)for(var k=_+O*p.strides[2],T=O*n.strideHeight-f,P=0;P<i;P++){var N=T+P*s;if(!(N<0||N>=n.inHeight))for(var I=C+P*e.strides[1],A=S+N*t.strides[2],M=0;M<n.outWidth;++M)for(var D=k+M*n.outChannels,R=M*n.strideWidth-c,j=0;j<o;j++){var L=R+j*u;if(!(L<0||L>=n.inWidth))for(var z=I+j*e.strides[2],F=A+L*n.inChannels,B=z,V=0;V<n.inChannels;++V){for(var U=d[F+V],W=0;W<n.outChannels;++W)m[D+W]+=U*h[B+W];B+=n.outChannels}}}}return p.toTensor()},t.prototype.conv2dDerInput=function(t,e,n){this.assertNotComplex([t,e],"conv2dDerInput");for(var r=Mn(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=t.dataSync(),c=t.strides,f=c[0],p=c[1],d=c[2],h=e.dataSync(),m=e.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,_=n.filterHeight,w=n.filterWidth,x=n.inChannels,E=n.inHeight,C=n.inWidth,S=n.outChannels,O=n.outHeight,k=n.outWidth,T=n.strideHeight,P=n.strideWidth,N=_-1-n.padInfo.top,I=w-1-n.padInfo.left,A=0;A<b;++A)for(var M=0;M<x;++M)for(var D=0;D<E;++D)for(var R=D-N,j=Math.max(0,Math.ceil(R/T)),L=Math.min(O,(_+R)/T),z=0;z<C;++z){for(var F=z-I,B=Math.max(0,Math.ceil(F/P)),V=Math.min(k,(w+F)/P),U=0,W=j;W<L;++W)for(var q=W*T-R,H=B;H<V;++H)for(var G=f*A+p*W+d*H,$=g*(_-1-q)+v*(w-1-(H*P-F))+y*M,Y=0;Y<S;++Y)U+=l[G+Y]*h[$+Y];i[a*A+s*D+u*z+M]=U}return r.toTensor()},t.prototype.conv3dDerInput=function(t,e,n){for(var r=Mn(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=o[3],c=t.dataSync(),f=t.strides,p=f[0],d=f[1],h=f[2],m=f[3],g=e.dataSync(),v=e.strides,y=v[0],b=v[1],_=v[2],w=v[3],x=n.batchSize,E=n.filterDepth,C=n.filterHeight,S=n.filterWidth,O=n.inChannels,k=n.inDepth,T=n.inHeight,P=n.inWidth,N=n.outChannels,I=n.outDepth,A=n.outHeight,M=n.outWidth,D=n.strideDepth,R=n.strideHeight,j=n.strideWidth,L=E-1-n.padInfo.front,z=C-1-n.padInfo.top,F=S-1-n.padInfo.left,B=0;B<x;++B)for(var V=0;V<O;++V)for(var U=0;U<k;++U)for(var W=U-L,q=Math.max(0,Math.ceil(W/D)),H=Math.min(I,(E+W)/D),G=0;G<T;++G)for(var $=G-z,Y=Math.max(0,Math.ceil($/R)),K=Math.min(A,(C+$)/R),X=0;X<P;++X){for(var Z=X-F,J=Math.max(0,Math.ceil(Z/j)),Q=Math.min(M,(S+Z)/j),tt=0,et=q;et<H;++et)for(var nt=et*D-W,rt=Y;rt<K;++rt)for(var it=rt*R-$,ot=J;ot<Q;++ot)for(var at=p*B+d*et+h*rt+m*ot,st=y*(E-1-nt)+b*(C-1-it)+_*(S-1-(ot*j-Z))+w*V,ut=0;ut<N;++ut)tt+=c[at+ut]*g[st+ut];i[a*B+s*U+u*G+l*X+V]=tt}return r.toTensor()},t.prototype.conv2dDerFilter=function(t,e,n){this.assertNotComplex([t,e],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=Mn(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=0;c<o;++c)for(var f=Math.max(0,Math.ceil((l-c)/r)),p=Math.min(n.outHeight,(n.inHeight+l-c)/r),d=0;d<a;++d)for(var h=Math.max(0,Math.ceil((u-d)/i)),m=Math.min(n.outWidth,(n.inWidth+u-d)/i),g=0;g<n.inChannels;++g)for(var v=0;v<n.outChannels;++v){for(var y=0,b=0;b<n.batchSize;++b)for(var _=f;_<p;++_)for(var w=c+_*r-l,x=h;x<m;++x){y+=t.get(b,w,d+x*i-u,g)*e.get(b,_,x,v)}s.set(y,c,d,g,v)}return s.toTensor()},t.prototype.conv3dDerFilter=function(t,e,n){for(var r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=Mn(n.filterShape,"float32"),c=l.values,f=l.strides,p=f[0],d=f[1],h=f[2],m=f[3],g=e.dataSync(),v=e.strides,y=v[0],b=v[1],_=v[2],w=v[3],x=t.dataSync(),E=t.strides,C=E[0],S=E[1],O=E[2],k=E[3],T=n.padInfo.front,P=n.padInfo.left,N=n.padInfo.top,I=0;I<a;++I)for(var A=Math.max(0,Math.ceil((T-I)/r)),M=Math.min(n.outDepth,(n.inDepth+T-I)/r),D=I*p,R=0;R<s;++R)for(var j=Math.max(0,Math.ceil((N-R)/i)),L=Math.min(n.outHeight,(n.inHeight+N-R)/i),z=R*d+D,F=0;F<u;++F)for(var B=Math.max(0,Math.ceil((P-F)/o)),V=Math.min(n.outWidth,(n.inWidth+P-F)/o),U=F*h+z,W=0;W<n.inChannels;++W)for(var q=W*m+U,H=0;H<n.outChannels;++H){for(var G=0,$=0;$<n.batchSize;++$)for(var Y=$*C,K=$*y,X=A;X<M;++X)for(var Z=(I+X*r-T)*S+Y,J=X*b+K,Q=j;Q<L;++Q)for(var tt=(R+Q*i-N)*O+Z,et=Q*_+J,nt=B;nt<V;++nt){G+=x[(F+nt*o-P)*k+tt+W]*g[nt*w+et+H]}c[q+H]=G}return l.toTensor()},t.prototype.depthwiseConv2D=function(t,e,n){this.assertNotComplex([t,e],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=Mn(n.outShape,t.dtype),f=t.dataSync(),p=e.dataSync(),d=c.values,h=0;h<n.batchSize;++h)for(var m=h*t.strides[0],g=h*c.strides[0],v=0;v<n.outHeight;++v)for(var y=g+v*c.strides[1],b=v*n.strideHeight-s,_=0;_<r;++_){var w=b+_*o;if(!(w<0||w>=n.inHeight))for(var x=_*e.strides[0],E=m+w*t.strides[1],C=0;C<n.outWidth;++C)for(var S=y+C*c.strides[2],O=C*n.strideWidth-u,k=0;k<i;++k){var T=O+k*a;if(!(T<0||T>=n.inWidth))for(var P=x+k*e.strides[1],N=E+T*n.inChannels,I=S,A=P,M=0;M<n.inChannels;++M){for(var D=f[N+M],R=0;R<l;++R)d[I+R]+=D*p[A+R];I+=l,A+=l}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(t,e,n){this.assertNotComplex([t,e],"depthwiseConv2DDerInput");for(var r=Mn(n.inShape,"float32"),i=r.values,o=r.strides,a=o[0],s=o[1],u=o[2],l=t.dataSync(),c=t.strides,f=c[0],p=c[1],d=c[2],h=e.dataSync(),m=e.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,_=n.filterHeight,w=n.filterWidth,x=n.inChannels,E=n.inHeight,C=n.inWidth,S=n.outHeight,O=n.outWidth,k=n.strideHeight,T=n.strideWidth,P=_-1-n.padInfo.top,N=w-1-n.padInfo.left,I=n.outChannels/x,A=0;A<b;++A)for(var M=0;M<x;++M)for(var D=0;D<E;++D)for(var R=D-P,j=Math.max(0,Math.ceil(R/k)),L=Math.min(S,(_+R)/k),z=0;z<C;++z){for(var F=z-N,B=Math.max(0,Math.ceil(F/T)),V=Math.min(O,(w+F)/T),U=0,W=j;W<L;++W)for(var q=W*k-R,H=B;H<V;++H)for(var G=f*A+p*W+d*H,$=g*(_-1-q)+v*(w-1-(H*T-F))+y*M,Y=0;Y<I;++Y)U+=l[G+(M*I+Y)]*h[$+Y];i[a*A+s*D+u*z+M]=U}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(t,e,n){this.assertNotComplex([t,e],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=Mn(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,f=0;f<o;++f)for(var p=Math.max(0,Math.ceil((l-f)/r)),d=Math.min(n.outHeight,(n.inHeight+l-f)/r),h=0;h<a;++h)for(var m=Math.max(0,Math.ceil((u-h)/i)),g=Math.min(n.outWidth,(n.inWidth+u-h)/i),v=0;v<n.outChannels;++v){for(var y=Math.trunc(v/c),b=v%c,_=0,w=0;w<n.batchSize;++w)for(var x=p;x<d;++x)for(var E=f+x*r-l,C=m;C<g;++C){_+=t.get(w,E,h+C*i-u,y)*e.get(w,x,C,v)}s.set(_,f,h,y,b)}return s.toTensor()},t.prototype.tile=function(t,e){this.assertNotComplex(t,"tile");for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];var i=Mn(n,t.dtype),o=t.buffer();for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),s=new Array(t.rank),u=0;u<s.length;u++)s[u]=a[u]%t.shape[u];var l=o.locToIndex(s);i.values[r]=o.values[l]}return i.toTensor()},t.prototype.pad=function(t,e,n){this.assertNotComplex(t,"pad");var r=e.map(function(e,n){return e[0]+t.shape[n]+e[1]}),i=e.map(function(t){return t[0]}),o=t.buffer(),a=Mn(r,t.dtype);0!==n&&a.values.fill(n);for(var s=0;s<t.size;s++){var u=o.indexToLoc(s),l=u.map(function(t,e){return t+i[e]});a.set.apply(a,[t.get.apply(t,u)].concat(l))}return a.toTensor()},t.prototype.transpose=function(t,e){this.assertNotComplex(t,"transpose");for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[e[r]];var i=t.dataSync(),o=Mn(n,t.dtype),a=t.buffer();for(r=0;r<t.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[e[l]];var c=o.locToIndex(u);o.values[c]=i[r]}return o.toTensor()},t.prototype.gather=function(t,e,n){this.assertNotComplex([t,e],"gather");var r=t.shape.slice(),i=e.dataSync();r[n]=i.length;for(var o=Mn(r,t.dtype),a=t.buffer(),s=0;s<o.size;++s){var u=o.indexToLoc(s),l=u.slice();l[n]=i[u[n]];var c=a.locToIndex(l);o.values[s]=a.values[c]}return o.toTensor()},t.prototype.batchToSpaceND=function(t,e,n){this.assertNotComplex([t],"batchToSpaceND");var r=e.reduce(function(t,e){return t*e}),i=mt(t.shape,e,r),o=gt(i.length,e.length),a=vt(t.shape,e,r),s=yt(n,e.length),u=bt(a,n,e.length);return t.reshape(i).transpose(o).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(t,e,n){this.assertNotComplex([t],"spaceToBatchND");var r=e.reduce(function(t,e){return t*e}),i=[[0,0]];i.push.apply(i,n);for(var o=1+e.length;o<t.shape.length;++o)i.push([0,0]);var a=t.pad(i),s=mt(a.shape,e,r,!1),u=gt(s.length,e.length,!1),l=vt(a.shape,e,r,!1);return a.reshape(s).transpose(u).reshape(l)},t.prototype.pool=function(t,e,n){this.assertNotComplex(t,"pool");for(var r=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=e.padInfo.top,c=e.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=t.dataSync(),d=Mn(e.outShape,t.dtype),h=d.values,m=e.outShape[1]*e.outShape[2]*e.outShape[3],g=e.outShape[2]*e.outShape[3],v=e.outShape[3],y=0;y<e.batchSize;++y)for(var b=y*m,_=y*t.strides[0],w=0;w<e.inChannels;++w)for(var x=0;x<e.outHeight;++x)for(var E=x*r-l,C=Math.max(0,E),S=Math.min(e.inHeight,s+E),O=b+x*g,k=0;k<e.outWidth;++k){for(var T=k*i-c,P=Math.max(0,T),N=Math.min(e.inWidth,u+T),I=f,A=0,M=0,D=C;D<S;D+=o){for(var R=_+D*t.strides[1],j=P;j<N;j+=a){var L=p[R+j*t.strides[2]+w];"max"===n&&L>I?I=L:"avg"===n&&(A+=L,M++)}if(isNaN(I))break}h[O+k*v+w]="avg"===n?A/M:I}return d.toTensor()},t.prototype.maxPool=function(t,e){return this.pool(t,e,"max")},t.prototype.maxPoolPositions=function(t,e){for(var n=Mn(e.outShape,"int32"),r=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=e.padInfo.top,c=e.padInfo.left,f=0;f<e.batchSize;++f)for(var p=0;p<e.inChannels;++p)for(var d=0;d<e.outHeight;++d){for(var h=d*r-l,m=h;m<0;)m+=o;for(var g=Math.min(e.inHeight,s+h),v=0;v<e.outWidth;++v){for(var y=v*i-c,b=y;b<0;)b+=a;for(var _=Math.min(e.inWidth,u+y),w=Number.NEGATIVE_INFINITY,x=-1,E=m;E<g;E+=o)for(var C=E-h,S=b;S<_;S+=a){var O=S-y,k=t.get(f,E,S,p);k>w&&(w=k,x=C*u+O)}n.set(x,f,d,v,p)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(t,e,n,r){this.assertNotComplex([e,n],"maxPoolBackprop");for(var i=this.maxPoolPositions(e,r),o=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,l=r.effectiveFilterHeight,c=r.effectiveFilterWidth,f=c-1-r.padInfo.left,p=l-1-r.padInfo.top,d=Mn(e.shape,"float32"),h=0;h<r.batchSize;++h)for(var m=0;m<r.inChannels;++m)for(var g=0;g<r.inHeight;++g)for(var v=0;v<r.inWidth;++v){for(var y=g-p,b=v-f,_=0,w=0;w<l;w+=s){var x=(y+w)/o;if(!(x<0||x>=r.outHeight||Math.floor(x)!==x))for(var E=0;E<c;E+=u){var C=(b+E)/a;if(!(C<0||C>=r.outWidth||Math.floor(C)!==C)){var S=l*c-1-i.get(h,x,C,m)===w*c+E?1:0;0!==S&&(_+=t.get(h,x,C,m)*S)}}}d.set(_,h,g,v,m)}return d.toTensor()},t.prototype.avgPoolBackprop=function(t,e,n){this.assertNotComplex([t,e],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=c-1-n.padInfo.left,p=l-1-n.padInfo.top,d=Mn(e.shape,"float32"),h=1/(o*a),m=0;m<n.batchSize;++m)for(var g=0;g<n.inChannels;++g)for(var v=0;v<n.inHeight;++v)for(var y=0;y<n.inWidth;++y){for(var b=v-p,_=y-f,w=0,x=0;x<l;x+=s){var E=(b+x)/r;if(!(E<0||E>=n.outHeight||Math.floor(E)!==E))for(var C=0;C<c;C+=u){var S=(_+C)/i;S<0||S>=n.outWidth||Math.floor(S)!==S||(w+=t.get(m,E,S,g))}}d.set(w*h,m,v,y,g)}return d.toTensor()},t.prototype.cast=function(t,e){return Qt(t,e,this)},t.prototype.reshape=function(t,e){return te(t,e)},t.prototype.avgPool=function(t,e){return this.assertNotComplex(t,"avgPool"),this.pool(t,e,"avg").toFloat()},t.prototype.resizeBilinear=function(t,e,n,r){this.assertNotComplex(t,"resizeBilinear");for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=i[3],l=t.dataSync(),c=new Float32Array(b([o,e,n,u])),f=[r&&e>1?a-1:a,r&&n>1?s-1:s],p=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=0,h=f[0]/p[0],m=f[1]/p[1],g=0;g<o;g++)for(var v=0;v<e;v++)for(var y=h*v,_=Math.floor(y),w=y-_,x=Math.min(a-1,Math.ceil(y)),E=g*t.strides[0]+_*t.strides[1],C=g*t.strides[0]+x*t.strides[1],S=0;S<n;S++)for(var O=m*S,k=Math.floor(O),T=O-k,P=Math.min(s-1,Math.ceil(O)),N=E+k*t.strides[2],I=C+k*t.strides[2],A=E+ +P*t.strides[2],M=C+P*t.strides[2],D=0;D<u;D++){var R=l[N+D],j=l[I+D],L=R+(l[A+D]-R)*T;c[d++]=L+(j+(l[M+D]-j)*T-L)*w}return Bt(c,[o,e,n,u])},t.prototype.resizeBilinearBackprop=function(t,e,n){this.assertNotComplex([t,e],"resizeBilinearBackprop");for(var r=e.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=t.shape,l=u[1],c=u[2],f=new Float32Array(i*o*a*s),p=[n&&l>1?o-1:o,n&&c>1?a-1:a],d=[n&&l>1?l-1:l,n&&c>1?c-1:c],h=p[0]/d[0],m=p[1]/d[1],g=t.dataSync(),v=0,y=0;y<i;y++)for(var b=y*e.strides[0],_=0;_<l;_++)for(var w=_*h,x=Math.floor(w),E=Math.min(Math.ceil(w),o-1),C=b+x*e.strides[1],S=b+E*e.strides[1],O=w-x,k=1-O,T=0;T<c;T++)for(var P=T*m,N=Math.floor(P),I=Math.min(Math.ceil(P),a-1),A=P-N,M=1-A,D=C+N*e.strides[2],R=C+I*e.strides[2],j=S+N*e.strides[2],L=S+I*e.strides[2],z=k*M,F=k*A,B=O*M,V=O*A,U=0;U<s;U++){var W=g[v++];f[D+U]+=W*z,f[R+U]+=W*F,f[j+U]+=W*B,f[L+U]+=W*V}return Ht(f,[i,a,o,s],e.dtype)},t.prototype.resizeNearestNeighbor=function(t,e,n,r){this.assertNotComplex(t,"resizeNearestNeighbor");for(var i=t.shape,o=i[0],a=i[1],s=i[2],u=i[3],l=t.dataSync(),c=new Float32Array(o*e*n*u),f=[r&&e>1?a-1:a,r&&n>1?s-1:s],p=[r&&e>1?e-1:e,r&&n>1?n-1:n],d=f[0]/p[0],h=f[1]/p[1],m=0,g=0;g<o;g++)for(var v=g*t.strides[0],y=0;y<e;y++)for(var b=d*y,_=v+Math.min(a-1,r?Math.round(b):Math.floor(b))*t.strides[1],w=0;w<n;w++)for(var x=h*w,E=_+Math.min(s-1,r?Math.round(x):Math.floor(x))*t.strides[2],C=0;C<u;C++){c[m++]=l[E+C]}return Bt(c,[o,e,n,u],t.dtype)},t.prototype.resizeNearestNeighborBackprop=function(t,e,n){this.assertNotComplex([t,e],"resizeNearestNeighborBackprop");for(var r=e.shape,i=r[0],o=r[1],a=r[2],s=r[3],u=t.shape,l=u[1],c=u[2],f=new Float32Array(i*o*a*s),p=t.dataSync(),d=[n&&l>1?o-1:o,n&&c>1?a-1:a],h=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=d[0]/h[0],g=d[1]/h[1],v=1/m,y=1/g,b=2*Math.ceil(v)+2,_=2*Math.ceil(y)+2,w=0;w<i;w++)for(var x=w*e.strides[0],E=0;E<o;E++)for(var C=x+E*e.strides[1],S=Math.floor(E*v),O=Math.floor(S-b/2),k=0;k<a;k++)for(var T=C+k*e.strides[2],P=Math.floor(k*y),N=Math.floor(P-_/2),I=0;I<s;I++){for(var A=0,M=0;M<b;M++){var D=M+O;if(!(D<0||D>=l)){var R=x+D*t.strides[1],j=D*m;if(E===Math.min(o-1,n?Math.round(j):Math.floor(j)))for(var L=0;L<_;L++){var z=L+N;if(!(z<0||z>=c)){var F=R+z*t.strides[2],B=z*g;k===Math.min(a-1,n?Math.round(B):Math.floor(B))&&(A+=p[F+I])}}}}f[T+I]=A}return Ht(f,e.shape,e.dtype)},t.prototype.batchNormalization=function(t,e,n,r,i,o){this.assertNotComplex([t,e,n,i,o],"batchNormalization");for(var a=t.dataSync(),s=e.dataSync(),u=n.dataSync(),l=i?i.dataSync():new Float32Array([1]),c=o?o.dataSync():new Float32Array([0]),f=new Float32Array(a.length),p=c.length,d=l.length,h=u.length,m=s.length,g=0,v=0,y=0,b=0,_=0;_<a.length;++_)f[_]=c[g++]+(a[_]-s[v++])*l[y++]/Math.sqrt(u[b++]+r),g>=p&&(g=0),v>=m&&(v=0),y>=d&&(y=0),b>=h&&(b=0);return Ht(f,t.shape)},t.prototype.localResponseNormalization4D=function(t,e,n,r,i){function o(t){for(var n=t%a,r=t-n+Math.max(0,n-e),i=t-n+Math.min(n+e,s),o=0;r<=i;r++){var l=u[r];o+=l*l}return o}this.assertNotComplex(t,"localResponseNormalization4D");for(var a=t.shape[3],s=a-1,u=t.dataSync(),l=b(t.shape),c=new Float32Array(l),f=0;f<l;f++){var p=o(f),d=u[f]*Math.pow(n+r*p,-i);c[f]=d}return Ht(c,t.shape)},t.prototype.LRNGrad=function(t,e,n,r,i,o,a){this.assertNotComplex(t,"LRNGrad");for(var s=t.shape[3],u=t.dataSync(),l=e.dataSync(),c=n.dataSync(),f=new Float32Array(b(t.shape)),p=b(t.shape),d=0;d<p;d++){for(var h=d%s,m=d-h+Math.max(0,h-r),g=d-h+Math.min(s,h+r+1),v=0,y=m;y<g;y++)v+=Math.pow(l[y],2);for(v=o*v+i,y=m;y<g;y++){var _=-2*o*a*l[y]*c[d]/v;d===y&&(_+=Math.pow(v,-a)),f[y]+=_*=u[d]}}return Ht(f,t.shape)},t.prototype.multinomial=function(t,e,n,r){this.assertNotComplex(t,"multinomial");for(var i=e?t:ui(t),o=i.shape[0],a=i.shape[1],s=Kt([o,n],"int32"),u=s.dataSync(),l=i.dataSync(),c=0;c<o;++c){var f=c*a,p=new Float32Array(a-1);p[0]=l[f];for(var d=1;d<p.length;++d)p[d]=p[d-1]+l[f+d];for(var h=ra(r.toString()),m=c*n,g=0;g<n;++g){var v=h();u[m+g]=p.length;for(var y=0;y<p.length;y++)if(v<p[y]){u[m+g]=y;break}}}return s},t.prototype.oneHot=function(t,e,n,r){this.assertNotComplex(t,"oneHot");var i=new Float32Array(t.size*e);i.fill(r);for(var o=0;o<t.size;++o)t.get(o)>=0&&t.get(o)<e&&(i[o*e+t.get(o)]=n);return Wt(i,[t.size,e],"int32")},t.prototype.nonMaxSuppression=function(t,e,n,r,i){return this.assertNotComplex(t,"nonMaxSuppression"),oe(t.dataSync(),e.dataSync(),n,r,i)},t.prototype.fft=function(t){return this.fftBatch(t,!1)},t.prototype.ifft=function(t){return this.fftBatch(t,!0)},t.prototype.fftBatch=function(t,e){for(var n=t.shape[0],r=t.shape[1],i=Mn(t.shape,"float32"),o=Mn(t.shape,"float32"),a=fi(t).as2D(n,r),s=pi(t).as2D(n,r),u=0;u<n;u++)for(var l=a.slice([u,0],[1,r]),c=s.slice([u,0],[1,r]),f=ci(l,c),p=this.fftImpl(f,e).dataSync(),d=0;d<r;d++){var h=ne(p,d);i.values[u*r+d]=h.real,o.values[u*r+d]=h.imag}return ci(i.toTensor(),o.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(t,e){var n=t.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,e).as2D(t.shape[0],t.shape[1]);return e&&(i=ci(fi(i).div(Vt(r)),pi(i).div(Vt(r)))),i}var o=t.dataSync(),a=function(t){for(var e=new Float32Array(t.length/2),n=new Float32Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}(this.fourierTransformByMatmul(o,r,e));return ci(a.real,a.imag).as2D(t.shape[0],t.shape[1])},t.prototype.isExponentOf2=function(t){return 0==(t&t-1)},t.prototype.fftRadix2=function(t,e,n){if(1===e)return t;var r=t.dataSync(),i=e/2,o=function(t){for(var e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e),i=0;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}(r),a=ci(o.real,o.imag).as1D(),s=function(t){for(var e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e),i=2;i<t.length;i+=4)n[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:n,imag:r}}(r),u=ci(s.real,s.imag).as1D();a=this.fftRadix2(a,i,n),u=this.fftRadix2(u,i,n);var l=function(t,e){for(var n=new Float32Array(t/2),r=new Float32Array(t/2),i=0;i<Math.ceil(t/2);i++){var o=(e?2:-2)*Math.PI*(i/t);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}(e,n),c=ci(l.real,l.imag).mul(u),f=a.add(c),p=a.sub(c),d=fi(f).concat(fi(p)),h=pi(f).concat(pi(p));return ci(d,h).as1D()},t.prototype.fourierTransformByMatmul=function(t,e,n){for(var r=new Float32Array(2*e),i=0;i<e;i++){for(var o=0,a=0,s=0;s<e;s++){var u=ie(i*s,e,n),l=ne(t,s);o+=l.real*u.real-l.imag*u.imag,a+=l.real*u.imag+l.imag*u.real}n&&(o/=e,a/=e),re(r,o,a,i)}return r},t.prototype.depthToSpace=function(t,e,n){m("NHWC"===n,"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n),m(e>1,"blockSize should be > 1 for depthToSpace, but was: "+e);for(var r=t.shape[0],i=t.shape[1],o=t.shape[2],a=t.shape[3],s=i*e,u=o*e,l=a/(e*e),c=t.dataSync(),f=new Float32Array(r*s*u*l),p=0,d=0;d<r;++d)for(var h=0;h<s;++h)for(var g=Math.floor(h/e),v=h%e,y=0;y<u;++y)for(var b=Math.floor(y/e),_=(v*e+y%e)*l,w=0;w<l;++w){f[p++]=c[w+_+a*(b+o*(g+i*d))]}return Ht(f,[r,s,u,l])},t.prototype.broadcastedBinaryOp=function(t,e,n,r){var i=ce(t.shape,e.shape),o=Mn(i,n),a=t.dataSync(),s=e.dataSync(),u=ue(t.shape,i),l=ue(e.shape,i),c=o.values;if(u.length+l.length===0)for(var f=0;f<c.length;++f)c[f]=r(a[f%a.length],s[f%s.length]);else{var p=t.buffer(),d=e.buffer(),h=function(n){var i=o.indexToLoc(n),f=i.slice(-t.rank);u.forEach(function(t){return f[t]=0});var h=p.locToIndex(f),m=i.slice(-e.rank);l.forEach(function(t){return m[t]=0});var g=d.locToIndex(m);c[n]=r(a[h],s[g])};for(f=0;f<c.length;++f)h(f)}return o.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(t,e,n){var r=ce(t.shape,e.shape),i=Mn(r,"float32"),o=Mn(r,"float32"),a=t.dataSync(),s=e.dataSync(),u=ue(t.shape,r),l=ue(e.shape,r),c=i.values,f=o.values;if(u.length+l.length===0)for(var p=0;p<c.length;p++){var d=p%a.length,h=p%s.length,m=n(a[2*d],a[2*d+1],s[2*h],s[2*h+1]);c[p]=m.real,f[p]=m.imag}else{var g=this.data.get(t.dataId).complexTensors.real.buffer(),v=this.data.get(e.dataId).complexTensors.real.buffer(),y=function(r){var o=i.indexToLoc(r),p=o.slice(-t.rank);u.forEach(function(t){return p[t]=0});var d=g.locToIndex(p),h=o.slice(-e.rank);l.forEach(function(t){return h[t]=0});var m=v.locToIndex(h),y=n(a[2*d],a[2*d+1],s[2*m],s[2*m+1]);c[r]=y.real,f[r]=y.imag};for(p=0;p<c.length;p++)y(p)}return this.complex(i.toTensor(),o.toTensor())},t.prototype.split=function(t,e,n){return ae(t,e,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.cropAndResize=function(t,e,n,r,i,o){for(var a=t.shape,s=a[0],u=a[1],l=a[2],c=a[3],f=e.shape[0],p=r[0],d=r[1],h=Mn([f,p,d,c],t.dtype),m=e.dataSync(),g=n.dataSync(),v=t.dataSync(),y=t.strides,b=h.strides,_=0;_<f;_++){var w=4*_,x=m[w],E=m[w+1],C=m[w+2],S=m[w+3],O=g[_];if(!(O>=s))for(var k=p>1?(C-x)*(u-1)/(p-1):0,T=d>1?(S-E)*(l-1)/(d-1):0,P=0;P<p;P++){var N=p>1?x*(u-1)+P*k:.5*(x+C)*(u-1);if(N<0||N>u-1)for(var I=0;I<d;I++)for(var A=0;A<c;A++){var M=A+I*b[2]+P*b[1]+_*b[0];h.values[M]=o}else if("bilinear"===i){var D=Math.floor(N),R=Math.ceil(N),j=N-D;for(I=0;I<d;I++)if((H=d>1?E*(l-1)+I*T:.5*(E+S)*(l-1))<0||H>l-1)for(A=0;A<c;A++)h.values[M=A+I*b[2]+P*b[1]+_*b[0]]=o;else{var L=Math.floor(H),z=Math.ceil(H),F=H-L;for(A=0;A<c;A++){var B=v[M=A+L*y[2]+D*y[1]+O*y[0]],V=v[M=A+z*y[2]+D*y[1]+O*y[0]],U=v[M=A+L*y[2]+R*y[1]+O*y[0]],W=B+(V-B)*F,q=U+(v[M=A+z*y[2]+R*y[1]+O*y[0]]-U)*F;h.values[M=A+I*b[2]+P*b[1]+_*b[0]]=W+(q-W)*j}}}else for(I=0;I<d;++I){var H;if((H=d>1?E*(l-1)+I*T:.5*(E+S)*(l-1))<0||H>l-1)for(A=0;A<c;A++)h.values[M=A+I*b[2]+P*b[1]+_*b[0]]=o;else{var G=Math.round(H),$=Math.round(N);for(A=0;A<c;A++){h.values[A+I*b[2]+P*b[1]+_*b[0]]=v[A+G*y[2]+$*y[1]+O*y[0]]}}}}}return h.toTensor()},t.prototype.sparseToDense=function(t,e,n,r){var i=At(0,t,n);return this.scatter(t,e,n,i.outputSize,i.sliceSize,i.numUpdates,i.sliceRank,i.strides,r,!1)},t.prototype.gatherND=function(t,e){var n=e.shape,r=n[n.length-1],i=Pt(t,e),o=i[0],a=i[1],s=i[2],u=i[3];if(0===a)return Bt([],o,t.dtype);for(var l=new Dr([a,s],t.dtype),c=e.dataSync(),f=t.dataSync(),p=0;p<a;p++){for(var d=[],h=0,m=0;m<r;m++){var g=c[p*r+m];h+=g*u[m],d.push(g)}if(h<0||h>=t.size/s)throw new Error("Invalid indices: "+d+" does not index into "+t.shape);for(var v=0;v<s;v++)l.values[p*s+v]=f[h*s+v]}return l.toTensor().reshape(o)},t.prototype.scatterND=function(t,e,n){var r=At(0,t,n),i=r.sliceRank,o=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,l=Vt(0);return this.scatter(t,e,n,u,a,o,i,s,l,!0)},t.prototype.scatter=function(t,e,n,r,i,o,a,s,u,l){var c=[r/i,i],f=t.dataSync(),p=e.dataSync();if(0===r)return Bt([],n,e.dtype);var d=new Dr(c,e.dtype);d.values.fill(u.dataSync()[0]);for(var h=0;h<o;h++){for(var m=[],g=0,v=0;v<a;v++){var y=f[h*a+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<i;b++)l?d.values[g*i+b]+=p[h*i+b]:d.values[g*i+b]=0===e.rank?p[0]:p[h*i+b]}return d.toTensor().reshape(n)},t}();ti.registerBackend("cpu",function(){return new Cl},1,Z);var Sl="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:i,Ol={float32:4,int32:4,uint16:2,uint8:1,bool:1},kl=void 0!==o&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa),Tl=function(){function t(){this.saveRouters=[],this.loadRouters=[]}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerSaveRouter=function(e){t.getInstance().saveRouters.push(e)},t.registerLoadRouter=function(e){t.getInstance().loadRouters.push(e)},t.getSaveHandlers=function(e){return t.getHandlers(e,"save")},t.getLoadHandlers=function(e){return t.getHandlers(e,"load")},t.getHandlers=function(t,e){var n=[];return("load"===e?this.getInstance().loadRouters:this.getInstance().saveRouters).forEach(function(e){var r=e(t);null!==r&&n.push(r)}),n},t}(),Pl="://",Nl=function(){function t(){this.managers={}}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.registerManager=function(e,n){m(null!=e,"scheme must not be undefined or null."),e.endsWith(Pl)&&(e=e.slice(0,e.indexOf(Pl))),m(e.length>0,"scheme must not be an empty string.");var r=t.getInstance();m(null==r.managers[e],"A model store manager is already registered for scheme '"+e+"'."),r.managers[e]=n},t.getManager=function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '"+t+"'");return e},t.getSchemes=function(){return Object.keys(this.getInstance().managers)},t}(),Il="tensorflowjs",Al="models_store",Ml="model_info_store",Dl=function(){function t(t){if(this.indexedDB=pr(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return t.prototype.save=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},t.prototype.load=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},t.prototype.databaseAction=function(t,e){var n=this;return new Promise(function(t,r){var i=n.indexedDB.open(Il,1);i.onupgradeneeded=function(){return dr(i)},i.onsuccess=function(){var o=i.result;if(null==e){var a=o.transaction(Al,"readonly"),s=a.objectStore(Al).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));t(s.result.modelArtifacts)},s.onerror=function(t){return o.close(),r(s.error)},a.oncomplete=function(){return o.close()}}else{var u,l=lr(e),c=o.transaction(Ml,"readwrite"),f=c.objectStore(Ml),p=f.put({modelPath:n.modelPath,modelArtifactsInfo:l});p.onsuccess=function(){var i=(u=o.transaction(Al,"readwrite")).objectStore(Al).put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:l});i.onsuccess=function(){return t({modelArtifactsInfo:l})},i.onerror=function(t){var e=(f=c.objectStore(Ml)).delete(n.modelPath);e.onsuccess=function(){return o.close(),r(i.error)},e.onerror=function(t){return o.close(),r(i.error)}}},p.onerror=function(t){return o.close(),r(p.error)},c.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},i.onerror=function(t){return r(i.error)}})},t.URL_SCHEME="indexeddb://",t}(),Rl=function(t){return ti.get("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Dl.URL_SCHEME)?function(t){return new Dl(t)}(t.slice(Dl.URL_SCHEME.length)):null};Tl.registerSaveRouter(Rl),Tl.registerLoadRouter(Rl);var jl=function(){function t(){this.indexedDB=pr()}return t.prototype.listModels=function(){return s(this,void 0,void 0,function(){var t=this;return u(this,function(e){return[2,new Promise(function(e,n){var r=t.indexedDB.open(Il,1);r.onupgradeneeded=function(){return dr(r)},r.onsuccess=function(){var t=r.result,i=t.transaction(Ml,"readonly"),o=i.objectStore(Ml).getAll();o.onsuccess=function(){for(var t={},n=0,r=o.result;n<r.length;n++){var i=r[n];t[i.modelPath]=i.modelArtifactsInfo}e(t)},o.onerror=function(e){return t.close(),n(o.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(t){return n(r.error)}})]})})},t.prototype.removeModel=function(t){return s(this,void 0,void 0,function(){var e=this;return u(this,function(n){return t=function(t){return t.startsWith(Dl.URL_SCHEME)?t.slice(Dl.URL_SCHEME.length):t}(t),[2,new Promise(function(n,r){var i=e.indexedDB.open(Il,1);i.onupgradeneeded=function(){return dr(i)},i.onsuccess=function(){var e,o=i.result,a=o.transaction(Ml,"readwrite"),s=a.objectStore(Ml),u=s.get(t);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var i=s.delete(t),a=function(){var i=(e=o.transaction(Al,"readwrite")).objectStore(Al).delete(t);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(t){return r(u.error)}};i.onsuccess=a,i.onerror=function(t){return a(),o.close(),r(u.error)}},u.onerror=function(t){return o.close(),r(u.error)},a.oncomplete=function(){null==e?o.close():e.oncomplete=function(){return o.close()}}},i.onerror=function(t){return r(i.error)}})]})})},t}();if(ti.get("IS_BROWSER"))try{Nl.registerManager(Dl.URL_SCHEME,new jl)}catch(t){}var Ll="/",zl="tensorflowjs_models",Fl="info",Bl="model_topology",Vl="weight_specs",Ul="weight_data",Wl=function(){function t(t){if(!ti.get("IS_BROWSER")||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=hr(this.modelPath)}return t.prototype.save=function(t){return s(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(a){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");e=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),r=lr(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,e),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(t){return kl?o.from(t).toString("base64"):btoa(String.fromCharCode.apply(null,new Uint8Array(t)))}(t.weightData)),[2,{modelArtifactsInfo:r}]}catch(t){for(i in this.keys)this.LS.removeItem(this.keys[i]);throw new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]})})},t.prototype.load=function(){return s(this,void 0,void 0,function(){var t,e,n,r,i;return u(this,function(a){if(null==(t=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==t.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(e={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(e.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(e.weightSpecs=r,null==(i=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return e.weightData=function(t){if(kl){var e=o.from(t,"base64");return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}for(var n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(i),[2,e]})})},t.URL_SCHEME="localstorage://",t}(),ql=function(t){return ti.get("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Wl.URL_SCHEME)?function(t){return new Wl(t)}(t.slice(Wl.URL_SCHEME.length)):null};Tl.registerSaveRouter(ql),Tl.registerLoadRouter(ql);var Hl=function(){function t(){m(ti.get("IS_BROWSER"),"Current environment is not a web browser"),m(void 0!==window.localStorage,"Current browser does not appear to support localStorage"),this.LS=window.localStorage}return t.prototype.listModels=function(){return s(this,void 0,void 0,function(){var t,e,n,r,i,o;return u(this,function(a){for(t={},e=zl+Ll,n=Ll+Fl,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(e)&&i.endsWith(n)&&(o=mr(i),t[o]=JSON.parse(this.LS.getItem(i)));return[2,t]})})},t.prototype.removeModel=function(t){return s(this,void 0,void 0,function(){var e,n;return u(this,function(r){if(t=function(t){return t.startsWith(Wl.URL_SCHEME)?t.slice(Wl.URL_SCHEME.length):t}(t),e=hr(t),null==this.LS.getItem(e.info))throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(e.info)),this.LS.removeItem(e.info),this.LS.removeItem(e.topology),this.LS.removeItem(e.weightSpecs),this.LS.removeItem(e.weightData),[2,n]})})},t}();if(ti.get("IS_BROWSER"))try{Nl.registerManager(Wl.URL_SCHEME,new Hl)}catch(t){}var Gl="model",$l=".json",Yl=".weights.bin",Kl=function(){function t(e){if(!ti.get("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e=Gl),this.modelTopologyFileName=e+$l,this.weightDataFileName=e+Yl}return t.prototype.save=function(t){return s(this,void 0,void 0,function(){var e,n,r,i,o,a;return u(this,function(s){if(e=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");return n=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,o.click(),null!=t.weightData&&((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=e,a.click()),[2,{modelArtifactsInfo:lr(t)}]})})},t.URL_SCHEME="downloads://",t}(),Xl=function(){function t(t){if(null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return t.prototype.load=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return u(this,function(r){return t=this.files[0],e=this.files.slice(1),[2,new Promise(function(r,i){var o=new FileReader;o.onload=function(o){var a=JSON.parse(o.target.result),s=a.modelTopology;if(null!=s){0===e.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,e)}catch(t){return void i(t)}var c=[],f=[],p=[];u.forEach(function(t){t.paths.forEach(function(t){f.push(t),p.push(null)}),c.push.apply(c,t.weights)}),u.forEach(function(t){t.paths.forEach(function(t){var e=new FileReader;e.onload=function(e){var n=e.target.result,i=f.indexOf(t);p[i]=n,-1===p.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:sr(p)})},e.onerror=function(e){return i("Failed to weights data from file of path '"+t+"'.")},e.readAsArrayBuffer(l[t])})})}else i(new Error("weightManifest field is missing from file "+t.name))}else i(new Error("modelTopology field is missing from file "+t.name))},o.onerror=function(e){return i("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(t)})]})})},t.prototype.checkManifestAndWeightFiles=function(t,e){for(var n=[],r=e.map(function(t){return ur(t.name)}),i={},o=0,a=t;o<a.length;o++)a[o].paths.forEach(function(t){var o=ur(t);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: '"+o+"'");if(n.push(o),-1===r.indexOf(o))throw new Error("Weight file with basename '"+o+"' is not provided.");i[t]=e[r.indexOf(o)]});if(n.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+e.length+").");return i},t}();Tl.registerSaveRouter(function(t){return ti.get("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Kl.URL_SCHEME)?function(t){return void 0===t&&(t="model"),new Kl(t)}(t.slice(Kl.URL_SCHEME.length)):null});var Zl=function(){function t(t,e,n,r){if(this.weightPathPrefix=n,this.DEFAULT_METHOD="POST",null==r){if("undefined"==typeof fetch)throw new Error("browserHTTPRequest is not supported outside the web browser without a fetch polyfill.");this.fetchFunc=fetch.bind("undefined"==typeof window?null:window)}else m("function"==typeof r,"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetchFunc=r;if(m(null!=t&&t.length>0,"URL path for browserHTTPRequest must not be null, undefined or empty."),Array.isArray(t)&&m(2===t.length,"URL paths for browserHTTPRequest must have a length of 2, (actual length is "+t.length+")."),this.path=t,null!=e&&null!=e.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=e||{}}return t.prototype.save=function(t){return s(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(e=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],r={modelTopology:t.modelTopology,weightsManifest:n},e.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=t.weightData&&e.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.getFetchFunc()(this.path,e)];case 1:if((i=o.sent()).ok)return[2,{modelArtifactsInfo:lr(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},t.prototype.load=function(){return s(this,void 0,void 0,function(){return u(this,function(t){return[2,Array.isArray(this.path)?this.loadBinaryModel():this.loadJSONModel()]})})},t.prototype.loadBinaryTopology=function(){return s(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.getFetchFunc()(this.path[0],this.requestInit)];case 1:if(!(t=n.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+t.statusText);return[4,t.arrayBuffer()];case 2:return[2,n.sent()];case 3:throw e=n.sent(),new Error(this.path[0]+" not found. "+e);case 4:return[2]}})})},t.prototype.loadBinaryModel=function(){return s(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:return t=this.loadBinaryTopology(),[4,this.getFetchFunc()(this.path[1],this.requestInit)];case 1:if(!(e=u.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+e.statusText);return[4,Promise.all([t,e])];case 2:return n=u.sent(),r=n[0],[4,n[1].json()];case 3:return null==(i=u.sent())?[3,5]:[4,this.loadWeights(i)];case 4:s=u.sent(),o=s[0],a=s[1],u.label=5;case 5:return[2,{modelTopology:r,weightSpecs:o,weightData:a}]}})})},t.prototype.loadJSONModel=function(){return s(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:return[4,this.getFetchFunc()(this.path,this.requestInit)];case 1:if(!(t=u.sent()).ok)throw new Error("BrowserHTTPRequest.load() failed due to HTTP response: "+t.statusText);return[4,t.json()];case 2:if(e=u.sent(),n=e.modelTopology,r=e.weightsManifest,null==n&&null==r)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==r?[3,4]:(a=e.weightsManifest,[4,this.loadWeights(a)]);case 3:s=u.sent(),i=s[0],o=s[1],u.label=4;case 4:return[2,{modelTopology:n,weightSpecs:i,weightData:o}]}})})},t.prototype.loadWeights=function(t){return s(this,void 0,void 0,function(){var e,n,r,i,o,a,s,l,c,f,p,d;return u(this,function(u){switch(u.label){case 0:for(e=Array.isArray(this.path)?this.path[1]:this.path,n=function(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("?");return[t.substring(0,e)+"/",n>e?t.substring(n):""]}(e),r=n[0],i=n[1],o=this.weightPathPrefix||r,a=[],s=0,l=t;s<l.length;s++)c=l[s],a.push.apply(a,c.weights);return f=[],t.forEach(function(t){t.paths.forEach(function(t){f.push(o+t+i)})}),p=[a],d=sr,[4,gr(f,this.requestInit,this.getFetchFunc())];case 1:return[2,p.concat([d.apply(void 0,[u.sent()])])]}})})},t.prototype.getFetchFunc=function(){return this.fetchFunc},t.URL_SCHEME_REGEX=/^https?:\/\//,t}(),Jl=function(t){return"undefined"==typeof fetch?null:(Array.isArray(t)?t.every(function(t){return yr(t)}):yr(t))?br(t):null};Tl.registerSaveRouter(Jl),Tl.registerLoadRouter(Jl);var Ql=function(){function t(t,e,n){this.modelTopology=t,this.weightSpecs=e,this.weightData=n}return t.prototype.load=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(e){return t={},null!=this.modelTopology&&(t=Sr({modelTopology:this.modelTopology},t)),null!=this.weightSpecs&&this.weightSpecs.length>0&&(t=Sr({weightSpecs:this.weightSpecs},t)),null!=this.weightData&&this.weightData.byteLength>0&&(t=Sr({weightData:this.weightData},t)),[2,t]})})},t}(),tc=function(){function t(t){this.saveHandler=t}return t.prototype.save=function(t){return s(this,void 0,void 0,function(){return u(this,function(e){return[2,this.saveHandler(t)]})})},t}(),ec=Tl.registerSaveRouter,nc=Tl.registerLoadRouter,rc=Tl.getSaveHandlers,ic=Tl.getLoadHandlers,oc=Object.freeze({browserFiles:function(t){return new Xl(t)},browserHTTPRequest:br,concatenateArrayBuffers:sr,decodeWeights:or,encodeWeights:function(t){return s(this,void 0,void 0,function(){var e,n,r,i;return u(this,function(o){switch(o.label){case 0:for(r in e=[],n=[],t){if("float32"!==(i=t[r]).dtype&&"int32"!==i.dtype&&"bool"!==i.dtype)throw new Error("Unsupported dtype in weight '"+r+"': "+i.dtype);e.push({name:r,shape:i.shape,dtype:i.dtype}),n.push(i.data())}return[4,Promise.all(n)];case 1:return[2,{data:function(t){if(null===t)throw new Error("Invalid input value: "+JSON.stringify(t));var e=0,n=[];t.forEach(function(t){if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+t.constructor.name)});var r=new Uint8Array(e),i=0;return n.forEach(function(t){r.set(new Uint8Array(t.buffer),i),i+=t.byteLength}),r.buffer}(o.sent()),specs:e}]}})})},fromMemory:function(t,e,n){return new Ql(t,e,n)},getLoadHandlers:ic,getModelArtifactsInfoForJSON:lr,getSaveHandlers:rc,isHTTPScheme:yr,loadWeights:function(t,e,n,r){return void 0===e&&(e=""),s(this,void 0,void 0,function(){return u(this,function(i){return[2,vr(function(t){return gr(t,r)})(t,e,n)]})})},registerLoadRouter:nc,registerSaveRouter:ec,weightsLoaderFactory:vr,withSaveHandler:function(t){return new tc(t)},copyModel:function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,fr(t,e,!1)];case 1:return[2,n.sent()]}})})},listModels:function(){return s(this,void 0,void 0,function(){var t,e,n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:t=Nl.getSchemes(),e={},n=0,r=t,s.label=1;case 1:return n<r.length?(i=r[n],[4,Nl.getManager(i).listModels()]):[3,4];case 2:for(a in o=s.sent())e[i+Pl+a]=o[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,e]}})})},moveModel:function(t,e){return s(this,void 0,void 0,function(){return u(this,function(n){switch(n.label){case 0:return[4,fr(t,e,!0)];case 1:return[2,n.sent()]}})})},removeModel:function(t){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return e=cr(t),[4,Nl.getManager(e.scheme).removeModel(e.path)];case 1:return[2,n.sent()]}})})}}),ac=Ft({confusionMatrix_:function(t,e,n){var r=Lt(t,"labels","confusionMatrix"),i=Lt(e,"predictions","confusionMatrix");m(null==n||n>0&&Number.isInteger(n),"If provided, numClasses must be a positive integer, but got "+n),m(1===r.rank,"Expected the rank of labels to be 1, but got "+r.rank),m(1===i.rank,"Expected the rank of predictions to be 1, but got "+i.rank),m(r.shape[0]===i.shape[0],"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."),m(n>0&&Number.isInteger(n),"numClasses is required to be a positive integer, but got "+n);var o=ha(r.asType("int32"),n),a=ha(i.asType("int32"),n);return o.transpose().matMul(a).asType("int32")}}),sc=Object.freeze({confusionMatrix:ac}),uc=function(){function t(){}return t.prototype.getClassName=function(){return this.constructor.className},t.fromConfig=function(t,e){return new t(e)},t}(),lc=function(){function t(){this.classNameMap={}}return t.getMap=function(){return null==t.instance&&(t.instance=new t),t.instance},t.register=function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]},t}(),cc=Object.freeze({Serializable:uc,SerializationMap:lc,registerClass:_r}),fc=Object.freeze({WEBGL_ENVS:{HAS_WEBGL:!0},NODE_ENVS:{IS_NODE:!0},CHROME_ENVS:{IS_CHROME:!0},BROWSER_ENVS:{IS_BROWSER:!0},CPU_ENVS:{HAS_WEBGL:!1},ALL_ENVS:{},expectArraysClose:wr,expectPromiseToFail:function(t,e){t().then(function(){return e.fail()},function(){return e()})},expectArraysEqual:function(t,e){return t instanceof Lr&&"string"===t.dtype||e instanceof Lr&&"string"===e.dtype||t instanceof Array&&j(t[0])||e instanceof Array&&j(e[0])?xr(t,e,function(t,e){return t==e}):wr(t,e,0)},expectNumbersClose:function(t,e,n){if(null==n&&(n=ti.get("TEST_EPSILON")),!Er(t,e,n))throw new Error("Numbers differ: actual === "+t+", expected === "+e)},expectValuesInRange:function(t,e,n){var r;r=t instanceof Lr?t.dataSync():t;for(var i=0;i<r.length;i++)if(r[i]<e||r[i]>n)throw new Error("Value out of range:"+r[i]+" low: "+e+", high: "+n)},expectArrayBuffersEqual:function(t,e){expect(new Float32Array(t)).toEqual(new Float32Array(e))}}),pc="0.14.2",dc=Object.freeze({gpgpu_util:ro,webgl_util:no,MathBackendWebGL:Aa,GPGPUContext:io}),hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.minimize=function(t,e,n){void 0===e&&(e=!1);var r=this.computeGradients(t,n),i=r.value,o=r.grads;return this.applyGradients(o),Object.keys(o).forEach(function(t){return o[t].dispose()}),e?i:(i.dispose(),null)},e.prototype.computeGradients=function(t,e){return ft(t,e)},e}(uc),mc=function(t){function e(e,n,r){void 0===r&&(r=null);var i=t.call(this)||this;return i.learningRate=e,i.rho=n,i.epsilon=r,i.accumulatedGrads={},i.accumulatedUpdates={},i.c=ri(Vt(-e)),i.rhoScalar=ri(Vt(n)),i.oneMinusRho=ri(Vt(1-n)),null===r&&(r=ti.get("EPSILON")),i.epsilonScalar=ri(Vt(r)),i}return a(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=ti.engine.registeredVariables[n];null==r.accumulatedGrads[n]&&ni(function(){e.accumulatedGrads[n]=hi(i).variable(!1)}),null==r.accumulatedUpdates[n]&&ni(function(){e.accumulatedUpdates[n]=hi(i).variable(!1)});var o=t[n],a=r.accumulatedGrads[n],s=r.accumulatedUpdates[n];ni(function(){var t=e.rhoScalar.mul(a).add(e.oneMinusRho.mul(o.square())),r=s.add(e.epsilonScalar).sqrt().div(a.add(e.epsilonScalar).sqrt()).mul(o),u=e.rhoScalar.mul(s).add(e.oneMinusRho.mul(r.square()));e.accumulatedGrads[n].assign(t),e.accumulatedUpdates[n].assign(u);var l=e.c.mul(r).add(i);i.assign(l)})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.rhoScalar.dispose(),this.oneMinusRho.dispose(),null!=this.accumulatedUpdates&&(Object.keys(this.accumulatedUpdates).forEach(function(e){return t.accumulatedUpdates[e].dispose()}),Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.rho,e.epsilon)},e.className="AdadeltaOptimizer",e}(hc);_r(mc);var gc=function(t){function e(e,n){void 0===n&&(n=.1);var r=t.call(this)||this;return r.learningRate=e,r.initialAccumulatorValue=n,r.accumulatedGrads={},r.c=ri(Vt(-e)),r.epsilon=ri(Vt(ti.get("EPSILON"))),r}return a(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=ti.engine.registeredVariables[n];null==r.accumulatedGrads[n]&&ni(function(){e.accumulatedGrads[n]=Xt(i.shape,e.initialAccumulatorValue).variable(!1)});var o=t[n],a=r.accumulatedGrads[n];ni(function(){var t=a.add(o.square());e.accumulatedGrads[n].assign(t);var r=e.c.mul(o.div(t.add(e.epsilon).sqrt())).add(i);i.assign(r)})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){var t=this;this.epsilon.dispose(),this.c.dispose(),null!=this.accumulatedGrads&&Object.keys(this.accumulatedGrads).forEach(function(e){return t.accumulatedGrads[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)},e.className="AdagradOptimizer",e}(hc);_r(gc);var vc=function(t){function e(e,n,r,i){void 0===i&&(i=null);var o=t.call(this)||this;return o.learningRate=e,o.beta1=n,o.beta2=r,o.epsilon=i,o.accumulatedFirstMoment={},o.accumulatedSecondMoment={},o.c=ri(Vt(-e)),o.beta1Scalar=ri(Vt(n)),o.beta2Scalar=ri(Vt(r)),ni(function(){o.accBeta1=Vt(n).variable(),o.accBeta2=Vt(r).variable()}),o.oneMinusBeta1=ri(Vt(1-n)),o.oneMinusBeta2=ri(Vt(1-r)),o.one=ri(Vt(1)),null===i&&(i=ti.get("EPSILON")),o.epsScalar=ri(Vt(i)),o}return a(e,t),e.prototype.applyGradients=function(t){var e=this;ni(function(){var n=e.one.sub(e.accBeta1),r=e.one.sub(e.accBeta2);for(var i in t){var o=ti.engine.registeredVariables[i];if(null==e.accumulatedFirstMoment[i]){var a=!1;e.accumulatedFirstMoment[i]=hi(o).variable(a)}null==e.accumulatedSecondMoment[i]&&(a=!1,e.accumulatedSecondMoment[i]=hi(o).variable(a));var s=t[i],u=e.accumulatedSecondMoment[i],l=e.beta1Scalar.mul(e.accumulatedFirstMoment[i]).add(e.oneMinusBeta1.mul(s)),c=e.beta2Scalar.mul(u).add(e.oneMinusBeta2.mul(s.square())),f=l.div(n),p=c.div(r);e.accumulatedFirstMoment[i].assign(l),e.accumulatedSecondMoment[i].assign(c);var d=e.c.mul(f.div(e.epsScalar.add(p.sqrt()))).add(o);o.assign(d)}e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar)),e.accBeta2.assign(e.accBeta2.mul(e.beta2Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.accBeta1.dispose(),this.accBeta2.dispose(),this.oneMinusBeta1.dispose(),this.oneMinusBeta2.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedSecondMoment&&Object.keys(this.accumulatedSecondMoment).forEach(function(e){return t.accumulatedSecondMoment[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)},e.className="AdamOptimizer",e}(hc);_r(vc);var yc=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=0);var a=t.call(this)||this;return a.learningRate=e,a.beta1=n,a.beta2=r,a.epsilon=i,a.decay=o,a.accumulatedFirstMoment={},a.accumulatedWeightedInfNorm={},a.c=ri(Vt(-e)),a.beta1Scalar=ri(Vt(n)),a.beta2Scalar=ri(Vt(r)),a.decayScalar=ri(Vt(o)),ni(function(){a.iteration=Vt(0).variable(),a.accBeta1=Vt(n).variable()}),a.oneMinusBeta1=ri(Vt(1-n)),a.one=ri(Vt(1)),null===i&&(i=ti.get("EPSILON")),a.epsScalar=ri(Vt(i)),a}return a(e,t),e.prototype.applyGradients=function(t){var e=this;ni(function(){var n=e.one.sub(e.accBeta1),r=e.c.div(e.one.add(e.decayScalar.mul(e.iteration)));for(var i in t){var o=ti.engine.registeredVariables[i];if(null==e.accumulatedFirstMoment[i]){var a=!1;e.accumulatedFirstMoment[i]=hi(o).variable(a)}null==e.accumulatedWeightedInfNorm[i]&&(a=!1,e.accumulatedWeightedInfNorm[i]=hi(o).variable(a));var s=t[i],u=e.accumulatedWeightedInfNorm[i],l=e.beta1Scalar.mul(e.accumulatedFirstMoment[i]).add(e.oneMinusBeta1.mul(s)),c=e.beta2Scalar.mul(u),f=s.abs(),p=c.maximum(f);e.accumulatedFirstMoment[i].assign(l),e.accumulatedWeightedInfNorm[i].assign(p);var d=r.div(n).mul(l.div(e.epsScalar.add(p))).add(o);o.assign(d)}e.iteration.assign(e.iteration.add(e.one)),e.accBeta1.assign(e.accBeta1.mul(e.beta1Scalar))})},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsScalar.dispose(),this.accBeta1.dispose(),this.beta1Scalar.dispose(),this.beta2Scalar.dispose(),this.oneMinusBeta1.dispose(),this.decayScalar.dispose(),this.iteration.dispose(),this.one.dispose(),null!=this.accumulatedFirstMoment&&Object.keys(this.accumulatedFirstMoment).forEach(function(e){return t.accumulatedFirstMoment[e].dispose()}),null!=this.accumulatedWeightedInfNorm&&Object.keys(this.accumulatedWeightedInfNorm).forEach(function(e){return t.accumulatedWeightedInfNorm[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)},e.className="AdamaxOptimizer",e}(hc);_r(yc);var bc=function(t){function e(e){var n=t.call(this)||this;return n.learningRate=e,n.setLearningRate(e),n}return a(e,t),e.prototype.applyGradients=function(t){var e=this;Object.keys(t).forEach(function(n){var r=t[n],i=ti.engine.registeredVariables[n];ni(function(){var t=e.c.mul(r).add(i);i.assign(t)})})},e.prototype.setLearningRate=function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=ri(Vt(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,e){return new t(e.learningRate)},e.className="SGDOptimizer",e}(hc);_r(bc);var _c=function(t){function e(e,n,r){void 0===r&&(r=!1);var i=t.call(this,e)||this;return i.learningRate=e,i.momentum=n,i.useNesterov=r,i.m=Vt(i.momentum),i.accumulations={},i}return a(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=ti.engine.registeredVariables[n];null==r.accumulations[n]&&ni(function(){e.accumulations[n]=hi(i).variable(!1)});var o=r.accumulations[n],a=t[n];ni(function(){var t,r=e.m.mul(o).add(a);t=e.useNesterov?e.c.mul(a.add(r.mul(e.m))).add(i):e.c.mul(r).add(i),e.accumulations[n].assign(r),i.assign(t)})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){if(t.prototype.dispose.call(this),this.m.dispose(),null!=this.accumulations)for(var e in this.accumulations)this.accumulations[e].dispose()},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)},e.className="MomentumOptimizer",e}(bc);_r(_c);var wc=function(t){function e(e,n,r,i,o){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===o&&(o=!1);var a=t.call(this)||this;return a.learningRate=e,a.decay=n,a.momentum=r,a.epsilon=i,a.accumulatedMeanSquares={},a.accumulatedMeanGrads={},a.accumulatedMoments={},a.c=ri(Vt(e)),a.decayScalar=ri(Vt(n)),a.momentumScalar=ri(Vt(r)),a.oneMinusDecay=ri(Vt(1-n)),a.centered=o,null===i&&(i=ti.get("EPSILON")),a.epsilonScalar=ri(Vt(i)),a}return a(e,t),e.prototype.applyGradients=function(t){var e=this,n=function(n){var i=ti.engine.registeredVariables[n];null==r.accumulatedMeanSquares[n]&&ni(function(){e.accumulatedMeanSquares[n]=hi(i).variable(!1)}),null==r.accumulatedMeanGrads[n]&&r.centered&&ni(function(){e.accumulatedMeanGrads[n]=hi(i).variable(!1)}),null==r.accumulatedMoments[n]&&ni(function(){e.accumulatedMoments[n]=hi(i).variable(!1)});var o=r.accumulatedMeanSquares[n],a=r.accumulatedMeanGrads[n],s=r.accumulatedMoments[n],u=t[n];ni(function(){var t=e.decayScalar.mul(o).add(e.oneMinusDecay.mul(u.square()));if(e.centered){var r=e.decayScalar.mul(a).add(e.oneMinusDecay.mul(u)),l=e.momentumScalar.mul(s).add(e.c.mul(u).div(t.sub(r.square().add(e.epsilonScalar)).sqrt()));e.accumulatedMeanSquares[n].assign(t),e.accumulatedMeanGrads[n].assign(r),e.accumulatedMoments[n].assign(l);var c=i.sub(l);i.assign(c)}else{var f=e.decayScalar.mul(o).add(e.oneMinusDecay.mul(u.square()));l=e.momentumScalar.mul(s).add(e.c.mul(u).div(f.add(e.epsilonScalar).sqrt())),e.accumulatedMeanSquares[n].assign(f),e.accumulatedMoments[n].assign(l),c=i.sub(l),i.assign(c)}})},r=this;for(var i in t)n(i)},e.prototype.dispose=function(){var t=this;this.c.dispose(),this.epsilonScalar.dispose(),this.decayScalar.dispose(),this.momentumScalar.dispose(),this.oneMinusDecay.dispose(),null!=this.accumulatedMeanSquares&&Object.keys(this.accumulatedMeanSquares).forEach(function(e){return t.accumulatedMeanSquares[e].dispose()}),null!=this.accumulatedMeanGrads&&this.centered&&Object.keys(this.accumulatedMeanGrads).forEach(function(e){return t.accumulatedMeanGrads[e].dispose()}),null!=this.accumulatedMoments&&Object.keys(this.accumulatedMoments).forEach(function(e){return t.accumulatedMoments[e].dispose()})},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)},e.className="RMSPropOptimizer",e}(hc);_r(wc);var xc=function(){function t(){}return t.sgd=function(t){return new bc(t)},t.momentum=function(t,e,n){return void 0===n&&(n=!1),new _c(t,e,n)},t.rmsprop=function(t,e,n,r,i){return void 0===e&&(e=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new wc(t,e,n,r,i)},t.adam=function(t,e,n,r){return void 0===t&&(t=.001),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new vc(t,e,n,r)},t.adadelta=function(t,e,n){return void 0===t&&(t=.001),void 0===e&&(e=.95),void 0===n&&(n=null),new mc(t,e,n)},t.adamax=function(t,e,n,r,i){return void 0===t&&(t=.002),void 0===e&&(e=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new yc(t,e,n,r,i)},t.adagrad=function(t,e){return void 0===e&&(e=.1),new gc(t,e)},t}(),Ec={sgd:xc.sgd,momentum:xc.momentum,adadelta:xc.adadelta,adagrad:xc.adagrad,rmsprop:xc.rmsprop,adamax:xc.adamax,adam:xc.adam},Cc=Qr.setBackend,Sc=Qr.getBackend,Oc=Qr.disposeVariables,kc=Qr.memory;!function(t){jr=t}(El)}).call(e,n(18),n(20),n(208).setImmediate,n(14).Buffer)},function(t,e,n){"use strict";function r(t){u.call(this,"digest"),this._hash=t}var i=n(7),o=n(139),a=n(145),s=n(146),u=n(43);i(r,u),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new o:"rmd160"===t||"ripemd160"===t?new a:new r(s(t))}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(e,n(14).Buffer)},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(e,n(14).Buffer)},function(t,e,n){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=n(37),o=n(28);e.BlockHash=r,r.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending=this.pending?this.pending.concat(t):t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-n,this.endian);for(var r=0;r<t.length;r+=this._delta32)this._update(t,r,r+this._delta32)}return this},r.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},r.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){var r=e;r.bignum=n(15),r.define=n(438).define,r.base=n(83),r.constants=n(238),r.decoders=n(444),r.encoders=n(446)},function(t,e,n){var r=e;r.Reporter=n(441).Reporter,r.DecoderBuffer=n(237).DecoderBuffer,r.EncoderBuffer=n(237).EncoderBuffer,r.Node=n(442)},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.toLowerCase().replace(/[^a-z0-9]/g,e)}function a(t){var e=JSON.stringify(t),n=(0,T.default)(e).toString(36);return t.label&&t.label.length>0&&I?o(t.label.join("."),"-")+"-"+n:n}function s(t){var e=Object.keys(t).filter(function(t){return"toString"!==t});return 1===e.length&&!!/data\-css\-([a-zA-Z0-9\-_]+)/.exec(e[0])}function u(t){var e=Object.keys(t).filter(function(t){return"toString"!==t});if(1!==e.length)throw new Error("not a rule");var n=/data\-css\-([a-zA-Z0-9\-_]+)/.exec(e[0]);if(!n)throw new Error("not a rule");return n[1]}function l(t){if(-1===t.indexOf(","))return[t];for(var e,n=[],r=[],i=0;e=z.exec(t);)switch(e[0]){case"(":i++;break;case")":i--;break;case",":if(i)break;n.push(e.index)}for(e=n.length;e--;)r.unshift(t.slice(n[e]+1)),t=t.slice(0,n[e]);return r.unshift(t),r}function c(t,e){if(!t)return e.replace(/\&/g,"");if(!e)return".css-"+t+",[data-css-"+t+"]";var n=l(e).map(function(e){return e.indexOf("&")>=0?[e.replace(/\&/gm,".css-"+t),e.replace(/\&/gm,"[data-css-"+t+"]")].join(","):".css-"+t+e+",[data-css-"+t+"]"+e}).join(",");return D&&/^\&\:/.exec(e)&&!/\s/.exec(e)&&(n+=",.css-"+t+"[data-simulate-"+o(e)+"],[data-css-"+t+"][data-simulate-"+o(e)+"]"),n}function f(t){var e=N.transform({selector:t.selector,style:t.style});return e.selector+"{"+(0,S.createMarkupForStyles)(e.style)+"}"}function p(t){var e=void 0,n=void 0,r=void 0,i=void 0;return Object.keys(t).forEach(function(o){o.indexOf("&")>=0?(n=n||{})[o]=t[o]:0===o.indexOf("@media")?(r=r||{})[o]=p(t[o]):0===o.indexOf("@supports")?(i=i||{})[o]=p(t[o]):"label"===o?t.label.length>0&&((e=e||{}).label=L?t.label.join("."):""):(e=e||{})[o]=t[o]}),{plain:e,selects:n,medias:r,supports:i}}function d(t,e){var n=[],r=e.plain,i=e.selects,o=e.medias,a=e.supports;return r&&n.push(f({style:r,selector:c(t)})),i&&Object.keys(i).forEach(function(e){return n.push(f({style:i[e],selector:c(t,e)}))}),o&&Object.keys(o).forEach(function(e){return n.push(e+"{"+d(t,o[e]).join("")+"}")}),a&&Object.keys(a).forEach(function(e){return n.push(e+"{"+d(t,a[e]).join("")+"}")}),n}function h(t){B[t.id]||(B[t.id]=t)}function m(t){if(h(t),function(t){if(!F[t.id]){F[t.id]=!0;var e=p(t.style),n=d(t.id,e);F[t.id]=!!M||n,n.forEach(function(t){return P.insert(t)})}}(t),V[t.id])return V[t.id];var e=i({},"data-css-"+t.id,L?t.label||"":"");return Object.defineProperty(e,"toString",{enumerable:!1,value:function(){return"css-"+t.id}}),V[t.id]=e,e}function g(t,e){var n=l(t).map(function(t){return t.indexOf("&")>=0?t:"&"+t});return l(e).map(function(t){return t.indexOf("&")>=0?t:"&"+t}).reduce(function(t,e){return t.concat(n.map(function(t){return e.replace(/\&/g,t)}))},[]).join(",")}function v(t){for(var e=[],n=0;n<t.length;n++)e=Array.isArray(t[n])?e.concat(v(t[n])):e.concat(t[n]);return e}function y(t,e){var n=e.selector,r=void 0===n?"":n,i=e.mq,o=void 0===i?"":i,a=e.supp,l=void 0===a?"":a,c=e.src,f=void 0===c?{}:c;Array.isArray(f)||(f=[f]),(f=v(f)).forEach(function(e){if(s(e)){var n=function(t){if(s(t)){var e=B[u(t)];if(null==e)throw new Error("[glamor] an unexpected rule cache miss occurred. This is probably a sign of multiple glamor instances in your app. See https://github.com/threepointone/glamor/issues/79");return e}return t}(e);if("css"!==n.type)throw new Error("cannot merge this rule");e=n.style}(e=(0,O.default)(e))&&e.composes&&y(t,{selector:r,mq:o,supp:l,src:e.composes}),Object.keys(e||{}).forEach(function(n){if(function(t){for(var e=[":",".","[",">"," "],n=!1,r=t.charAt(0),i=0;i<e.length;i++)if(r===e[i]){n=!0;break}return n||t.indexOf("&")>=0}(n))U[n]&&U[n].forEach(function(i){return y(t,{selector:g(r,i),mq:o,supp:l,src:e[n]})}),y(t,{selector:g(r,n),mq:o,supp:l,src:e[n]});else if(function(t){return 0===t.indexOf("@media")}(n))y(t,{selector:r,mq:function(t,e){return t?"@media "+t.substring(6)+" and "+e.substring(6):e}(o,n),supp:l,src:e[n]});else if(function(t){return 0===t.indexOf("@supports")}(n))y(t,{selector:r,mq:o,supp:function(t,e){return t?"@supports "+t.substring(9)+" and "+e.substring(9):e}(l,n),src:e[n]});else if("composes"===n);else{var i=t;l&&(i[l]=i[l]||{},i=i[l]),o&&(i[o]=i[o]||{},i=i[o]),r&&(i[r]=i[r]||{},i=i[r]),"label"===n?L&&(t.label=t.label.concat(e.label)):i[n]=e[n]}})})}function b(t){var e={label:[]};y(e,{src:t});return m({id:a(e),style:e,label:L?e.label.join("."):"",type:"css"})}function _(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e[0]&&e[0].length&&e[0].raw)throw new Error("you forgot to include glamor/babel in your babel plugins.");return(e=(0,O.default)(e))?G(e):W}function w(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t?_(i({},t,n)):$(n)}function x(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(i({},t,n))}Object.defineProperty(e,"__esModule",{value:!0}),e.compose=e.merge=e.$=e.style=e.presets=e.keyframes=e.fontFace=e.insertGlobal=e.insertRule=e.plugins=e.styleSheet=void 0,e.speedy=function(t){return P.speedy(t)},e.simulations=function(){D=!(arguments.length>0&&void 0!==arguments[0]&&!arguments[0])},e.simulate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(e=(0,O.default)(e))?D?e.reduce(function(t,e){return t["data-simulate-"+o(e)]="",t},{}):(R||(console.warn("can't simulate without once calling simulations(true)"),R=!0),I||A||j||(console.warn("don't use simulation outside dev"),j=!0),{}):{}},e.cssLabels=function(t){L=!!t},e.isLikeRule=s,e.idFor=u,e.css=_,e.rehydrate=function(t){(0,E.default)(F,t.reduce(function(t,e){return t[e]=!0,t},{}))},e.flush=function(){F=P.inserted={},B=P.registered={},V={},P.flush(),P.inject()},e.select=w,e.parent=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(i({},t+" &",n))},e.media=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return _(i({},"@media "+t,n))},e.pseudo=x,e.active=function(t){return x(":active",t)},e.any=function(t){return x(":any",t)},e.checked=function(t){return x(":checked",t)},e.disabled=function(t){return x(":disabled",t)},e.empty=function(t){return x(":empty",t)},e.enabled=function(t){return x(":enabled",t)},e._default=function(t){return x(":default",t)},e.first=function(t){return x(":first",t)},e.firstChild=function(t){return x(":first-child",t)},e.firstOfType=function(t){return x(":first-of-type",t)},e.fullscreen=function(t){return x(":fullscreen",t)},e.focus=function(t){return x(":focus",t)},e.hover=function(t){return x(":hover",t)},e.indeterminate=function(t){return x(":indeterminate",t)},e.inRange=function(t){return x(":in-range",t)},e.invalid=function(t){return x(":invalid",t)},e.lastChild=function(t){return x(":last-child",t)},e.lastOfType=function(t){return x(":last-of-type",t)},e.left=function(t){return x(":left",t)},e.link=function(t){return x(":link",t)},e.onlyChild=function(t){return x(":only-child",t)},e.onlyOfType=function(t){return x(":only-of-type",t)},e.optional=function(t){return x(":optional",t)},e.outOfRange=function(t){return x(":out-of-range",t)},e.readOnly=function(t){return x(":read-only",t)},e.readWrite=function(t){return x(":read-write",t)},e.required=function(t){return x(":required",t)},e.right=function(t){return x(":right",t)},e.root=function(t){return x(":root",t)},e.scope=function(t){return x(":scope",t)},e.target=function(t){return x(":target",t)},e.valid=function(t){return x(":valid",t)},e.visited=function(t){return x(":visited",t)},e.dir=function(t,e){return x(":dir("+t+")",e)},e.lang=function(t,e){return x(":lang("+t+")",e)},e.not=function(t,e){var n=t.split(",").map(function(t){return t.trim()}).map(function(t){return":not("+t+")"});return 1===n.length?x(":not("+t+")",e):w(n.join(""),e)},e.nthChild=function(t,e){return x(":nth-child("+t+")",e)},e.nthLastChild=function(t,e){return x(":nth-last-child("+t+")",e)},e.nthLastOfType=function(t,e){return x(":nth-last-of-type("+t+")",e)},e.nthOfType=function(t,e){return x(":nth-of-type("+t+")",e)},e.after=function(t){return x("::after",t)},e.before=function(t){return x("::before",t)},e.firstLetter=function(t){return x("::first-letter",t)},e.firstLine=function(t){return x("::first-line",t)},e.selection=function(t){return x("::selection",t)},e.backdrop=function(t){return x("::backdrop",t)},e.placeholder=function(t){return _({"::placeholder":t})},e.cssFor=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(e=(0,O.default)(e))?e.map(function(t){var e={label:[]};return y(e,{src:t}),d(a(e),p(e)).join("")}).join(""):""},e.attribsFor=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(e=(0,O.default)(e))?e.map(function(t){u(t);var e=Object.keys(t)[0];return e+'="'+(t[e]||"")+'"'}).join(" "):""};var E=r(n(153)),C=n(473),S=n(251),O=r(n(482)),k=n(483),T=r(n(500)),P=e.styleSheet=new C.StyleSheet;P.inject();var N=e.plugins=P.plugins=new k.PluginSet([k.prefixes,k.contentWrap,k.fallbacks]);N.media=new k.PluginSet,N.fontFace=new k.PluginSet,N.keyframes=new k.PluginSet([k.prefixes,k.fallbacks]);var I="development"===t.env.NODE_ENV||!t.env.NODE_ENV,A="test"===t.env.NODE_ENV,M="undefined"!=typeof window,D=I,R=!1,j=!1,L=I,z=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g,F=P.inserted={},B=P.registered={},V={},U={"::placeholder":["::-webkit-input-placeholder","::-moz-placeholder","::-ms-input-placeholder"],":fullscreen":[":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"]},W={};Object.defineProperty(W,"toString",{enumerable:!1,value:function(){return"css-nil"}});var q="undefined"!=typeof WeakMap?[W,new WeakMap,new WeakMap,new WeakMap]:[W],H=!1,G="undefined"!=typeof WeakMap?function(t){return function(e){if(q[e.length]){for(var n=q[e.length],r=0;r<e.length-1;)n.has(e[r])||n.set(e[r],new WeakMap),n=n.get(e[r]),r++;if(n.has(e[e.length-1])){var i=n.get(e[r]);if(B[i.toString().substring(4)])return i}}var o=t(e);if(q[e.length]){for(var a=0,s=q[e.length];a<e.length-1;)s=s.get(e[a]),a++;try{s.set(e[a],o)}catch(t){if(I&&!H){var u;H=!0,(u=console).warn.apply(u,["failed setting the WeakMap cache for args:"].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))),console.warn("this should NOT happen, please file a bug on the github repo.")}}}return o}}(b):b;e.insertRule=_.insert=function(t){var e={id:a(t),css:t,type:"raw"};h(e),F[e.id]||(P.insert(e.css),F[e.id]=!!M||[e.css])},e.insertGlobal=_.global=function(t,e){if(e=(0,O.default)(e))return _.insert(f({selector:t,style:e}))};_.keyframes=function(t,e){e||(e=t,t="animation");var n={id:a({name:t,kfs:e=(0,O.default)(e)||{}}),type:"keyframes",name:t,keyframes:e};return h(n),function(t){if(!F[t.id]){var e=Object.keys(t.keyframes).map(function(e){var n=N.keyframes.transform({id:t.id,name:e,style:t.keyframes[e]});return n.name+"{"+(0,S.createMarkupForStyles)(n.style)+"}"}).join(""),n=["-webkit-","-moz-","-o-",""].map(function(n){return"@"+n+"keyframes "+t.name+"_"+t.id+"{"+e+"}"});n.forEach(function(t){return P.insert(t)}),F[t.id]=!!M||n}}(n),t+"_"+n.id};e.fontFace=_.fontFace=function(t){var e={id:a(t=(0,O.default)(t)),type:"font-face",font:t};return h(e),function(t){if(!F[t.id]){var e="@font-face{"+(0,S.createMarkupForStyles)(t.font)+"}";P.insert(e),F[t.id]=!!M||[e]}}(e),t.fontFamily},e.keyframes=_.keyframes,e.presets={mobile:"(min-width: 400px)",Mobile:"@media (min-width: 400px)",phablet:"(min-width: 550px)",Phablet:"@media (min-width: 550px)",tablet:"(min-width: 750px)",Tablet:"@media (min-width: 750px)",desktop:"(min-width: 1000px)",Desktop:"@media (min-width: 1000px)",hd:"(min-width: 1200px)",Hd:"@media (min-width: 1200px)"};var $=e.style=_;e.$=w,e.merge=_,e.compose=_}).call(e,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"string"==typeof t&&r.test(t)};var r=/-webkit-|-moz-|-ms-/;t.exports=e.default},function(t,e,n){"use strict";e.tachyons=n(254),e.reset=n(601),e.wrap=n(603),e.globals=n(605)},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(39);t.exports=r.Symbol},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PORTAL_DEFAULT=1,e.PORTAL_MODAL=2,e.PORTAL_LOADING=3,e.PORTAL_TOAST=4})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(72)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../animations/animation"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this;this.enteringView&&(this.enteringPage=new n.Animation(this.plt,this.enteringView.pageRef()),this.add(this.enteringPage.beforeAddClass("show-page")),this.beforeAddRead(function(){t.enteringView.readReady.emit()}),this.beforeAddWrite(function(){t.enteringView.writeReady.emit()}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.enteringPage&&this.enteringPage.destroy(),this.enteringPage=null},e}(t("./transition").Transition);e.PageTransition=r})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=t("../../config/config"),o=function(t){function e(e,n,r){var i=t.call(this,e,n,r,"icon")||this;return i._isActive=!0,i._name="",i._ios="",i._md="",i._css="",i._hidden=!1,i._iconMode=e.get("iconMode"),i}return a(e,t),e.prototype.ngOnDestroy=function(){this._css&&this.setElementClass(this._css,!1)},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=/^md-|^ios-|^logo-/.test(t)?t:this._iconMode+"-"+t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ios",{get:function(){return this._ios},set:function(t){this._ios=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"md",{get:function(){return this._md},set:function(t){this._md=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this._isActive=r.isTrueProperty(t),this.update()},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t;if(!(this._hidden=null===(t=this._ios&&"ios"===this._iconMode?this._ios:this._md&&"md"===this._iconMode?this._md:this._name))){"ios"===t.split("-",2)[0]&&!this._isActive&&t.indexOf("logo-")<0&&t.indexOf("-outline")<0&&(t+="-outline");var e="ion-"+t;if(this._css!==e){this._css&&this.setElementClass(this._css,!1),this._css=e,this.setElementClass(e,!0);var n=t.replace("ios-","").replace("md-","").replace("-"," ");this.setElementAttribute("aria-label",n)}}},e.decorators=[{type:n.Directive,args:[{selector:"ion-icon",host:{role:"img"}}]}],e.ctorParameters=function(){return[{type:i.Config},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={name:[{type:n.Input}],ios:[{type:n.Input}],md:[{type:n.Input}],isActive:[{type:n.Input}],_hidden:[{type:n.HostBinding,args:["class.hide"]}]},e}(t("../ion").Ion);e.Icon=o})},,,,,,function(t,e,n){"use strict";var r=n(21),i=n(367);r.Observable.prototype.takeUntil=i.takeUntil},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),i=n(207),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.show=function(){},e.prototype.hide=function(){},Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"show",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"hide",null),e=Object(r.__decorate)([Object(i.d)({pluginName:"SplashScreen",plugin:"cordova-plugin-splashscreen",pluginRef:"navigator.splashscreen",repo:"https://github.com/apache/cordova-plugin-splashscreen",platforms:["Amazon Fire OS","Android","iOS","Windows"]})],e)}(i.c)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),i=n(207),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.overlaysWebView=function(t){},e.prototype.styleDefault=function(){},e.prototype.styleLightContent=function(){},e.prototype.styleBlackTranslucent=function(){},e.prototype.styleBlackOpaque=function(){},e.prototype.backgroundColorByName=function(t){},e.prototype.backgroundColorByHexString=function(t){},e.prototype.hide=function(){},e.prototype.show=function(){},Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[Boolean]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"overlaysWebView",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"styleDefault",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"styleLightContent",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"styleBlackTranslucent",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"styleBlackOpaque",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[String]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"backgroundColorByName",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[String]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"backgroundColorByHexString",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"hide",null),Object(r.__decorate)([Object(i.a)({sync:!0}),Object(r.__metadata)("design:type",Function),Object(r.__metadata)("design:paramtypes",[]),Object(r.__metadata)("design:returntype",void 0)],e.prototype,"show",null),Object(r.__decorate)([i.b,Object(r.__metadata)("design:type",Boolean)],e.prototype,"isVisible",void 0),e=Object(r.__decorate)([Object(i.d)({pluginName:"StatusBar",plugin:"cordova-plugin-statusbar",pluginRef:"StatusBar",repo:"https://github.com/apache/cordova-plugin-statusbar",platforms:["Android","iOS","Windows"]})],e)}(i.c)},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function o(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function a(){return Ue}function s(){return We++}function u(t){return void 0===t&&(t=""),t in qe||(qe[t]=0),qe[t]+=1,t+qe[t].toString()}function l(t,e){return void 0===e&&(e=Ge),null==He[e][t]&&(He[e][t]=Object(Fe._118)(t,e),Object(Fe._42)(He[e][t])),He[e][t]}function c(t,e){if(Array.isArray(t)){for(var n=[],r=0;r<e;r++)n=n.concat(t);return n}return(n=new Array(e)).fill(t),n}function f(t,e){if(!t)throw new Ze(e)}function p(t,e){for(var n=0,r=0,i=t;r<i.length;r++)i[r]===e&&n++;return n}function d(t){return 1===t.length?t[0]:t}function h(t){return Array.isArray(t)?t:[t]}function m(t){var e=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==e[0]?e:"private"+e}function g(t){return t.length<=1?t:-1===t.indexOf("_")?t:t.replace(/[_]+(\w|$)/g,function(t,e){return e.toUpperCase()})}function v(t){return null===t||void 0===t?null:{className:t.getClassName(),config:t.getConfig()}}function y(t,e,n,r){if(void 0===e&&(e={}),void 0===n&&(n={}),void 0===r&&(r="object"),"string"==typeof t){var i=void 0;if(t in n)i=n[t];else if(t in Je)i=Je[t];else if(null==(i=e[t]))throw new Ke("Unknown "+r+": "+t+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return i}var o=t;if(null==o.className||null==o.config)throw new Ke(r+": Improper config format: "+JSON.stringify(o)+".\n'className' and 'config' must set.");var a=o.className,s=void 0,u=void 0;if(a in n?(s=(w=n.get(a))[0],u=w[1]):a in Je?(s=(x=Je.className)[0],u=x[1]):a in e&&(s=(E=e[a])[0],u=E[1]),null==s)throw new Ke("Unknown "+r+": "+a+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=u){for(var l={},c=0,f=Object.keys(Je);c<f.length;c++)l[v=f[c]]=Je[v];for(var p=0,d=Object.keys(n);p<d.length;p++)l[v=d[p]]=n[v];o.config.customObjects=l;for(var h=Ve({},Je),m=0,g=Object.keys(n);m<g.length;m++){var v=g[m];Je[v]=n[v]}var y=u(s,o.config);return Je=Ve({},h),y}h=Ve({},Je);for(var b=0,_=Object.keys(n);b<_.length;b++)Je[v=_[b]]=n[v];var w,x,E;return y=new s(o.config),Je=Ve({},h),y}function b(t,e){return-1*function(t,e){return t<e?-1:t>e?1:0}(t,e)}function _(t){if(null==t)return t;for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];-1===e.indexOf(i)&&e.push(i)}return e}function w(t){if(null==t)throw new Ke("Invalid value in obj: "+JSON.stringify(t));for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function x(t,e,n){if(null!=n&&t.indexOf(n)<0)throw new Ke(n+" is not a valid "+e+".  Valid values are "+t+" or null/undefined.")}function E(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),f(n>=0),f(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(function(t){return typeof t===e})}function C(t,e){return Object(Fe._161)(function(){return Object(Fe._140)(Object(Fe._150)(Object(Fe._77)(t,t),e,!0))})}function S(t){return v(t)}function O(t,e){return void 0===e&&(e={}),y(t,Fe._122.SerializationMap.getMap().classNameMap,e,"constraint")}function k(t){return null==t?null:"string"==typeof t?O({className:t in on?on[t]:t,config:{}}):t instanceof Qe?t:O(t)}function T(t){x(un,"DataFormat",t)}function P(t){x(ln,"PaddingMode",t)}function N(t,e){fn.push(t);try{var n=e();return fn.pop(),n}catch(t){throw fn.pop(),t}}function I(t){if(!M(t))throw new Error("Not a valid tensor name: '"+t+"'");return(0===fn.length?"":fn.join(pn)+pn)+t}function A(t){if(!M(t))throw new Error("Not a valid tensor name: '"+t+"'");sn.has(t)||sn.set(t,0);var e=sn.get(t);if(sn.set(t,sn.get(t)+1),e>0){var n=t+"_"+e;return sn.set(n,1),n}return t}function M(t){return!!t.match(dn)}function D(t){return t===parseInt(t.toString(),10)}function R(t,e,n){null==e&&(e=0),null==n&&(n=t.length);for(var r=1,i=e;i<n;++i)r*=t[i];return r}function j(t){return t=Array.isArray(t)?new Float32Array(t):t,Object(Fe._154)(t)}function L(t){return Object(Fe._69)(j(t)).dataSync()[0]}function z(t){return Object(Fe._63)(j(t)).dataSync()[0]}function F(t,e){if(e<t)throw new Ke("end ("+e+") < begin ("+t+") is forbidden.");for(var n=[],r=t;r<e;++r)n.push(r);return n}function B(t,e){return t.asType(e)}function V(t,e){void 0===e&&(e=-1);var n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),t.reshape(n)}function U(t,e,n){return Object(Fe._161)(function(){switch(t.rank){case 1:return Object(Fe._130)(t,e,n);case 2:return Object(Fe._131)(t,[e,0],[n,t.shape[1]]);case 3:return Object(Fe._132)(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return Object(Fe._133)(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);default:throw new Ke("sliceAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}})}function W(t,e,n){return Object(Fe._161)(function(){switch(t.rank){case 1:return Object(Fe._130)(t,e,n);case 2:return Object(Fe._131)(t,[0,e],[t.shape[0],n]);case 3:return Object(Fe._132)(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return Object(Fe._133)(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Ke("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function q(t,e,n,r){return Object(Fe._161)(function(){switch(t.rank){case 1:return Object(Fe._130)(t,e,n);case 2:switch(r){case 1:return U(t,e,n);case 2:return W(t,e,n);default:throw new Ke("The axis is not within the rank of the tensor "+r)}case 3:switch(r){case 1:return U(t,e,n);case 2:return Object(Fe._132)(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return W(t,e,n);default:throw new Ke("The axis is not within the rank of the tensor "+r)}case 4:switch(r){case 1:return U(t,e,n);case 2:return Object(Fe._133)(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return Object(Fe._133)(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return W(t,e,n);default:throw new Ke("The axis is not within the rank of the tensor "+r)}default:throw new Ke("sliceAlongLastAxis() received an unsupported tensor rank: "+t.rank)}})}function H(t,e){var n;return void 0===e&&(e=-1),e<0&&(e=0!==(n=t[0].rank)?n:0),e===t[0].rank&&(e=-1),Object(Fe.T)(t,e)}function G(t,e){switch(t.rank){case 1:return Object(Fe.U)([t,e]);case 2:return Object(Fe.V)([t,e],0);case 3:return Object(Fe.W)([t,e],0);case 4:return Object(Fe.X)([t,e],0);default:throw new Ke("concatAlongFirstAxis() received an unsupported tensor rank: "+t.rank)}}function $(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Ke("The length of input n ("+e.length+") does not match the number of dimensions in input x ("+t.rank+")");return Object(Fe._162)(t,e)}function Y(t,e,n,r,i){return void 0===e&&(e=0),void 0===n&&(n=1),Object(Fe._103)(t,e,n,r,i)}function K(t,e){if(t.rank<2||e.rank<2)throw new Xe("dot requires both inputs to be rank >= 2 but got x shape = "+t.shape+" and y shape = "+e.shape);if(e.rank>=3&&(r=t.shape.slice(-1)[0])!==(a=e.shape.slice(-2)[0]))throw new Xe("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+t.shape+" and  y shape = "+e.shape);if(2===t.rank&&2===e.rank)return Object(Fe._61)(t,e);var n=t.shape.slice(),r=n.pop();t=t.reshape([-1,r]);var i=e.shape.slice(),o=i.pop(),a=i.pop(),s=i.concat([o]),u=Array.from({length:e.rank},function(t,n){return 0===n?e.rank-2:n<=e.rank-2?n-1:n});e=e.transpose(u).reshape([a,-1]);var l=n.concat(s);return Object(Fe._61)(t,e).reshape(l)}function X(t,e,n){return Object(Fe._161)(function(){return e=Array.isArray(e)?Object(Fe._154)(e,"int32"):e.toInt(),Object(Fe._28)(t,e,n)})}function Z(t){return Object(Fe._77)(t,t)}function J(t,e,n){return Object(Fe._161)(function(){if(null==n&&(n="channelsLast"),T(n),1!==e.rank&&e.rank!==t.rank)throw new Ke("Unexpected bias dimensions: "+e.rank+"; expected it to be 1 or "+t.rank);var r,i=e.shape;if(5===t.rank)"channelsFirst"===n?r=t.add(e.reshape(1===i.length?[1,i[0],1,1,1]:[1,i[3],i[0],i[1],i[2]])):"channelsLast"===n&&(r=t.add(e.reshape(1===i.length?[1,1,1,1,i[0]]:[1].concat(i))));else if(4===t.rank)"channelsFirst"===n?r=t.add(e.reshape(1===i.length?[1,i[0],1,1]:[1,i[2],i[0],i[1]])):"channelsLast"===n&&(r=t.add(e.reshape(1===i.length?[1,1,1,i[0]]:[1].concat(i))));else if(3===t.rank)"channelsFirst"===n?r=t.add(e.reshape(1===i.length?[1,i[0],1]:[1,i[1],i[0]])):"channelsLast"===n&&(r=t.add(e.reshape(1===i.length?[1,1,i[0]]:[1].concat(i))));else{if(!(t.rank<3))throw new Ke("Unsupported input rank by biasAdd: "+t.rank);r=t.add(e)}return r})}function Q(t,e,n,r){return Object(Fe._161)(function(){if(null!=n&&!Fe._171.arraysEqual(t.shape,n))throw new Xe("Non-default noise shape is not implemented yet: "+JSON.stringify(n));if(null!=r)throw new Xe("seed is not implemented for dropout yet.");var i=Object(Fe._146)(Object(Fe.u)(Object(Fe._80)(e),Object(Fe._104)(t.shape,0,1,"float32")));return i=Object(Fe._76)(Object(Fe._11)(l(1),Object(Fe._148)(l(1),e)),i),Object(Fe._76)(t,i)})}function tt(t,e,n){return void 0===n&&(n=!1),n?t():e()}function et(t,e){return void 0===e&&(e={}),y(t,Fe._122.SerializationMap.getMap().classNameMap,e,"initializer")}function nt(t){return v(t)}function rt(t){if("string"==typeof t){var e=t in In?In[t]:t;return"GlorotUniform"===e?new Sn:"GlorotNormal"===e?new On:"HeNormal"===e?new kn:"LeCunNormal"===e?new Tn:et({className:e,config:{}})}return t instanceof gn?t:et(t)}function it(t){return Array.isArray(t)&&Array.isArray(t[0])}function ot(t){return 0===t.length?[]:Array.isArray(t[0])?t:[t]}function at(t){var e;if(Array.isArray(t)){if(1!==t.length)throw new Ke("Expected Tensor length to be 1; got "+t.length);e=t[0]}else e=t;return e}function st(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(1===t.length)return(t=t)[0];throw new Ke("Expected exactly 1 Shape; got "+t.length)}return t}function ut(t){for(var e=0,n=0,r=t;n<r.length;n++){var i=r[n];e+=0===i.shape.length?1:i.shape.reduce(function(t,e){return t*e})}return e}function lt(t){return t.map(function(t){return t.read()})}function ct(t){t.map(function(t){t[0].write(t[1])})}function ft(t,e,n){if((null==e||null!=n&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),0===e.inboundNodes.length)return[t];var r=e.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],o=0;o<r.inboundLayers.length;o++)for(var a=0,s=ft(r.inputTensors[o],r.inboundLayers[o],r.nodeIndices[o]);a<s.length;a++){var u=s[a];-1===i.indexOf(u)&&i.push(u)}return i}function pt(t){if(null==t.batchShape&&null==t.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=t.batchShape&&null!=t.shape)throw new Ke("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var e=t.batchShape;null!=t.shape&&null==e&&(e=[null].concat(t.shape));var n=t.dtype;return null==n&&(n="float32"),new Vn({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function dt(t){return i(this,void 0,void 0,function(){var e,n,r,i,a,s,u,l;return o(this,function(o){switch(o.label){case 0:if(null==t)return[2];for(i in e=[],n=[],r=[],t)"number"!=typeof(a=t[i])&&(s=a,e.push(s.data()),n.push(i),r.push(s));return[4,Promise.all(e)];case 1:for(u=o.sent(),l=0;l<u.length;++l)t[n[l]]=u[l][0];return Object(Fe._9)(r),[2]}})})}function ht(t){if(null!=t)for(var e in t){var n=t[e];"number"!=typeof n&&n.dispose()}}function mt(t){return null==t?null:t instanceof Un?[t]:Array.isArray(t)&&t[0]instanceof Un?t:h(t).map(function(t){return new $n(t)})}function gt(t,e,n,r,i,o,a,s,u,l){var c=new Gn,f=[new Hn(e)].concat(Yn.createCallbacks(n));null!=t&&f.push.apply(f,t),f.push(c);var p=new Wn(f);return p.setParams({epochs:r,initialEpoch:i,samples:o,steps:a,batchSize:s,verbose:n,doValidation:u,metrics:l}),{callbackList:p,history:c}}function vt(t,e){return Object(Fe._161)(function(){var n=Object(Fe._150)(Z(t),e,!0),r=Object(Fe._76)(Object(Fe._118)(a()),Object(Fe._87)(t)),i=Object(Fe._140)(Object(Fe._65)(n,r));return Object(Fe._11)(t,i)})}function yt(t,e){return Object(Fe._161)(function(){return Object(Fe._67)(Z(Object(Fe._148)(e,t)),-1)})}function bt(t,e){return Object(Fe._161)(function(){return Object(Fe._67)(Object(Fe.r)(Object(Fe._148)(e,t)),-1)})}function _t(t,e){return Object(Fe._161)(function(){var n=Object(Fe._148)(t,e),r=Object(Fe.Q)(Object(Fe.r)(t),a(),Number.MAX_VALUE),i=Object(Fe.r)(Object(Fe._11)(n,r));return Object(Fe._76)(l(100),Object(Fe._67)(i,-1))})}function wt(t,e){return Object(Fe._161)(function(){var n=l(1),r=Object(Fe.Q)(e,a(),Number.MAX_VALUE),i=Object(Fe._51)(Object(Fe.u)(n,r)),o=Object(Fe.Q)(t,a(),Number.MAX_VALUE),s=Object(Fe._51)(Object(Fe.u)(n,o));return Object(Fe._67)(Z(Object(Fe._148)(i,s)),-1)})}function xt(t,e){return Object(Fe._161)(function(){var n=l(0),r=l(1),i=Object(Fe._65)(n,Object(Fe._148)(r,Object(Fe._76)(t,e)));return Object(Fe._67)(Z(i),-1)})}function Et(t,e){return Object(Fe._161)(function(){var n=l(0),r=l(1),i=Object(Fe._65)(n,Object(Fe._148)(r,Object(Fe._76)(t,e)));return Object(Fe._67)(i,-1)})}function Ct(t,e){return Object(Fe._161)(function(){var n=l(0),r=l(1),i=Object(Fe._150)(Object(Fe._76)(t,e),-1),o=Object(Fe._63)(Object(Fe._76)(Object(Fe._148)(r,t),e),-1);return Object(Fe._65)(n,Object(Fe.u)(r,Object(Fe._148)(o,i)))})}function St(t,e){return Object(Fe._161)(function(){var n=l(Math.log(2)),r=Object(Fe._148)(e,t),i=Object(Fe._148)(Object(Fe.u)(r,Object(Fe._135)(Object(Fe._76)(l(-2),r))),n);return Object(Fe._67)(i,-1)})}function Ot(t,e,n){return void 0===n&&(n=!1),Object(Fe._161)(function(){if(n)e=Object(Fe._134)(e);else{var r=Object(Fe._150)(e,e.shape.length-1,!0);e=Object(Fe._11)(e,r)}return e=Object(Fe.Q)(e,a(),1-a()),Object(Fe._80)(Object(Fe._150)(Object(Fe._76)(t.toFloat(),Object(Fe._51)(e)),e.shape.length-1))})}function kt(t,e){return Object(Fe._161)(function(){var n=Object(Fe._25)(function(t){var e=[R(t.shape)];return t.reshape(e)}(t)).toInt(),r=(e=Object(Fe.Q)(e,a(),1-a())).shape;return Ot(Object(Fe._85)(n,r[r.length-1]).reshape(r),e,!1)})}function Tt(t,e){return Object(Fe._161)(function(){var n;return n=Object(Fe.Q)(e,a(),1-a()),n=Object(Fe._51)(Object(Fe._11)(n,Object(Fe._148)(l(1),n))),Object(Fe._67)(function(t,e){if(!Fe._171.arraysEqual(t.shape,e.shape))throw new Ke("logits and labels must have the same shape, but got shapes "+JSON.stringify(t.shape)+" and "+JSON.stringify(e.shape));return Object(Fe._161)(function(){var n=e.relu(),r=e.abs().neg();return n.sub(e.mul(t)).add(r.exp().log1p())})}(t,n),-1)})}function Pt(t,e){return Object(Fe._161)(function(){var n=Object(Fe.Q)(t,a(),1),r=Object(Fe.Q)(e,a(),1);return Object(Fe._150)(Object(Fe._76)(t,Object(Fe._51)(Object(Fe._11)(n,r))),-1)})}function Nt(t,e){return Object(Fe._161)(function(){var n=Object(Fe._51)(Object(Fe.u)(l(a()),e));return Object(Fe._67)(Object(Fe._148)(e,Object(Fe._76)(t,n)),-1)})}function It(t,e){return Object(Fe._161)(function(){var n=vt(t,-1),r=vt(e,-1),i=Object(Fe._76)(n,r);return Object(Fe._80)(Object(Fe._150)(i,-1))})}function At(t){var e={meanSquaredError:yt,meanAbsoluteError:bt,meanAbsolutePercentageError:_t,meanSquaredLogarithmicError:wt,squaredHinge:xt,hinge:Et,categoricalHinge:Ct,logcosh:St,categoricalCrossentropy:Ot,sparseCategoricalCrossentropy:kt,binaryCrossentropy:Tt,kullbackLeiblerDivergence:Pt,poisson:Nt,cosineProximity:It};if("string"==typeof t){if(t in e)return e[t];var n="Unknown loss "+t;throw t.toLowerCase().includes("softmaxcrossentropy")&&(n="Unknown loss "+t+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Ke(n)}return t}function Mt(t,e){return Object(Fe._161)(function(){var n=Object(Fe._76)(l(.5),Object(Fe._87)(e)),r=B(Object(Fe._33)(e,n),t.dtype);return Object(Fe._67)(Object(Fe._16)(t,r),-1)})}function Dt(t,e){return Object(Fe._161)(function(){return B(Object(Fe._16)(Object(Fe.z)(t,-1),Object(Fe.z)(e,-1)),"float32")})}function Rt(t,e){return Object(Fe._161)(function(){var n=l(1);return Object(Fe._56)(t.equal(n),e.equal(n)).sum().cast("float32")})}function jt(t,e){return Object(Fe._161)(function(){var n=l(0),r=Rt(t,e),i=function(t,e){return Object(Fe._161)(function(){var n=l(1),r=l(0);return Object(Fe._56)(t.equal(r),e.equal(n)).sum().cast("float32")})}(t,e),o=r.add(i);return Object(Fe._178)(Object(Fe._33)(o,n),r.div(o),n).cast("float32")})}function Lt(t,e){return Object(Fe._161)(function(){var n=l(0),r=Rt(t,e),i=function(t,e){return Object(Fe._161)(function(){var n=l(1),r=l(0);return Object(Fe._56)(t.equal(n),e.equal(r)).sum().cast("float32")})}(t,e),o=r.add(i);return Object(Fe._178)(Object(Fe._33)(o,n),r.div(o),n).cast("float32")})}function zt(t,e){return Tt(t,e)}function Ft(t,e){return t.rank===e.rank&&(t=t.squeeze([t.rank-1])),(e=e.argMax(-1)).dtype!==t.dtype&&(e=e.asType(t.dtype)),Object(Fe._16)(t,e).asType("float32")}function Bt(t,e,n,r){void 0===r&&(r=console.log);var i,o=function(t){var e=!0,n=[],r=[];for(var i in t.nodesByDepth)n.push(t.nodesByDepth[i]);for(var o=0,a=n;o<a.length;o++){var s=a[o];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){e=!1;break}r.push.apply(r,s)}if(e)for(var u=0,l=t.layers;u<l.length;u++){for(var c=!1,f=0,p=l[u].inboundNodes;f<p.length;f++){var d=p[f];if(-1!==r.indexOf(d)){if(c){e=!1;break}c=!0}}if(!e)break}return e}(t),a=["Layer (type)","Output shape","Param #"];if(o?(e=e||65,n=n||[.45,.85,1]):(e=e||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(function(t){return Math.floor(e*t)})),!o)for(var s in a.push("Receives inputs"),i=[],t.nodesByDepth)i.push.apply(i,t.nodesByDepth[s]);r("_".repeat(e)),Vt(a,n,r),r("=".repeat(e));for(var u=t.layers,l=0;l<u.length;++l)o?function(t,e,n){var r;try{r=JSON.stringify(t.outputShape)}catch(t){r="multiple"}Vt([t.name+" ("+t.getClassName()+")",r,t.countParams().toString()],e,n)}(u[l],n,r):function(t,e,n,r){var i;try{i=JSON.stringify(t.outputShape)}catch(t){i="multiple"}for(var o=[],a=0,s=t.inboundNodes;a<s.length;a++){var u=s[a];if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(var l=0;l<u.inboundLayers.length;++l){var c=u.inboundLayers[l].name,f=u.nodeIndices[l],p=u.tensorIndices[l];o.push(c+"["+f+"]["+p+"]")}}var d=t.name,h=t.getClassName(),m=0===o.length?"":o[0];for(Vt([d+" ("+h+")",i,t.countParams().toString(),m],e,r),l=1;l<o.length;++l)Vt(["","","",o[l]],e,r)}(u[l],n,i,r),r((l===u.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();var c=function(t){return ut(null!=t.collectedTrainableWeights?t.collectedTrainableWeights:t.trainableWeights)}(t),f=ut(t.nonTrainableWeights);r("Total params: "+(c+f)),r("Trainable params: "+c),r("Non-trainable params: "+f),r("_".repeat(e))}function Vt(t,e,n){void 0===n&&(n=console.log);for(var r="",i=0;i<t.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=t[i]).slice(0,e[i]),r+=" ".repeat(e[i]-r.length);n(r)}function Ut(t,e){return void 0===e&&(e={}),y(t,Fe._122.SerializationMap.getMap().classNameMap,e,"layer")}function Wt(t,e,n){return("inboundNodes"===t||"outputLayers"===t||"inputLayers"===t)&&0===e&&"string"==typeof n}function qt(t,e){if(null===t)return null;if("string"==typeof t)return g(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var n=[],r=t.length,i=0;i<r;++i){var o=t[i];Wt(e,i,o)?n.push(o):n.push(qt(o,e))}return n}for(var a={},s=0,u=Object.keys(t);s<u.length;s++){var l=u[s],c=t[l];if("name"===l&&"string"==typeof c)a[l]=c;else{var f=g(l);a[f]=qt(c,f)}}return a}function Ht(t,e){if(null===t||void 0===t)return null;if("string"==typeof t)return m(t);if("number"==typeof t||"boolean"==typeof t)return t;if(t instanceof Array){for(var n=[],r=t.length,i=0;i<r;++i){var o=t[i];Wt(e,i,o)?n.push(o):n.push(Ht(o,e))}return n}for(var a={},s=0,u=Object.keys(t);s<u.length;s++){var l=u[s],c=t[l];a[m(l)]="name"!==l&&"className"!==l||"string"!=typeof c?Ht(c,l):c}return a}function Gt(t,e,n,r){for(var i=null!=n&&n.training,o=Array.isArray(t),a=o?t:[t],s=a.map(function(t){return t.name}),u=[],l=e.names(),c=0,f=s;c<f.length;c++){var p=f[c];-1!==l.indexOf(p)?u.push(e.getValue(p)):u.push(null)}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var d,m,g=s.join(",")+"|"+e.names().join(",");if(null==or[g]){var v=function(t,e){Fe._171.assert(null!=t&&t.length>0,"Exepcted at least one fetch, got none");var n=[],r={};if(1===t.length){var i=$t(t[0],e);n=i.sorted,r=i.recipientMap}else for(var o=new Set,a=0,s=t;a<s.length;a++){for(var u=$t(s[a],e),l=u.sorted,c=u.recipientMap,f=0,p=l;f<p.length;f++){var d=p[f];o.has(d.name)||(n.push(d),o.add(d.name))}var h=function(t){null==r[t]&&(r[t]=new Set),c[t].forEach(function(e){return r[t].add(e)})};for(var m in c)h(m)}return{sorted:n,recipientCounts:function(t){var e={};for(var n in t)e[n]=t[n].size;return e}(r)}}(a,e);m=v.recipientCounts,or[g]=d=v.sorted,ar[g]=m}d=or[g],m={},i||Object.assign(m,ar[g]);for(var y=new ir(e),b=0;b<d.length;++b){if(null!=r){var _=Object(Fe._68)().numTensors;_>r.maxNumTensors&&(r.maxNumTensors=_),_<r.minNumTensors&&(r.minNumTensors=_)}var w=d[b];if(!(w.sourceLayer instanceof Vn)){for(var x=[],E=[],C=0,S=w.inputs;C<S.length;C++){var O=S[C],k=y.getValue(O);x.push(k),i||(m[O.name]--,0!==m[O.name]||e.hasKey(O)||-1!==s.indexOf(O.name)||k.isDisposed||E.push(k))}for(var T=h(w.sourceLayer.apply(x,n)),P=function(t){var e;if(1===t.sourceLayer.inboundNodes.length)e=t.sourceLayer.output;else{for(var n=null,r=0;r<t.sourceLayer.inboundNodes.length;++r)for(var i=0,o=t.sourceLayer.inboundNodes[r].outputTensors;i<o.length;i++)if(o[i].id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}(w),N=Array.isArray(P)?P:[P],I=0;I<N.length;++I){y.hasKey(N[I])||y.add(N[I],T[I]);var A=s.indexOf(N[I].name);-1!==A&&(u[A]=T[I])}i||Object(Fe._9)(E)}}return o?u:u[0]}function $t(t,e){for(var n=new Set,r=[],i={},o=0,a=e.names();o<a.length;o++){n.add(a[o])}var s=[],u=[];for(s.push(t);s.length>0;){var l=s[s.length-1];if(n.has(l.name))s.pop();else{var c=u[u.length-1]===s.length-1;if(0===l.inputs.length||c)s.pop(),r.push(l),n.add(l.name),c&&u.pop();else{u.push(s.length-1);for(var f=0,p=l.inputs;f<p.length;f++){var d=p[f];null==i[d.name]&&(i[d.name]=new Set),i[d.name].add(l.name),n.has(d.name)||s.push(d)}}}}return{sorted:r,recipientMap:i}}function Yt(t,e,n,r){if(!n.startsWith("2."))throw new Ke("Unsupported Keras version in weights being loaded: "+n);return e}function Kt(t,e,n){var r=function(t){switch(t){case"float32":return"float32";default:throw new Ke("Invalid dtype: "+t)}}(t);return Fe.o.make(e,{values:0===e.length?n:Fe._171.flatten(n)},r)}function Xt(t,e){if(t.outputs.length>1)throw new Xe("Support for training a model with multiple output tensors with a dataset object is not implemented yet.");Fe._171.assert(Array.isArray(e)&&2===e.length,"Dataset iterator for fitDataset() is expected to generate an Array of length 2: `[xs, ys]`, but instead generates "+e);var n=(e=e)[1],r=e[0];if(r instanceof Fe.o)return Fe._171.assert(1===t.inputs.length,"Model has multiple "+t.inputs.length+" inputs, hence it expects the input dataset to generate a dictionary of tensors  (with keys "+JSON.stringify(t.inputNames)+", but received a single tensor."),Fe._171.assert(r.shape[0]===n.shape[0],"Mismatch in batch size between x and y tensors ("+r.shape[0]+" vs. "+n.shape[0]+")"),[r,n];var i=void 0;r=r;for(var o=[],a=0,s=t.inputNames;a<s.length;a++){var u=s[a];if(null==r[u])throw new Ke("The feature data generated by the dataset lacks the required input key '"+u+"'.");o.push(r[u]),null==i?i=r[u].shape[0]:Fe._171.assert(r[u].shape[0]===i,"Mismatch in batch size between x and y tensors ("+r[u].shape[0]+" vs. "+n.shape[0]+")")}return o.concat(n)}function Zt(t,e,n){return i(this,void 0,void 0,function(){var r,i,a,s,u,l,c,f,p,d,m,g,v,y,b,_,w,x,E,C,S,O,k,T,P,N;return o(this,function(o){switch(o.label){case 0:if(r=null!=n.batchesPerEpoch,Fe._171.assert(null!=t.optimizer,"You must compile a model before training/testing. Use Model.compile(modelCompileConfig)."),Fe._171.assert(null!=n,"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Fe._171.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs),Fe._171.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch),Fe._171.assert(null==n.validationSplit,"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0,o.label=1;case 1:return o.trys.push([1,,21,22]),i=null!=n.validationData,a=void 0,s=void 0,i&&(Jt(n.validationData)?Fe._171.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches):(u=function(t){if(3===t.length)throw new Xe("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}(n.validationData),a=u.xs,s=u.ys)),l=t.makeTrainFunction(),c=t.getDedupedMetricsNames(),f=void 0,f=i?c.slice().concat(c.map(function(t){return"val_"+t})):c.slice(),p=mt(n.callbacks),d=gt(p,n.yieldEvery,n.verbose,n.epochs,null,null,n.batchesPerEpoch,null,i,f),m=d.callbackList,g=d.history,m.setModel(t),t.history=g,[4,m.onTrainBegin()];case 2:return o.sent(),t.stopTraining_=!1,v=null==n.initialEpoch?0:n.initialEpoch,y={},[4,e.iterator()];case 3:b=o.sent(),o.label=4;case 4:return v<n.epochs?[4,m.onEpochBegin(v)]:[3,18];case 5:return o.sent(),_=0,w=0,r?[3,7]:[4,e.iterator()];case 6:b=o.sent(),o.label=7;case 7:return!r||_<n.batchesPerEpoch?[4,b.next()]:[3,16];case 8:if(x=o.sent(),r&&x.done)return console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+_+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,16];if(null==x.value)return[3,10];for(E=Xt(t,x.value),(C={}).batch=w,C.size=E[0].shape[0],m.onBatchBegin(w,C),S=l(E),Object(Fe._9)(E),N=0;N<c.length;++N)O=c[N],k=S[N],C[O]=k,Object(Fe._42)(k);return[4,m.onBatchEnd(w,C)];case 9:o.sent(),ht(C),w++,_++,o.label=10;case 10:return(r?_>=n.batchesPerEpoch:x.done)?i?(T=void 0,Jt(n.validationData)?(P=h,[4,t.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,12]):[3,14]:[3,15];case 11:return T=P.apply(void 0,[o.sent()]),[3,13];case 12:T=h(t.evaluate(a,s,{batchSize:null==n.validationBatchSize?sr:n.validationBatchSize,verbose:0})),o.label=13;case 13:for(N=0;N<t.metricsNames.length;++N)y["val_"+t.metricsNames[N]]=T[N];o.label=14;case 14:return[3,16];case 15:return t.stopTraining_?[3,16]:[3,7];case 16:return[4,m.onEpochEnd(v,y)];case 17:return o.sent(),v++,t.stopTraining_?[3,18]:[3,4];case 18:return[4,m.onTrainEnd()];case 19:return o.sent(),[4,t.history.syncData()];case 20:return o.sent(),[2,t.history];case 21:return t.isTraining=!1,[7];case 22:return[2]}})})}function Jt(t){return"function"==typeof t.iterator}function Qt(t){Fe._171.assert(t>0&&Number.isInteger(t),"batchSize is required to be a positive integer, but got "+t)}function te(t,e,n){return null==t?[null]:Array.isArray(t)?t.map(function(t){return U(t,e,n-e)}):U(t,e,n-e)}function ee(t,e){return Object(Fe._161)(function(){return null==t?null:Array.isArray(t)?t.map(function(t){return ee(t,e)}):X(t,"int32"===e.dtype?e:e.toInt())})}function ne(t,e){for(var n=[],r=0,i=null;r<t;)(i=r+e)>=t&&(i=t),n.push([r,i]),r=i;return n}function re(t,e,n,r){return void 0===r&&(r={}),i(this,void 0,void 0,function(){var a,s,u,l,c,f,p,d,h,m,g,v,y,b,_,w,x,E,C;return o(this,function(S){switch(S.label){case 0:if(t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0,S.label=1;case 1:if(S.trys.push([1,,3,4]),Qt(p=null==r.batchSize?32:r.batchSize),d=t.standardizeUserData(e,n,!1,p),a=d[0],s=d[1],h=!1,m=void 0,null!=r.validationData&&r.validationData.length>0){if(h=!0,2!==r.validationData.length)throw 3===r.validationData.length?new Xe("validationData including sample weights is not supported yet."):new Ke("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+r.validationData+" is invalid.");g=t.standardizeUserData(u=r.validationData[0],l=r.validationData[1],!0,p),m=(c=g[0]).concat(f=g[1])}else null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1?(h=!0,v=Math.floor(a[0].shape[0]*(1-r.validationSplit)),y=a[0].shape[0],c=te(a,v,y),a=te(a,0,v),f=te(s,v,y),s=te(s,0,v),m=c.concat(f)):null!=r.validationSteps&&(h=!0);return b=a.concat(s),t.checkTrainableWeightsConsistency(),_=t.makeTrainFunction(),w=t.getDedupedMetricsNames(),x=void 0,E=void 0,h?(t.makeTestFunction(),x=t.testFunction,E=w.slice().concat(w.map(function(t){return"val_"+t}))):(x=null,m=[],E=w.slice()),C=mt(r.callbacks),[4,function(t,e,n,r,a,s,u,l,c,f,p,d,h,m,g,v){return i(this,void 0,void 0,function(){var i,y,b,_,w,x,E,C;return o(this,function(S){switch(S.label){case 0:if(null==a&&(a=32),null==s&&(s=1),null==p&&(p=!0),null==h&&(h=0),i=!1,null!=c&&null!=f&&(i=!0),null!=g&&(i=!0,null==m))throw new Ke("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(y=t.checkNumSamples(n,a,m,"steps_per_epoch"))&&(b=F(0,y)),null==u&&(u=1),_=gt(l,v,u,s,h,y,m,a,i,d),w=_.callbackList,x=_.history,w.setModel(t),t.history=x,[4,w.onTrainBegin()];case 1:S.sent(),t.stopTraining_=!1,E=function(s){var u,l,d,h,g;return o(this,function(v){switch(v.label){case 0:return[4,w.onEpochBegin(s)];case 1:if(v.sent(),u={},null==m)return[3,2];throw new Xe("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===p)throw new Xe("batch shuffling is not implemneted yet");p&&Fe._171.shuffle(b),l=Object(Fe._154)(b),d=ne(y,a),h=function(s){var p;return o(this,function(o){switch(o.label){case 0:return p={},[4,w.onBatchBegin(s,p)];case 1:return o.sent(),Object(Fe._161)(function(){var o=d[s][0],h=d[s][1],m=U(l,o,h-o);p.batch=s,p.size=h-o;for(var g=ee(n,m),v=e(g),y=0;y<r.length;++y){var b=r[y],_=v[y];p[b]=_,Object(Fe._42)(_)}if(s===d.length-1&&i){var w=t.testLoop(c,f,a);for(y=0;y<r.length;++y)b=r[y],_=w[y],Object(Fe._42)(_),u["val_"+b]=_}}),[4,w.onBatchEnd(s,p)];case 2:return o.sent(),ht(p),t.stopTraining_?[2,"break"]:[2]}})},g=0,v.label=3;case 3:return g<d.length?[5,h(g)]:[3,6];case 4:if("break"===v.sent())return[3,6];v.label=5;case 5:return++g,[3,3];case 6:l.dispose(),v.label=7;case 7:return[4,w.onEpochEnd(s,u)];case 8:return v.sent(),t.stopTraining_?[2,"break"]:[2]}})},C=h,S.label=2;case 2:return C<s?[5,E(C)]:[3,5];case 3:if("break"===S.sent())return[3,5];S.label=4;case 4:return++C,[3,2];case 5:return[4,w.onTrainEnd()];case 6:return S.sent(),[4,t.history.syncData()];case 7:return S.sent(),[2,t.history]}})})}(t,_,b,w,p,r.epochs,r.verbose,C,x,m,r.shuffle,E,r.initialEpoch,null,null,r.yieldEvery)];case 2:return[2,S.sent()];case 3:return t.isTraining=!1,oe(a,e),oe(s,n),oe(c,u),oe(f,l),[7];case 4:return[2]}})})}function ie(t){var e=[];t instanceof Fe.o&&(t=[t]);for(var n=0;n<t.length;++n){var r=t[n];if(1===r.rank)e.push(V(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function oe(t,e){if(null!=t){var n=[];if(e instanceof Fe.o)n.push(e.id);else if(Array.isArray(e))e.forEach(function(t){return n.push(t.id)});else if(null!=e)for(var r in e){n.push(e[r].id)}var i=[];if(t instanceof Fe.o)-1===n.indexOf(t.id)&&i.push(t);else if(Array.isArray(t))t.forEach(function(t){-1===n.indexOf(t.id)&&i.push(t)});else if(null!=t)for(var o in t){var a=t[o];-1===n.indexOf(a.id)&&i.push(a)}i.forEach(function(t){t.isDisposed||t.dispose()})}}function ae(t){return Array.isArray(t)}function se(t){return!function(t){return t instanceof Fe.o}(t)&&!ae(t)}function ue(t,e,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=""),null==e||0===e.length){if(null!=t){var o=!1;if(ae(t)&&t.length>0)o=!0;else if(se(t)){for(var a in t)if(t.hasOwnProperty(a)){o=!0;break}}else o=!0;if(o)throw new Ke("Error when checking model "+i+" expected no data, but got "+t)}return[]}if(null==t)return e.map(function(t){return null});var s;if(se(t)){t=t,s=[];for(var u=0,l=e;u<l.length;u++){var c=l[u];if(null==t[c])throw new Ke('No data provided for "'+c+'". Need data for each key in: '+e);s.push(t[c])}}else if(ae(t)){if((t=t).length!==e.length)throw new Ke("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+e.length+" Tensor(s), but instead got the following list of Tensor(s): "+t);s=t}else{if(t=t,e.length>1)throw new Ke("The model "+i+" expects "+e.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+t.shape);s=[t]}if(s=ie(s),null!=n)for(var f=0;f<e.length;++f)if(null!=n[f]){var p=s[f];if(p.shape.length!==n[f].length)throw new Ke("Error when checking "+i+": expected "+e[f]+" to have "+n[f].length+" dimension(s). but got array with shape "+p.shape);for(var d=0;d<n[f].length;++d)if(0!==d||r){var h=n[f][d];if(null!=h&&h>=0&&p.shape[d]!==h)throw new Ke("Error when checking "+i+": expected "+e[f]+" to have shape ["+n[f]+"], but got array with shape ["+p.shape+"].")}}return s}function le(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=""),Array.isArray(t)){if(t.length!==e.length)throw new Ke("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+e.length+" Tensor(s), but instead got "+t.length+" Tensors(s).");o=t}else{if(e.length>1)throw new Ke("The model expects "+e.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(t.shape)+".");o=[t]}if(null!=n)for(var a=0;a<e.length;++a)if(null!=n[a]){var s=o[a];if(s.shape.length!==n[a].length)throw new Ke("Error when checking "+i+": expected "+e[a]+" to have "+n[a].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var u=0;u<n[a].length;++u)if(0!==u||r){var l=n[a][u];if(null!=l&&l!==s.shape[u])throw new Ke("Error when checking "+i+": expected "+e[a]+" to have shape "+JSON.stringify(n[a])+" but got array with shape "+JSON.stringify(s.shape)+".")}}}function ce(t,e){return void 0===e&&(e=!0),i(this,void 0,void 0,function(){var n;return o(this,function(r){if("string"==typeof t){if(0===(n=Fe._40.getLoadHandlers(t)).length)n.push(Fe._40.browserHTTPRequest(t));else if(n.length>1)throw new Ke("Found more than one ("+n.length+") load handlers for URL '"+t+"'");t=n[0]}return[2,function(t,e,n){return void 0===n&&(n=!0),i(this,void 0,void 0,function(){var r,i,a,s,u;return o(this,function(o){switch(o.label){case 0:if(null==t.load)throw new Ke("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,t.load()];case 1:if(r=o.sent(),null!=(i=r.modelTopology).model_config&&(i=i.model_config),a=Ut(qt(i),e),null!=r.weightData){if(null==r.weightSpecs)throw new Ke("Model artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");s=!1,u=!0,a.loadWeights(Fe._40.decodeWeights(r.weightData,r.weightSpecs),s,u,n)}return[2,a]}})})}(t,void 0,e)]})})}function fe(t){return new ur(t)}function pe(t){return new lr(t)}function de(t,e){return void 0===e&&(e=!0),ce(t,e)}function he(t){return pt(t)}function me(t,e){Yn.registerCallbackConstructor(t,e)}function ge(t){return t.getClassName()}function ve(t,e){return void 0===e&&(e={}),y(t,Fe._122.SerializationMap.getMap().classNameMap,e,"activation")}function ye(t){return null==t?ve({className:"linear",config:{}}):"string"==typeof t?ve({className:t,config:{}}):t instanceof cr?t:ve(t)}function be(t){return v(t)}function _e(t,e){return void 0===e&&(e={}),y(t,Fe._122.SerializationMap.getMap().classNameMap,e,"regularizer")}function we(t){return null==t?null:"string"==typeof t?_e({className:t in Pr?Pr[t]:t,config:{}}):t instanceof kr?t:_e(t)}function xe(t,e,n){if("number"==typeof t)return c(t,e);if(t.length!==e)throw new Ke("The "+n+" argument must be a tuple of "+e+" integers. Received: "+t.length+" elements.");for(var r=0;r<e;++r){var i=t[r];if(!D(i))throw new Ke("The "+n+" argument must be a tuple of "+e+" integers. Received: "+JSON.stringify(t)+" including a non-integer number "+i)}return t}function Ee(t,e,n,r,i){return void 0===i&&(i=1),null==t?t:(o="same"===n?t:t-(e+(e-1)*(i-1))+1,Math.floor((o+r-1)/r));var o}function Ce(t,e,n,r){if(null==t)return null;if("valid"===r)t=t*e+z([n-e,0]);else{if("same"!==r)throw new Ke("Unsupport padding mode: "+r+".");t*=e}return t}function Se(t,e){return Object(Fe._161)(function(){return T(e),"channelsFirst"===e?Object(Fe._167)(t,[0,2,3,1]):t})}function Oe(t,e){for(;t<0;)t+=e;return t}function ke(t,e,n,r,i,o){var a;if(void 0===o&&(o=.001),2===t.rank)a=Object(Fe.J)(t,e,n,o,i,r);else if(3===t.rank)a=Object(Fe.K)(t,e,n,o,i,r);else{if(4!==t.rank)throw new Xe("batchNormalization is not implemented for array of rank "+t.rank+" yet");a=Object(Fe.L)(t,e,n,o,i,r)}return a}function Te(t,e,n,r,i){return void 0===i&&(i=.001),Fe._171.arraysEqual(r.slice().sort(),F(0,t.rank-1))?function(t,e,n,r,i){return void 0===i&&(i=.001),Object(Fe._161)(function(){var o=Object(Fe._74)(t,r),a=o.mean,s=o.variance;return[ke(t,a,s,n,e,i),a,s]})}(t,e,n,r,i):function(t,e,n,r,i){return void 0===i&&(i=.001),Object(Fe._161)(function(){for(var o=Object(Fe._74)(t,r),a=o.mean,s=o.variance,u=[],l=0,c=F(0,t.rank);l<c.length;l++){var f=c[l];-1!==r.indexOf(f)?u.push(1):u.push(t.shape[f])}var p=a.reshape(u),d=s.reshape(u),h=null==e?null:e.reshape(u),m=null==n?null:n.reshape(u);return[ke(t,p,d,m,h,i),a,s]})}(t,e,n,r,i)}function Pe(t,e,n,r,i,o){return Object(Fe._161)(function(){var a;T(i),function(t){x(cn,"PoolMode",t)}(o),P(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),t=Se(t,i);var s="same"===r?"same":"valid";return a="max"===o?Object(Fe._64)(t,e,n,s):Object(Fe.G)(t,e,n,s),"channelsFirst"===i&&(a=Object(Fe._167)(a,[0,3,1,2])),a})}function Ne(t,e,n,r){function i(t){return null==t||Array.isArray(t)?t:[t]}if(Array.isArray(t)){if(null!=e||null!=n)throw new Ke("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}return{inputs:t,initialState:e=i(e),constants:n=i(n)}}function Ie(t,e,n,r,i,o,a,s){void 0===r&&(r=!1),void 0===a&&(a=!1),void 0===s&&(s=!1);var u=e.shape.length;if(u<3)throw new Ke("Input should be at least 3D, but is "+u+"D.");var l,c,f=[1,0].concat(F(2,u));if(e=Object(Fe._167)(e,f),null!=i)throw new Xe("The rnn() function of the deeplearn.js backend does not support masking yet.");if(null!=o)throw new Xe("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r&&(e=Object(Fe._110)(e,0));for(var p=n,d=e.shape[0],h=function(n){var r=U(e,n,1);r=r.reshape(r.shape.slice(1));var i=Object(Fe._161)(function(){return t(r,p)});if(c=i[0],s)if(0===n)l=c.expandDims(1);else{var o=Object(Fe.T)([l,c.expandDims(1)],1);l.dispose(),l=o}p=i[1]},m=0;m<d;++m)h(m);return[c,l,p]}function Ae(t,e,n,r){function i(){return Q(t(),l(e))}if(void 0===n&&(n=null),void 0===r&&(r=1),r>1){for(var o=[],a=0;a<r;a++)o.push(tt(i,t,n));return o.forEach(function(t){return Object(Fe._42)(t)}),o}return Object(Fe._42)(tt(i,t,n))}function Me(t){return new oi(t)}function De(t){return new ui(t)}function Re(t){return new fi(t)}function je(t){return new hi(t)}function Le(t){return new ii(t)}function ze(t){return new si(t)}Object.defineProperty(e,"__esModule",{value:!0});var Fe=n(77),Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},Ve=function(){return(Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ue=Fe.f.get("EPSILON"),We=0,qe={},He={float32:{},int32:{}},Ge="float32",$e=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error),Ye=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error),Ke=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error),Xe=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error),Ze=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error),Je=(function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}r(e,t)}(Error),{}),Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getConfig=function(){return{}},e}(Fe._122.Serializable),tn=function(t){function e(e){var n=t.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return r(e,t),e.prototype.apply=function(t){var e=this;return Object(Fe._161)(function(){var n=C(t,e.axis),r=Object(Fe.Q)(n,0,e.maxValue);return Object(Fe._76)(t,Object(Fe._11)(r,Object(Fe.u)(l(a()),n)))})},e.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},e.className="MaxNorm",e}(Qe);Fe._122.registerClass(tn);var en=function(t){function e(e){var n=t.call(this)||this;return n.defaultAxis=0,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return r(e,t),e.prototype.apply=function(t){var e=this;return Object(Fe._161)(function(){return Object(Fe._11)(t,Object(Fe.u)(l(a()),C(t,e.axis)))})},e.prototype.getConfig=function(){return{axis:this.axis}},e.className="UnitNorm",e}(Qe);Fe._122.registerClass(en);var nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._108)(t)},e.className="NonNeg",e}(Qe);Fe._122.registerClass(nn);var rn=function(t){function e(e){var n=t.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=e.minValue?e.minValue:n.defaultMinValue,n.maxValue=null!=e.maxValue?e.maxValue:n.defaultMaxValue,n.rate=null!=e.rate?e.rate:n.defaultRate,n.axis=null!=e.axis?e.axis:n.defaultAxis,n}return r(e,t),e.prototype.apply=function(t){var e=this;return Object(Fe._161)(function(){var n=C(t,e.axis),r=Object(Fe.u)(Object(Fe._76)(l(e.rate),Object(Fe.Q)(n,e.minValue,e.maxValue)),Object(Fe._76)(l(1-e.rate),n));return Object(Fe._76)(t,Object(Fe._11)(r,Object(Fe.u)(l(a()),n)))})},e.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},e.className="MinMaxNorm",e}(Qe);Fe._122.registerClass(rn);var on={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"},an=Object.freeze({maxNorm:function(t){return new tn(t)},unitNorm:function(t){return new en(t)},nonNeg:function(){return new nn},minMaxNorm:function(t){return new rn(t)}}),sn=new Map,un=["channelsFirst","channelsLast"],ln=["valid","same","causal"],cn=["max","avg"],fn=[],pn="/",dn=new RegExp(/^[A-Za-z][-A-Za-z0-9\._\/]*$/),hn=["fanIn","fanOut","fanAvg"],mn=["normal","uniform"],gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.fromConfigUsesCustomObjects=function(){return!1},e.prototype.getConfig=function(){return{}},e}(Fe._122.Serializable),vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t,e){return Object(Fe._180)(t,e)},e.className="Zeros",e}(gn);Fe._122.registerClass(vn);var yn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t,e){return Object(Fe._86)(t,e)},e.className="Ones",e}(gn);Fe._122.registerClass(yn);var bn=function(t){function e(e){var n=t.call(this)||this;if("object"!=typeof e)throw new Ke("Expected argument of type ConstantConfig but got "+e);if(void 0===e.value)throw new Ke("config must have value set but got "+e);return n.value=e.value,n}return r(e,t),e.prototype.apply=function(t,e){var n=this;return Object(Fe._161)(function(){return Object(Fe._76)(Object(Fe._118)(n.value),Object(Fe._86)(t,e))})},e.prototype.getConfig=function(){return{value:this.value}},e.className="Constant",e}(gn);Fe._122.registerClass(bn);var _n=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=e.minval||n.DEFAULT_MINVAL,n.maxval=e.maxval||n.DEFAULT_MAXVAL,n.seed=e.seed,n}return r(e,t),e.prototype.apply=function(t,e){return Object(Fe._104)(t,this.minval,this.maxval,e)},e.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},e.className="RandomUniform",e}(gn);Fe._122.registerClass(_n);var wn=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return r(e,t),e.prototype.apply=function(t,e){if("float32"!==(e=e||"float32")&&"int32"!==e)throw new Xe("randomNormal does not support dType "+e+".");return Y(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="RandomNormal",e}(gn);Fe._122.registerClass(wn);var xn=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=e.mean||n.DEFAULT_MEAN,n.stddev=e.stddev||n.DEFAULT_STDDEV,n.seed=e.seed,n}return r(e,t),e.prototype.apply=function(t,e){if("float32"!==(e=e||"float32")&&"int32"!==e)throw new Xe("truncatedNormal does not support dType "+e+".");return Object(Fe._168)(t,this.mean,this.stddev,e,this.seed)},e.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},e.className="TruncatedNormal",e}(gn);Fe._122.registerClass(xn);var En=function(t){function e(e){var n=t.call(this)||this;return n.gain=null!=e.gain?Object(Fe._118)(e.gain):l(1),n}return r(e,t),e.prototype.apply=function(t,e){var n=this;return Object(Fe._161)(function(){if(2!==t.length||t[0]!==t[1])throw new Ke("Identity matrix initializer can only be used for 2D square matrices.");return Object(Fe._76)(n.gain,Object(Fe._22)(t[0]))})},e.prototype.getConfig=function(){return{gain:this.gain.get()}},e.className="Identity",e}(gn);Fe._122.registerClass(En);var Cn=function(t){function e(e){var n=t.call(this)||this;if(e.scale<0)throw new Ke("scale must be a positive float. Got: "+e.scale);return n.scale=null==e.scale?1:e.scale,n.mode=e.mode,function(t){x(hn,"FanMode",t)}(n.mode),n.distribution=e.distribution,function(t){x(mn,"Distribution",t)}(n.distribution),n.seed=e.seed,n}return r(e,t),e.prototype.apply=function(t,e){var n=function(t,e){var n,r;if(void 0===e&&(e="channelsLast"),T(e),2===t.length)n=t[0],r=t[1];else if(-1!==[3,4,5].indexOf(t.length))if("channelsFirst"===e){var i=R(t,2);n=t[1]*i,r=t[0]*i}else"channelsLast"===e&&(i=R(t,0,t.length-2),n=t[t.length-2]*i,r=t[t.length-1]*i);else{var o=R(t);n=Math.sqrt(o),r=Math.sqrt(o)}return[n,r]}(t),r=n[0],i=n[1],o=this.scale;if(o/="fanIn"===this.mode?Math.max(1,r):"fanOut"===this.mode?Math.max(1,i):Math.max(1,(r+i)/2),"normal"===this.distribution){var a=Math.sqrt(o);if("float32"!==(e=e||"float32")&&"int32"!==e)throw new Xe(this.getClassName()+" does not support dType "+e+".");return Object(Fe._168)(t,0,a,e,this.seed)}var s=Math.sqrt(3*o);return Object(Fe._104)(t,-s,s,e)},e.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},e.className="VarianceScaling",e}(gn);Fe._122.registerClass(Cn);var Sn=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})||this}return r(e,t),e.prototype.getClassName=function(){return Cn.className},e.className="GlorotUniform",e}(Cn);Fe._122.registerClass(Sn);var On=function(t){function e(e){return t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})||this}return r(e,t),e.prototype.getClassName=function(){return Cn.className},e.className="GlorotNormal",e}(Cn);Fe._122.registerClass(On);var kn=function(t){function e(e){return t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return r(e,t),e.prototype.getClassName=function(){return Cn.className},e.className="HeNormal",e}(Cn);Fe._122.registerClass(kn);var Tn=function(t){function e(e){return t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})||this}return r(e,t),e.prototype.getClassName=function(){return Cn.className},e.className="LeCunNormal",e}(Cn);Fe._122.registerClass(Tn);var Pn=function(t){function e(e){var n=t.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==e.gain?n.DEFAULT_GAIN:e.gain,n.seed=e.seed,null!=n.seed)throw new Xe("Random seed is not implemented for Orthogonal Initializer yet.");return n}return r(e,t),e.prototype.apply=function(t,e){var n=this;return Object(Fe._161)(function(){if(2!==t.length)throw new Xe("The Orthogonal Initializer does not support non-2D shapes yet.");t[0]*t[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+t[0]*t[1]+") elements: Slowness may result.");var e=Y(t[0]>t[1]?[t[1],t[0]]:t,0,1,"float32"),r=Fe._48.gramSchmidt(e);return t[0]>t[1]&&(r=r.transpose()),Object(Fe._76)(l(n.gain),r)})},e.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},e.className="Orthogonal",e}(gn);Fe._122.registerClass(Pn);var Nn,In={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",identity:"Identity",leCunNormal:"LeCunNormal",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"},An=Object.freeze({zeros:function(){return new vn},ones:function(){return new yn},constant:function(t){return new bn(t)},randomUniform:function(t){return new _n(t)},randomNormal:function(t){return new wn(t)},truncatedNormal:function(t){return new xn(t)},identity:function(t){return new En(t)},varianceScaling:function(t){return new Cn(t)},glorotUniform:function(t){return new Sn(t)},glorotNormal:function(t){return new On(t)},heNormal:function(t){return new kn(t)},leCunNormal:function(t){return new Tn(t)},orthogonal:function(t){return new Pn(t)}}),Mn="Variable",Dn=function(){function t(t,e,n,r,i){void 0===e&&(e="float32"),void 0===n&&(n=Mn),void 0===r&&(r=!0),void 0===i&&(i=null),this.dtype=null==e?"float32":e,this.shape=t.shape,this.id=s(),this.originalName=I(n=null==n?Mn:n),this.name=A(this.originalName),this.trainable=r,this.constraint=i,this.val=Object(Fe._174)(t,this.trainable,this.name,this.dtype)}return t.prototype.read=function(){return this.assertNotDisposed(),this.val},t.prototype.write=function(t){return this.assertNotDisposed(),function(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},t.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},t.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},t}(),Rn=function(t){this.dtype=t.dtype,this.shape=t.shape,this.ndim=null!=t.shape?t.shape.length:t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}},jn=function(t,e,n,r,i,o,a){this.dtype=t,this.shape=e,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=a,this.id=s(),null!=o&&(this.originalName=I(o),this.name=A(this.originalName)),this.rank=e.length},Ln=0,zn=function(){function t(t,e){this.callArgs=e,this.id=Ln++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;for(var n=0,r=t.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}t.outboundLayer.inboundNodes.push(this)}return t.prototype.getConfig=function(){for(var t=[],e=0,n=this.inboundLayers;e<n.length;e++){var r=n[e];t.push(null!=r?r.name:null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},t}(),Fn=0,Bn=function(t){function e(e){var n=t.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=Fn++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=e.name;if(!r){var i=n.getClassName();r=m(i)+"_"+u(i)}if(n.name=r,n.trainable=null==e.trainable||e.trainable,n.updatable=null==e.updatable||e.updatable,null!=e.inputShape||null!=e.batchInputShape){var o=void 0;if(null!=e.batchInputShape)o=e.batchInputShape;else if(null!=e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),o=[a].concat(e.inputShape)}n.batchInputShape=o;var s=e.dtype;null==s&&(s=e.inputDType),null==s&&(s="float32"),n.dtype=s}return n.initialWeights=null!=e.weights?e.weights:null,n._refCount=null,n}return r(e,t),e.nodeKey=function(t,e){return t.name+"_ib-"+e.toString()},e.prototype.getNodeAtIndex=function(t,e){if(0===this.inboundNodes.length)throw new Ye("The layer has never been called and thus has no defined "+e+".");if(this.inboundNodes.length<=t)throw new Ke("Asked to get "+e+" at node "+t+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[t]},e.prototype.getInputAt=function(t){return d(this.getNodeAtIndex(t,"input").inputTensors)},e.prototype.getOutputAt=function(t){return d(this.getNodeAtIndex(t,"output").outputTensors)},Object.defineProperty(e.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new $e("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new $e("Layer "+this.name+" is not connected, no input to return.");return d(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new $e("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new $e("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return d(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),e.prototype.calculateLosses=function(){return this.losses.map(function(t){return t()})},Object.defineProperty(e.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"built",{get:function(){return this._built},set:function(t){this._built=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this._trainableWeights:[]},set:function(t){this._trainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._nonTrainableWeights:this._trainableWeights.concat(this._nonTrainableWeights)},set:function(t){this._nonTrainableWeights=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),e.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},e.prototype.assertInputCompatibility=function(t){if(t=h(t),null!=this.inputSpec&&0!==this.inputSpec.length){var e=h(this.inputSpec);if(t.length!==e.length)throw new Ke("Layer "+this.name+" expects "+e.length+" inputs, but it received "+t.length+" input tensors. Input received: "+t);for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(null!=i){var o=r.rank;if(null!=i.ndim&&o!==i.ndim)throw new Ke("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+i.ndim+", found ndim="+o);if(null!=i.maxNDim&&o>i.maxNDim)throw new Ke("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+i.maxNDim+", found ndim="+o);if(null!=i.minNDim&&o<i.minNDim)throw new Ke("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+i.minNDim+", found ndim="+o+".");if(null!=i.dtype&&r.dtype!==i.dtype)throw new Ke("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+i.dtype+", found dtype="+r.dtype+".");if(i.axes){var a=r.shape;for(var s in i.axes){var u=Number(s),l=i.axes[s];if(null!=l&&-1===[l,null].indexOf(u>=0?a[u]:a[a.length+u]))throw new Ke("Input "+n+" is incompatible with layer "+this.name+": expected axis "+u+" of input shape to have value "+l+" but got shape "+a+".")}}if(null!=i.shape)for(var c=0;c<i.shape.length;++c){var f=i.shape[c],p=r.shape[c];if(null!=f&&null!=p&&f!==p)throw new Ke("Input "+n+" is incompatible with layer "+this.name+": expected shape="+i.shape+", found shape=${xShape}.")}}}}},e.prototype.call=function(t,e){return t},e.prototype.invokeCallHook=function(t,e){null!=this._callHook&&this._callHook(t,e)},e.prototype.setCallHook=function(t){this._callHook=t},e.prototype.clearCallHook=function(){this._callHook=null},e.prototype.apply=function(t,e){var n=this;e=e||{},this.assertNotDisposed();for(var r=h(t),i=!0,o=0,a=r;o<a.length;o++)if(!(a[o]instanceof jn)){i=!1;break}for(var s=!0,u=0,l=r;u<l.length;u++)if(l[u]instanceof jn){s=!1;break}if(i===s)throw new Ke("Arguments to apply() must be all SymbolicTensors or all Tensors");return N(this.name,function(){if(!n.built){n.assertInputCompatibility(t);for(var i=[],o=0,a=h(t);o<a.length;o++){i.push(a[o].shape)}n.build(d(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(t),s){for(var u=[],l=0,c=h(g=n.call(t,e));l<c.length;l++){var f=c[l];-1!==r.indexOf(f)&&(f=f.clone()),u.push(f)}if(g=d(u),null!=n.activityRegularizer)throw new Xe("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}var p=function(t){for(var e=[],n=0,r=t=h(t);n<r.length;n++)e.push(r[n].shape);return d(e)}(t),m=n.computeOutputShape(p),g=void 0;if(n.warnOnIncompatibleInputShape(Array.isArray(t)?p[0]:p),g=null!=m&&m.length>0&&Array.isArray(m[0])?m.map(function(r,i){return new jn("float32",r,n,h(t),e,n.name,i)}):new jn("float32",m,n,h(t),e,n.name),n.addInboundNode(t,g,null,null,p,m,e),n._refCount++,null!=n.activityRegularizer)throw new Xe("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g})},e.prototype.warnOnIncompatibleInputShape=function(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(t)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var e=!1;this.batchInputShape.forEach(function(n,r){null!=n&&null!=t[r]&&t[r]!==n&&(e=!0)}),e&&console.warn("The shape of the input tensor ("+JSON.stringify(t)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(e.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new $e("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var t=[],e=0,n=this.inboundNodes;e<n.length;e++){var r=n[e],i=JSON.stringify(r.outputShapes);-1===t.indexOf(i)&&t.push(i)}if(1===t.length){var o=this.inboundNodes[0].outputShapes;return Array.isArray(o)&&Array.isArray(o[0])&&1===o.length?o[0]:o}throw new $e("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),e.prototype.countParams=function(){if(!this.built)throw new Ye("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return ut(this.weights)},e.prototype.build=function(t){this.built=!0},e.prototype.getWeights=function(t){return void 0===t&&(t=!1),lt(t?this.trainableWeights:this.weights)},e.prototype.setWeights=function(t){var e=this;Object(Fe._161)(function(){var n=e.weights;if(n.length!==t.length)throw new Ke('You called setWeights(weights) on layer "'+e.name+'" with a weight list of length '+t.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+t+"...");if(0!==n.length){for(var r=[],i=lt(n),o=0;o<i.length;++o){var a=i[o],s=n[o],u=t[o];if(!Fe._171.arraysEqual(a.shape,u.shape))throw new Ke("Layer weight shape "+a.shape+" not compatible with provided weight shape "+u.shape);r.push([s,u])}ct(r)}})},e.prototype.addWeight=function(t,e,n,r,i,o,a){if(-1!==this._addedWeightNames.indexOf(t))throw new Ke("Duplicate weight name "+t+" for layer "+this.name);this._addedWeightNames.push(t),null==n&&(n="float32");var s=new Dn(r.apply(e,n),n,t,o,a);return null!=i&&this.addLoss(function(){return i.apply(s.read())}),null==o&&(o=!0),o?this._trainableWeights.push(s):this._nonTrainableWeights.push(s),s},e.prototype.addLoss=function(t){var e;null==t||Array.isArray(t)&&0===t.length||(t=h(t),void 0!==this._losses&&null!==this._losses&&(e=this.losses).push.apply(e,t))},e.prototype.computeOutputShape=function(t){return t},e.prototype.computeMask=function(t,e){var n=this;if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError("Layer "+this.name+" does not support masking,but was passed an inputMask.");e.forEach(function(t){if(null!=t)throw new TypeError("Layer "+n.name+" does not support masking,but was passed an inputMask.")})}return null}return e},e.prototype.addInboundNode=function(t,e,n,r,i,o,a){void 0===a&&(a=null);var s=h(t);e=h(e),n=h(n),r=h(r),i=ot(i),o=ot(o);for(var u=[],l=[],c=[],f=0,p=s;f<p.length;f++){var d=p[f];u.push(d.sourceLayer),l.push(d.nodeIndex),c.push(d.tensorIndex)}new zn({outboundLayer:this,inboundLayers:u,nodeIndices:l,tensorIndices:c,inputTensors:s,outputTensors:e,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:o},a);for(var m=0;m<e.length;m++)e[m].sourceLayer=this,e[m].nodeIndex=this.inboundNodes.length-1,e[m].tensorIndex=m},e.prototype.getConfig=function(){var t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t},e.prototype.disposeWeights=function(){return this.weights.forEach(function(t){return t.dispose()}),this.weights.length},e.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},e.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var t=0;return 0==--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}},e}(Fe._122.Serializable),Vn=function(t){function e(e){var n=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:u("input").toString()})||this;if(null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Ke("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=e.batchInputShape;if(null==r){if(null==e.inputShape)throw new Ke("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Ke("Cannot specify batchSize if batchInputShape isspecified when creating an InputLayer.");var i=e.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var o=new jn(n.dtype,n.batchInputShape,n,[],{},n.name);return o.nodeIndex=0,o.tensorIndex=0,new zn({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return r(e,t),e.prototype.apply=function(t,e){throw new Ke("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},e.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},e.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},e.className="InputLayer",e}(Bn);Fe._122.registerClass(Vn),function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"}(Nn||(Nn={}));var Un=function(){function t(){this.validationData=null}return t.prototype.setParams=function(t){this.params=t},t.prototype.onEpochBegin=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onEpochEnd=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onBatchBegin=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onBatchEnd=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onTrainBegin=function(t){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onTrainEnd=function(t){return i(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.setModel=function(t){},t}(),Wn=function(){function t(t,e){void 0===e&&(e=10),null==t&&(t=[]),this.callbacks=t,this.queueLength=e}return t.prototype.append=function(t){this.callbacks.push(t)},t.prototype.setParams=function(t){for(var e=0,n=this.callbacks;e<n.length;e++)n[e].setParams(t)},t.prototype.setModel=function(t){for(var e=0,n=this.callbacks;e<n.length;e++)n[e].setModel(t)},t.prototype.onEpochBegin=function(t,e){return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onEpochEnd=function(t,e){return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onBatchBegin=function(t,e){return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:null==e&&(e={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(t,e)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.onBatchEnd=function(t,e){return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:return null==e&&(e={}),[4,dt(e)];case 1:i.sent(),n=0,r=this.callbacks,i.label=2;case 2:return n<r.length?[4,r[n].onBatchEnd(t,e)]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},t.prototype.onTrainBegin=function(t){return i(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:null==t&&(t={}),e=0,n=this.callbacks,r.label=1;case 1:return e<n.length?[4,n[e].onTrainBegin(t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.onTrainEnd=function(t){return i(this,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:null==t&&(t={}),e=0,n=this.callbacks,r.label=1;case 1:return e<n.length?[4,n[e].onTrainEnd(t)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t}(),qn=function(){function t(t){this.yieldEvery=t,this.batchCount=0,this.batchDurationsMillis=[],this.autoYieldEveryBatches=null,this.batchStartMillis=Fe._171.now()}return t.prototype.resolveOneTensorInLogs=function(t){return i(this,void 0,void 0,function(){var e,n,r,i,a;return o(this,function(o){switch(o.label){case 0:for(n in e=[],t)e.push(n);r=0,o.label=1;case 1:return r<e.length?(i=e[r],"number"==typeof(a=t[i])?[3,3]:[4,a.data()]):[3,4];case 2:return o.sent(),[3,4];case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.maybeYieldOnBatch=function(e){return i(this,void 0,void 0,function(){var n,r;return o(this,function(i){switch(i.label){case 0:return"auto"!==this.yieldEvery?[3,7]:(this.batchCount++,null!=this.autoYieldEveryBatches?[3,3]:[4,this.resolveOneTensorInLogs(e)]);case 1:return i.sent(),n=Fe._171.now(),[4,Object(Fe._81)()];case 2:return i.sent(),this.batchCount>t.SKIP_FIRST_BATCHES&&(this.batchDurationsMillis.push(n-this.batchStartMillis),this.batchDurationsMillis.length>=t.DECISION_BATCH_COUNT&&(r=this.batchDurationsMillis.reduce(function(t,e){return t+e})/this.batchDurationsMillis.length,this.autoYieldEveryBatches=Math.round(t.THRESHOLD_MILLIS/r),this.autoYieldEveryBatches<1&&(this.autoYieldEveryBatches=1))),this.batchStartMillis=Fe._171.now(),this.lastYieldBatchCount=this.batchCount,[3,6];case 3:return this.batchCount-this.lastYieldBatchCount>=this.autoYieldEveryBatches?[4,Object(Fe._81)()]:[3,6];case 4:return i.sent(),[4,this.resolveOneTensorInLogs(e)];case 5:i.sent(),this.lastYieldBatchCount=this.batchCount,i.label=6;case 6:return[3,9];case 7:return"batch"!==this.yieldEvery?[3,9]:[4,Object(Fe._81)()];case 8:i.sent(),i.label=9;case 9:return[2]}})})},t.prototype.maybeYieldOnEpoch=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return"epoch"!==this.yieldEvery?[3,2]:[4,Object(Fe._81)()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.SKIP_FIRST_BATCHES=1,t.DECISION_BATCH_COUNT=2,t.THRESHOLD_MILLIS=16,t}(),Hn=function(t){function e(e){var n=t.call(this)||this;return n.yieldEvery=e||"auto",n}return r(e,t),e.prototype.onTrainBegin=function(t){return i(this,void 0,void 0,function(){return o(this,function(t){return this.autoYielder=new qn(this.yieldEvery),[2]})})},e.prototype.onEpochBegin=function(t){return i(this,void 0,void 0,function(){return o(this,function(t){return this.seen=0,this.totals={},[2]})})},e.prototype.onBatchEnd=function(t,e){return i(this,void 0,void 0,function(){var t,n,r,i,a=this;return o(this,function(o){switch(o.label){case 0:return[4,this.autoYielder.maybeYieldOnBatch(e)];case 1:for(i in o.sent(),null==e&&(e={}),t=null==e.size?0:e.size,this.seen+=t,n=function(n){var i=e[n];if("number"==typeof i)r.totals.hasOwnProperty(n)||(r.totals[n]=0),r.totals[n]=r.totals[n]+i*t;else{var o=void 0;n in r.totals?o=r.totals[n]:r.totals[n]=l(0),r.totals[n]=Object(Fe._161)(function(){return Object(Fe.u)(a.totals[n],Object(Fe._76)(i,l(t)))}),null!=o&&o.dispose()}},r=this,e)n(i);return[2]}})})},e.prototype.onEpochEnd=function(t,e){return i(this,void 0,void 0,function(){var t,n,r,i,a,s=this;return o(this,function(o){switch(o.label){case 0:return[4,this.autoYielder.maybeYieldOnEpoch()];case 1:if(o.sent(),null!=e)for(t=function(t){if(null==n.totals[t])return"continue";"number"==typeof n.totals[t]?e[t]=n.totals[t]/n.seen:Object(Fe._161)(function(){e[t]=Object(Fe._76)(Object(Fe._11)(l(1),l(s.seen)),s.totals[t]),s.totals[t].dispose(),Object(Fe._42)(e[t])})},n=this,r=0,i=this.params.metrics;r<i.length;r++)a=i[r],t(a);return[2]}})})},e}(Un),Gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onTrainBegin=function(t){return i(this,void 0,void 0,function(){return o(this,function(t){return this.epoch=[],this.history={},[2]})})},e.prototype.onEpochEnd=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(r){for(n in null==e&&(e={}),this.epoch.push(t),e)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(e[n]);return[2]})})},e.prototype.syncData=function(){return i(this,void 0,void 0,function(){var t,e,n,r,i,a,s,u,l;return o(this,function(o){switch(o.label){case 0:for(r in t=[],e=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)"number"!=typeof i[a]&&(s=i[a],t.push(s.data()),e.push(r),n.push(a));return[4,Promise.all(t)];case 1:for(u=o.sent(),l=0;l<u.length;++l)this.history[e[l]][n[l]].dispose(),this.history[e[l]][n[l]]=u[l][0];return[2]}})})},e}(Un),$n=function(t){function e(e){var n=t.call(this)||this;return n.trainBegin=e.onTrainBegin,n.trainEnd=e.onTrainEnd,n.epochBegin=e.onEpochBegin,n.epochEnd=e.onEpochEnd,n.batchBegin=e.onBatchBegin,n.batchEnd=e.onBatchEnd,n}return r(e,t),e.prototype.onEpochBegin=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.epochBegin?[3,3]:[4,dt(e)];case 1:return n.sent(),[4,this.epochBegin(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onEpochEnd=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.epochEnd?[3,3]:[4,dt(e)];case 1:return n.sent(),[4,this.epochEnd(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onBatchBegin=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,dt(e)];case 1:return n.sent(),[4,this.batchBegin(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onBatchEnd=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return null==this.batchEnd?[3,3]:[4,dt(e)];case 1:return n.sent(),[4,this.batchEnd(t,e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.onTrainBegin=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return null==this.trainBegin?[3,3]:[4,dt(t)];case 1:return e.sent(),[4,this.trainBegin(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.onTrainEnd=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return null==this.trainEnd?[3,3]:[4,dt(t)];case 1:return e.sent(),[4,this.trainEnd(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e}(Un),Yn=function(){function t(){}return t.registerCallbackConstructor=function(e,n){Fe._171.assert(e>=0&&Number.isInteger(e),"Verbosity level is expected to be an integer >= 0, but got "+e),t.checkForDuplicate(n),null==t.constructors[e]&&(t.constructors[e]=[]),t.constructors[e].push(n)},t.checkForDuplicate=function(e){for(var n in t.constructors)t.constructors[+n].forEach(function(t){if(t===e)throw new Ke("Duplicate callback constructor.")})},t.clear=function(){t.constructors={}},t.createCallbacks=function(e){var n=[];for(var r in t.constructors){var i=+r;e>=i&&n.push.apply(n,t.constructors[i])}return n.map(function(t){return new t})},t.constructors={},t}(),Kn=yt,Xn=yt,Zn=bt,Jn=bt,Qn=_t,tr=_t,er=Ot,nr=It,rr=kt,ir=function(){function t(e){if(this.id2Value={},this.name2Id={},e instanceof t)for(var n in e.id2Value)this.id2Value[n]=e.id2Value[n];else{if(null==e)return;for(var r=0,i=e;r<i.length;r++){var o=i[r];this.add(o.key,o.value)}}}return t.prototype.add=function(t,e){if(null!=this.id2Value[t.id])throw new Ke("Duplicate key: name="+t.name+", id="+t.id);return this.id2Value[t.id]=function(t,e){if(null==t.dtype||t.dtype===e.dtype)return e;try{return Object(Fe.O)(e,t.dtype)}catch(n){throw new Ke("The dtype of the feed ("+e.dtype+") can not be cast to the dtype of the key '"+t.name+"' ("+t.dtype+").")}}(t,e),this.name2Id[t.name]=t.id,this},t.prototype.addFeed=function(t){this.add(t.key,t.value)},t.prototype.hasKey=function(t){return null!=this.id2Value[t.id]},t.prototype.names=function(){return Object.keys(this.name2Id)},t.prototype.getValue=function(t){if(t instanceof jn){if(null==this.id2Value[t.id])throw new Ke("Nonexistent key: "+t.name);return this.id2Value[t.id]}var e=this.name2Id[t];if(null==e)throw new Ke("Feed dict has no SymbolicTensor name: "+t);return this.id2Value[e]},t}(),or={},ar={},sr=32,ur=function(t){function e(e){var n=t.call(this,e)||this;return n.isTraining=!1,n}return r(e,t),e.prototype.summary=function(t,e,n){if(void 0===n&&(n=console.log),!this.built)throw new Ke("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Bt(this,t,e,n)},e.prototype.compile=function(t){var e=this;if(null==t.loss&&(t.loss=[]),this.loss=t.loss,"string"==typeof t.optimizer)this.optimizer=function(t){var e={Adagrad:function(){return Fe._166.adagrad(.01)},Adadelta:function(){return Fe._166.adadelta(1,.95,a())},Adam:function(){return Fe._166.adam(.001,.9,.999,a())},Adamax:function(){return Fe._166.adamax(.002,.9,.999,a(),0)},RMSProp:function(){return Fe._166.rmsprop(.001,.9,0,a())},SGD:function(){return Fe._166.sgd(.01)}};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Ke("Unknown Optimizer "+t)}(t.optimizer);else{if(!(t.optimizer instanceof Fe.j))throw new Ke("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer=t.optimizer}var n=[];if(Array.isArray(t.loss)||"string"==typeof t.loss||"function"==typeof t.loss)if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new Ke("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+t.loss+".");n=t.loss.map(function(t){return At(t)})}else{var r=At(t.loss);this.outputs.map(function(t){n.push(r)})}else{for(var i in t.loss=t.loss,t.loss)if(-1===this.outputNames.indexOf(i))throw new Ke('Unknown entry in loss dictionary: "'+i+'". Only expect the following keys: '+this.outputNames);for(var o in this.outputNames)null==t.loss[o]&&console.warn('Output "'+o+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+o+" during training"),n.push(At(t.loss[o]))}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var s=0;s<this.outputs.length;++s){var u=this.internalOutputShapes[s];this.feedOutputNames.push(this.outputNames[s]),this.feedOutputShapes.push(u),this.feedLossFns.push(this.lossFunctions[s])}var l=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],N("loss",function(){for(var t=0;t<e.outputs.length;++t)if(-1===l.indexOf(t)){e.outputs.length>1&&(e.metricsTensors.push([e.lossFunctions[t],t]),e.metricsNames.push(e.outputNames[t]+"_loss"))}});var c=function(t,e){if(null==t||Array.isArray(t)&&0===t.length)return e.map(function(t){return[]});if(Array.isArray(t))return e.map(function(e){return t});if(null!=t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=t.hasOwnProperty(o)?t[o]:[];Array.isArray(a)||(a=[a]),n.push(a)}return n}throw new TypeError("Type of metrics argument not understood. Expected an Array or Object, found: "+t)}(t.metrics,this.outputNames);N("metric",function(){for(var t=function(t){if(-1!==l.indexOf(t))return"continue";!function(n){for(var r,i,o,a=function(n){if(-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var a=e.internalOutputShapes[t];1===a[a.length-1]||e.lossFunctions[t]===Tt?-1!==["accuracy","acc"].indexOf(n)?i=Mt:-1!==["crossentropy","ce"].indexOf(n)&&(i=zt):e.lossFunctions[t]===kt?-1!==["accuracy","acc"].indexOf(n)?i=Ft:-1!==["crossentropy","ce"].indexOf(n)&&(i=rr):-1!==["accuracy","acc"].indexOf(n)?i=Dt:-1!==["crossentropy","ce"].indexOf(n)&&(i=er);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),o=i,r=""+s}else{var u=function(t){var e={binaryAccuracy:Mt,categoricalAccuracy:Dt,precision:jt,categoricalCrossentropy:er,sparseCategoricalCrossentropy:rr,mse:Kn,MSE:Xn,mae:Zn,MAE:Jn,mape:Qn,MAPE:tr,cosine:nr};if("string"==typeof t&&t in e)return e[t];if("string"!=typeof t&&null!=t)return t;throw new Ke("Unknown metric "+t)}(n);o=u,r=""+n}var l;N(r,function(){l=o}),function(t,n,r){e.outputNames.length>1&&(n=e.outputNames[t]+"_"+n),e.metricsNames.push(n),e.metricsTensors.push([r,t])}(t,r,l)},s=0,u=c[t];s<u.length;s++)a(u[s])}()},n=0;n<e.outputs.length;++n)t(n)}),this.collectedTrainableWeights=this.trainableWeights},e.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},e.prototype.evaluate=function(t,e,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;Qt(r);var i=this.standardizeUserData(t,e,!0,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();return d(this.testLoop(this.testFunction,o,r,n.verbose,n.steps))}finally{oe(i[0],t),oe(i[1],e)}},e.prototype.evaluateDataset=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return this.makeTestFunction(),[2,function(t,e,n){return i(this,void 0,void 0,function(){var r,i,a,s,u,c,f,p,h,m;return o(this,function(g){switch(g.label){case 0:if(r=null!=n.batches,i=t.testFunction,a=[],n.verbose>0)throw new Xe("Verbose mode is not implemented yet.");return Fe._171.assert(!r||n.batches>0&&Number.isInteger(n.batches),"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)),function(t){return"function"==typeof t.next}(e)?(u=e,[3,3]):[3,1];case 1:return[4,e.iterator()];case 2:u=g.sent(),g.label=3;case 3:s=u,c=0,f=0,p=function(){var e,u,p,d,h,m;return o(this,function(o){switch(o.label){case 0:return[4,s.next()];case 1:if((e=o.sent()).value){if(u=Xt(t,e.value),p=Object(Fe._161)(function(){return i(u)}),Object(Fe._9)(u),0===f)for(m=0;m<p.length;++m)a.push(l(0));for(d=u[0].shape[0],h=function(t){var e=p[t],n=a[t];a[t]=Object(Fe._161)(function(){return Object(Fe.u)(a[t],Object(Fe._76)(l(d),e))}),f>0&&Object(Fe._9)(n)},m=0;m<p.length;++m)h(m);Object(Fe._9)(p),c+=d,++f}return e.done?(r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}})},g.label=4;case 4:return!r||f<n.batches?[5,p()]:[3,6];case 5:return"break"===g.sent()?[3,6]:[3,4];case 6:for(h=function(t){var e=a[t];a[t]=Object(Fe._161)(function(){return Object(Fe._11)(a[t],l(c))}),Object(Fe._9)(e)},m=0;m<a.length;++m)h(m);return[2,d(a)]}})})}(this,t,e)]})})},e.prototype.checkNumSamples=function(t,e,n,r){var i;if(void 0===r&&(r="steps"),null!=n){if(i=null,null!=e)throw new Ke("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+e)}else{if(null==t)throw new Ke("Either the input data should have a defined shape, or "+r+" shoud be specified.");i=Array.isArray(t)?t[0].shape[0]:t.shape[0]}return i},e.prototype.execute=function(t,e){if(Array.isArray(e)&&0===e.length)throw new Ke("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(e),r=this.retrieveSymbolicTensors(n?e:[e]),i=new ir;if(t instanceof Fe.o&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new Ke("The number of inputs provided ("+t.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var o=0;o<this.inputs.length;++o)i.add(this.inputs[o],t[o])}else for(var a=0,s=this.inputs;a<s.length;a++){var u=s[a],l=t[u.name];if(null==l)throw new Ke("No value is provided for the model's input "+u.name);i.add(u,l)}var c=Gt(r,i);return n?c:c[0]},e.prototype.retrieveSymbolicTensors=function(t){for(var e=c(null,t.length),n=t.length,r=0,i=this.layers;r<i.length;r++){for(var o=i[r],a=Array.isArray(o.output)?o.output:[o.output],s=a.map(function(t){return t.name}),u=0;u<t.length;++u){var l=s.indexOf(t[u]);if(-1!==l&&(e[u]=a[l],n--),0===n)break}if(0===n)break}if(n>0){var f=[];throw e.forEach(function(e,n){null==e&&f.push(t[n])}),new Ke("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(f))}return e},e.prototype.predictLoop=function(t,e,n){var r=this;return void 0===e&&(e=32),void 0===n&&(n=!1),Object(Fe._161)(function(){var i=r.checkNumSamples(t);if(n)throw new Xe("Verbose predictLoop() is not implemented yet.");for(var o=ne(i,e),a=[],s=function(e){var n=Object(Fe._161)(function(){var n=te(t,o[e][0],o[e][1]),i=[];if(Array.isArray(n))for(var a=0;a<n.length;++a)i.push({key:r.inputs[a],value:n[a]});else i.push({key:r.inputs[0],value:n});var s=new ir(i);return Gt(r.outputs,s)});if(0===e)for(var i=0,s=n;i<s.length;i++){a.push(s[i])}else for(var u=0;u<n.length;++u)a[u]=G(a[u],n[u])},u=0;u<o.length;++u)s(u);return d(a)})},e.prototype.predict=function(t,e){void 0===e&&(e={});var n=ie(t);le(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==e.batchSize?32:e.batchSize;return Qt(r),this.predictLoop(n,r)}finally{oe(n,t)}},e.prototype.predictOnBatch=function(t){return le(t,this.inputNames,this.feedInputShapes,!0),this.predictLoop(t,t.shape[0])},e.prototype.standardizeUserData=function(t,e,n,r){if(void 0===n&&(n=!0),null==this.optimizer)throw new Ye("You must compile a model before training/testing. Use Model.compile(modelCompileConfig).");for(var i=[],o=0;o<this.feedOutputShapes.length;++o){var a=this.feedOutputShapes[o];i.push(this.feedLossFns[o]===kt?a.slice(0,a.length-1).concat([1]):a)}if(function(t,e,n){var r=_(t.map(function(t){return t.shape[0]}));r.sort();var i=_(e.map(function(t){return t.shape[0]}));if(i.sort(),r.length>1)throw new Ke("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map(function(t){return t.shape})));if(i.length>1)throw new Ke("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map(function(t){return t.shape})));if(r.length>0&&i.length>0&&!Fe._171.arraysEqual(r,i))throw new Ke("Input Tensors should have the same number of samples as target Tensors. Found "+r[0]+" input sample(s) and "+i[0]+" target sample(s).")}(t=ue(t,this.feedInputNames,this.feedInputShapes,!1,"input"),e=ue(e,this.feedOutputNames,i,!1,"target")),function(t,e,n){for(var r=[yt,Tt,Ot],i=0;i<t.length;++i){var o=t[i],a=e[i],s=n[i];if(null!=a){if(a===Ot&&1===o.shape[o.shape.length-1])throw new Ke("You are passing a target array of shape "+o.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(a))for(var u=o.shape.slice(1),l=s.slice(1),c=0;c<u.length;++c){var f=l[c];if(null!=f&&u[c]!==f)throw new Ke("A target Tensor with shape "+o.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.")}}}}(e,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&t[0].shape[0]%r!=0)throw new Ke("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+r+". Found: "+t[0].shape[0]+" sample(s).");return[t,e,null]},e.prototype.testLoop=function(t,e,n,r,i){var o=this;return void 0===r&&(r=0),Object(Fe._161)(function(){var a=o.checkNumSamples(e,n,i,"steps"),s=[];if(r>0)throw new Xe("Verbose mode is not implemented yet.");if(null!=i)throw new Xe("steps mode in testLoop() is not implemented yet");for(var u=ne(a,n),c=Object(Fe._154)(F(0,a)),f=0;f<u.length;++f){var p=u[f][0],d=u[f][1],h=U(c,p,d-p),m=ee(e,h),g=t(m);if(0===f)for(var v=0;v<g.length;++v)s.push(l(0));for(v=0;v<g.length;++v){var y=g[v];s[v]=Object(Fe.u)(s[v],Object(Fe._76)(l(d-p),y))}}for(v=0;v<s.length;++v)s[v]=Object(Fe._11)(s[v],l(a));return s})},e.prototype.getDedupedMetricsNames=function(){for(var t=this.metricsNames,e=[],n=0;n<t.length;++n){var r=t[n],i=r;p(t,r)>1&&(i+="_"+p(t.slice(0,n),r)),e.push(i)}return e},e.prototype.makeTrainFunction=function(){var t=this;return function(e){var n=e.slice(0,t.inputs.length),r=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),i=[],o=t.collectedTrainableWeights.map(function(t){return t.read()});return[t.optimizer.minimize(function(){for(var e=[],o=0;o<t.inputs.length;++o)e.push({key:t.inputs[o],value:n[o]});var a,s=new ir(e),u=Gt(t.outputs,s,{training:!0});for(o=0;o<t.lossFunctions.length;++o){var l=(0,t.lossFunctions[o])(r[o],u[o]);Object(Fe._67)(l),a=0===o?l:Object(Fe.u)(a,l)}for(o=0;o<t.metricsTensors.length;++o){var c=t.metricsTensors[o][0],f=t.metricsTensors[o][1],p=Object(Fe._67)(c(r[f],u[f]));Object(Fe._42)(p),i.push(p)}return a=Object(Fe._67)(a),t.calculateLosses().forEach(function(t){a=Object(Fe.u)(a,t)}),a},!0,o)].concat(i)}},e.prototype.makeTestFunction=function(){var t=this;this.testFunction=function(e){return Object(Fe._161)(function(){for(var n,r=[],i=e.slice(0,t.inputs.length),o=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),a=[],s=0;s<t.inputs.length;++s)a.push({key:t.inputs[s],value:i[s]});var u=new ir(a),l=Gt(t.outputs,u);for(s=0;s<t.lossFunctions.length;++s){var c=t.lossFunctions[s],f=Object(Fe._67)(c(o[s],l[s]));n=0===s?f:Object(Fe.u)(n,f),r.push(n)}for(s=0;s<t.metricsTensors.length;++s){var p=t.metricsTensors[s][0],d=t.metricsTensors[s][1],h=Object(Fe._67)(p(o[d],l[d]));r.push(h)}return r})}},e.prototype.fit=function(t,e,n){return void 0===n&&(n={}),i(this,void 0,void 0,function(){return o(this,function(r){return[2,re(this,t,e,n)]})})},e.prototype.fitDataset=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,Zt(this,t,e)]})})},e.prototype.trainOnBatch=function(t,e){return i(this,void 0,void 0,function(){var n,r,i,a,s,u,l,c,f,p,h;return o(this,function(o){switch(o.label){case 0:n=this.standardizeUserData(t,e),r=n[0],i=n[1],a=this.makeTrainFunction(),s=a(r.concat(i)),u=[],l=0,c=s,o.label=1;case 1:return l<c.length?(f=c[l],h=(p=u).push,[4,f.data()]):[3,4];case 2:h.apply(p,[o.sent()[0]]),o.label=3;case 3:return l++,[3,1];case 4:return Object(Fe._9)(s),[2,d(u)]}})})},e.prototype.getNamedWeights=function(t){for(var e={},n=null!=t&&t.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),o=0;o<r.length;++o)n&&!r[o].trainable||(e[r[o].originalName]=i[o]);return e},Object.defineProperty(e.prototype,"stopTraining",{set:function(t){this.stopTraining_=t},enumerable:!0,configurable:!0}),e.prototype.save=function(t,e){return i(this,void 0,void 0,function(){var n,r,i,a,s;return o(this,function(o){switch(o.label){case 0:if("string"==typeof t){if(0===(n=Fe._40.getSaveHandlers(t)).length)throw new Ke("Cannot find any save handlers for URL '"+t+"'");if(n.length>1)throw new Ke("Found more than one ("+n.length+") save handlers for URL '"+t+"'");t=n[0]}if(null==t.save)throw new Ke("Model.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,Fe._40.encodeWeights(this.getNamedWeights(e))];case 1:return r=o.sent(),i=!1,a=null,s=this.toJSON(a,i),[2,t.save({modelTopology:s,weightData:r.data,weightSpecs:r.specs})]}})})},e.className="Model",e}(function(t){function e(n){var r=t.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=u(i)}if(r.supportsMasking=!1,r.trainable=!0,r.updatable=!0,r.inputs=Array.isArray(n.inputs)?n.inputs.slice():[n.inputs],r.outputs=Array.isArray(n.outputs)?n.outputs.slice():[n.outputs],_(r.inputs).length!==r.inputs.length)throw new Ke("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map(function(t){return t.name}));_(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map(function(t){return t.name})),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[];for(var o=0,a=r.outputs;o<a.length;o++){var s=(N=a[o]).sourceLayer,l=N.nodeIndex,c=N.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(c)}for(var p=0,d=r.inputs;p<d.length;p++)s=(N=d[p]).sourceLayer,c=N.tensorIndex,f(0===(l=N.nodeIndex),"input layer has >1 nodes"),f(0===c,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(l),r.inputLayersTensorIndices.push(c);r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var h=0;h<r.inputLayers.length;h++){if(!((s=r.inputLayers[h])instanceof Vn))throw new TypeError("Input layers to a Model must be InputLayer objects. Received inputs: "+n.inputs+". Input "+h+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var m=0,g=r.outputLayers;m<g.length;m++)r.outputNames.push((s=g[m]).name);r.internalInputShapes=r.inputs.map(function(t){return t.shape}),r.internalOutputShapes=r.outputs.map(function(t){return t.shape});for(var v={},y={},w={},x={},E={},C=[],S=function(t,n,i,o,a,s){null!=o&&null!=a&&null!=s||(o=t.sourceLayer,a=t.nodeIndex,s=t.tensorIndex);var u=o.inboundNodes[a];if(-1!==i.indexOf(u))throw new Ye("The tensor "+t.name+' at layer "'+o.name+'" is part of a cycle.');if(-1===n.indexOf(u)){r.containerNodes.add(e.nodeKey(o,a)),o.id in E||(E[o.id]=Object.keys(E).length),-1===i.indexOf(u)&&i.push(u);for(var l=u.inboundLayers.length,c=0;c<l;c++){S(u.inputTensors[c],n,i,u.inboundLayers[c],u.nodeIndices[c],u.tensorIndices[c])}for(n.push(u);i.indexOf(u)>=0;)i.splice(i.indexOf(u),1);C.push(u)}},O=[],k=[],T=0,P=r.outputs;T<P.length;T++){var N=P[T];S(N,O,k)}for(var I=0,A=C.slice().reverse();I<A.length;I++){y[(Q=A[I]).id]=Q,Q.id in v||(v[Q.id]=0);var M=v[Q.id],D=null==w[Q.outboundLayer.id]?0:w[Q.outboundLayer.id];for(M=Math.max(M,D),w[Q.outboundLayer.id]=M,x[Q.outboundLayer.id]=Q.outboundLayer,v[Q.id]=M,h=0;h<Q.inboundLayers.length;h++){var R=(l=Q.nodeIndices[h],Q.inboundLayers[h].inboundNodes[l]),j=null==v[R.id]?0:v[R.id];v[R.id]=Math.max(M+1,j),y[R.id]=R}}var L={};for(var z in v)(M=v[z])in L||(L[M]=[]),L[M].push(y[z]);var F={};for(var B in w)(M=w[B])in F||(F[M]=[]),F[M].push(x[B]);var V=Object.keys(F).map(function(t){return parseInt(t,10)}).sort(b);r.layers=[];for(var U=0,W=V;U<W.length;U++){var q=F[M=W[U]];q.sort(function(t,e){var n=E[t.id],r=E[e.id];return n<r?-1:n>r?1:0});for(var H=0,G=q;H<G.length;H++)r.layers.push(s=G[H])}r.layersByDepth=F,V=Object.keys(L).map(function(t){return parseInt(t,10)}).sort(b);for(var $=r.inputs.slice(),Y=[],K=0,X=V;K<X.length;K++)for(var Z=0,J=L[M=X[K]];Z<J.length;Z++){var Q;if(null!=(s=(Q=J[Z]).outboundLayer)){for(var tt=0,et=Q.inputTensors;tt<et.length;tt++)if(N=et[tt],-1===$.indexOf(N))throw new Ye("Graph disconnected: cannot obtain value for tensor "+N+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+Y);for(var nt=0,rt=Q.outputTensors;nt<rt.length;nt++)$.push(N=rt[nt]);Y.push(s.name)}}r.nodesByDepth=L;for(var it=r.layers.map(function(t){return t.name}),ot=function(t){var e=it.filter(function(e){return e===t}).length;if(1!==e)throw new Ye('The name "'+t+'" is used '+e+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(it))},at=0,st=it;at<st.length;at++)ot(st[at]);return r.outboundNodes=[],r.inboundNodes=[],new zn({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map(function(t){return null}),outputMasks:r.outputs.map(function(t){return null}),inputShapes:r.inputs.map(function(t){return t.shape}),outputShapes:r.outputs.map(function(t){return t.shape})}),r.built=!0,r._refCount=1,r}return r(e,t),e.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},e.prototype.dispose=function(){this.assertNotDisposed();var t={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount)for(var e=0,n=this.layers;e<n.length;e++){t.numDisposedVariables+=n[e].dispose().numDisposedVariables}return t.refCountAfterDispose=this._refCount,t},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new Ke("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var t=[],e=0,n=this.layers;e<n.length;e++){t=t.concat(n[e].trainableWeights)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e];t.push.apply(t,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],o=0,a=this.layers;o<a.length;o++)i.push.apply(i,(r=a[o]).trainableWeights);return i.concat(t)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.loadWeights=function(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),n?function(t,e,n){void 0===n&&(n=!0);for(var r={},i=0,o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].weights;s<u.length;s++){var l=u[s];if(null!=r[l.originalName])throw new Ke("Duplicate weight name: "+l.originalName);r[l.originalName]=l,i++}var c=[];for(var f in t){if(null!=r[f])c.push([r[f],t[f]]);else if(n)throw new Ke("Provided weight data has no target variable: "+f);delete r[f]}if(n){var p=[];for(var d in r)p.push(d);if(p.length>0)throw new Ke(p.length+" of "+i+" weights are not set: "+p)}ct(c)}(t,this.layers,r):function(t,e,n){void 0===n&&(n=!1);for(var r=t.keras_version,i=e.map(function(t){return t.name}),o={},a=0,s=e;a<s.length;a++)null!=(y=s[a]).name&&(null==o[y.name]&&(o[y.name]=[]),o[y.name].push(y));for(var u=t.weights,l=[],c=0;c<i.length;++c){var f=i[c],p=u[f];null==p&&(p=[]);for(var d=[],h=0;h<p.length;++h){var m=p[h];d.push(new Dn(Kt(m.dtype,m.shape,m.value)))}for(var g=0,v=o[f];g<v.length;g++){var y,b=(y=v[g]).weights;if((d=Yt(0,d,r)).length!==b.length){if(!n)throw new Ke("Layer #"+c+' (named "'+y.name+'") expects '+b.length+" weight(s), but the saved weights have "+d.length+" element(s).");console.warn("Skipping loading of weights of layer "+y.name+" due to mismatch in number of weights: ("+d.length+" vs "+b.length+").")}for(var _=0;_<d.length;++_)!n||Fe._171.arraysEqual(b[_].shape,d[_].shape)?l.push([b[_],d[_].read()]):console.warn("Skipping loading of weights for layer "+y.name+" due to mismatch in shape ("+b[_].shape+" vs "+d[_].shape+")")}}ct(l)}(t,this.layers,e)},e.prototype.updatedConfig=function(){var t=this.getConfig();return{className:this.getClassName(),config:t,kerasVersion:"tfjs-layers 0.9.1",backend:"TensorFlow.js"}},e.prototype.toJSON=function(t,e){void 0===e&&(e=!0);var n=Ht(this.updatedConfig());return e?JSON.stringify(n):n},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){t=h(t);for(var r=new ir,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],t[i]);return Gt(n.outputs,r,e)})},e.prototype.computeMask=function(t,e){var n=this;return Object(Fe._161)(function(){var r;return t=h(t),r=null==e?c(null,t.length):h(e),n.runInternalGraph(t,r)[1]})},e.prototype.computeOutputShape=function(t){var e=ot(t);if(e.length!==this.inputLayers.length)throw new Ke("Invalid inputShape argument "+t+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<e.length;r++){var i=this.inputLayers[r];n[E=i.name+"_0_0"]=e[r]}var o=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(b);if(o.length>1)for(var a=0,s=o;a<s.length;a++)for(var u=s[a],l=0,c=this.nodesByDepth[u];l<c.length;l++){var p=c[l];if(i=p.outboundLayer,-1===this.inputLayers.map(function(t){return t.id}).indexOf(i.id)){for(var h=[],m=0;m<p.inboundLayers.length;m++){var g=p.tensorIndices[m],v=n[E=p.inboundLayers[m].name+"_"+p.nodeIndices[m]+"_"+g];h.push(v)}var y=ot(i.computeOutputShape(d(h))),_=i.inboundNodes.indexOf(p);for(m=0;m<y.length;m++)n[E=i.name+"_"+_+"_"+m]=y[m]}}var w=[],x=[];for(r=0;r<this.outputLayers.length;r++){var E=(i=this.outputLayers[r]).name+"_"+(_=this.outputLayersNodeIndices[r])+"_"+(g=this.outputLayersTensorIndices[r]);x.push(E)}for(r=0;r<x.length;r++){var C=x[r];f(C in n),w.push(n[C])}return d(w)},e.prototype.runInternalGraph=function(t,e){null==e&&(e=c(null,t.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],o=t[r],a=e[r];n[i.id]=[o,a]}for(var s=0,u=Object.keys(this.nodesByDepth).map(function(t){return parseInt(t,10)}).sort(b);s<u.length;s++)for(var l=u[s],p=0,d=this.nodesByDepth[l];p<d.length;p++){for(var m=d[p],g=m.outboundLayer,v=m.inputTensors,y=m.outputTensors,_=new Array,w=0,x=v;w<x.length;w++)(i=x[w]).id in n&&_.push(n[i.id]);if(_.length===v.length){var E={},C=void 0,S=void 0,O=void 0,k=void 0;if(null!=m.callArgs&&(E=m.callArgs),1===_.length){var T=_[0],P=T[0],N=T[1];null==E.mask&&(E.mask=N),O=h(g.call(P,E)),k=h(g.computeMask(P,N)),C=[P],S=[N]}else C=_.map(function(t){return t[0]}),S=_.map(function(t){return t[1]}),null==E.mask&&(E.mask=S),O=h(g.call(C,E)),k=h(g.computeMask(C,S));if(g.activityRegularizer)throw new Xe("Model invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<y.length;++r)n[(i=y[r]).id]=[o=O[r],a=k[r]]}}for(var I=[],A=[],M=[],D=0,R=this.outputs;D<R.length;D++){f((i=R[D]).id in n,"Could not compute output "+i.name+" : "+i.id);var j=n[i.id],L=j[0];a=j[1],M.push(L.shape),I.push(L),A.push(a)}return[I,A,M]},e.prototype.buildNodeConversionMap=function(t){for(var n,r={},i=0,o=this.layers;i<o.length;i++){var a=o[i];n=a instanceof e?1:0;for(var s=0;s<a.inboundNodes.length;s++){var u=e.nodeKey(a,s);this.containerNodes.has(u)&&(r[u]=n,n+=1)}}return r},e.prototype.getLayer=function(t,e){if(null!=e){if(this.layers.length<=e)throw new Ke("Was asked to retrieve layer at index "+e+", but model only has "+this.layers.length+" layer(s).");return this.layers[e]}if(null==t)throw new Ke("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===t)return i}throw new Ke("No such layer: "+t)},e.prototype.calculateLosses=function(){var t=this;return Object(Fe._161)(function(){for(var n=[],r=0,i=t.layers;r<i.length;r++)for(var o=i[r],a=0;a<o.inboundNodes.length;++a){var s=e.nodeKey(o,a);t.containerNodes.has(s)&&n.push.apply(n,o.calculateLosses())}return n})},e.prototype.getConfig=function(){for(var t={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,o=this.layers;i<o.length;i++){for(var a=(b=o[i]).getClassName(),s=b.getConfig(),u=[],l=0;l<b.inboundNodes.length;l++){var c=b.inboundNodes[l],f=e.nodeKey(b,l),p={};if(this.containerNodes.has(f)){if(c.callArgs)try{JSON.stringify(c.callArgs),p=c.callArgs}catch(t){console.warn("Layer "+b.name+" was passed non-serializable keyword arguments: "+c.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),p={}}if(c.inboundLayers.length>0){for(var d=[],h=0;h<c.inboundLayers.length;h++){var m=c.inboundLayers[h],g=c.nodeIndices[h],v=c.tensorIndices[h];null==(w=n[e.nodeKey(m,g)])&&(w=0),d.push([m.name,w,v,p])}u.push(d)}}}r.push({name:b.name,className:a,config:s,inboundNodes:u})}t.layers=r;var y=[];for(h=0;h<this.inputLayers.length;h++){var b=this.inputLayers[h];f=e.nodeKey(b,g=this.inputLayersNodeIndices[h]),this.containerNodes.has(f)&&(null!==(w=n[f])&&void 0!==w||(w=0),y.push([b.name,w,v=this.inputLayersTensorIndices[h]]))}t.inputLayers=y;var _=[];for(h=0;h<this.outputLayers.length;h++)if(b=this.outputLayers[h],g=this.outputLayersNodeIndices[h],f=e.nodeKey(b,g),this.containerNodes.has(f)){var w;null!==(w=n[f])&&void 0!==w||(w=0),_.push([b.name,w,v=this.outputLayersTensorIndices[h]])}return t.outputLayers=_,t},e.fromConfig=function(t,e){function n(t,e){t.name in a?a[t.name].push(e):a[t.name]=[e]}function r(t,e){for(var r,i=[],a=0,s=e;a<s.length;a++){var u=s[a],l=u[0],c=u[1],f=u[2];if(3===u.length)r={};else{if(4!==u.length)throw new Ke("Improperly formatted model config for layer "+JSON.stringify(t)+": "+JSON.stringify(u));r=u[3]}if(!(l in o))return void n(t,e);var p=o[l];if(p.inboundNodes.length<=c)return void n(t,e);i.push(p.inboundNodes[c].outputTensors[f])}i.length>0&&t.apply(d(i),r)}function i(t){var r=t.name,i=Ut(t,null!=e.customObjects?e.customObjects:{});o[r]=i;for(var a=0,s=t.inboundNodes;a<s.length;a++){var u=s[a];if(!(u instanceof Array))throw new Ke("Corrupted configuration, expected array for nodeData: "+u);n(i,u)}}for(var o={},a={},s=e.name,u=e.layers,l=0,c=u;l<c.length;l++)i(m=c[l]);for(;!w(a);)for(var p=0,h=u;p<h.length;p++){var m=h[p];if((N=o[m.name]).name in a){var g=a[N.name];delete a[N.name];for(var v=0,y=g;v<y.length;v++)r(N,y[v])}}for(var b=[],_=[],x=0,E=e.inputLayers;x<E.length;x++){var C=(m=E[x])[0],S=m[1],O=m[2];f(C in o);var k=(N=o[C]).inboundNodes[S].outputTensors;b.push(k[O])}for(var T=0,P=e.outputLayers;T<P.length;T++){C=(m=P[T])[0],S=m[1],O=m[2],f(C in o);var N;k=(N=o[C]).inboundNodes[S].outputTensors,_.push(k[O])}return new t({inputs:b,outputs:_,name:s})},Object.defineProperty(e.prototype,"stateful",{get:function(){if(this._stateful)throw new Ke("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var t=0,e=this.layers;t<e.length;t++)if(e[t].stateful)return!0;return!1},enumerable:!0,configurable:!0}),e.prototype.resetStates=function(){var t=this;Object(Fe._161)(function(){t.layers.forEach(function(t){t.stateful&&t.resetStates()})})},e}(Bn));Fe._122.registerClass(ur);var lr=function(t){function e(e){var n=t.call(this,{inputs:[],outputs:[]})||this;if(e=e||{},n.trainable=!0,n._updatable=!0,n.built=!1,n.name=null!=e.name?e.name:u("sequential_"),null!=e.layers)for(var r=0,i=e.layers;r<i.length;r++){n.add(i[r])}return n}return r(e,t),e.prototype.checkShape=function(t){if(t.inboundNodes[0].outputTensors[0].shape.some(function(t){return t<0}))throw new Ke("Negative dimension size caused by adding layer "+t.name+" with input shape ["+t.inboundNodes[0].inputTensors[0].shape+"]")},e.prototype.add=function(t){var n,r=t instanceof e||t instanceof ur;if(r){if(1!==(n=t).outputs.length)throw new Ke("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new Ke("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new Ke("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=pt({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==t.inboundNodes.length)throw new Ke("A layer added to a Sequential model must not already be connected somewhere else. Model received layer "+t.name+" which has "+t.inboundNodes.length+" pre-existing inbound connections.");if(1!==t.inboundNodes[0].outputTensors.length)throw new Ke("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=ft(this.outputs[0])}this.inboundNodes=[],new zn({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:c(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(function(t){return t.shape}),outputShapes:this.outputs[0].shape})}else{var o=t.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1},e.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},e.prototype.call=function(t,e){return null==this.model&&this.build(),this.model.call(t,e)},e.prototype.build=function(t){if(st(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new ur({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.model.updatable=this.updatable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},e.prototype.countParams=function(){return this.built||this.build(),t.prototype.countParams.call(this)},e.prototype.summary=function(e,n,r){void 0===r&&(r=console.log),this.built||this.build(),t.prototype.summary.call(this,e,n,r)},e.prototype.setWeights=function(t){null==this.model&&this.build(),this.model.setWeights(t)},Object.defineProperty(e.prototype,"updatable",{get:function(){return this._updatable},set:function(t){this.built&&(this.model.updatable=t),this._updatable=t},enumerable:!0,configurable:!0}),e.prototype.evaluate=function(t,e,n){if(void 0===n&&(n={}),!this.built)throw new Ye("The model needs to be compiled before being used.");return this.model.evaluate(t,e,n)},e.prototype.evaluateDataset=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){if(!this.built)throw new Ye("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(t,e)]})})},e.prototype.predict=function(t,e){return void 0===e&&(e={}),null==this.model&&this.build(),this.model.predict(t,e)},e.prototype.predictOnBatch=function(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)},e.prototype.compile=function(t){this.build(),this.model.compile(t),this.optimizer=this.model.optimizer,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},e.prototype.fit=function(t,e,n){return void 0===n&&(n={}),i(this,void 0,void 0,function(){return o(this,function(r){if(!this.built)throw new Ye("The model needs to be compiled before being used.");return[2,this.model.fit(t,e,n)]})})},e.prototype.fitDataset=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){if(!this.built)throw new Ye("The model needs to be compiled before being used.");return[2,this.model.fitDataset(t,e)]})})},e.prototype.trainOnBatch=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.model.trainOnBatch(t,e)]})})},e.fromConfig=function(t,n){var r,i={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new Ke("Legacy serialization format not supported yet.");r=n}else Fe._171.assert(null!=n.layers,"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),r=n.layers,delete n.layers,i=n;var o=new t(i);if(!(o instanceof e))throw new Xe("Sequential.fromConfig called on non-Sequential input: "+o);for(var a=0,s=r;a<s.length;a++){var u=Ut(s[a]);o.add(u)}return o},Object.defineProperty(e.prototype,"stopTraining",{set:function(t){this.model.stopTraining=t},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){for(var t=[],e=0,n=this.layers;e<n.length;e++){var r=n[e];t.push({className:r.getClassName(),config:r.getConfig()})}return t},e.className="Sequential",e}(ur);Fe._122.registerClass(lr);var cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getConfig=function(){return{}},e}(Fe._122.Serializable),fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=1),function(t,e){if(void 0===e&&(e=1),1!==e)throw new Xe("Support for alpha values other than 1 ("+e+") is not implemented yet.");return Object(Fe._14)(t)}(t,e)},e.className="elu",e}(cr);Fe._122.registerClass(fr);var pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._120)(t)},e.className="selu",e}(cr);Fe._122.registerClass(pr);var dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._108)(t)},e.className="relu",e}(cr);Fe._122.registerClass(dr);var hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._161)(function(){return Object(Fe._70)(l(6),Object(Fe._108)(t))})},e.className="relu6",e}(cr);Fe._122.registerClass(hr);var mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return t},e.className="linear",e}(cr);Fe._122.registerClass(mr);var gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._125)(t)},e.className="sigmoid",e}(cr);Fe._122.registerClass(gr);var vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return function(t){return Object(Fe._161)(function(){var e=Object(Fe.u)(l(.5),Object(Fe._76)(l(.2),t));return Object(Fe.Q)(e,0,1)})}(t)},e.className="hardSigmoid",e}(cr);Fe._122.registerClass(vr);var yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._135)(t)},e.className="softplus",e}(cr);Fe._122.registerClass(yr);var br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return function(t){return Object(Fe._161)(function(){return Object(Fe._11)(t,Object(Fe.u)(l(1),Object(Fe.r)(t)))})}(t)},e.className="softsign",e}(cr);Fe._122.registerClass(br);var _r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t){return Object(Fe._152)(t)},e.className="tanh",e}(cr);Fe._122.registerClass(_r);var wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t,e){return void 0===e&&(e=-1),Object(Fe._134)(t,e)},e.className="softmax",e}(cr);Fe._122.registerClass(wr);var xr=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.supportsMasking=!0,null!=e&&(n.maxValue=e.maxValue),n}return r(e,t),e.prototype.call=function(t,e){t=at(t);var n=Object(Fe._108)(t);return null!=this.maxValue&&(n=Object(Fe.Q)(n,0,this.maxValue)),n},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={maxValue:this.maxValue},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ReLU",e}(Bn);Fe._122.registerClass(xr);var Er=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_ALPHA=.3,null==e&&(e={}),n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return r(e,t),e.prototype.call=function(t,e){var n=at(t);return Object(Fe._43)(n,this.alpha)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="LeakyReLU",e}(Bn);Fe._122.registerClass(Er);var Cr=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;if(n.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==n.DEFAULT_ALPHA)throw new Xe("Non-default alpha value ("+e.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==e.alpha?n.DEFAULT_ALPHA:e.alpha,n}return r(e,t),e.prototype.call=function(t,e){var n=at(t);return Object(Fe._14)(n)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={alpha:this.alpha},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ELU",e}(Bn);Fe._122.registerClass(Cr);var Sr=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_THETA=1,null==e&&(e={}),n.theta=null==e.theta?n.DEFAULT_THETA:e.theta,n.thetaTensor=l(n.theta),n}return r(e,t),e.prototype.call=function(t,e){var n=at(t);return n.mul(B(n.greater(this.thetaTensor),"float32"))},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={theta:this.theta},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ThresholdedReLU",e}(Bn);Fe._122.registerClass(Sr);var Or=function(t){function e(e){var n=t.call(this,null==e?{}:e)||this;return n.DEFAULT_AXIS=1,null==e&&(e={}),n.softmax=(new wr).apply,n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n}return r(e,t),e.prototype.call=function(t,e){var n=at(t);return this.softmax(n,this.axis)},e.prototype.computeOutputShape=function(t){return t},e.prototype.getConfig=function(){var e={axis:this.axis},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Softmax",e}(Bn);Fe._122.registerClass(Or);var kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Fe._122.Serializable),Tr=function(t){function e(e){var n=t.call(this)||this,r=null==e||null==e.l1?.01:e.l1,i=null==e||null==e.l2?.01:e.l2;return n.hasL1=0!==r,n.hasL2=0!==i,n.l1=l(r),n.l2=l(i),n}return r(e,t),e.prototype.apply=function(t){var e=this;return Object(Fe._161)(function(){var n=Object(Fe._180)([1]);return e.hasL1&&(n=Object(Fe.u)(n,Object(Fe._150)(Object(Fe._76)(e.l1,Object(Fe.r)(t))))),e.hasL2&&(n=Object(Fe.u)(n,Object(Fe._150)(Object(Fe._76)(e.l2,Z(t))))),n.asScalar()})},e.prototype.getConfig=function(){return{l1:this.l1.dataSync()[0],l2:this.l2.dataSync()[0]}},e.fromConfig=function(t,e){return new t({l1:e.l1,l2:e.l2})},e.className="L1L2",e}(kr);Fe._122.registerClass(Tr);var Pr={l1l2:"L1L2"},Nr=function(t){function e(n,r){var i=t.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",e.verifyConfig(r),i.rank=n,1!==i.rank&&2!==i.rank)throw new Xe("Convolution layer for rank other than 1 or 2 ("+i.rank+") is not implemented yet.");if(i.kernelSize=xe(r.kernelSize,n,"kernelSize"),i.strides=xe(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,P(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,T(i.dataFormat),i.activation=ye(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=rt(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=k(r.biasConstraint),i.biasRegularizer=we(r.biasRegularizer),i.activityRegularizer=we(r.activityRegularizer),i.dilationRate=xe(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new Ke("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new Ke("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate));return i}return r(e,t),e.verifyConfig=function(t){if(f("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!=typeof t.kernelSize&&!E(t.kernelSize,"number",1,2))throw new Ke("BaseConv expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(t.kernelSize)+".")},e.prototype.getConfig=function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:ge(this.activation),useBias:this.useBias,biasInitializer:nt(this.biasInitializer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),biasConstraint:S(this.biasConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Bn),Ir=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.kernel=null,e.verifyConfig(r),i.filters=r.filters,i.kernelInitializer=rt(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=k(r.kernelConstraint),i.kernelRegularizer=we(r.kernelRegularizer),i}return r(e,t),e.prototype.build=function(t){t=st(t);var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new Ke("The channel dimension of the input should be defined. Found "+t[e]);var n,r=t[e],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(n={},n[e]=r,n)}],this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e;t=at(t);var r=null==n.bias?null:n.bias.read();if(1===n.rank)e=function(t,e,n,r,i,o,a){return void 0===r&&(r=1),void 0===i&&(i="valid"),void 0===a&&(a=1),Object(Fe._161)(function(){if(null==o&&(o="channelsLast"),T(o),3!==t.shape.length)throw new Ke("The input of a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead.");if(3!==e.shape.length)throw new Ke("The kernel for a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new Ke("The bias for a conv1dWithBias operation should be 1, but is "+e.shape.length+" instead");if("channelsFirst"===o&&(t=Object(Fe._167)(t,[0,2,1])),"causal"===i)throw new Xe("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=Object(Fe.Y)(t,e,r,"same"===i?"same":"valid","NWC",a);return null!=n&&(s=J(s,n)),s})}(t,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)e=function(t,e,n,r,i,o,a){return void 0===r&&(r=[1,1]),void 0===i&&(i="valid"),Object(Fe._161)(function(){if(null==o&&(o="channelsLast"),T(o),3!==t.rank&&4!==t.rank)throw new Ke("conv2dWithBias expects input to be of rank 3 or 4, but received "+t.rank+".");if(3!==e.rank&&4!==e.rank)throw new Ke("conv2dWithBias expects kernel to be of rank 3 or 4, but received "+t.rank+".");var s=Se(t,o);if("causal"===i)throw new Xe("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return s=Object(Fe.Z)(s,e,r,"same"===i?"same":"valid","NHWC",a),null!=n&&(s=J(s,n)),"channelsFirst"===o&&(s=Object(Fe._167)(s,[0,3,1,2])),s})}(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else if(3===n.rank)throw new Xe("3D convolution is not implemented yet.");return null!=n.activation&&(e=n.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=st(t);for(var e=[],n="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2),r=0;r<n.length;++r){var i=Ee(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);e.push(i)}var o=[t[0]];return"channelsLast"===this.dataFormat?(o=o.concat(e)).push(this.filters):(o.push(this.filters),o=o.concat(e)),o},e.prototype.getConfig=function(){var e={filters:this.filters,kernelInitializer:nt(this.kernelInitializer),kernelRegularizer:be(this.kernelRegularizer),kernelConstraint:S(this.kernelConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.verifyConfig=function(t){if(!("filters"in t)||"number"!=typeof t.filters||t.filters<1)throw new Ke("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(t.filters))},e}(Nr),Ar=function(t){function e(n){var r=t.call(this,2,n)||this;return e.verifyConfig(n),r}return r(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,e},e.verifyConfig=function(t){if("number"!=typeof t.kernelSize&&!E(t.kernelSize,"number",1,2))throw new Ke("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(t.kernelSize)+".")},e.className="Conv2D",e}(Ir);Fe._122.registerClass(Ar);var Mr=function(t){function e(e){var n=t.call(this,e)||this;if(n.inputSpec=[new Rn({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new Ke("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return r(e,t),e.prototype.build=function(t){if(4!==(t=st(t)).length)throw new Ke("Input should have rank 4; Received input shape: "+JSON.stringify(t));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new Ke("The channel dimension of the inputs should be defined. Found `None`.");var n,r=t[e],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",i,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Rn({ndim:4,axes:(n={},n[e]=r,n)})],this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e=at(t);if(4!==e.shape.length)throw new Ke("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+e.shape.length);var r,i,o=e.shape;"channelsFirst"===n.dataFormat?(r=2,i=3):(r=1,i=2);var a=o[i],s=n.kernelSize[1],u=n.strides[1],l=[o[0],Ce(o[r],n.strides[0],n.kernelSize[0],n.padding),Ce(a,u,s,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(e=Object(Fe._167)(e,[0,2,3,1]));var c=Object(Fe._1)(e,n.kernel.read(),l,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(c=Object(Fe._167)(c,[0,3,1,2])),null!=n.bias&&(c=J(c,n.bias.read(),n.dataFormat)),null!=n.activation&&(c=n.activation.apply(c)),c})},e.prototype.computeOutputShape=function(t){var e,n,r,i=(t=st(t)).slice();"channelsFirst"===this.dataFormat?(e=1,n=2,r=3):(e=3,n=1,r=2);var o=this.kernelSize[0],a=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return i[e]=this.filters,i[n]=Ce(i[n],s,o,this.padding),i[r]=Ce(i[r],u,a,this.padding),i},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.dilationRate,e},e.className="Conv2DTranspose",e}(Ar);Fe._122.registerClass(Mr);var Dr=function(t){function e(e){return t.call(this,2,e)||this}return r(e,t),e.className="SeparableConv2D",e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new Ke("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new Ke("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new Ke("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=rt(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=we(n.depthwiseRegularizer),r.depthwiseConstraint=k(n.depthwiseConstraint),r.pointwiseInitializer=rt(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=we(n.pointwiseRegularizer),r.pointwiseConstraint=k(n.pointwiseConstraint),r}return r(e,t),e.prototype.build=function(t){if((t=st(t)).length<this.rank+2)throw new Ke("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(t));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e]||t[e]<0)throw new Ke("The channel dimension of the inputs should be defined, but found "+JSON.stringify(t[e]));for(var n=t[e],r=this.kernelSize.concat([n,this.depthMultiplier]),i=[],o=0;o<this.rank;++o)i.push(1);i.push(n*this.depthMultiplier,this.filters);var a;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.inputSpec=[new Rn({ndim:this.rank+2,axes:(a={},a[e]=n,a)})],this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e;if(t=at(t),1===n.rank)throw new Xe("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(t=Object(Fe._167)(t,[0,2,3,1])),e=Object(Fe._121)(t,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(e=J(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),"channelsFirst"===n.dataFormat&&(e=Object(Fe._167)(e,[0,3,1,2])),e})},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=nt(this.depthwiseInitializer),e.pointwiseInitializer=nt(this.pointwiseInitializer),e.depthwiseRegularizer=be(this.depthwiseRegularizer),e.pointwiseRegularizer=be(this.pointwiseRegularizer),e.depthwiseConstraint=S(this.depthwiseConstraint),e.pointwiseConstraint=S(this.pointwiseConstraint),e},e.className="SeparableConv",e}(Ir));Fe._122.registerClass(Dr);var Rr=function(t){function e(n){var r=t.call(this,1,n)||this;return e.verifyConfig(n),r.inputSpec=[{ndim:3}],r}return r(e,t),e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return delete e.rank,delete e.dataFormat,e},e.verifyConfig=function(t){if("number"!=typeof t.kernelSize&&!E(t.kernelSize,"number",1,1))throw new Ke("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(t.kernelSize)+".")},e.className="Conv1D",e}(Ir);Fe._122.registerClass(Rr);var jr=function(t){function e(e){var n=t.call(this,e)||this;return n.cropping="number"==typeof e.cropping?[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:e.cropping,n.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,n.inputSpec=[{ndim:4}],n}return r(e,t),e.prototype.computeOutputShape=function(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){return t=at(t),"channelsLast"===n.dataFormat?q(q(t,n.cropping[0][0],t.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],t.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):q(q(t,n.cropping[0][0],t.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],t.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)})},e.prototype.getConfig=function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Cropping2D",e}(Bn);Fe._122.registerClass(jr);var Lr=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==e.size?n.DEFAULT_SIZE:e.size,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,n}return r(e,t),e.prototype.computeOutputShape=function(t){if("channelsFirst"===this.dataFormat){var e=null==t[2]?null:this.size[0]*t[2],n=null==t[3]?null:this.size[1]*t[3];return[t[0],t[1],e,n]}return e=null==t[1]?null:this.size[0]*t[1],n=null==t[2]?null:this.size[1]*t[2],[t[0],e,n,t[3]]},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e=at(t),r=e.shape;if("channelsFirst"===n.dataFormat){e=Object(Fe._167)(e,[0,2,3,1]);var i=n.size[0]*r[2],o=n.size[1]*r[3],a=e.resizeNearestNeighbor([i,o]);return Object(Fe._167)(a,[0,3,1,2])}return i=n.size[0]*r[1],o=n.size[1]*r[2],e.resizeNearestNeighbor([i,o])})},e.prototype.getConfig=function(){var e={size:this.size,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="UpSampling2D",e}(Bn);Fe._122.registerClass(Lr);var zr=function(t){function e(e){var n=t.call(this,2,e)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,n.depthwiseInitializer=rt(e.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=k(e.depthwiseConstraint),n.depthwiseRegularizer=we(e.depthwiseRegularizer),n}return r(e,t),e.prototype.build=function(t){if((t=st(t)).length<4)throw new Ke("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(t)+".");var e="channelsFirst"===this.dataFormat?1:3;if(null==t[e]||t[e]<0)throw new Ke("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+t[e]+").");var n=t[e];this.depthwiseKernel=this.addWeight("depthwise_kernel",[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier],null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.bias=this.useBias?this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e=function(t,e,n,r,i,o){return void 0===n&&(n=[1,1]),void 0===r&&(r="valid"),Object(Fe._161)(function(){null==i&&(i="channelsLast"),T(i);var a=Se(t,i);if(4!==t.rank)throw new Ke("Input for depthwiseConv2d is required to be 4-D, but is instead "+t.rank+"-D");if(4!==e.rank)throw new Ke("depthwiseKernel is required to be 4-D, but is instead "+e.rank+"-D");return a=Object(Fe._8)(a,e,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===i&&(a=Object(Fe._167)(a,[0,3,1,2])),a})}(t=at(t),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(e=J(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),e})},e.prototype.computeOutputShape=function(t){t=st(t);var e="channelsFirst"===this.dataFormat?t[3]:t[2],n="channelsFirst"===this.dataFormat?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,r=Ee("channelsFirst"===this.dataFormat?t[2]:t[1],this.kernelSize[0],this.padding,this.strides[0]),i=Ee(e,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[t[0],n,r,i]:[t[0],r,i,n]},e.prototype.getConfig=function(){var e=t.prototype.getConfig.call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=nt(this.depthwiseInitializer),e.depthwiseRegularizer=be(this.depthwiseRegularizer),e.depthwiseConstraint=S(this.depthwiseRegularizer),e},e.className="DepthwiseConv2D",e}(Nr);Fe._122.registerClass(zr);var Fr=function(t){function e(e){var n=t.call(this,e)||this;if(n.rate=Math.max(Math.min(e.rate,1),0),n.rateScalar=l(n.rate),n.noiseShape=e.noiseShape,n.seed=e.seed,null!=n.seed)throw new Xe("Non-default seed is not implemented in Dropout layer yet: "+n.seed);return n.supportsMasking=!0,n}return r(e,t),e.prototype.getNoiseShape=function(t){if(null==this.noiseShape)return this.noiseShape;for(var e=t.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?e[r]:this.noiseShape[r]);return n},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){n.invokeCallHook(t,e);var r=at(t);if(null!=n.noiseShape&&!Fe._171.arraysEqual(r.shape,n.noiseShape))throw new Xe("Non-default noise shape is not implemented in Dropout layer yet: "+JSON.stringify(n.noiseShape));if(0<n.rate&&n.rate<1){var i=null!=e.training&&e.training,o=n.getNoiseShape(r);return tt(function(){return Q(r,n.rateScalar,o,n.seed)},function(){return r},i)}return t})},e.prototype.getConfig=function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dropout",e}(Bn);Fe._122.registerClass(Fr);var Br=function(t){function e(e){var n=t.call(this,e)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=[r,e.inputDim]}return n.units=e.units,n.activation=ye(e.activation),null!=e.useBias&&(n.useBias=e.useBias),n.kernelInitializer=rt(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=rt(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=k(e.kernelConstraint),n.biasConstraint=k(e.biasConstraint),n.kernelRegularizer=we(e.kernelRegularizer),n.biasRegularizer=we(e.biasRegularizer),n.activityRegularizer=we(e.activityRegularizer),n.inputSpec=[{minNDim:2}],n}return r(e,t),e.prototype.build=function(t){var e,n=(t=st(t))[t.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(e={},e[-1]=n,e)}],this.built=!0},e.prototype.computeOutputShape=function(t){var e=(t=st(t)).slice();return e[e.length-1]=this.units,e},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){n.invokeCallHook(t,e);var r=K(at(t),n.kernel.read());return null!=n.bias&&(r=J(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r)),r})},e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),biasInitializer:nt(this.biasInitializer),kernelRegularizer:be(this.kernelRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),biasConstraint:S(this.biasConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dense",e}(Bn);Fe._122.registerClass(Br);var Vr=function(t){function e(e){var n=t.call(this,e||{})||this;return n.inputSpec=[{minNDim:3}],n}return r(e,t),e.prototype.computeOutputShape=function(t){for(var e=0,n=(t=st(t)).slice(1);e<n.length;e++)if(null==n[e])throw new Ke('The shape of the input to "Flatten" is not fully defined (got '+t.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[t[0],R(t,1)]},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){return n.invokeCallHook(t,e),function(t){if(t.rank<=1)throw new Ke("batchFlatten requires a minimum rank of 2. Got rank: "+t.rank+".");var e=[t.shape[0],R(t.shape,1)];return t.reshape(e)}(at(t))})},e.className="Flatten",e}(Bn);Fe._122.registerClass(Vr);var Ur=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n.activation=ye(e.activation),n}return r(e,t),e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){n.invokeCallHook(t,e);var r=at(t);return n.activation.apply(r)})},e.prototype.getConfig=function(){var e={activation:ge(this.activation)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Activation",e}(Bn);Fe._122.registerClass(Ur);var Wr=function(t){function e(e){var n=t.call(this,e)||this;return n.n=e.n,n.inputSpec=[{ndim:2}],n}return r(e,t),e.prototype.computeOutputShape=function(t){return[t[0],this.n,t[1]]},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){return function(t,e){return Object(Fe._161)(function(){if(2!==t.shape.length)throw new Ke("repeat() expects a rank-2 tensor, but received a rank-"+t.shape.length+" tensor.");return $(V(t,1),[1,e,1])})}(t=at(t),n.n)})},e.prototype.getConfig=function(){var e={n:this.n},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="RepeatVector",e}(Bn);Fe._122.registerClass(Wr);var qr=function(t){function e(e){var n=t.call(this,e)||this;n.targetShape=e.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return r(e,t),e.prototype.isUnknown=function(t){return t<0||null==t},e.prototype.fixUnknownDimension=function(t,e){for(var n="Total size of new array must be unchanged.",r=e.slice(),i=1,o=null,a=0;a<r.length;++a){var s=r[a];if(this.isUnknown(s)){if(null!==o)throw new Ke("Can only specifiy one unknown dimension.");o=a}else i*=s}var u=R(t);if(null!==o){if(0===i||u%i!=0)throw new Ke(n);r[o]=u/i}else if(u!==i)throw new Ke(n);return r},e.prototype.computeOutputShape=function(t){for(var e=!1,n=0;n<t.length;++n)if(this.isUnknown(t[n])){e=!0;break}return e?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){n.invokeCallHook(t,e);var r=at(t),i=r.shape,o=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(o)})},e.prototype.getConfig=function(){var e={targetShape:this.targetShape},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Reshape",e}(Bn);Fe._122.registerClass(qr);var Hr=function(t){function e(e){var n=t.call(this,e)||this;if(null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+e.dims+" instead.");var r=F(1,e.dims.length+1);if(!Fe._171.arraysEqual(e.dims.slice().sort(),r))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=e.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new Rn({ndim:n.dims.length+1})],n}return r(e,t),e.prototype.computeOutputShape=function(t){var e=(t=st(t)).slice();return this.dims.forEach(function(n,r){e[r+1]=t[n]}),e},e.prototype.call=function(t,e){return Object(Fe._167)(at(t),this.dimsIncludingBatch)},e.prototype.getConfig=function(){var e={dims:this.dims},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Permute",e}(Bn);Fe._122.registerClass(Hr);var Gr=function(t){function e(e){var n=t.call(this,e)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var r=null;null!=e.batchSize&&(r=e.batchSize),n.batchInputShape=null==e.inputLength?[r,null]:[r].concat(h(e.inputLength))}return n.inputDim=e.inputDim,n.outputDim=e.outputDim,n.embeddingsInitializer=rt(e.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=we(e.embeddingsRegularizer),n.activityRegularizer=we(e.activityRegularizer),n.embeddingsConstraint=k(e.embeddingsConstraint),n.maskZero=e.maskZero,n.inputLength=e.inputLength,n}return r(e,t),e.prototype.build=function(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},e.prototype.warnOnIncompatibleInputShape=function(t){},e.prototype.computeMask=function(t,e){var n=this;return Object(Fe._161)(function(){return n.maskZero?(t=at(t),Object(Fe._83)(t,Object(Fe._181)(t))):null})},e.prototype.computeOutputShape=function(t){if(t=st(t),null==this.inputLength)return t.concat([this.outputDim]);var e=h(this.inputLength);if(e.length!==t.length-1)throw new Ke('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);for(var n=0,r=0;r<e.length;++r){var i=e[r],o=t[r+1];if(null!=i&&null!=o&&i!==o)throw new Ke('"inputLength" is '+this.inputLength+", but received input shape has shape "+t);null==i&&(e[n]=o),n++}return[t[0]].concat(e,[this.outputDim])},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){n.invokeCallHook(t,e);var r=at(t);return"int32"!==r.dtype&&(r=B(r,"int32")),X(n.embeddings.read(),r.as1D()).reshape(st(n.computeOutputShape(r.shape)))})},e.prototype.getConfig=function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:nt(this.embeddingsInitializer),embeddingsRegularizer:be(this.embeddingsRegularizer),activityRegularizer:be(this.activityRegularizer),embeddingsConstraint:S(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Embedding",e}(Bn);Fe._122.registerClass(Gr);var $r=function(t){function e(e){var n=t.call(this,e||{})||this;return n.supportsMasking=!0,n}return r(e,t),e.prototype.mergeFunction=function(t){throw new Xe},e.prototype.computeElementwiseOpOutputShape=function(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;for(var n=t.slice(0,t.length-e.length),r=0;r<e.length;++r){var i=t[t.length-e.length+r],o=e[r];if(null==i||null==o||i<0||o<0)n.push(null);else if(1===i)n.push(o);else if(1===o)n.push(i);else{if(i!==o)throw new Ke("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));n.push(i)}}return n},e.prototype.build=function(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[st(t)]),(t=t).length<2)throw new Ke("A merge layer should be called on an Array of at least 2 inputs. Got "+t.length+" input(s).");for(var e=[],n=0,r=t;n<r.length;n++)null!=(a=r[n])&&null!==a[0]&&e.push(a[0]);if((e=_(e)).length>1)throw new Ke("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(t)+".");for(var i=null==t[0]?null:t[0].slice(1),o=1;o<t.length;++o){var a=null==t[o]?null:t[o].slice(1);i=this.computeElementwiseOpOutputShape(i,a)}var s=t.map(function(t){return t.length});this.reshapeRequired=-1!==t.indexOf(null)||1!==_(s).length},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){if(t=t,n.reshapeRequired){var e=[],r=t.map(function(t){return t.rank});if(-1===r.indexOf(null)){for(var i=z(r),o=0,a=t;o<a.length;o++){for(var s=(p=a[o]).rank,u=0;u<i-s;++u)p=V(p,1);e.push(p)}return n.mergeFunction(e)}for(var l=!1,c=0,f=t;c<f.length;c++){var p;if(null==(s=(p=f[c]).rank)){var d=p.shape,h=d[0],m=d.slice(1).concat([h]),g=p.reshape([h].concat(R(d.slice(1))));g=(g=Object(Fe._167)(g,[1,0])).reshape(m),e.push(g),l=!0}else if(s>1){var v=F(1,s).concat([0]);e.push(Object(Fe._167)(p,v)),l=!0}else e.push(p)}var y=n.mergeFunction(e),b=y.rank;if(l)if(null==b){var _=y.shape;m=[h=_[_.length-1]].concat(_.slice(0,_.length-1)),y=Object(Fe._167)(y.reshape([-1,h]),[1,0]).reshape(m)}else b>1&&(v=[b-1].concat(F(0,b-1)),y=Object(Fe._167)(y,v));return y}return n.mergeFunction(t)})},e.prototype.computeOutputShape=function(t){var e;e=null==(t=t)[0]?null:t[0].slice(1);for(var n=1;n<t.length;++n){var r=null==t[n]?null:t[n].slice(1);e=this.computeElementwiseOpOutputShape(e,r)}for(var i=[],o=0,a=t;o<a.length;o++)null!=(r=a[o])&&null!==r[0]&&i.push(r[0]);return e=1===(i=_(i)).length?i.concat(e):[null].concat(e)},e.prototype.computeMask=function(t,e){return Object(Fe._161)(function(){if(null==e)return null;if(!Array.isArray(e))throw new Ke("`mask` should be an Array");if(!Array.isArray(t))throw new Ke("`inputs` should be an Array");if(e.length!==t.length)throw new Ke("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+t.length+" vs "+e.length+")");if(e.every(function(t){return null==t}))return null;for(var n=(e=e.map(function(t){return null==t?t:Object(Fe._20)(t,0)}))[0],r=1;r<e.length-1;++r)n=Object(Fe._56)(n,e[r]);return n})},e}(Bn),Yr=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.mergeFunction=function(t){return Object(Fe._161)(function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=Object(Fe.u)(e,t[n]);return e})},e.className="Add",e}($r);Fe._122.registerClass(Yr);var Kr=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.mergeFunction=function(t){return Object(Fe._161)(function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=Object(Fe._76)(e,t[n]);return e})},e.className="Multiply",e}($r);Fe._122.registerClass(Kr);var Xr=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.mergeFunction=function(t){return Object(Fe._161)(function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=Object(Fe.u)(e,t[n]);return Object(Fe._76)(l(1/t.length),e)})},e.className="Average",e}($r);Fe._122.registerClass(Xr);var Zr=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.mergeFunction=function(t){return Object(Fe._161)(function(){for(var e=t[0],n=1;n<t.length;++n)e=Object(Fe._65)(e,t[n]);return e})},e.className="Maximum",e}($r);Fe._122.registerClass(Zr);var Jr=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.mergeFunction=function(t){return Object(Fe._161)(function(){for(var e=t[0],n=1;n<t.length;++n)e=Object(Fe._70)(e,t[n]);return e})},e.className="Minimum",e}($r);Fe._122.registerClass(Jr);var Qr=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_AXIS=-1,null==e&&(e={}),n.axis=null==e.axis?n.DEFAULT_AXIS:e.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return r(e,t),e.prototype.build=function(t){if(!Array.isArray(t)||!Array.isArray(t[0])||1===t.length)throw new Ke("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var e=!0,n=0,r=t=t;n<r.length;n++)if(null!=(c=r[n])){e=!1;break}if(!e){for(var i=[],o=0;o<t.length;++o){var a=t[o].slice();a.splice(this.axis,1);for(var s=!1,u=0,l=i;u<l.length;u++){var c=l[u];if(Fe._171.arraysEqual(c,a)){s=!0;break}}s||i.push(a)}if(i.length>1)throw new Ke("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}},e.prototype.mergeFunction=function(t){var e=this;return Object(Fe._161)(function(){return H(t,e.axis)})},e.prototype.computeOutputShape=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))throw new Ke("A `Concatenate` layer should be called on a list of inputs.");for(var e=t,n=e[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,o=e.slice(1);i<o.length;i++){var a=o[i];if(null==n[r]||null==a[r]){n[r]=null;break}n[r]+=a[r]}return n},e.prototype.computeMask=function(t,e){throw new Xe("computeMask has not been implemented for Concatenate yet")},e.prototype.getConfig=function(){var e={axis:this.axis},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Concatenate",e}($r);Fe._122.registerClass(Qr);var ti=function(t){function e(e){var n=t.call(this,e)||this;return n.axes=e.axes,n.normalize=null!=e.normalize&&e.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return r(e,t),e.prototype.build=function(t){Fe._171.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),"A `Dot` layer should be called on a list of exactly 2 inputs.");var e=t[0],n=t[1];if(e.length>3||n.length>3)throw new Xe("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(e,n);if(e[r[0]]!==n[r[1]])throw new Ke("Dimension incompatibility: "+e[r[0]]+" !== "+n[r[1]])},e.prototype.mergeFunction=function(t){if(2!==t.length)throw new Ke("A `Dot` layer must be called on exactly 2 inputs, but received "+t.length+" input(s).");var e,n=t[0],r=t[1];return e=Array.isArray(this.axes)?this.axes.map(function(e,n){return Oe(e,t[n].shape.length)}):[Oe(this.axes,n.shape.length),Oe(this.axes,r.shape.length)],this.normalize&&(n=vt(n,e[0]),r=vt(r,e[1])),function(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Xe("batchDot is not implemented for tensors of 4D or higher rank yet");if(Fe._171.assert(t.shape.length>=2,"batchDot requires the rank of x to be >= 2, but got "+t.shape.length),Fe._171.assert(t.shape.length>=2,"batchDot requires the rank of y to be >= 2, but got "+e.shape.length),"number"==typeof n&&(n=[n,n]),"complex64"===t.dtype||"complex64"===e.dtype)throw new Xe("batchDot is not implemented for complex64-type Tensors yet.");var r=t.shape.length,i=e.shape.length;null==n&&(n=[r-1,i-2]);var o=n;return Object(Fe._161)(function(){var n,a;if(r>i){n=r-i;for(var s=[],u=0;u<n;++u)s.push(1);e=e.reshape(e.shape.concat(s))}else if(i>r){for(n=i-r,s=[],u=0;u<n;++u)s.push(1);t=t.reshape(t.shape.concat(s))}else n=0;if(a=2===t.shape.length&&2===e.shape.length?o[0]===o[1]?t.mulStrict(e).sum(o[0]):t.transpose([1,0]).mulStrict(e).sum(o[1]):t.matMul(e,o[0]!==t.shape.length-1||null,o[1]===e.shape.length-1||null),n>0){var l=void 0,c=[];for(u=l=r>i?r+i-3:r-1;u<l+n;++u)c.push(u);a=a.squeeze(c)}return 1===a.shape.length&&(a=a.expandDims(1)),a})}(n,r,e)},e.prototype.interpretAxes=function(t,e){return Array.isArray(this.axes)?this.axes:[Oe(this.axes,t.length),Oe(this.axes,e.length)]},e.prototype.computeOutputShape=function(t){Fe._171.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),"A `Dot` layer should be called on a list of exactly 2 inputs.");var e=t[0].slice(),n=t[1].slice();if(e.length>3||n.length>3)throw new Xe("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(e,n);e.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var i=e.concat(n);return 1===i.length&&i.push(1),i},e.prototype.computeMask=function(t,e){throw new Xe("computeMask has not been implemented for Dot yet")},e.prototype.getConfig=function(){var e={axes:this.axes,normalize:this.normalize},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="Dot",e}($r);Fe._122.registerClass(ti);var ei=function(t){function e(e){var n=this;return null==e&&(e={}),(n=t.call(this,e)||this).supportsMasking=!0,n.axis=null==e.axis?-1:e.axis,n.momentum=null==e.momentum?.99:e.momentum,n.epsilon=null==e.epsilon?.001:e.epsilon,n.center=null==e.center||e.center,n.scale=null==e.scale||e.scale,n.betaInitializer=rt(e.betaInitializer||"zeros"),n.gammaInitializer=rt(e.gammaInitializer||"ones"),n.movingMeanInitializer=rt(e.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=rt(e.movingVarianceInitializer||"ones"),n.betaConstraint=k(e.betaConstraint),n.gammaConstraint=k(e.gammaConstraint),n.betaRegularizer=we(e.betaRegularizer),n.gammaRegularizer=we(e.gammaRegularizer),n}return r(e,t),e.prototype.build=function(t){t=st(t);var e=this.axis>=0?this.axis:this.axis+t.length,n=t[e];if(null==n)throw new Ke("Axis "+e+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(t)+".");this.inputSpec=[new Rn({ndim:t.length,axes:(r={},r[e]=n,r)})];var r,i=[n];this.scale&&(this.gamma=this.addWeight("gamma",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var r=null!=e.training&&e.training,i=at(t),o=i.shape,a=o.length,s=F(0,a),u=n.axis>=0?n.axis:n.axis+a;s.splice(u,1);var f=c(1,a);f[u]=o[u];var p=s.slice();p.sort();var d=!Fe._171.arraysEqual(p,F(0,a).slice(0,a-1));if(!r)return function(){if(d){var t=n.movingMean.read().reshape(f),e=n.movingVariance.read().reshape(f),r=n.center?n.beta.read().reshape(f):null,o=n.scale?n.gamma.read().reshape(f):null;return ke(i,t,e,r,o,n.epsilon)}return ke(i,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=Te(i,n.gamma.read(),n.beta.read(),s,n.epsilon),m=h[0],g=h[2],v=function(t,e,n){Object(Fe._161)(function(){var r=l(1).sub(l(n)),i=t.read(),o=i.sub(e).mul(r);t.write(i.sub(o))})};return v(n.movingMean,h[1],n.momentum),v(n.movingVariance,g,n.momentum),m})},e.prototype.getConfig=function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:nt(this.betaInitializer),gammaInitializer:nt(this.gammaInitializer),movingMeanInitializer:nt(this.movingMeanInitializer),movingVarianceInitializer:nt(this.movingVarianceInitializer),betaRegularizer:be(this.betaRegularizer),gammaRegularizer:be(this.gammaRegularizer),betaConstraint:S(this.betaConstraint),gammaConstraint:S(this.gammaConstraint)},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="BatchNormalization",e}(Bn);Fe._122.registerClass(ei);var ni=function(t){function e(e){var n=this;if(null==e&&(e={}),(n=t.call(this,e)||this).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)n.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Ke("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+e.padding.length+" array.");var r=void 0,i=void 0;if("number"==typeof e.padding[0])r=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Ke("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+e.padding[0].length+" array.");if(r=e.padding[0],2!==e.padding[1].length)throw new Ke("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+e.padding[1].length+" array.");i=e.padding[1]}n.padding=[r,i]}return n.inputSpec=[new Rn({ndim:4})],n}return r(e,t),e.prototype.computeOutputShape=function(t){var e,n;return t=st(t),"channelsFirst"===this.dataFormat?(e=null!=t[2]&&t[2]>=0?t[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=t[3]&&t[3]>=0?t[3]+this.padding[1][0]+this.padding[1][1]:null,[t[0],t[1],e,n]):(e=null!=t[1]&&t[1]>=0?t[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=t[2]&&t[2]>=0?t[2]+this.padding[1][0]+this.padding[1][1]:null,[t[0],e,n,t[3]])},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){return function(t,e,n){return Object(Fe._161)(function(){if(4!==t.rank)throw new Ke("temporalPadding expects input tensor to be 4-D, but received a "+t.rank+"-D tensor.");if(null==e&&(e=[[1,1],[1,1]]),2!==e.length||2!==e[0].length||2!==e[1].length)throw new Ke("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Ke("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var r;return r="channelsFirst"===n?[[0,0],[0,0],e[0],e[1]]:[[0,0],e[0],e[1],[0,0]],Object(Fe._90)(t,r)})}(at(t),n.padding,n.dataFormat)})},e.prototype.getConfig=function(){var e={padding:this.padding,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="ZeroPadding2D",e}(Bn);Fe._122.registerClass(ni);var ri=function(t){function e(e){var n=this;if(null==e.poolSize&&(e.poolSize=2),n=t.call(this,e)||this,"number"==typeof e.poolSize)n.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new Ke("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.poolSize));n.poolSize=e.poolSize}if(null==e.strides)n.strides=n.poolSize;else if("number"==typeof e.strides)n.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new Ke("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(e.strides));n.strides=e.strides}return n.padding=null==e.padding?"valid":e.padding,P(n.padding),n.inputSpec=[new Rn({ndim:3})],n}return r(e,t),e.prototype.computeOutputShape=function(t){var e=Ee((t=st(t))[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){n.invokeCallHook(t,e),t=V(at(t),2);var r=n.poolingFunction(at(t),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return Object(Fe._144)(r,[2])})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Bn),ii=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return T(i),P(r),Pe(t,e,n,r,i,"max")},e.className="MaxPooling1D",e}(ri);Fe._122.registerClass(ii);var oi=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return T(i),P(r),Pe(t,e,n,r,i,"avg")},e.className="AveragePooling1D",e}(ri);Fe._122.registerClass(oi);var ai=function(t){function e(e){var n=this;if(null==e.poolSize&&(e.poolSize=[2,2]),(n=t.call(this,e)||this).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)n.strides=n.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Ke("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+e.strides.length+".");n.strides=e.strides}else n.strides=[e.strides,e.strides];return n.padding=null==e.padding?"valid":e.padding,n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,T(n.dataFormat),P(n.padding),n.inputSpec=[new Rn({ndim:4})],n}return r(e,t),e.prototype.computeOutputShape=function(t){t=st(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2];return e=Ee(e,this.poolSize[0],this.padding,this.strides[0]),n=Ee(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,n]:[t[0],e,n,t[3]]},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){return n.invokeCallHook(t,e),n.poolingFunction(at(t),n.poolSize,n.strides,n.padding,n.dataFormat)})},e.prototype.getConfig=function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Bn),si=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return T(i),P(r),Pe(t,e,n,r,i,"max")},e.className="MaxPooling2D",e}(ai);Fe._122.registerClass(si);var ui=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.poolingFunction=function(t,e,n,r,i){return T(i),P(r),Pe(t,e,n,r,i,"avg")},e.className="AveragePooling2D",e}(ai);Fe._122.registerClass(ui);var li=function(t){function e(e){var n=t.call(this,e)||this;return n.inputSpec=[new Rn({ndim:3})],n}return r(e,t),e.prototype.computeOutputShape=function(t){return[t[0],t[2]]},e.prototype.call=function(t,e){throw new Xe},e}(Bn),ci=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.call=function(t,e){return Object(Fe._161)(function(){var e=at(t);return Object(Fe._67)(e,1)})},e.className="GlobalAveragePooling1D",e}(li);Fe._122.registerClass(ci);var fi=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.call=function(t,e){return Object(Fe._161)(function(){var e=at(t);return Object(Fe._63)(e,1)})},e.className="GlobalMaxPooling1D",e}(li);Fe._122.registerClass(fi);var pi=function(t){function e(e){var n=t.call(this,e)||this;return n.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,T(n.dataFormat),n.inputSpec=[new Rn({ndim:4})],n}return r(e,t),e.prototype.computeOutputShape=function(t){return t=t,"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]},e.prototype.call=function(t,e){throw new Xe},e.prototype.getConfig=function(){var e={dataFormat:this.dataFormat},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e}(Bn),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e=at(t);return"channelsLast"===n.dataFormat?Object(Fe._67)(e,[1,2]):Object(Fe._67)(e,[2,3])})},e.className="GlobalAveragePooling2D",e}(pi);Fe._122.registerClass(di);var hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var e=at(t);return"channelsLast"===n.dataFormat?Object(Fe._63)(e,[1,2]):Object(Fe._63)(e,[2,3])})},e.className="GlobalMaxPooling2D",e}(pi);Fe._122.registerClass(hi);var mi=function(t){function e(e){var n,r=t.call(this,e)||this;if(null==e.cell)throw new Ke("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(e.cell)?new Ei({cells:e.cell}):e.cell).stateSize)throw new Ke("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Rn({ndim:3})],r.stateSpec=null,r.states=null,r.numConstants=null,r.keptStates=[],r}return r(e,t),e.prototype.getStates=function(){return null==this.states?F(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map(function(t){return null}):this.states},e.prototype.setStates=function(t){this.states=t},e.prototype.computeOutputShape=function(t){it(t)&&(t=t[0]),t=t;var e=this.cell.stateSize;Array.isArray(e)||(e=[e]);var n,r=e[0];if(n=this.returnSequences?[t[0],t[1],r]:[t[0],r],this.returnState){for(var i=[],o=0,a=e;o<a.length;o++){i.push([t[0],a[o]])}return[n].concat(i)}return n},e.prototype.computeMask=function(t,e){Array.isArray(e)&&(e=e[0]);var n=this.returnSequences?e:null;if(this.returnState){var r=this.states.map(function(t){return null});return[n].concat(r)}return n},e.prototype.build=function(t){if(null!=this.numConstants)throw new Xe("Constants support is not implemented in RNN yet.");it(t)&&(t=t[0]),t=t;this.inputSpec[0]=new Rn({shape:[this.stateful?t[0]:null,null,t[t.length-1]]});var e,n=[t[0]].concat(t.slice(2));if(this.cell.build(n),e=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Fe._171.arraysEqual(this.stateSpec.map(function(t){return t.shape[t.shape.length-1]}),e))throw new Ke("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=e.map(function(t){return new Rn({shape:[null,t]})});this.stateful&&this.resetStates()},e.prototype.resetStates=function(t,e){var n=this;void 0===e&&(e=!1),Object(Fe._161)(function(){if(!n.stateful)throw new $e("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=n.inputSpec[0].shape[0];if(null==r)throw new Ke("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states)n.states=Array.isArray(n.cell.stateSize)?n.cell.stateSize.map(function(t){return Object(Fe._180)([r,t])}):[Object(Fe._180)([r,n.cell.stateSize])];else if(null==t)Object(Fe._9)(n.states),null!=n.keptStates&&(Object(Fe._9)(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states=n.cell.stateSize.map(function(t){return Object(Fe._180)([r,t])}):n.states[0]=Object(Fe._180)([r,n.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==n.states.length)throw new Ke("Layer "+n.name+" expects "+n.states.length+" state(s), but it received "+t.length+" state value(s). Input received: "+t);!0===e?n.keptStates.push(n.states.slice()):Object(Fe._9)(n.states);for(var i=0;i<n.states.length;++i){var o=t[i],a=Array.isArray(n.cell.stateSize)?n.cell.stateSize[i]:n.cell.stateSize,s=[r,a];if(!Fe._171.arraysEqual(o.shape,s))throw new Ke("State "+i+" is incompatible with layer "+n.name+": expected shape="+s+", received shape="+o.shape);n.states[i]=o}}n.states.forEach(function(t){return Object(Fe._42)(t)})})},e.prototype.apply=function(e,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var o=Ne(e,r,i,this.numConstants);e=o.inputs,i=o.constants;var a=[],s=[];if(null!=(r=o.initialState)){n.initialState=r,a=a.concat(r),this.stateSpec=[];for(var u=0,l=r;u<l.length;u++){this.stateSpec.push(new Rn({shape:l[u].shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,a=a.concat(i),this.numConstants=i.length),a[0]instanceof jn){var c=[e].concat(a),f=this.inputSpec.concat(s),p=this.inputSpec;this.inputSpec=f;var d=t.prototype.apply.call(this,c,n);return this.inputSpec=p,d}return t.prototype.apply.call(this,e,n)},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var r=null==e?null:e.mask,i=null==e?null:e.training,o=null==e?null:e.initialState;if(t=at(t),null==o&&(o=n.stateful?n.states:n.getInitialState(t)),null!=r)throw new Xe("Masking is not implemented for RNN yet");var a=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(o.length!==a)throw new Ke("RNN Layer has "+a+" state(s) but was passed "+o.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:i},u=Ie(function(t,e){var r=n.cell.call([t].concat(e),s);return[r[0],r.slice(1)]},t,o,n.goBackwards,null,null,n.unroll,n.returnSequences),l=u[0],c=u[1],f=u[2];n.stateful&&n.resetStates(f,i);var p=n.returnSequences?c:l;return n.returnState?[p].concat(f):p})},e.prototype.getInitialState=function(t){var e=this;return Object(Fe._161)(function(){var n=Object(Fe._180)(t.shape);return n=V(n=Object(Fe._150)(n,[1,2])),Array.isArray(e.cell.stateSize)?e.cell.stateSize.map(function(t){return t>1?$(n,[1,t]):n}):e.cell.stateSize>1?[$(n,[1,e.cell.stateSize])]:[n]})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(e.numConstants=this.numConstants);var n=this.cell.getConfig();e.cell={className:this.cell.getClassName(),config:n};var r=t.prototype.getConfig.call(this);return Object.assign(e,r),e},e.className="RNN",e}(Bn);Fe._122.registerClass(mi);var gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Bn),vi=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,n.activation=ye(null==e.activation?n.DEFAULT_ACTIVATION:e.activation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=rt(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=rt(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=rt(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=we(e.kernelRegularizer),n.recurrentRegularizer=we(e.recurrentRegularizer),n.biasRegularizer=we(e.biasRegularizer),n.kernelConstraint=k(e.kernelConstraint),n.recurrentConstraint=k(e.recurrentConstraint),n.biasConstraint=k(e.biasConstraint),n.dropout=L([1,z([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=L([1,z([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return r(e,t),e.prototype.build=function(t){t=st(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){if(2!==(t=t).length)throw new Ke("SimpleRNNCell expects 2 input Tensors, got "+t.length+".");var r=t[1];t=t[0];var i,o=null!=e.training&&e.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ae(function(){return Object(Fe._87)(t)},n.dropout,o)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ae(function(){return Object(Fe._87)(r)},n.recurrentDropout,o));var a=n.dropoutMask,s=n.recurrentDropoutMask;i=K(null!=a?Object(Fe._76)(t,a):t,n.kernel.read()),null!=n.bias&&(i=J(i,n.bias.read())),null!=s&&(r=Object(Fe._76)(r,s));var u=Object(Fe.u)(i,K(r,n.recurrentKernel.read()));return null!=n.activation&&(u=n.activation.apply(u)),[u,u]})},e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),recurrentInitializer:nt(this.recurrentInitializer),biasInitializer:nt(this.biasInitializer),kernelRegularizer:be(this.kernelRegularizer),recurrentRegularizer:be(this.recurrentRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),recurrentConstraint:S(this.recurrentConstraint),biasConstraint:S(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="SimpleRNNCell",e}(gi);Fe._122.registerClass(vi);var yi=function(t){function e(e){return e.cell=new vi(e),t.call(this,e)||this}return r(e,t),e.prototype.call=function(e,n){var r=this;return Object(Fe._161)(function(){null!=r.cell.dropoutMask&&(Object(Fe._9)(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(Fe._9)(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);return t.prototype.call.call(r,e,{mask:null==n?null:n.mask,training:null==n?null:n.training,initialState:null==n?null:n.initialState})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),recurrentInitializer:nt(this.recurrentInitializer),biasInitializer:nt(this.biasInitializer),kernelRegularizer:be(this.kernelRegularizer),recurrentRegularizer:be(this.recurrentRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),recurrentConstraint:S(this.recurrentConstraint),biasConstraint:S(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.className="SimpleRNN",e}(mi);Fe._122.registerClass(yi);var bi=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,n.activation=ye(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=ye(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=rt(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=rt(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=rt(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=we(e.kernelRegularizer),n.recurrentRegularizer=we(e.recurrentRegularizer),n.biasRegularizer=we(e.biasRegularizer),n.kernelConstraint=k(e.kernelConstraint),n.recurrentConstraint=k(e.recurrentConstraint),n.biasConstraint=k(e.biasConstraint),n.dropout=L([1,z([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=L([1,z([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.implementation=e.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return r(e,t),e.prototype.build=function(t){var e=(t=st(t))[t.length-1];this.kernel=this.addWeight("kernel",[e,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.bias=this.useBias?this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):null,this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){if(2!==(t=t).length)throw new Ke("GRUCell expects 2 input Tensors (inputs, h, c), got "+t.length+".");var r=null!=e.training&&e.training,i=t[1];t=t[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ae(function(){return Object(Fe._87)(t)},n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ae(function(){return Object(Fe._87)(i)},n.recurrentDropout,r,3));var o,a,s,u=n.dropoutMask,c=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(t=Object(Fe._76)(t,u[0]));var f=K(t,n.kernel.read());n.useBias&&(f=J(f,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Object(Fe._76)(i,c[0]));var p=n.recurrentKernel.read(),d=Object(Fe._139)(p,[2*n.units,n.units],p.rank-1),h=d[1],m=K(i,d[0]),g=Object(Fe._139)(f,3,f.rank-1),v=g[0],y=g[1],b=g[2],_=Object(Fe._139)(m,2,m.rank-1),w=_[0],x=_[1];o=n.recurrentActivation.apply(Object(Fe.u)(v,w)),a=n.recurrentActivation.apply(Object(Fe.u)(y,x));var E=K(Object(Fe._76)(a,i),h);s=n.activation.apply(Object(Fe.u)(b,E));var C=Object(Fe.u)(Object(Fe._76)(o,i),Object(Fe._76)(Object(Fe.u)(l(1),Object(Fe._80)(o)),s));return[C,C]})},e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),recurrentActivation:ge(this.recurrentActivation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),recurrentInitializer:nt(this.recurrentInitializer),biasInitializer:nt(this.biasInitializer),kernelRegularizer:be(this.kernelRegularizer),recurrentRegularizer:be(this.recurrentRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),recurrentConstraint:S(this.recurrentConstraint),biasConstraint:S(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="GRUCell",e}(gi);Fe._122.registerClass(bi);var _i=function(t){function e(e){return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new bi(e),t.call(this,e)||this}return r(e,t),e.prototype.call=function(e,n){var r=this;return Object(Fe._161)(function(){null!=r.cell.dropoutMask&&(Object(Fe._9)(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(Fe._9)(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);return t.prototype.call.call(r,e,{mask:null==n?null:n.mask,training:null==n?null:n.training,initialState:null==n?null:n.initialState})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),recurrentActivation:ge(this.recurrentActivation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),recurrentInitializer:nt(this.recurrentInitializer),biasInitializer:nt(this.biasInitializer),kernelRegularizer:be(this.kernelRegularizer),recurrentRegularizer:be(this.recurrentRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),recurrentConstraint:S(this.recurrentConstraint),biasConstraint:S(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="GRU",e}(mi);Fe._122.registerClass(_i);var wi=function(t){function e(e){var n=t.call(this,e)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=e.units,n.activation=ye(void 0===e.activation?n.DEFAULT_ACTIVATION:e.activation),n.recurrentActivation=ye(void 0===e.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),n.useBias=null==e.useBias||e.useBias,n.kernelInitializer=rt(e.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=rt(e.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=rt(e.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=e.unitForgetBias,n.kernelRegularizer=we(e.kernelRegularizer),n.recurrentRegularizer=we(e.recurrentRegularizer),n.biasRegularizer=we(e.biasRegularizer),n.kernelConstraint=k(e.kernelConstraint),n.recurrentConstraint=k(e.recurrentConstraint),n.biasConstraint=k(e.biasConstraint),n.dropout=L([1,z([0,null==e.dropout?0:e.dropout])]),n.recurrentDropout=L([1,z([0,null==e.recurrentDropout?0:e.recurrentDropout])]),n.implementation=e.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return r(e,t),e.prototype.build=function(t){var e,n,i=(t=st(t))[t.length-1];if(this.kernel=this.addWeight("kernel",[i,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var o=this.biasInitializer,a=this.units;e=new((n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.apply=function(t,e){var n=o.apply([a]),r=(new yn).apply([a]),i=o.apply([2*a]);return G(G(n,r),i)},e}(gn)).className="CustomInit",n)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,e,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){var r=null!=e.training&&e.training;if(3!==(t=t).length)throw new Ke("LSTMCell expects 3 input Tensors (inputs, h, c), got "+t.length+".");var i=t[1],o=t[2];t=t[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ae(function(){return Object(Fe._87)(t)},n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ae(function(){return Object(Fe._87)(i)},n.recurrentDropout,r,4));var a,s,u,l,c=n.dropoutMask,f=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(t=Object(Fe._76)(t,c[0]));var p=K(t,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(i=Object(Fe._76)(i,f[0])),p=Object(Fe.u)(p,K(i,n.recurrentKernel.read())),n.useBias&&(p=J(p,n.bias.read()));var d=Object(Fe._139)(p,4,p.rank-1),h=d[1],m=d[2],g=d[3];a=n.recurrentActivation.apply(d[0]),s=n.recurrentActivation.apply(h),u=Object(Fe.u)(Object(Fe._76)(s,o),Object(Fe._76)(a,n.activation.apply(m))),l=n.recurrentActivation.apply(g);var v=Object(Fe._76)(l,n.activation.apply(u));return[v,v,u]})},e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),recurrentActivation:ge(this.recurrentActivation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),recurrentInitializer:nt(this.recurrentInitializer),biasInitializer:nt(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:be(this.kernelRegularizer),recurrentRegularizer:be(this.recurrentRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),recurrentConstraint:S(this.recurrentConstraint),biasConstraint:S(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.className="LSTMCell",e}(gi);Fe._122.registerClass(wi);var xi=function(t){function e(e){return 0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new wi(e),t.call(this,e)||this}return r(e,t),e.prototype.call=function(e,n){var r=this;return Object(Fe._161)(function(){null!=r.cell.dropoutMask&&(Object(Fe._9)(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(Object(Fe._9)(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);return t.prototype.call.call(r,e,{mask:null==n?null:n.mask,training:null==n?null:n.training,initialState:null==n?null:n.initialState})})},Object.defineProperty(e.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={units:this.units,activation:ge(this.activation),recurrentActivation:ge(this.recurrentActivation),useBias:this.useBias,kernelInitializer:nt(this.kernelInitializer),recurrentInitializer:nt(this.recurrentInitializer),biasInitializer:nt(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:be(this.kernelRegularizer),recurrentRegularizer:be(this.recurrentRegularizer),biasRegularizer:be(this.biasRegularizer),activityRegularizer:be(this.activityRegularizer),kernelConstraint:S(this.kernelConstraint),recurrentConstraint:S(this.recurrentConstraint),biasConstraint:S(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=t.prototype.getConfig.call(this);return delete n.cell,Object.assign(e,n),e},e.fromConfig=function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)},e.className="LSTM",e}(mi);Fe._122.registerClass(xi);var Ei=function(t){function e(e){var n=t.call(this,e)||this;return n.cells=e.cells,n}return r(e,t),Object.defineProperty(e.prototype,"stateSize",{get:function(){for(var t=[],e=0,n=this.cells.slice().reverse();e<n.length;e++){var r=n[e];Array.isArray(r.stateSize)?t.push.apply(t,r.stateSize):t.push(r.stateSize)}return t},enumerable:!0,configurable:!0}),e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){for(var r=(t=t).slice(1),i=[],o=0,a=n.cells.slice().reverse();o<a.length;o++){var s=a[o];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var u,l=[],c=0;c<n.cells.length;++c)s=n.cells[c],r=i[c],u=0===c?[t[0]].concat(r):[u[0]].concat(r),u=s.call(u,e),l.push(u.slice(1));r=[];for(var f=0,p=l.slice().reverse();f<p.length;f++){r.push.apply(r,p[f])}return[u[0]].concat(r)})},e.prototype.build=function(t){var e;it(t)&&(t=t[0]),t=t;for(var n=0,r=this.cells;n<r.length;n++){var i=r[n];i.build(t),e=Array.isArray(i.stateSize)?i.stateSize[0]:i.stateSize,t=[t[0],e]}this.built=!0},e.prototype.getConfig=function(){for(var e=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];e.push({className:this.getClassName(),config:i.getConfig()})}var o={cells:e},a=t.prototype.getConfig.call(this);return Object.assign(o,a),o},e.fromConfig=function(t,e,n){void 0===n&&(n={});for(var r=[],i=0,o=e.cells;i<o.length;i++){r.push(Ut(o[i],n))}return new t({cells:r})},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var t=[],e=0,n=this.cells;e<n.length;e++){t.push.apply(t,n[e].trainableWeights)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){for(var t=[],e=0,n=this.cells;e<n.length;e++){var r=n[e];t.push.apply(t,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],o=0,a=this.cells;o<a.length;o++)i.push.apply(i,(r=a[o]).trainableWeights);return i.concat(t)}return t},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){for(var t=[],e=0,n=this.cells;e<n.length;e++){t.push.apply(t,n[e].weights)}return lt(t)},e.prototype.setWeights=function(t){for(var e=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],o=i.weights.length,a=t.splice(o),s=0;s<i.weights.length;++s)e.push([i.weights[s],a[s]]);ct(e)},e.className="StackedRNNCells",e}(gi);Fe._122.registerClass(Ei);var Ci=function(t){function e(e){var n=t.call(this,e)||this;return n.layer=e.layer,n}return r(e,t),e.prototype.build=function(t){this.built=!0},Object.defineProperty(e.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(t){null!=this.layer&&(this.layer.trainable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.layer.getWeights()},e.prototype.setWeights=function(t){this.layer.setWeights(t)},e.prototype.getConfig=function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.fromConfig=function(t,e,n){void 0===n&&(n={});var r=Ut(e.layer,n);delete e.layer;var i={layer:r};return Object.assign(i,e),new t(i)},e}(Bn),Si=function(t){function e(e){var n=t.call(this,e)||this;return n.supportsMasking=!0,n}return r(e,t),e.prototype.build=function(e){if((e=st(e)).length<3)throw new Ke("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(e));this.inputSpec=[{shape:e}];var n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),t.prototype.build.call(this,e)},e.prototype.computeOutputShape=function(t){var e=[(t=st(t))[0]].concat(t.slice(2)),n=this.layer.computeOutputShape(e);return[n[0],t[1]].concat(n.slice(1))},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){return Ie(function(t,r){return[at(n.layer.call(t,e)),[]]},t=at(t),[],!1,null,null,!1,!0)[1]})},e.className="TimeDistributed",e}(Ci);Fe._122.registerClass(Si);var Oi=["sum","mul","concat","ave"],ki=function(t){function e(e){var n=t.call(this,e)||this,r=e.layer.getConfig();if(n.forwardLayer=Ut({className:e.layer.getClassName(),config:r}),r.goBackwards=!0!==r.goBackwards,n.backwardLayer=Ut({className:e.layer.getClassName(),config:r}),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,function(t){x(Oi,"BidirectionalMergeMode",t)}(e.mergeMode),n.mergeMode=e.mergeMode,e.weights)throw new Xe("weights support is not implemented for Bidirectional layer yet.");return n._stateful=e.layer.stateful,n.returnSequences=e.layer.returnSequences,n.returnState=e.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=e.layer.inputSpec,n.numConstants=null,n}return r(e,t),Object.defineProperty(e.prototype,"trainable",{get:function(){return this._trainable},set:function(t){this._trainable=t,null!=this.forwardLayer&&(this.forwardLayer.trainable=t),null!=this.backwardLayer&&(this.backwardLayer.trainable=t)},enumerable:!0,configurable:!0}),e.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},e.prototype.setWeights=function(t){var e=t.length,n=Math.floor(e/2);this.forwardLayer.setWeights(t.slice(0,n)),this.backwardLayer.setWeights(t.slice(n))},e.prototype.computeOutputShape=function(t){var e,n,r,i=this.forwardLayer.computeOutputShape(t);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),e=i[0]):e=i[0],e=e,"concat"===this.mergeMode?(e[e.length-1]*=2,n=[e]):n=null==this.mergeMode?[e,e.slice()]:[e],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[e].concat(r).concat(r.slice()):d(n)},e.prototype.apply=function(e,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var o=Ne(e,r,i,this.numConstants);if(e=o.inputs,r=o.initialState,i=o.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==i)return t.prototype.apply.call(this,e,n);var a=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new Ke("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,a.push.apply(a,r);var l=r.map(function(t){return new Rn({shape:t.shape})});this.forwardLayer.stateSpec=l.slice(0,u/2),this.backwardLayer.stateSpec=l.slice(u/2),s.push.apply(s,l)}if(null!=i)throw new Xe("Support for constants in Bidirectional layers is not implemented yet.");for(var c=a[0]instanceof jn,f=0,p=a;f<p.length;f++)if(p[f]instanceof jn!==c)throw new Ke("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){var d=[e].concat(a),h=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=h;var g=t.prototype.apply.call(this,d,n);return this.inputSpec=m,g}return t.prototype.apply.call(this,e,n)},e.prototype.call=function(t,e){var n=this;return Object(Fe._161)(function(){if(null!=e.mask)throw new Xe("The support for masking is not implemented for Bidirectional layers yet.");var r,i,o,a,s=e.initialState;if(null==s)r=n.forwardLayer.call(t,e),i=n.backwardLayer.call(t,e);else{var u=s.slice(0,s.length/2),c=s.slice(s.length/2);r=n.forwardLayer.call(t,Object.assign(e,{initialState:u})),i=n.backwardLayer.call(t,Object.assign(e,{initialState:c}))}return n.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),n.returnSequences&&(i=Object(Fe._110)(i,1)),"concat"===n.mergeMode?a=H([r,i]):"sum"===n.mergeMode?a=Object(Fe.u)(r,i):"ave"===n.mergeMode?a=Object(Fe._76)(l(.5),Object(Fe.u)(r,i)):"mul"===n.mergeMode?a=Object(Fe._76)(r,i):null==n.mergeMode&&(a=[r,i]),n.returnState?null==n.mergeMode?a.concat(o):[a].concat(o):a})},e.prototype.resetStates=function(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},e.prototype.build=function(t){var e=this;N(this.forwardLayer.name,function(){e.forwardLayer.build(t)}),N(this.backwardLayer.name,function(){e.backwardLayer.build(t)}),this.built=!0},Object.defineProperty(e.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),e.prototype.getConfig=function(){var e={mergeMode:this.mergeMode},n=t.prototype.getConfig.call(this);return Object.assign(e,n),e},e.fromConfig=function(t,e){var n=Ut(e.layer);if(delete e.layer,null!=e.numConstants)throw new Xe("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=e;return r.layer=n,new t(r)},e.className="Bidirectional",e}(Ci);Fe._122.registerClass(ki);var Ti=Re,Pi=je,Ni=Le,Ii=ze,Ai=Object.freeze({inputLayer:function(t){return new Vn(t)},elu:function(t){return new Cr(t)},reLU:function(t){return new xr(t)},leakyReLU:function(t){return new Er(t)},softmax:function(t){return new Or(t)},thresholdedReLU:function(t){return new Sr(t)},conv1d:function(t){return new Rr(t)},conv2d:function(t){return new Ar(t)},conv2dTranspose:function(t){return new Mr(t)},separableConv2d:function(t){return new Dr(t)},cropping2D:function(t){return new jr(t)},upSampling2d:function(t){return new Lr(t)},depthwiseConv2d:function(t){return new zr(t)},activation:function(t){return new Ur(t)},dense:function(t){return new Br(t)},dropout:function(t){return new Fr(t)},flatten:function(t){return new Vr(t)},repeatVector:function(t){return new Wr(t)},reshape:function(t){return new qr(t)},permute:function(t){return new Hr(t)},embedding:function(t){return new Gr(t)},add:function(t){return new Yr(t)},average:function(t){return new Xr(t)},concatenate:function(t){return new Qr(t)},maximum:function(t){return new Zr(t)},minimum:function(t){return new Jr(t)},multiply:function(t){return new Kr(t)},dot:function(t){return new ti(t)},batchNormalization:function(t){return new ei(t)},zeroPadding2d:function(t){return new ni(t)},averagePooling1d:Me,avgPool1d:function(t){return Me(t)},avgPooling1d:function(t){return Me(t)},averagePooling2d:De,avgPool2d:function(t){return De(t)},avgPooling2d:function(t){return De(t)},globalAveragePooling1d:function(t){return new ci(t)},globalAveragePooling2d:function(t){return new di(t)},globalMaxPooling1d:Re,globalMaxPooling2d:je,maxPooling1d:Le,maxPooling2d:ze,gru:function(t){return new _i(t)},gruCell:function(t){return new bi(t)},lstm:function(t){return new xi(t)},lstmCell:function(t){return new wi(t)},simpleRNN:function(t){return new yi(t)},simpleRNNCell:function(t){return new vi(t)},rnn:function(t){return new mi(t)},stackedRNNCells:function(t){return new Ei(t)},bidirectional:function(t){return new ki(t)},timeDistributed:function(t){return new Si(t)},globalMaxPool1d:Ti,globalMaxPool2d:Pi,maxPool1d:Ni,maxPool2d:Ii,Layer:Bn,RNN:mi,RNNCell:gi,input:he}),Mi=Object.freeze({modelFromJSON:function(t,e){return i(this,void 0,void 0,function(){var n,r,i,a,s,u,l,c;return o(this,function(o){switch(o.label){case 0:return"modelTopology"in t||(t={modelTopology:t}),null!=(n=(t=t).modelTopology).model_config&&(n=n.model_config),r=qt(n),i=Ut(r,e),null==t.weightsManifest?[3,2]:[4,Fe._40.loadWeights(t.weightsManifest,t.pathPrefix,i.weights.map(function(t){return t.originalName}))];case 1:for(a=o.sent(),s={},u=0,l=i.weights;u<l.length;u++)c=l[u],s[c.originalName]=a[c.originalName];i.loadWeights(s,null,!0),o.label=2;case 2:return[2,i]}})})}}),Di=Object.freeze({binaryAccuracy:function(t,e){return Mt(t,e)},binaryCrossentropy:function(t,e){return zt(t,e)},sparseCategoricalAccuracy:function(t,e){return Ft(t,e)},categoricalAccuracy:function(t,e){return Dt(t,e)},categoricalCrossentropy:function(t,e){return er(t,e)},precision:function(t,e){return jt(t,e)},recall:function(t,e){return Lt(t,e)},cosineProximity:function(t,e){return It(t,e)},meanAbsoluteError:function(t,e){return bt(t,e)},meanAbsolutePercentageError:function(t,e){return _t(t,e)},MAPE:function(t,e){return _t(t,e)},mape:function(t,e){return _t(t,e)},meanSquaredError:function(t,e){return yt(t,e)},MSE:function(t,e){return yt(t,e)},mse:function(t,e){return yt(t,e)}}),Ri=Object.freeze({l1l2:function(t){return new Tr(t)},l1:function(t){return function(t){return new Tr({l1:null!=t?t.l1:null,l2:0})}(t)},l2:function(t){return function(t){return new Tr({l2:null!=t?t.l2:null,l1:0})}(t)}}),ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=null,e}return r(e,t),e.prototype.setModel=function(t){if(!(t instanceof ur))throw new Error("model must be a Model, not some other Container");this.model=t},e}(Un),Li=n(245),zi=n(246);n.d(e,"version",function(){return Fi}),n.d(e,"setBackend",function(){return Fe._123}),n.d(e,"getBackend",function(){return Fe._30}),n.d(e,"disposeVariables",function(){return Fe._10}),n.d(e,"memory",function(){return Fe._68}),n.d(e,"version_core",function(){return Fe._176}),n.d(e,"nextFrame",function(){return Fe._81}),n.d(e,"environment",function(){return Fe._15}),n.d(e,"io",function(){return Fe._40}),n.d(e,"math",function(){return Fe._62}),n.d(e,"serialization",function(){return Fe._122}),n.d(e,"test_util",function(){return Fe._160}),n.d(e,"util",function(){return Fe._171}),n.d(e,"webgl",function(){return Fe._177}),n.d(e,"AdadeltaOptimizer",function(){return Fe.a}),n.d(e,"AdagradOptimizer",function(){return Fe.b}),n.d(e,"AdamOptimizer",function(){return Fe.c}),n.d(e,"AdamaxOptimizer",function(){return Fe.d}),n.d(e,"MomentumOptimizer",function(){return Fe.i}),n.d(e,"Optimizer",function(){return Fe.j}),n.d(e,"RMSPropOptimizer",function(){return Fe.k}),n.d(e,"SGDOptimizer",function(){return Fe.n}),n.d(e,"Tensor",function(){return Fe.o}),n.d(e,"TensorBuffer",function(){return Fe.p}),n.d(e,"variable",function(){return Fe._174}),n.d(e,"Variable",function(){return Fe.q}),n.d(e,"Rank",function(){return Fe.l}),n.d(e,"Reduction",function(){return Fe.m}),n.d(e,"ENV",function(){return Fe.f}),n.d(e,"Environment",function(){return Fe.g}),n.d(e,"KernelBackend",function(){return Fe.h}),n.d(e,"DataStorage",function(){return Fe.e}),n.d(e,"image",function(){return Fe._39}),n.d(e,"linalg",function(){return Fe._48}),n.d(e,"losses",function(){return Fe._60}),n.d(e,"spectral",function(){return Fe._138}),n.d(e,"op",function(){return Fe._88}),n.d(e,"batchNormalization2d",function(){return Fe.J}),n.d(e,"batchNormalization3d",function(){return Fe.K}),n.d(e,"batchNormalization4d",function(){return Fe.L}),n.d(e,"batchNormalization",function(){return Fe.I}),n.d(e,"complex",function(){return Fe.S}),n.d(e,"real",function(){return Fe._106}),n.d(e,"imag",function(){return Fe._38}),n.d(e,"concat",function(){return Fe.T}),n.d(e,"concat1d",function(){return Fe.U}),n.d(e,"concat2d",function(){return Fe.V}),n.d(e,"concat3d",function(){return Fe.W}),n.d(e,"concat4d",function(){return Fe.X}),n.d(e,"split",function(){return Fe._139}),n.d(e,"conv1d",function(){return Fe.Y}),n.d(e,"conv2d",function(){return Fe.Z}),n.d(e,"conv3d",function(){return Fe._2}),n.d(e,"conv2dDerFilter",function(){return Fe._0}),n.d(e,"depthwiseConv2d",function(){return Fe._8}),n.d(e,"separableConv2d",function(){return Fe._121}),n.d(e,"conv2dTranspose",function(){return Fe._1}),n.d(e,"matMul",function(){return Fe._61}),n.d(e,"dot",function(){return Fe._13}),n.d(e,"outerProduct",function(){return Fe._89}),n.d(e,"reverse",function(){return Fe._110}),n.d(e,"reverse1d",function(){return Fe._111}),n.d(e,"reverse2d",function(){return Fe._112}),n.d(e,"reverse3d",function(){return Fe._113}),n.d(e,"reverse4d",function(){return Fe._114}),n.d(e,"maxPool",function(){return Fe._64}),n.d(e,"avgPool",function(){return Fe.G}),n.d(e,"pool",function(){return Fe._95}),n.d(e,"slice",function(){return Fe._129}),n.d(e,"slice1d",function(){return Fe._130}),n.d(e,"slice2d",function(){return Fe._131}),n.d(e,"slice3d",function(){return Fe._132}),n.d(e,"slice4d",function(){return Fe._133}),n.d(e,"abs",function(){return Fe.r}),n.d(e,"acos",function(){return Fe.s}),n.d(e,"acosh",function(){return Fe.t}),n.d(e,"asin",function(){return Fe.B}),n.d(e,"asinh",function(){return Fe.C}),n.d(e,"atan",function(){return Fe.D}),n.d(e,"atanh",function(){return Fe.F}),n.d(e,"ceil",function(){return Fe.P}),n.d(e,"clipByValue",function(){return Fe.Q}),n.d(e,"cos",function(){return Fe._3}),n.d(e,"cosh",function(){return Fe._4}),n.d(e,"erf",function(){return Fe._18}),n.d(e,"exp",function(){return Fe._19}),n.d(e,"expm1",function(){return Fe._21}),n.d(e,"floor",function(){return Fe._25}),n.d(e,"log",function(){return Fe._51}),n.d(e,"log1p",function(){return Fe._52}),n.d(e,"logSigmoid",function(){return Fe._53}),n.d(e,"neg",function(){return Fe._80}),n.d(e,"reciprocal",function(){return Fe._107}),n.d(e,"round",function(){return Fe._116}),n.d(e,"rsqrt",function(){return Fe._117}),n.d(e,"sigmoid",function(){return Fe._125}),n.d(e,"sign",function(){return Fe._126}),n.d(e,"sin",function(){return Fe._127}),n.d(e,"sinh",function(){return Fe._128}),n.d(e,"softplus",function(){return Fe._135}),n.d(e,"sqrt",function(){return Fe._140}),n.d(e,"square",function(){return Fe._141}),n.d(e,"step",function(){return Fe._146}),n.d(e,"tan",function(){return Fe._151}),n.d(e,"tanh",function(){return Fe._152}),n.d(e,"all",function(){return Fe.x}),n.d(e,"any",function(){return Fe.y}),n.d(e,"argMax",function(){return Fe.z}),n.d(e,"argMin",function(){return Fe.A}),n.d(e,"logSumExp",function(){return Fe._55}),n.d(e,"max",function(){return Fe._63}),n.d(e,"mean",function(){return Fe._67}),n.d(e,"min",function(){return Fe._69}),n.d(e,"moments",function(){return Fe._74}),n.d(e,"sum",function(){return Fe._150}),n.d(e,"prod",function(){return Fe._100}),n.d(e,"equal",function(){return Fe._16}),n.d(e,"equalStrict",function(){return Fe._17}),n.d(e,"greater",function(){return Fe._33}),n.d(e,"greaterEqual",function(){return Fe._34}),n.d(e,"greaterEqualStrict",function(){return Fe._35}),n.d(e,"greaterStrict",function(){return Fe._36}),n.d(e,"less",function(){return Fe._44}),n.d(e,"lessEqual",function(){return Fe._45}),n.d(e,"lessEqualStrict",function(){return Fe._46}),n.d(e,"lessStrict",function(){return Fe._47}),n.d(e,"notEqual",function(){return Fe._83}),n.d(e,"notEqualStrict",function(){return Fe._84}),n.d(e,"add",function(){return Fe.u}),n.d(e,"addN",function(){return Fe.v}),n.d(e,"addStrict",function(){return Fe.w}),n.d(e,"atan2",function(){return Fe.E}),n.d(e,"div",function(){return Fe._11}),n.d(e,"divStrict",function(){return Fe._12}),n.d(e,"floorDiv",function(){return Fe._26}),n.d(e,"maximum",function(){return Fe._65}),n.d(e,"maximumStrict",function(){return Fe._66}),n.d(e,"minimum",function(){return Fe._70}),n.d(e,"minimumStrict",function(){return Fe._71}),n.d(e,"mod",function(){return Fe._72}),n.d(e,"modStrict",function(){return Fe._73}),n.d(e,"mul",function(){return Fe._76}),n.d(e,"mulStrict",function(){return Fe._77}),n.d(e,"pow",function(){return Fe._96}),n.d(e,"powStrict",function(){return Fe._97}),n.d(e,"squaredDifference",function(){return Fe._142}),n.d(e,"squaredDifferenceStrict",function(){return Fe._143}),n.d(e,"sub",function(){return Fe._148}),n.d(e,"subStrict",function(){return Fe._149}),n.d(e,"elu",function(){return Fe._14}),n.d(e,"leakyRelu",function(){return Fe._43}),n.d(e,"prelu",function(){return Fe._98}),n.d(e,"relu",function(){return Fe._108}),n.d(e,"selu",function(){return Fe._120}),n.d(e,"logicalAnd",function(){return Fe._56}),n.d(e,"logicalNot",function(){return Fe._57}),n.d(e,"logicalOr",function(){return Fe._58}),n.d(e,"logicalXor",function(){return Fe._59}),n.d(e,"where",function(){return Fe._178}),n.d(e,"whereAsync",function(){return Fe._179}),n.d(e,"buffer",function(){return Fe.N}),n.d(e,"toPixels",function(){return Fe._164}),n.d(e,"print",function(){return Fe._99}),n.d(e,"batchToSpaceND",function(){return Fe.M}),n.d(e,"cast",function(){return Fe.O}),n.d(e,"clone",function(){return Fe.R}),n.d(e,"cumsum",function(){return Fe._5}),n.d(e,"depthToSpace",function(){return Fe._7}),n.d(e,"expandDims",function(){return Fe._20}),n.d(e,"eye",function(){return Fe._22}),n.d(e,"fromPixels",function(){return Fe._27}),n.d(e,"multinomial",function(){return Fe._79}),n.d(e,"oneHot",function(){return Fe._85}),n.d(e,"pad",function(){return Fe._90}),n.d(e,"pad1d",function(){return Fe._91}),n.d(e,"pad2d",function(){return Fe._92}),n.d(e,"pad3d",function(){return Fe._93}),n.d(e,"pad4d",function(){return Fe._94}),n.d(e,"rand",function(){return Fe._102}),n.d(e,"randomNormal",function(){return Fe._103}),n.d(e,"randomUniform",function(){return Fe._104}),n.d(e,"reshape",function(){return Fe._109}),n.d(e,"spaceToBatchND",function(){return Fe._136}),n.d(e,"squeeze",function(){return Fe._144}),n.d(e,"stack",function(){return Fe._145}),n.d(e,"tile",function(){return Fe._162}),n.d(e,"truncatedNormal",function(){return Fe._168}),n.d(e,"unstack",function(){return Fe._170}),n.d(e,"setdiff1dAsync",function(){return Fe._124}),n.d(e,"fill",function(){return Fe._24}),n.d(e,"linspace",function(){return Fe._49}),n.d(e,"ones",function(){return Fe._86}),n.d(e,"range",function(){return Fe._105}),n.d(e,"scalar",function(){return Fe._118}),n.d(e,"tensor",function(){return Fe._153}),n.d(e,"tensor1d",function(){return Fe._154}),n.d(e,"tensor2d",function(){return Fe._155}),n.d(e,"tensor3d",function(){return Fe._156}),n.d(e,"tensor4d",function(){return Fe._157}),n.d(e,"tensor5d",function(){return Fe._158}),n.d(e,"tensor6d",function(){return Fe._159}),n.d(e,"zeros",function(){return Fe._180}),n.d(e,"onesLike",function(){return Fe._87}),n.d(e,"zerosLike",function(){return Fe._181}),n.d(e,"transpose",function(){return Fe._167}),n.d(e,"softmax",function(){return Fe._134}),n.d(e,"logSoftmax",function(){return Fe._54}),n.d(e,"localResponseNormalization",function(){return Fe._50}),n.d(e,"norm",function(){return Fe._82}),n.d(e,"gather",function(){return Fe._28}),n.d(e,"unsortedSegmentSum",function(){return Fe._169}),n.d(e,"basicLSTMCell",function(){return Fe.H}),n.d(e,"multiRNNCell",function(){return Fe._78}),n.d(e,"movingAverage",function(){return Fe._75}),n.d(e,"stridedSlice",function(){return Fe._147}),n.d(e,"topk",function(){return Fe._165}),n.d(e,"scatterND",function(){return Fe._119}),n.d(e,"fft",function(){return Fe._23}),n.d(e,"ifft",function(){return Fe._37}),n.d(e,"rfft",function(){return Fe._115}),n.d(e,"irfft",function(){return Fe._41}),n.d(e,"sparseToDense",function(){return Fe._137}),n.d(e,"gatherND",function(){return Fe._29}),n.d(e,"train",function(){return Fe._166}),n.d(e,"tidy",function(){return Fe._161}),n.d(e,"keep",function(){return Fe._42}),n.d(e,"dispose",function(){return Fe._9}),n.d(e,"time",function(){return Fe._163}),n.d(e,"profile",function(){return Fe._101}),n.d(e,"customGrad",function(){return Fe._6}),n.d(e,"grad",function(){return Fe._31}),n.d(e,"grads",function(){return Fe._32}),n.d(e,"valueAndGrad",function(){return Fe._172}),n.d(e,"valueAndGrads",function(){return Fe._173}),n.d(e,"variableGrads",function(){return Fe._175}),n.d(e,"constraints",function(){return an}),n.d(e,"initializers",function(){return An}),n.d(e,"layers",function(){return Ai}),n.d(e,"models",function(){return Mi}),n.d(e,"metrics",function(){return Di}),n.d(e,"regularizers",function(){return Ri}),n.d(e,"CallbackList",function(){return Wn}),n.d(e,"CustomCallback",function(){return $n}),n.d(e,"History",function(){return Gn}),n.d(e,"Callback",function(){return ji}),n.d(e,"InputSpec",function(){return Rn}),n.d(e,"SymbolicTensor",function(){return jn}),n.d(e,"Model",function(){return ur}),n.d(e,"input",function(){return he}),n.d(e,"loadModel",function(){return de}),n.d(e,"model",function(){return fe}),n.d(e,"registerCallbackConstructor",function(){return me}),n.d(e,"sequential",function(){return pe}),n.d(e,"RNN",function(){return mi}),n.d(e,"Sequential",function(){return lr}),n.d(e,"LayerVariable",function(){return Dn}),n.d(e,"version_layers",function(){return"0.9.1"}),n.d(e,"FrozenModel",function(){return Li.a}),n.d(e,"loadFrozenModel",function(){return Li.b}),n.d(e,"loadTfHubModule",function(){return Li.c}),n.d(e,"version_converter",function(){return Li.d}),n.d(e,"data",function(){return zi});var Fi={"tfjs-core":Fe._176,"tfjs-data":zi.version_data,"tfjs-layers":"0.9.1","tfjs-converter":Li.d,tfjs:"0.14.1"}},function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}t.exports=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:n}:e}).call(e,n(18))},function(t,e,n){function r(t){s.isBuffer(t)||(t=s.from(t));for(var e=t.length/4|0,n=new Array(e),r=0;r<e;r++)n[r]=t.readUInt32BE(4*r);return n}function i(t){for(;0<t.length;t++)t[0]=0}function o(t,e,n,r,i){for(var o,a,s,u,l=n[0],c=n[1],f=n[2],p=n[3],d=t[0]^e[0],h=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],v=4,y=1;y<i;y++)o=l[d>>>24]^c[h>>>16&255]^f[m>>>8&255]^p[255&g]^e[v++],a=l[h>>>24]^c[m>>>16&255]^f[g>>>8&255]^p[255&d]^e[v++],s=l[m>>>24]^c[g>>>16&255]^f[d>>>8&255]^p[255&h]^e[v++],u=l[g>>>24]^c[d>>>16&255]^f[h>>>8&255]^p[255&m]^e[v++],d=o,h=a,m=s,g=u;return o=(r[d>>>24]<<24|r[h>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^e[v++],a=(r[h>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&d])^e[v++],s=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[d>>>8&255]<<8|r[255&h])^e[v++],u=(r[g>>>24]<<24|r[d>>>16&255]<<16|r[h>>>8&255]<<8|r[255&m])^e[v++],o>>>=0,a>>>=0,s>>>=0,u>>>=0,[o,a,s,u]}function a(t){this._key=r(t),this._reset()}var s=n(8).Buffer,u=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var l=s^s<<1^s<<2^s<<3^s<<4;n[a]=l=l>>>8^255&l^99,r[l]=a;var c=t[a],f=t[c],p=t[f],d=257*t[l]^16843008*l;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,o[0][l]=(d=16843009*p^65537*f^257*c^16843008*a)<<24|d>>>8,o[1][l]=d<<16|d>>>16,o[2][l]=d<<8|d>>>24,o[3][l]=d,0===a?a=s=1:(a=c^t[t[t[p^c]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var a=i[o-1];o%e==0?(a=l.SBOX[(a=a<<8|a>>>24)>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a],a^=u[o/e|0]<<24):e>6&&o%e==4&&(a=l.SBOX[a>>>24]<<24|l.SBOX[a>>>16&255]<<16|l.SBOX[a>>>8&255]<<8|l.SBOX[255&a]),i[o]=i[o-e]^a}for(var s=[],c=0;c<r;c++){var f=r-c,p=i[f-(c%4?0:4)];s[c]=c<4||f<=4?p:l.INV_SUB_MIX[0][l.SBOX[p>>>24]]^l.INV_SUB_MIX[1][l.SBOX[p>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[p>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&p]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=s},a.prototype.encryptBlockRaw=function(t){return t=r(t),o(t,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},a.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=s.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},a.prototype.decryptBlock=function(t){var e=(t=r(t))[1];t[1]=t[3],t[3]=e;var n=o(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),i=s.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},a.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},t.exports.AES=a},function(t,e,n){var r=n(8).Buffer,i=n(139);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),l=r.alloc(0);a>0||o>0;){var c=new i;c.update(l),c.update(t),e&&c.update(e),l=c.digest();var f=0;if(a>0){var p=s.length-a;f=Math.min(a,l.length),l.copy(s,p,0,f),a-=f}if(f<l.length&&o>0){var d=u.length-o,h=Math.min(o,l.length-f);l.copy(u,d,f,f+h),o-=h}}return l.fill(0),{key:s,iv:u}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=e;r.base=n(418),r.short=n(419),r.mont=n(420),r.edwards=n(421)},function(t,e,n){(function(e){function r(t){var n;"object"!=typeof t||e.isBuffer(t)||(n=t.passphrase,t=t.key),"string"==typeof t&&(t=new e(t));var r,l,c=a(t,n),f=c.tag,p=c.data;switch(f){case"CERTIFICATE":l=i.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=i.PublicKey.decode(p,"der")),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=i.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":p=function(t,n){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=o[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,c=t.subjectPrivateKey,f=parseInt(a.split("-")[1],10)/8,p=u.pbkdf2Sync(n,r,i,f),d=s.createDecipheriv(a,p,l),h=[];return h.push(d.update(c)),h.push(d.final()),e.concat(h)}(p=i.EncryptedPrivateKey.decode(p,"der"),n);case"PRIVATE KEY":switch(l=i.PrivateKey.decode(p,"der"),r=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:i.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=i.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return p=i.ECPrivateKey.decode(p,"der"),{curve:p.parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+f)}}var i=n(437),o=n(449),a=n(450),s=n(148),u=n(221);t.exports=r,r.signature=i.signature}).call(e,n(14).Buffer)},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(503),o=n(504),a=n(505),s=n(506),u=n(507);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(87);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(67),i=n(40),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){var r=n(54)(Object,"create");t.exports=r},function(t,e,n){var r=n(527);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(547),i=n(55),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(164),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(100),o=n(620);e.arrayStats=function(t){if(!Array.isArray(t))throw new Error("input must be an array");if(0===t.length)return{numVals:0,numNans:0,numZeros:0,max:void 0,min:void 0};const e=t.length;let n=-1/0,r=1/0,i=0,o=0,a=0;for(let s=0;s<e;s++){const e=t[s];e>n&&(n=e),e<r&&(r=e),0===e&&(i+=1),isNaN(e)?o+=1:isFinite(e)||(a+=1)}const s={numVals:e,numZeros:i,numNans:o,max:n,min:r,numInfs:a};return s.max===-1/0&&(s.max=NaN),s.min===1/0&&(s.min=NaN),s},e.tensorStats=function(t){return r(this,void 0,void 0,function*(){const[e,n,r]=i.tidy(()=>{const e=i.scalar(0,t.dtype);return[t.min(),t.max(),t.equal(e).sum()]});return yield Promise.all([t.data(),e.data(),n.data(),r.data()]).then(([t,e,n,r])=>{const i=t.length;let o=0,a=0;for(let e=0;e<i;e++){const n=t[e];isNaN(n)?o+=1:isFinite(n)||(a+=1)}let s=e[0],u=n[0];return o===i&&(s=NaN,u=NaN),{numVals:i,numZeros:r[0],numNans:o,min:s,max:u,numInfs:a}})})},e.confusionMatrix=function(t,e,n,a){return r(this,void 0,void 0,function*(){o.assert(1===t.rank,"labels must be a 1D tensor"),o.assert(1===e.rank,"predictions must be a 1D tensor"),o.assert(t.size===e.size,"labels and predictions must be the same length"),null!=a&&o.assert(a.size===e.size,"labels and predictions must be the same length");const r=t.cast("int32"),s=e.cast("int32");null==n&&(n=i.tidy(()=>i.maximum(r.max(),s.max()).cast("int32").dataSync()[0]+1));let u=Promise.resolve(null);return null!=a&&(u=a.data()),Promise.all([r.data(),s.data(),u]).then(([t,e,r])=>{const i=Array(n).fill(0);for(let t=0;t<n;t++)i[t]=Array(n).fill(0);for(let n=0;n<t.length;n++){const o=t[n],a=e[n];i[o][a]+=null!=r?r[n]:1}return i})})},e.accuracy=function(t,e){return r(this,void 0,void 0,function*(){o.assertShapesMatch(t.shape,e.shape,"Error computing accuracy.");const n=t.equal(e),r=n.mean(),a=(yield r.data())[0];return i.dispose([n,r]),a})},e.perClassAccuracy=function(t,e,n){return r(this,void 0,void 0,function*(){return o.assert(1===t.rank,"labels must be a 1D tensor"),o.assert(1===e.rank,"predictions must be a 1D tensor"),o.assert(t.size===e.size,"labels and predictions must be the same length"),null==n&&(n=i.tidy(()=>i.maximum(t.max(),e.max()).dataSync()[0]+1)),Promise.all([t.data(),e.data()]).then(([t,e])=>{const r=Array(n).fill(0),i=Array(n).fill(0);for(let n=0;n<t.length;n++){const o=t[n],a=e[n];r[o]+=1,o===a&&(i[o]+=1)}const o=[];for(let t=0;t<r.length;t++)o.push({count:r[t],accuracy:0===r[t]?0:i[t]/r[t]});return o})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(53),i=n(247),o=n(84),a=n(86),s=n(38);e.renderTable=function(t,e,n={}){if(t&&null==t.headers)throw new Error('Data to render must have a "headers" property');if(t&&null==t.values)throw new Error('Data to render must have a "values" property');const l=s.getDrawArea(e),c=Object.assign({},u,n);let f=i.select(l).select("table.tf-table");const p=o.css(Object.assign({},a.tachyons("f6 w-100 mw8 center"),{fontSize:c.fontSize}));if(0===f.size()&&((f=i.select(l).append("table")).attr("class",` ${p} tf-table`),f.append("thead").append("tr"),f.append("tbody")),1!==f.size())throw new Error("Error inserting table");const d=o.css(Object.assign({},a.tachyons("fw6 bb b--black-20 tl pb3 pr3 bg-white"))),h=f.select("thead").select("tr").selectAll("th").data(t.headers),m=h.enter().append("th").attr("class",`${d}`);h.merge(m).html(t=>t),h.exit().remove();const g=r.format(",.4~f"),v=f.select("tbody").selectAll("tr").data(t.values),y=v.enter().append("tr"),b=o.css(Object.assign({},a.tachyons("pa1 bb b--black-20"))),_=v.merge(y).selectAll("td").data(t=>t),w=_.enter().append("td").attr("class",`${b}`);_.merge(w).html(t=>"number"==typeof t?g(t):t),_.exit().remove(),v.exit().remove()};const u={fontSize:14}},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(9),n(170),n(5),n(89)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./app"),i=t("../../config/config"),o=t("../ion"),s=t("./overlay-portal"),u=t("../../platform/platform"),l=t("./app-constants");e.AppRootToken=new n.InjectionToken("USERROOT");var c=function(t){function o(e,n,r,i,o,a,s){var u=t.call(this,o,r,i,"app-root")||this;return u._userCmp=e,u._cfr=n,u._plt=a,s._appRoot=u,u._stopScrollPlugin=window.IonicStopScroll,u}return a(o,t),o.prototype.ngOnInit=function(){var t=this,e=this._cfr.resolveComponentFactory(this._userCmp),n=this._viewport.createComponent(e);this._renderer.setElementClass(n.location.nativeElement,"app-root",!0),n.changeDetectorRef.detectChanges(),this.setElementClass(this._config.get("mode"),!0);var r=this._plt.versions();this._plt.platforms().forEach(function(e){var n="platform-"+e;t.setElementClass(n,!0);var i=r[e];i&&(t.setElementClass(n+=i.major,!0),t.setElementClass(n+"_"+i.minor,!0))}),this._config.getBoolean("hoverCSS",!0)&&this.setElementClass("enable-hover",!0),this._plt.prepareReady()},o.prototype._getPortal=function(t){return t===l.PORTAL_LOADING?this._loadingPortal:t===l.PORTAL_TOAST?this._toastPortal:t===l.PORTAL_MODAL?this._modalPortal:this._overlayPortal},o.prototype._getActivePortal=function(){var t=this._overlayPortal,e=this._modalPortal,n=e.length()>0,r=t.length()>0;if(!n&&!r)return null;if(n&&r){return t.getActive().getZIndex()>e.getActive().getZIndex()?t:e}return n?e:r?t:void 0},o.prototype._disableScroll=function(t){var e=this;if(t)this.stopScroll().then(function(){e._tmr=e._plt.timeout(function(){e.setElementClass("disable-scroll",!0)},32)});else{var n=this._stopScrollPlugin;n&&n.cancel&&n.cancel(),clearTimeout(this._tmr),this.setElementClass("disable-scroll",!1)}},o.prototype.stopScroll=function(){var t=this;return this._stopScrollPlugin?new Promise(function(e){t._stopScrollPlugin.stop(function(){return e(!0)})}):Promise.resolve(!1)},o.decorators=[{type:n.Component,args:[{selector:"ion-app",template:'<div #viewport app-viewport></div><div #modalPortal overlay-portal></div><div #overlayPortal overlay-portal></div><div #loadingPortal class="loading-portal" overlay-portal></div><div #toastPortal class="toast-portal" [overlay-portal]="10000"></div><div class="click-block"></div>'}]}],o.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[e.AppRootToken]}]},{type:n.ComponentFactoryResolver},{type:n.ElementRef},{type:n.Renderer},{type:i.Config},{type:u.Platform},{type:r.App}]},o.propDecorators={_viewport:[{type:n.ViewChild,args:["viewport",{read:n.ViewContainerRef}]}],_modalPortal:[{type:n.ViewChild,args:["modalPortal",{read:s.OverlayPortal}]}],_overlayPortal:[{type:n.ViewChild,args:["overlayPortal",{read:s.OverlayPortal}]}],_loadingPortal:[{type:n.ViewChild,args:["loadingPortal",{read:s.OverlayPortal}]}],_toastPortal:[{type:n.ViewChild,args:["toastPortal",{read:s.OverlayPortal}]}]},o}(o.Ion);e.IonicApp=c})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){return t.segmentPartsLen>e.segmentPartsLen?-1:t.segmentPartsLen<e.segmentPartsLen?1:t.staticLen>e.staticLen?-1:t.staticLen<e.staticLen?1:t.dataLen<e.dataLen?-1:t.dataLen>e.dataLen?1:0}function r(t){return t.map(function(t){var e=t.split("/");return"nav"===e[0]?{type:"nav",navId:e[1],niceId:e[1],secondaryId:null,segmentPieces:e.splice(2)}:"tabs"===e[0]?{type:"tabs",navId:e[1],niceId:e[1],secondaryId:e[2],segmentPieces:e.splice(3)}:{type:null,navId:null,niceId:null,secondaryId:null,segmentPieces:e}})}function i(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++)0===r||"nav"!==e[r]&&"tabs"!==e[r]||n.push(r);n.push(e.length);var i=[],o=0,a=[];for(r=0;r<e.length;r++)r>=n[o]&&(i.push(a.join("/")),a=[],o++),a.push(e[r]);return i.push(a.join("/")),i}function o(t,e,n){return s(t,a(e,n))}function a(t,e){return l(r(i(t)),e)}function s(t,e){for(var n=[],r=0;r<e.length;r++)for(var i=u(e[r].navGroup,t),o=0,a=e[r].segments;o<a.length;o++){var s=a[o];if(1===i.length)n.push(f(s,i[0])),i=i[0].getActiveChildNavs();else{if(!(i.length>1))break;n.push(f(s,i[i.length-1])),i=i[i.length-1].getActiveChildNavs()}}return n}function u(t,e){if(t.navId){var n=e.getNavByIdOrName(t.navId);return n?[n]:[]}return e.getRootNavs()}function l(t,e){for(var n=[],r=new Set,i=0,o=t;i<o.length;i++){for(var a=o[i],s=[],u=a.segmentPieces.concat([]),l=u.length;l>=0;l--){for(var f=!1,p=0;p<l;p++){for(var d=l-p-1,h=l,m=u.slice(d,h),g=0,v=e;g<v.length;g++){var y=v[g];if(!r.has(y.name)){var b=c(m,y);if(b){l=d+1,r.add(y.name),f=!0,s.push(b);for(var _=d;_<h;_++)u[_]=null;break}}}if(f)break}!f&&u[l-1]&&s.push({id:null,name:null,secondaryId:u[l-1],component:null,loadChildren:null,data:null,defaultHistory:null})}var w=s.reverse();for(l=0;l<w.length;l++)w[l].secondaryId&&!w[l].id&&l+1<=w.length-1&&(w[l+1].secondaryId=w[l].secondaryId,w[l]=null);var x=s.filter(function(t){return!!t});a.secondaryId&&s.length&&(x[0].secondaryId=a.secondaryId),n.push({navGroup:a,segments:x})}return n}function c(t,n){if(n.segmentPartsLen!==t.length)return null;for(var r=0;r<t.length;r++)if(!e.isPartMatch(t[r],n.segmentParts[r]))return null;return{id:t.join("/"),name:n.name,component:n.component,loadChildren:n.loadChildren,data:e.createMatchedData(t,n),defaultHistory:n.defaultHistory}}function f(t,e){var n=Object.assign({},t);return n.type=e.getType(),n.navId=e.name||e.id,n.secondaryId=t.secondaryId,n}Object.defineProperty(e,"__esModule",{value:!0});var p=t("@angular/core"),d=t("../util/util"),h=function(){function t(t,n){this._app=t,this.links=n&&d.isArray(n.links)?e.normalizeLinks(n.links):[]}return t.prototype.parse=function(t){return"/"===t.charAt(0)&&(t=t.substr(1)),t=t.split("?")[0].split("#")[0],o(this._app,t,this.links)},t.prototype.createSegmentFromName=function(t,e){var n=this.getLinkFromName(e);return n?this._createSegment(this._app,t,n,null):null},t.prototype.getLinkFromName=function(t){return this.links.find(function(e){return e.component===t||e.name===t})},t.prototype.serialize=function(t){if(!t||!t.length)return"/";return t.map(function(t){return"tabs"===t.type?t.requiresExplicitNavPrefix?"/"+t.type+"/"+t.navId+"/"+t.secondaryId+"/"+t.id:"/"+t.secondaryId+"/"+t.id:t.requiresExplicitNavPrefix?"/"+t.type+"/"+t.navId+"/"+t.id:"/"+t.id}).join("")},t.prototype.serializeComponent=function(t,n,r){if(n){var i=e.findLinkByComponentData(this.links,n,r);if(i)return this._createSegment(this._app,t,i,r)}return null},t.prototype._createSegment=function(t,e,n,r){var i=n.segmentParts;if(d.isPresent(r)){i=i.slice();var o=Object.keys(r),a=o.length;if(a)for(var s=0;s<i.length;s++)if(":"===i[s].charAt(0))for(var u=0;u<a;u++)if(i[s]===":"+o[u]){i[s]=encodeURIComponent(r[o[u]]);break}}var l=!0;return l=e.parent?e.parent&&e.parent.getAllChildNavs().length>1:t.getRootNavById(e.id)&&t.getRootNavs().length>1,{id:i.join("/"),name:n.name,component:n.component,loadChildren:n.loadChildren,data:r,defaultHistory:n.defaultHistory,navId:e.name||e.id,type:e.getType(),secondaryId:e.getSecondaryIdentifier(),requiresExplicitNavPrefix:l}},t}();e.UrlSerializer=h,e.formatUrlPart=function(t){for(t=(t=t.replace(m,"-")).charAt(0).toLowerCase()+t.substring(1).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});t.indexOf("--")>-1;)t=t.replace("--","-");return"-"===t.charAt(0)&&(t=t.substring(1)),"-"===t.substring(t.length-1)&&(t=t.substring(0,t.length-1)),encodeURIComponent(t)},e.isPartMatch=function(t,e){return!(!d.isPresent(t)||!d.isPresent(e))&&(":"===e.charAt(0)||t===e)},e.createMatchedData=function(t,e){for(var n=null,r=0;r<e.segmentPartsLen;r++)":"===e.segmentParts[r].charAt(0)&&((n=n||{})[e.segmentParts[r].substring(1)]=decodeURIComponent(t[r]));return n},e.findLinkByComponentData=function(t,e,n){for(var r=null,i=-1,o=0;o<t.length;o++){var a=t[o];if(a.component===e){var s=0;if(n)for(var u=Object.keys(n),l=0;l<u.length;l++)d.isPresent(a.dataKeys[u[l]])&&s++;else if(a.dataLen)continue;s>=i&&(r=a,i=s)}}return r},e.normalizeLinks=function(t){for(var e=0,r=t.length;e<r;e++){var i=t[e];d.isBlank(i.segment)&&(i.segment=i.name),i.dataKeys={},i.segmentParts=i.segment.split("/"),i.segmentPartsLen=i.segmentParts.length,i.staticLen=i.dataLen=0;for(var o=!0,a=0;a<i.segmentPartsLen;a++)":"===i.segmentParts[a].charAt(0)?(i.dataLen++,o=!1,i.dataKeys[i.segmentParts[a].substring(1)]=!0):o&&i.staticLen++}return t.sort(n)};var m=/\s+|\?|\!|\$|\,|\.|\+|\"|\'|\*|\^|\||\/|\\|\[|\]|#|%|`|>|<|;|:|@|&|=/g;e.DeepLinkConfigToken=new p.InjectionToken("USERLINKS"),e.setupUrlSerializer=function(t,e){return new h(t,e)},e.navGroupStringtoObjects=r,e.urlToNavGroupStrings=i,e.convertUrlToSegments=o,e.convertUrlToDehydratedSegments=a,e.hydrateSegmentsWithNav=s,e.getNavFromNavGroup=u,e.getSegmentsFromNavGroups=l,e.getSegmentsFromUrlPieces=c,e.hydrateSegment=f,e.getNonHydratedSegmentIfLinkAndUrlMatch=function(t,n){for(var r=!0,i=0;i<t.length;i++)if(!e.isPartMatch(t[i],n.segmentParts[i])){r=!1;break}return r?{id:n.segmentParts.join("/"),name:n.name,component:n.component,loadChildren:n.loadChildren,data:e.createMatchedData(t,n),defaultHistory:n.defaultHistory}:null}})},,,,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(3),n(12),n(58),n(645),n(5),n(19),n(45)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=t("../../config/config"),o=t("../../platform/dom-controller"),a=t("../../tap-click/haptic"),s=t("./picker-options"),u=t("../../platform/platform"),l=t("../../util/dom"),c=t("../../gestures/ui-event-manager"),f=function(){function t(t,e,r,i,o,a,s){this._plt=e,this.elementRef=r,this._zone=i,this._haptic=o,this.y=0,this.pos=[],this.startY=null,this.ionChange=new n.EventEmitter,this.events=new c.UIEventManager(a),this.rotateFactor=t.getNumber("pickerRotateFactor",0),this.scaleFactor=t.getNumber("pickerScaleFactor",1),this.decelerateFunc=this.decelerate.bind(this),this.debouncer=s.debouncer()}return t.prototype.ngAfterViewInit=function(){var t=this.colEle.nativeElement;this.colHeight=t.clientHeight,this.optHeight=t.firstElementChild?t.firstElementChild.clientHeight:0,this.events.pointerEvents({element:this.elementRef.nativeElement,pointerDown:this.pointerStart.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerEnd.bind(this),capture:!0,zone:!1})},t.prototype.ngOnDestroy=function(){this._plt.cancelRaf(this.rafId),this.events.destroy()},t.prototype.pointerStart=function(t){this._haptic.gestureSelectionStart(),t.preventDefault(),this._plt.cancelRaf(this.rafId),this.startY=l.pointerCoord(t).y,this.velocity=0,this.pos.length=0,this.pos.push(this.startY,Date.now());for(var e=this.col.options,n=e.length-1,r=0,i=0;i<e.length;i++)e[i].disabled||(n=Math.min(n,i),r=Math.max(r,i));return this.minY=n*this.optHeight*-1,this.maxY=r*this.optHeight*-1,!0},t.prototype.pointerMove=function(t){var e=this;t.preventDefault(),t.stopPropagation();var n=l.pointerCoord(t).y;this.pos.push(n,Date.now()),this.debouncer.write(function(){if(null!==e.startY){var t=e.y+(n-e.startY);t>e.minY?(t=Math.pow(t,.8),e.bounceFrom=t):t<e.maxY?(t+=Math.pow(e.maxY-t,.9),e.bounceFrom=t):e.bounceFrom=0,e.update(t,0,!1,!1);var r=Math.max(Math.abs(Math.round(t/e.optHeight)),0);r!==e.lastTempIndex&&(e._haptic.gestureSelectionChanged(),e.lastTempIndex=r)}})},t.prototype.pointerEnd=function(t){if(t.preventDefault(),this.debouncer.cancel(),null!==this.startY)if(this.velocity=0,this.bounceFrom>0)this.update(this.minY,100,!0,!0);else if(this.bounceFrom<0)this.update(this.maxY,100,!0,!0);else{var e=l.pointerCoord(t).y;this.pos.push(e,Date.now());for(var n=this.pos.length-1,i=n,o=Date.now()-100,a=n;a>0&&this.pos[a]>o;a-=2)i=a;if(i!==n){this.velocity=r.clamp(-s.MAX_PICKER_SPEED,(this.pos[i-1]-this.pos[n-1])/(this.pos[n]-this.pos[i])*s.FRAME_MS,s.MAX_PICKER_SPEED)}if(Math.abs(e-this.startY)>3){this.update(this.y+(e-this.startY),0,!0,!0)}this.startY=null,this.decelerate()}},t.prototype.decelerate=function(){var t=0;if(isNaN(this.y)||!this.optHeight)this.update(t,0,!0,!0),this._haptic.gestureSelectionEnd();else if(Math.abs(this.velocity)>0){this.velocity*=s.DECELERATION_FRICTION,this.velocity=this.velocity>0?Math.max(this.velocity,1):Math.min(this.velocity,-1),(t=Math.round(this.y-this.velocity))>this.minY?(t=this.minY,this.velocity=0):t<this.maxY&&(t=this.maxY,this.velocity=0);var e=t%this.optHeight!=0||Math.abs(this.velocity)>1;this.update(t,0,!0,!e),e&&(this.rafId=this._plt.raf(this.decelerateFunc))}else if(this.y%this.optHeight!=0){var n=Math.abs(this.y%this.optHeight);this.velocity=n>this.optHeight/2?1:-1,this._haptic.gestureSelectionEnd(),this.decelerate()}var r=Math.max(Math.abs(Math.round(t/this.optHeight)),0);r!==this.lastTempIndex&&this._haptic.gestureSelectionChanged(),this.lastTempIndex=r},t.prototype.optClick=function(t,e){this.velocity||(t.preventDefault(),t.stopPropagation(),this.setSelected(e,150))},t.prototype.setSelected=function(t,e){var n=t>-1?t*this.optHeight*-1:0;this._plt.cancelRaf(this.rafId),this.velocity=0,this.update(n,e,!0,!0)},t.prototype.update=function(t,e,n,r){t=Math.round(t);var i,o,a,u,l,c,f,p,d,h,m=this.colEle.nativeElement.children,g=m.length,v=this.col.selectedIndex=Math.min(Math.max(Math.round(-t/this.optHeight),0),g-1),y=0===e?null:e+"ms",b="scale("+this.scaleFactor+")";for(i=0;i<g;i++)o=m[i],a=this.col.options[i],u=i*this.optHeight+t,l=!0,d="",0!==this.rotateFactor?(p=u*this.rotateFactor,Math.abs(p)>90?l=!1:(0,c=0,f=90,d="rotateX("+p+"deg) ")):(0,f=0,c=u,Math.abs(c)>170&&(l=!1)),h=v===i,l?(d+="translate3d(0px,"+c+"px,"+f+"px) ",1===this.scaleFactor||h||(d+=b)):d="translate3d(-9999px,0px,0px)",e!==a._dur&&(a._dur=e,o.style[this._plt.Css.transitionDuration]=y),d!==a._trans&&(a._trans=d,o.style[this._plt.Css.transform]=d),h!==a._selected&&(a._selected=h,h?o.classList.add(s.PICKER_OPT_SELECTED):o.classList.remove(s.PICKER_OPT_SELECTED));if(this.col.prevSelected=v,n&&(this.y=t),r)if(void 0===this.lastIndex)this.lastIndex=this.col.selectedIndex;else if(this.lastIndex!==this.col.selectedIndex){this.lastIndex=this.col.selectedIndex;var _=this.ionChange;_.observers.length>0&&this._zone.run(_.emit.bind(_,this.col.options[this.col.selectedIndex]))}},t.prototype.refresh=function(){for(var t=this.col.options.length-1,e=0,n=this.col.options,i=0;i<n.length;i++)n[i].disabled||(t=Math.min(t,i),e=Math.max(e,i));var o=r.clamp(t,this.col.selectedIndex,e);if(this.col.prevSelected!==o){var a=o*this.optHeight*-1;this._plt.cancelRaf(this.rafId),this.velocity=0,this.update(a,150,!0,!1)}},t.decorators=[{type:n.Component,args:[{selector:".picker-col",template:'<div *ngIf="col.prefix" class="picker-prefix" [style.width]="col.prefixWidth">{{col.prefix}}</div><div class="picker-opts" #colEle [style.max-width]="col.optionsWidth"><button *ngFor="let o of col.options; let i=index"[class.picker-opt-disabled]="o.disabled" class="picker-opt" disable-activated (click)="optClick($event, i)">{{o.text}}</button></div><div *ngIf="col.suffix" class="picker-suffix" [style.width]="col.suffixWidth">{{col.suffix}}</div>',host:{"[style.max-width]":"col.columnWidth","[class.picker-opts-left]":'col.align=="left"',"[class.picker-opts-right]":'col.align=="right"'}}]}],t.ctorParameters=function(){return[{type:i.Config},{type:u.Platform},{type:n.ElementRef},{type:n.NgZone},{type:a.Haptic},{type:u.Platform},{type:o.DomController}]},t.propDecorators={colEle:[{type:n.ViewChild,args:["colEle"]}],col:[{type:n.Input}],ionChange:[{type:n.Output}]},t}();e.PickerColumnCmp=f})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,e,n,r,"label")||this;return u.type=""===i?"floating":""===o?"stacked":""===a?"fixed":""===s?"inset":null,u}return a(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,t&&this.setElementAttribute("id",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.getNativeElement().textContent||""},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Directive,args:[{selector:"ion-label"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer},{type:void 0,decorators:[{type:n.Attribute,args:["floating"]}]},{type:void 0,decorators:[{type:n.Attribute,args:["stacked"]}]},{type:void 0,decorators:[{type:n.Attribute,args:["fixed"]}]},{type:void 0,decorators:[{type:n.Attribute,args:["inset"]}]}]},e.propDecorators={id:[{type:n.Input}]},e}(t("../ion").Ion);e.Label=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(35),n(12),n(4),n(649),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../content/content"),i=t("../../platform/dom-controller"),o=t("../../util/util"),a=t("./item-reorder-gesture"),s=t("../../platform/platform"),u=function(){function t(t,e){this.from=t,this.to=e}return t.prototype.applyTo=function(t){o.reorderArray(t,this)},t}();e.ReorderIndexes=u;var l=function(){function t(t,e,r,i,o,a){this._plt=t,this._dom=e,this._rendered=i,this._zone=o,this._content=a,this._enableReorder=!1,this._visibleReorder=!1,this._isStart=!1,this._lastToIndex=-1,this.ionItemReorder=new n.EventEmitter,this._element=r.nativeElement}return Object.defineProperty(t.prototype,"side",{set:function(t){this._isStart="start"===t},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._element=null,this._reorderGesture&&this._reorderGesture.destroy()},Object.defineProperty(t.prototype,"reorder",{get:function(){return this._enableReorder},set:function(t){var e=this,n=o.isTrueProperty(t);!n&&this._reorderGesture?(this._reorderGesture.destroy(),this._reorderGesture=null,this._visibleReorder=!1,setTimeout(function(){return e._enableReorder=!1},400)):n&&!this._reorderGesture&&(this._reorderGesture=new a.ItemReorderGesture(this._plt,this),this._enableReorder=!0,this._dom.write(function(){e._zone.run(function(){e._visibleReorder=!0})},16))},enumerable:!0,configurable:!0}),t.prototype._reorderPrepare=function(){for(var t=this._element,e=t.children,n=0,r=e.length;n<r;n++){var i=e[n];i.$ionIndex=n,i.$ionReorderList=t}},t.prototype._reorderStart=function(){this.setElementClass("reorder-list-active",!0)},t.prototype._reorderEmit=function(t,e){var n=this;this._reorderReset(),t!==e&&this._zone.run(function(){var r=new u(t,e);n.ionItemReorder.emit(r)})},t.prototype._scrollContent=function(t){var e=this._content.scrollTop+t;return 0!==t&&this._content.scrollTo(0,e,0),e},t.prototype._reorderReset=function(){var t=this._element.children,e=t.length;this.setElementClass("reorder-list-active",!1);for(var n=this._plt.Css.transform,r=0;r<e;r++)t[r].style[n]="";this._lastToIndex=-1},t.prototype._reorderMove=function(t,e,n){-1===this._lastToIndex&&(this._lastToIndex=t);var r=this._lastToIndex;this._lastToIndex=e;var i=this._element.children,o=this._plt.Css.transform;if(e>=r)for(var a=r;a<=e;a++)a!==t&&(i[a].style[o]=a>t?"translateY("+-n+"px)":"");if(e<=r)for(a=e;a<=r;a++)a!==t&&(i[a].style[o]=a<t?"translateY("+n+"px)":"")},t.prototype.setElementClass=function(t,e){this._rendered.setElementClass(this._element,t,e)},t.prototype.getNativeElement=function(){return this._element},t.decorators=[{type:n.Directive,args:[{selector:"ion-list[reorder],ion-item-group[reorder]",host:{"[class.reorder-enabled]":"_enableReorder","[class.reorder-visible]":"_visibleReorder","[class.reorder-side-start]":"_isStart"}}]}],t.ctorParameters=function(){return[{type:s.Platform},{type:i.DomController},{type:n.ElementRef},{type:n.Renderer},{type:n.NgZone},{type:r.Content,decorators:[{type:n.Optional}]}]},t.propDecorators={ionItemReorder:[{type:n.Output}],side:[{type:n.Input,args:["side"]}],reorder:[{type:n.Input}]},t}();e.ItemReorder=l})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(292),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../list/list-header"),o=t("../../util/util"),a=function(){function t(t,e,r){this._renderer=t,this._elementRef=e,this._cd=r,this._disabled=!1,this._btns=[],this._ids=-1,this._init=!1,this.ionChange=new n.EventEmitter,this.id=++s}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=o.isTrueProperty(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this._btns.find(function(t){return t.checked});t&&this._setActive(t)},t.prototype.writeValue=function(t){this.value=t,this._init&&(this._update(),this.onTouched(),this.ionChange.emit(t)),this._init=!0},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(n){t(n),e.value=n,e._update(),e.onTouched(),e.ionChange.emit(n)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype._update=function(){var t=this,e=!1;this._btns.forEach(function(n){n.checked=o.isCheckedProperty(t.value,n.value)&&!e,n.checked&&(t._setActive(n),e=!0)})},t.prototype._setActive=function(t){this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-activedescendant",t.id)},t.prototype.add=function(t){var e=this;return this._btns.push(t),t.ionSelect.subscribe(function(t){e.onChange(t)}),this.id+"-"+ ++this._ids},t.prototype.remove=function(t){var e=this._btns.indexOf(t);e>-1&&(t.value===this.value&&(this.value=null),this._btns.splice(e,1))},Object.defineProperty(t.prototype,"_header",{set:function(t){t&&(t.id||(t.id="rg-hdr-"+this.id),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-describedby",t.id))},enumerable:!0,configurable:!0}),t.prototype.onChange=function(t){this.value=t,this._update(),this.onTouched(),this.ionChange.emit(t),this._cd.detectChanges()},t.prototype.onTouched=function(){},t.prototype.setDisabledState=function(t){this.disabled=t},t.decorators=[{type:n.Directive,args:[{selector:"[radio-group]",host:{role:"radiogroup"},providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:t,multi:!0}]}]}],t.ctorParameters=function(){return[{type:n.Renderer},{type:n.ElementRef},{type:n.ChangeDetectorRef}]},t.propDecorators={disabled:[{type:n.Input}],ionChange:[{type:n.Output}],_header:[{type:n.ContentChild,args:[i.ListHeader]}]},t}();e.RadioGroup=a;var s=-1})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(24),n(12),n(10),n(31),n(171),n(5),n(46),n(6),n(75)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("../../navigation/deep-linker"),s=t("../../platform/dom-controller"),u=t("../../gestures/gesture-controller"),l=t("../../navigation/nav-controller"),c=t("../../navigation/nav-controller-base"),f=t("../../platform/platform"),p=t("../../transitions/transition-controller"),d=t("../../navigation/view-controller"),h=t("../split-pane/split-pane"),m=function(t){function e(e,n,r,i,o,a,s,u,l,c,f,p,d,h){var m=t.call(this,n,r,i,o,a,s,u,l,c,f,p,d,h)||this;return m._hasInit=!1,e&&e._setContent(m),n?n.registerChildNav(m):e&&e.getNav()?(m.parent=e.getNav(),m.parent.registerChildNav(m)):r&&!r.getRootNavById(m.id)&&r.registerRootNav(m),m}return a(e,t),Object.defineProperty(e.prototype,"_vp",{set:function(t){this.setViewport(t)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;this._hasInit=!0;var e=this._linker.getSegmentByNavIdOrName(this.id,this.name);if(e&&(e.component||e.loadChildren))return this._linker.initViews(e).then(function(e){return t.setPages(e,null,null)});if(this._root){var n=!e;return this.push(this._root,this.rootParams,{isNavRoot:this._app.getRootNavById(this.id)===this,updateUrl:n},null)}},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(t){this._root=t,this._hasInit&&this.setRoot(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.initPane=function(){return this._elementRef.nativeElement.hasAttribute("main")},e.prototype.paneChanged=function(t){t&&this.resize()},e.prototype.goToRoot=function(t){return this.setRoot(this._root,this.rootParams,t,null)},e.prototype.getType=function(){return"nav"},e.prototype.getSecondaryIdentifier=function(){return null},e.decorators=[{type:n.Component,args:[{selector:"ion-nav",template:'<div #viewport nav-viewport></div><div class="nav-decor"></div>',encapsulation:n.ViewEncapsulation.None,providers:[{provide:h.RootNode,useExisting:n.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:d.ViewController,decorators:[{type:n.Optional}]},{type:l.NavController,decorators:[{type:n.Optional}]},{type:r.App},{type:i.Config},{type:f.Platform},{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer},{type:n.ComponentFactoryResolver},{type:u.GestureController},{type:p.TransitionController},{type:o.DeepLinker,decorators:[{type:n.Optional}]},{type:s.DomController},{type:n.ErrorHandler}]},e.propDecorators={_vp:[{type:n.ViewChild,args:["viewport",{read:n.ViewContainerRef}]}],root:[{type:n.Input}],rootParams:[{type:n.Input}],name:[{type:n.Input}]},e}(c.NavControllerBase);e.Nav=m})},,,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32),n(193),n(130),n(194),n(331),n(131),n(196),n(195),n(332)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){var n=t.autoplay,r=t._slides[t._activeIndex];r.hasAttribute("data-swiper-autoplay")&&(n=r.getAttribute("data-swiper-autoplay")||t.autoplay),t._autoplayTimeoutId=e.timeout(function(){t._zone.run(function(){t.loop?(l(t,e),d(t,e,!0,void 0,!0),t.ionSlideAutoplay.emit(t)):t._isEnd?t.autoplayStopOnLast?i(t):(c(t,e,0),t.ionSlideAutoplay.emit(t)):(d(t,e,!0,void 0,!0),t.ionSlideAutoplay.emit(t))})},n)}function r(t,e){return void 0===t._autoplayTimeoutId&&(!(!t.autoplay||t._autoplaying)&&(t._autoplaying=!0,t._zone.run(function(){t.ionSlideAutoplayStart.emit(t)}),void n(t,e)))}function i(t){t._autoplayTimeoutId&&(t._autoplayTimeoutId&&clearTimeout(t._autoplayTimeoutId),t._autoplaying=!1,t._autoplayTimeoutId=void 0,t._zone.run(function(){t.ionSlideAutoplayStop.emit(t)}))}function o(t,e,r){t._autoplayPaused||(t._autoplayTimeoutId&&clearTimeout(t._autoplayTimeoutId),t._autoplayPaused=!0,0===r?(t._autoplayPaused=!1,n(t,e)):e.transitionEnd(t._wrapper,function(){t&&(t._autoplayPaused=!1,t._autoplaying?n(t,e):i(t))}))}function a(t){var e,n=[],r=0;if("auto"!==t.slidesPerView&&t.slidesPerView>1)for(e=0;e<Math.ceil(t.slidesPerView);e++){var i=t._activeIndex+e;if(i>t._slides.length)break;n.push(t._slides[i])}else n.push(t._slides[t._activeIndex]);for(e=0;e<n.length;e++)if(void 0!==n[e]){var o=n[e].offsetHeight;r=o>r?o:r}r&&(t._wrapper.style.height=r+"px")}function s(t,e){var n,r,i=t.container;if(n=void 0!==t.width?t.width:i.clientWidth,r=void 0!==t.renderedHeight?t.renderedHeight:i.clientHeight,!(0===n&&h.isHorizontal(t)||0===r&&!h.isHorizontal(t))){var o=e.getElementComputedStyle(i);n=n-parseInt(o.paddingLeft,10)-parseInt(o.paddingRight,10),r=r-parseInt(o.paddingTop,10)-parseInt(o.paddingBottom,10),t.renderedWidth=n,t.renderedHeight=r,t._renderedSize=h.isHorizontal(t)?n:r}}function u(t,e){t._slides=t._wrapper.querySelectorAll("."+h.CLS.slide),t._snapGrid=[],t._slidesGrid=[],t._slidesSizesGrid=[];var n,r=t.spaceBetween,i=-t.slidesOffsetBefore,o=0,a=0;if(void 0!==t._renderedSize){"string"==typeof r&&r.indexOf("%")>=0&&(r=parseFloat(r.replace("%",""))/100*t._renderedSize),t._virtualSize=-r,h.inlineStyle(t._slides,t._rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var s;t.slidesPerColumn>1&&(s=Math.floor(t._slides.length/t.slidesPerColumn)===t._slides.length/t.slidesPerColumn?t._slides.length:Math.ceil(t._slides.length/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(s=Math.max(s,t.slidesPerView*t.slidesPerColumn)));var u,l=t.slidesPerColumn,c=s/l,f=c-(t.slidesPerColumn*c-t._slides.length);for(n=0;n<t._slides.length;n++){u=0;var p=t._slides[n];if(t.slidesPerColumn>1){var d,m,g;"column"===t.slidesPerColumnFill?(g=n-(m=Math.floor(n/l))*l,(m>f||m===f&&g===l-1)&&++g>=l&&(g=0,m++),h.inlineStyle(p,{"-webkit-box-ordinal-group":d=m+g*s/l,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):m=n-(g=Math.floor(n/c))*c;var v=0!==g&&t.spaceBetween&&t.spaceBetween+"px",y={};h.isHorizontal(t)?y.marginTop=v:y.marginLeft=v,h.inlineStyle(p,y),p.setAttribute("data-swiper-column",m),p.setAttribute("data-swiper-row",g)}if("none"!==p.style.display){if("auto"===t.slidesPerView){var b=e.getElementComputedStyle(p);u=h.isHorizontal(t)?p.offsetWidth+parseFloat(b.marginRight)+parseFloat(b.marginLeft):p.offsetHeight+parseFloat(b.marginTop)+parseFloat(b.marginBottom),t.roundLengths&&(u=h.round(u))}else u=(t._renderedSize-(t.slidesPerView-1)*r)/t.slidesPerView,t.roundLengths&&(u=h.round(u)),h.isHorizontal(t)?t._slides[n].style.width=u+"px":t._slides[n].style.height=u+"px";t._slides[n].swiperSlideSize=u,t._slidesSizesGrid.push(u),t.centeredSlides?(i=i+u/2+o/2+r,0===n&&(i=i-t._renderedSize/2-r),Math.abs(i)<.001&&(i=0),a%t.slidesPerGroup==0&&t._snapGrid.push(i),t._slidesGrid.push(i)):(a%t.slidesPerGroup==0&&t._snapGrid.push(i),t._slidesGrid.push(i),i=i+u+r),t._virtualSize+=u+r,o=u,a++}}t._virtualSize=Math.max(t._virtualSize,t._renderedSize)+t.slidesOffsetAfter;var _;if(!t._rtl||"slide"!==t.effect&&"coverflow"!==t.effect||h.inlineStyle(t._wrapper,{width:t._virtualSize+t.spaceBetween+"px"}),t.setWrapperSize&&(h.isHorizontal(t)?h.inlineStyle(t._wrapper,{width:t._virtualSize+t.spaceBetween+"px"}):h.inlineStyle(t._wrapper,{height:t._virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(t._virtualSize=(u+t.spaceBetween)*s,t._virtualSize=Math.ceil(t._virtualSize/t.slidesPerColumn)-t.spaceBetween,h.isHorizontal(t)?h.inlineStyle(t._wrapper,{width:t._virtualSize+t.spaceBetween+"px"}):h.inlineStyle(t._wrapper,{height:t._virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){for(_=[],n=0;n<t._snapGrid.length;n++)t._snapGrid[n]<t._virtualSize+t._snapGrid[0]&&_.push(t._snapGrid[n]);t._snapGrid=_}if(!t.centeredSlides){for(_=[],n=0;n<t._snapGrid.length;n++)t._snapGrid[n]<=t._virtualSize-t._renderedSize&&_.push(t._snapGrid[n]);t._snapGrid=_,Math.floor(t._virtualSize-t._renderedSize)-Math.floor(t._snapGrid[t._snapGrid.length-1])>1&&t._snapGrid.push(t._virtualSize-t._renderedSize)}0===t._snapGrid.length&&(t._snapGrid=[0]),0!==t.spaceBetween&&(h.isHorizontal(t)?h.inlineStyle(t._slides,t._rtl?{marginLeft:r+"px"}:{marginRight:r+"px"}):h.inlineStyle(t._slides,{marginBottom:r+"px"})),t.watchSlidesProgress&&h.updateSlidesOffset(t)}}function l(t,e){var n;t._activeIndex<t.loopedSlides?(n=t._slides.length-3*t.loopedSlides+t._activeIndex,c(t,e,n+=t.loopedSlides,0,!1,!0)):("auto"===t.slidesPerView&&t._activeIndex>=2*t.loopedSlides||t._activeIndex>t._slides.length-2*t.slidesPerView)&&(n=-t._slides.length+t._activeIndex+t.loopedSlides,c(t,e,n+=t.loopedSlides,0,!1,!0))}function c(t,e,n,r,s,u){void 0===s&&(s=!0),void 0===n&&(n=0),n<0&&(n=0),t._snapIndex=Math.floor(n/t.slidesPerGroup),t._snapIndex>=t._snapGrid.length&&(t._snapIndex=t._snapGrid.length-1);var l=-t._snapGrid[t._snapIndex];return t.autoplay&&t._autoplaying&&(u||!t.autoplayDisableOnInteraction?o(t,e,r):i(t)),g.updateProgress(t,l),!(!t._allowSwipeToNext&&l<t._translate&&l<h.minTranslate(t))&&(!(!t._allowSwipeToPrev&&l>t._translate&&l>h.maxTranslate(t)&&(t._activeIndex||0)!==n)&&(void 0===r&&(r=t.speed),t._previousIndex=t._activeIndex||0,t._activeIndex=n,b.updateRealIndex(t),t._rtl&&-l===t._translate||!t._rtl&&l===t._translate?(t.autoHeight&&a(t),v.updateClasses(t),"slide"!==t.effect&&m.setWrapperTranslate(t,e,l),!1):(v.updateClasses(t),f(t,s),0===r?(m.setWrapperTranslate(t,e,l),m.setWrapperTransition(t,e,0),p(t,e,s)):(m.setWrapperTranslate(t,e,l),m.setWrapperTransition(t,e,r),t._animating||(t._animating=!0,e.transitionEnd(t._wrapper,function(){t&&p(t,e,s)}))),!0)))}function f(t,e){void 0===e&&(e=!0),t.autoHeight&&a(t),e&&t._zone.run(function(){t.ionSlideTransitionStart.emit(t),t._activeIndex!==t._previousIndex&&(t.ionSlideWillChange.emit(t),t._activeIndex>t._previousIndex?t.ionSlideNextStart.emit(t):t.ionSlidePrevStart.emit(t))})}function p(t,e,n){void 0===n&&(n=!0),t._animating=!1,m.setWrapperTransition(t,e,0),n&&t._zone.run(function(){t.ionSlideTransitionEnd.emit(t),t._activeIndex!==t._previousIndex&&(t.ionSlideDidChange.emit(t),t._activeIndex>t._previousIndex?t.ionSlideNextEnd.emit(t):t.ionSlidePrevEnd.emit(t))})}function d(t,e,n,r,i){if(t.loop)return!t._animating&&(l(t,e),c(t,e,t._activeIndex+t.slidesPerGroup,r,n,i));var o=t._activeIndex+t.slidesPerGroup;return o<t._slides.length&&c(t,e,o,r,n,i)}Object.defineProperty(e,"__esModule",{value:!0});var h=t("./swiper-utils"),m=t("./swiper-transition"),g=t("./swiper-progress"),v=t("./swiper-classes"),y=t("./swiper-parallax"),b=t("./swiper-index"),_=t("./swiper-effects"),w=t("./swiper-pagination"),x=t("./swiper-zoom");e.initSwiper=function(t,e){if(t._classNames=[],t.container){t.container.swiper=t;var n=h.CLS.containerModifier;t._classNames.push(n+t.direction),t.freeMode&&t._classNames.push(n+"free-mode"),t.autoHeight&&t._classNames.push(n+"autoheight"),(t.parallax||t.watchSlidesVisibility)&&(t.watchSlidesProgress=!0),t.touchReleaseOnEdges&&(t.resistanceRatio=0);var i=t.effect;["cube","coverflow","flip"].indexOf(i)>=0&&(t.watchSlidesProgress=!0,t._classNames.push(n+"3d")),"slide"!==i&&t._classNames.push(n+i),"cube"===i&&(t.resistanceRatio=0,t.slidesPerView=1,t.slidesPerColumn=1,t.slidesPerGroup=1,t.centeredSlides=!1,t.spaceBetween=0,t.virtualTranslate=!0,t.setWrapperSize=!1),"fade"!==i&&"flip"!==i||(t.slidesPerView=1,t.slidesPerColumn=1,t.slidesPerGroup=1,t.watchSlidesProgress=!0,t.spaceBetween=0,t.setWrapperSize=!1,t.virtualTranslate=!0),t._wrapper=t.container.querySelector("."+h.CLS.wrapper),t.paginationType&&(t._paginationContainer=t.container.querySelector(".swiper-pagination"),"bullets"===t.paginationType&&t._paginationContainer.classList.add(h.CLS.paginationModifier+"clickable"),t._paginationContainer.classList.add(h.CLS.paginationModifier+t.paginationType)),t._rtl=h.isHorizontal(t)&&("rtl"===t.container.dir.toLowerCase()||"rtl"===t.container.style.direction),t._rtl&&t._classNames.push(n+"rtl"),t.slidesPerColumn>1&&t._classNames.push(n+"multirow"),e.is("android")&&t._classNames.push(n+"android"),t._classNames.forEach(function(e){t.container.classList.add(e)}),t._translate=0,t.progress=0,t.velocity=0,t._autoplayTimeoutId=void 0,t._autoplaying=!1,t._autoplayPaused=!1,t._allowClick=!0,t._animating=!1,t._touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},t.loop&&function(t){h.eachChild(t._wrapper,"."+h.CLS.slide+"."+h.CLS.slideDuplicate,function(t){t.parentElement.removeChild(t)});var e=t._wrapper.querySelectorAll("."+h.CLS.slide);"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=e.length),t.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),t.loopedSlides=t.loopedSlides+t.loopAdditionalSlides,t.loopedSlides>e.length&&(t.loopedSlides=e.length);for(var n=[],r=[],i=0;i<e.length;i++){var o=e[i];i<t.loopedSlides&&r.push(o),i<e.length&&i>=e.length-t.loopedSlides&&n.push(o),o.setAttribute("data-swiper-slide-index",i)}for(i=0;i<r.length;i++){var a=r[i].cloneNode(!0);h.addClass(a,h.CLS.slideDuplicate),t._wrapper.appendChild(a)}for(i=n.length-1;i>=0;i--){var s=n[i].cloneNode(!0);h.addClass(s,h.CLS.slideDuplicate),t._wrapper.insertBefore(s,t._wrapper.firstElementChild)}}(t),s(t,e),u(t,e),w.updatePagination(t),"slide"!==i&&_.SWIPER_EFFECTS[i]&&(t.loop||g.updateProgress(t),_.SWIPER_EFFECTS[i].setTranslate(t,e)),t.loop?c(t,e,t.initialSlide+t.loopedSlides,0,t.runCallbacksOnInit):(c(t,e,t.initialSlide,0,t.runCallbacksOnInit),0===t.initialSlide&&y.parallaxSetTranslate(t)),t.autoplay&&r(t,e)}},e.startAutoplay=r,e.stopAutoplay=i,e.pauseAutoplay=o,e.updateAutoHeight=a,e.updateContainerSize=s,e.updateSlidesSize=u,e.currentSlidesPerView=function(t){var e,n,r=1;if(t.centeredSlides){var i,o=t._slides[t._activeIndex].swiperSlideSize;for(e=t._activeIndex+1;e<t._slides.length;e++)t._slides[e]&&!i&&(r++,(o+=t._slides[e].swiperSlideSize)>t._renderedSize&&(i=!0));for(n=t._activeIndex-1;n>=0;n--)t._slides[n]&&!i&&(r++,(o+=t._slides[n].swiperSlideSize)>t._renderedSize&&(i=!0))}else for(e=t._activeIndex+1;e<t._slides.length;e++)t._slidesGrid[e]-t._slidesGrid[t._activeIndex]<t._renderedSize&&r++;return r},e.update=function(t,e,n){function r(){i=Math.min(Math.max(t._translate,h.maxTranslate(t)),h.minTranslate(t)),m.setWrapperTranslate(t,e,i),b.updateActiveIndex(t),v.updateClasses(t)}if(t){s(t,e),u(t,e),g.updateProgress(t),w.updatePagination(t),v.updateClasses(t),t.zoom&&x.resetZoomEvents(t,e);var i;n?(t._spline&&(t._spline=void 0),t.freeMode?(r(),t.autoHeight&&a(t)):c(t,e,("auto"===t.slidesPerView||t.slidesPerView>1)&&t._isEnd&&!t.centeredSlides?t._slides.length-1:t._activeIndex,0,!1,!0)||r()):t.autoHeight&&a(t)}},e.fixLoop=l,e.slideTo=c,e.onTransitionStart=f,e.onTransitionEnd=p,e.slideNext=d,e.slidePrev=function(t,e,n,r,i){return t.loop?!t._animating&&(l(t,e),c(t,e,t._activeIndex-1,r,n,i)):t._activeIndex-1>=0&&c(t,e,t._activeIndex-1,r,n,i)},e.slideReset=function(t,e,n,r){return c(t,e,t._activeIndex,r,n,!0)},e.disableTouchControl=function(t){return t.onlyExternal=!0,!0},e.enableTouchControl=function(t){return t.onlyExternal=!1,!0},e.destroySwiper=function(t){i(t),t.loop&&function(t){if(h.eachChild(t._wrapper,"."+h.CLS.slide+"."+h.CLS.slideDuplicate,function(t){t.parentElement.removeChild(t)}),t._slides)for(var e=0;e<t._slides.length;e++)t._slides[e].removeAttribute("data-swiper-slide-index")}(t),function(t){if(t.container&&t._wrapper){if(t.container&&(h.removeClass(t.container,t._classNames),t.container.removeAttribute("style")),t._wrapper.removeAttribute("style"),t._slides&&t._slides.length){h.removeClass(t._slides,[h.CLS.slideVisible,h.CLS.slideActive,h.CLS.slideNext,h.CLS.slidePrev]);for(var e=0;e<t._slides.length;e++){var n=t._slides[e];n.removeAttribute("style"),n.removeAttribute("data-swiper-column"),n.removeAttribute("data-swiper-row")}}h.removeClass(t._bullets,h.CLS.bulletActive),h.removeClass(t.prevButton,h.CLS.buttonDisabled),h.removeClass(t.nextButton,h.CLS.buttonDisabled)}}(t)}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./swiper-utils");e.updateProgress=function(t,e){void 0===e&&(e=t._translate||0);var r=n.maxTranslate(t)-n.minTranslate(t),i=t._isBeginning,o=t._isEnd;0===r?(t.progress=0,t._isBeginning=t._isEnd=!0):(t.progress=(e-n.minTranslate(t))/r,t._isBeginning=t.progress<=0,t._isEnd=t.progress>=1),t._zone.run(function(){t._isBeginning&&!i&&t.ionSlideReachStart.emit(),t._isEnd&&!o&&t.ionSlideReachEnd.emit(),t.watchSlidesProgress&&function(t,e){if(void 0===e&&(e=t._translate||0),0!==t._slides.length){void 0===t._slides[0].swiperSlideOffset&&n.updateSlidesOffset(t);var r=-e;t._rtl&&(r=e),n.removeClass(t._slides,n.CLS.slideVisible);for(var i=0;i<t._slides.length;i++){var o=t._slides[i],a=(r+(t.centeredSlides?n.minTranslate(t):0)-o.swiperSlideOffset)/(o.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility){var s=-(r-o.swiperSlideOffset),u=s+t._slidesSizesGrid[i],l=s>=0&&s<t._renderedSize||u>0&&u<=t._renderedSize||s<=0&&u>=t._renderedSize;l&&t._slides[i].classList.add(n.CLS.slideVisible)}o.progress=t._rtl?-a:a}}}(t,e),t.ionSlideProgress.emit(t.progress)})}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(194)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){var e=t._slides[t._activeIndex];e&&(t.realIndex=parseInt(e.getAttribute("data-swiper-slide-index")||t._activeIndex,10))}Object.defineProperty(e,"__esModule",{value:!0});var r=t("./swiper-classes");e.updateActiveIndex=function(t){var e,i,o,a=t._rtl?t._translate:-t._translate;for(i=0;i<t._slidesGrid.length;i++)void 0!==t._slidesGrid[i+1]?a>=t._slidesGrid[i]&&a<t._slidesGrid[i+1]-(t._slidesGrid[i+1]-t._slidesGrid[i])/2?e=i:a>=t._slidesGrid[i]&&a<t._slidesGrid[i+1]&&(e=i+1):a>=t._slidesGrid[i]&&(e=i);(o=Math.floor(e/t.slidesPerGroup))>=t._snapGrid.length&&(o=t._snapGrid.length-1),e!==t._activeIndex&&(t._snapIndex=o,t._previousIndex=t._activeIndex,t._activeIndex=e,r.updateClasses(t),n(t))},e.updateRealIndex=n})},,function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},function(t,e,n){"use strict";e.errorObject={e:{}}},function(t,e,n){"use strict";var r=n(62).root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber},function(t,e,n){"use strict";var r=n(62),i=n(350),o=n(351),a=n(198),s=n(21),u=n(352),l=n(353),c=n(201);e.subscribeToResult=function(t,e,n,f){var p=new l.InnerSubscriber(t,n,f);if(p.closed)return null;if(e instanceof s.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):(p.syncErrorThrowable=!0,e.subscribe(p));if(i.isArrayLike(e)){for(var d=0,h=e.length;d<h&&!p.closed;d++)p.next(e[d]);p.closed||p.complete()}else{if(o.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){r.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[u.iterator])for(var m=e[u.iterator]();;){var g=m.next();if(g.done){p.complete();break}if(p.next(g.value),p.closed)break}else if(e&&"function"==typeof e[c.observable]){var v=e[c.observable]();if("function"==typeof v.subscribe)return v.subscribe(new l.InnerSubscriber(t,n,f));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y="You provided "+(a.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(y))}}return null}},function(t,e,n){"use strict";var r=n(2).__extends,i=n(50);e.OuterSubscriber=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber)},function(t,e,n){"use strict";function r(t,e,n){return Math.max(t,Math.min(e,n))}function i(t){return JSON.parse(JSON.stringify(t))}function o(t){var e=window.Ionic;return e&&e.normalizeURL?e.normalizeURL(t):t}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=arguments.length-1;r>=1;r--){var i=arguments[r];if(i)for(var o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=i[o])}return t}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function l(t){return"function"==typeof t}function c(t){return void 0!==t}function f(t){return void 0===t}function p(t){return void 0!==t&&null!==t}function d(t){return void 0===t||null===t}function h(t){return"object"==typeof t}function m(t){return Array.isArray(t)}function g(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:!!t}function v(t,e){return void 0===t||null===t||""===t?void 0===e||null===e||""===e:!0===t||"true"===t?!0===e||"true"===e:!1===t||"false"===t?!1===e||"false"===e:0===t||"0"===t?0===e||"0"===e:t==e}function y(t,e,n){switch(void 0===n&&(n=!1),t){case"right":return!0;case"left":return!1;case"end":return!e;case"start":return e;default:return n?!e:e}}function b(t,e){var n=t[e.from];return t.splice(e.from,1),t.splice(e.to,0,n),t}function _(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)}function w(t,e,n){return!e&&n||t&&e}function x(t,e){var n=new kn;n.init(t,e);var r=e.win();return r.Ionic=r.Ionic||{},r.Ionic.config=n,n}function E(t){return!!(t&&t._didLoad&&t._willUnload)}function C(t,e,n){return"function"==typeof e?Promise.resolve(new Nn(e,n)):"string"==typeof e?t.getComponentFromName(e).then(function(t){var r=new Nn(t,n);return r.id=e,r}):Promise.resolve(null)}function S(t,e,n){return e?E(e)?Promise.resolve(e):C(t,e,n):Promise.resolve(null)}function O(t,e){var n=[];if(m(e))for(var r=0;r<e.length;r++){var i=e[r];i&&(E(i)?n.push(i):n.push(i.page?S(t,i.page,i.params):S(t,i,null)))}return Promise.all(n)}function k(t){return!!t&&!!t.getSelected}function T(t){return!!t&&p(t._tabId)}function P(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var n=e[0];return{x:n.clientX,y:n.clientY}}var r=t.pageX;if(void 0!==r)return{x:r,y:t.pageY}}return{x:0,y:0}}function N(t,e,n){if(e&&n){var r=e.x-n.x,i=e.y-n.y;return r*r+i*i>t*t}return!1}function I(t){return!!t&&("TEXTAREA"===t.tagName||"true"===t.contentEditable||"INPUT"===t.tagName&&!Vn.test(t.type))}function A(t,e,n){var r=new qn;r.setDefault("core"),r.setPlatformConfigs(e),r.setZone(n);var i=t.documentElement;r.setDocument(t);var o=i.dir;r.setDir("rtl"===o?"rtl":"ltr",!o),r.setLang(i.lang,!1),r.setCssProps(i);var a=t.defaultView;return r.setWindow(a),r.setNavigatorPlatform(a.navigator.platform),r.setUserAgent(a.navigator.userAgent),r.setQueryParams(a.location.href),r.init(),a.Ionic=a.Ionic||{},a.Ionic.platform=r,r}function M(t,e){if(t.id===e||t.name===e)return t;for(var n=0,r=t.getAllChildNavs();n<r.length;n++){var i=M(r[n],e);if(i)return i}return null}function D(t){if(!t)return null;if(k(t))return D(t.parent);var e=t.length();return e>1||t._isPortal&&e>0?t:D(t.parent)}function R(t){var e=[],n=t.getActiveChildNavs();return n&&n.length?n.forEach(function(t){var n=R(t);e=e.concat(n)}):e.push(t),e}function j(t){for(t=(t=t.replace(_r,"-")).charAt(0).toLowerCase()+t.substring(1).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});t.indexOf("--")>-1;)t=t.replace("--","-");return"-"===t.charAt(0)&&(t=t.substring(1)),"-"===t.substring(t.length-1)&&(t=t.substring(0,t.length-1)),encodeURIComponent(t)}function L(t,e){return t.segmentPartsLen>e.segmentPartsLen?-1:t.segmentPartsLen<e.segmentPartsLen?1:t.staticLen>e.staticLen?-1:t.staticLen<e.staticLen?1:t.dataLen<e.dataLen?-1:t.dataLen>e.dataLen?1:0}function z(t,e){return new mr(t,e)}function F(t,e,n){return function(t,e){for(var n=[],r=0;r<e.length;r++)for(var i=function(t,e){if(t.navId){var n=e.getNavByIdOrName(t.navId);return n?[n]:[]}return e.getRootNavs()}(e[r].navGroup,t),o=0,a=e[r].segments;o<a.length;o++){var s=a[o];if(1===i.length)n.push(B(s,i[0])),i=i[0].getActiveChildNavs();else{if(!(i.length>1))break;n.push(B(s,i[i.length-1])),i=i[i.length-1].getActiveChildNavs()}}return n}(t,function(t,e){return function(t,e){for(var n=[],r=new Set,i=0,o=t;i<o.length;i++){for(var a=o[i],s=[],u=a.segmentPieces.concat([]),l=u.length;l>=0;l--){for(var c=!1,f=0;f<l;f++){for(var p=l-f-1,d=l,h=u.slice(p,d),m=0,g=e;m<g.length;m++){var v=g[m];if(!r.has(v.name)){var y=function(t,e){if(e.segmentPartsLen!==t.length)return null;for(var n=0;n<t.length;n++)if(!gr(t[n],e.segmentParts[n]))return null;return{id:t.join("/"),name:e.name,component:e.component,loadChildren:e.loadChildren,data:vr(t,e),defaultHistory:e.defaultHistory}}(h,v);if(y){l=p+1,r.add(v.name),c=!0,s.push(y);for(var b=p;b<d;b++)u[b]=null;break}}}if(c)break}!c&&u[l-1]&&s.push({id:null,name:null,secondaryId:u[l-1],component:null,loadChildren:null,data:null,defaultHistory:null})}for(var _=s.reverse(),l=0;l<_.length;l++)_[l].secondaryId&&!_[l].id&&l+1<=_.length-1&&(_[l+1].secondaryId=_[l].secondaryId,_[l]=null);var w=s.filter(function(t){return!!t});a.secondaryId&&s.length&&(w[0].secondaryId=a.secondaryId),n.push({navGroup:a,segments:w})}return n}(function(t){return t.map(function(t){var e=t.split("/");return"nav"===e[0]?{type:"nav",navId:e[1],niceId:e[1],secondaryId:null,segmentPieces:e.splice(2)}:"tabs"===e[0]?{type:"tabs",navId:e[1],niceId:e[1],secondaryId:e[2],segmentPieces:e.splice(3)}:{type:null,navId:null,niceId:null,secondaryId:null,segmentPieces:e}})}(function(t){for(var e=t.split("/"),n=[],r=0;r<e.length;r++)0===r||"nav"!==e[r]&&"tabs"!==e[r]||n.push(r);n.push(e.length);var i=[],o=0,a=[];for(r=0;r<e.length;r++)r>=n[o]&&(i.push(a.join("/")),a=[],o++),a.push(e[r]);return i.push(a.join("/")),i}(t)),e)}(e,n))}function B(t,e){var n=Object.assign({},t);return n.type=e.getType(),n.navId=e.name||e.id,n.secondaryId=t.secondaryId,n}function V(t,e,n,r,i){var o=new xr(t,e,n,r,i);return o.init(),o}function U(t){return"/"!==(t=t.trim()).charAt(0)&&(t="/"+t),t.length>1&&"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t}function W(t,e){return t.top<e.top?-1:t.top>e.top?1:0}function q(t){return t.indexOf("px")>0?parseInt(t,10):0}function H(t){return t>0?t+"px":""}function G(t){return t.$ionIndex}function $(t,e){for(var n=0;t&&n<4;){if(void 0!==G(t))return e&&t.parentNode!==e?null:t;t=t.parentNode,n++}return null}function Y(t,e,n,r){if(t===Yo||t===Ko){try{return e=new Date(n.year,n.month-1,n.day).getDay(),t===Yo?(p(r.dayNames)?r.dayNames:la)[e]:(p(r.dayShortNames)?r.dayShortNames:ca)[e]}catch(t){}return""}if(t===aa)return n?n.hour<12?"AM":"PM":p(e)?e.toUpperCase():"";if(t===sa)return n?n.hour<12?"am":"pm":p(e)?e:"";if(d(e))return"";if(t===Wo||t===Go||t===Xo||t===Jo||t===na||t===ia)return tt(e);if(t===Uo)return nt(e);if(t===qo)return(p(r.monthNames)?r.monthNames:fa)[e-1];if(t===Ho)return(p(r.monthShortNames)?r.monthShortNames:pa)[e-1];if(t===ta||t===ea){if(0===e)return"12";if(e>12&&(e-=12),t===ta&&e<10)return"0"+e}return e.toString()}function K(t,e,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),parseInt("1"+nt(t)+tt(e)+tt(n)+tt(r)+tt(i),10)}function X(t){return t?K(t.year,t.month,t.day,t.hour,t.minute):-1}function Z(t){var e;if(p(t)&&""!==t&&(p(e=Vo.exec(t))?(e.unshift(void 0,void 0),e[2]=e[3]=void 0):e=Bo.exec(t)),d(e))return null;for(var n=1;n<8;n++)e[n]=void 0!==e[n]?parseInt(e[n],10):null;var r=0;return p(e[9])&&p(e[10])&&(r=60*parseInt(e[10],10),p(e[11])&&(r+=parseInt(e[11],10)),"-"===e[9]&&(r*=-1)),{year:e[1],month:e[2],day:e[3],hour:e[4],minute:e[5],second:e[6],millisecond:e[7],tzOffset:r}}function J(t,e){if(p(e)&&""!==e){if(s(e)){if(e=Z(e))return Object.assign(t,e),!0}else if(p(e.year)||p(e.hour)||p(e.month)||p(e.day)||p(e.minute)||p(e.second)){p(e.ampm)&&p(e.hour)&&(e.hour.value="pm"===e.ampm.value?12===e.hour.value?12:e.hour.value+12:12===e.hour.value?0:e.hour.value);for(var n in e)t[n]=e[n].value;return!0}console.warn('Error parsing date: "'+e+'". Please provide a valid ISO 8601 datetime format: https://www.w3.org/TR/NOTE-datetime')}else for(var n in t)delete t[n];return!1}function Q(t){for(var e in ua)if(ua[e].f===t)return ua[e].k;return null}function tt(t){return("0"+(p(t)?Math.abs(t):"0")).slice(-2)}function et(t){return("00"+(p(t)?Math.abs(t):"0")).slice(-3)}function nt(t){return("000"+(p(t)?Math.abs(t):"0")).slice(-4)}function rt(t,e){s(t)&&(t=t.replace(/\[|\]|\s/g,"").split(","));var n;return m(t)&&(n=t.map(function(t){return parseInt(t,10)}).filter(isFinite)),n&&n.length||console.warn('Invalid "'+e+'Values". Must be an array of numbers, or a comma separated string of numbers.'),n}function it(t){if(p(t))if("string"==typeof t){if(t.indexOf("%")>-1||t.indexOf("px")>-1)return t;if(t.length)return t+"px"}else if("number"==typeof t)return t+"px";return""}function ot(t,e){return new Bs(t,e)}function at(t,e,n,r){return function(){!function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,500)}(function(){r.runOutsideAngular(function(){!function(t,e,n){if(!e||!e.links||!t.getBoolean("preloadModules"))return Promise.resolve();var r=e.links.filter(function(t){return!!t.loadChildren&&"off"!==t.priority}),i=r.filter(function(t){return"high"===t.priority}).map(function(t){return n.load(t.loadChildren)});Promise.all(i).then(function(){var t=r.filter(function(t){return"low"===t.priority}).map(function(t){return n.load(t.loadChildren)});return Promise.all(t)}).catch(function(t){console.error(t.message)})}(t,e,n)})})}}function st(t){return Math.floor(t)}function ut(t,e){if(t)if(t.length)for(var n=0;n<t.length;n++)ut(t[n],e);else if(t.nodeType)for(var r=Object.keys(e),i=0;i<r.length;i++)t.style[r[i]]=e[r[i]]}function lt(t,e){if(t)if(t.length)for(var n=0;n<t.length;n++)lt(t[n],e);else t.nodeType&&(Array.isArray(e)?e.forEach(function(e){t.classList.add(e)}):t.classList.add(e))}function ct(t,e){if(t)if(t.length)for(var n=0;n<t.length;n++)ct(t[n],e);else t.nodeType&&(Array.isArray(e)?e.forEach(function(e){t.classList.remove(e)}):t.classList.remove(e))}function ft(t){var e=0;if(t)for(;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}function pt(t,e){return t?t.querySelectorAll(e):[]}function dt(t,e,n){if(t)for(var r=t.querySelectorAll(e),i=0;i<r.length;i++)n(r[i])}function ht(t,e){if(t){var n=t.style;n.webkitTransform=n.MsTransform=n.msTransform=n.transform=e}}function mt(t,e){if(t){"string"!=typeof e&&(e+="ms");var n=t.style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.transitionDuration=e}}function gt(t,e){try{var n=new(t.win().CustomEvent)("transitionend",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}catch(t){}}function vt(t,e){if(t){var n=e.getElementBoundingClientRect(t),r=e.doc().body,i=e.win();return{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||r.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null}function yt(t){for(var e=0;e<t._slides.length;e++)t._slides[e].swiperSlideOffset=bt(t)?t._slides[e].offsetLeft:t._slides[e].offsetTop}function bt(t){return"horizontal"===t.direction}function _t(t){return!!t&&Xu.indexOf(t.tagName)>-1}function wt(t){return-t._snapGrid[0]}function xt(t){return-t._snapGrid[t._snapGrid.length-1]}function Et(t,e,n){var r,i,o,a=t._rtl?-1:1;r=e.getAttribute("data-swiper-parallax")||"0",i=e.getAttribute("data-swiper-parallax-x"),o=e.getAttribute("data-swiper-parallax-y"),i||o?(i=i||"0",o=o||"0"):bt(t)?(i=r,o="0"):(o=r,i="0"),ht(e,"translate3d("+(i=i.indexOf("%")>=0?parseInt(i,10)*n*a+"%":i*n*a+"px")+", "+(o=o.indexOf("%")>=0?parseInt(o,10)*n+"%":o*n+"px")+",0px)")}function Ct(t){dt(t.container,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]",function(e){Et(t,e,t.progress)});for(var e=0;e<t._slides.length;e++){var n=t._slides[e];dt(n,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]",function(){var e=Math.min(Math.max(n.progress,-1),1);Et(t,n,e)})}}function St(t,e){void 0===e&&(e=t._translate||0);var n=xt(t)-wt(t),r=t._isBeginning,i=t._isEnd;0===n?(t.progress=0,t._isBeginning=t._isEnd=!0):(t.progress=(e-wt(t))/n,t._isBeginning=t.progress<=0,t._isEnd=t.progress>=1),t._zone.run(function(){t._isBeginning&&!r&&t.ionSlideReachStart.emit(),t._isEnd&&!i&&t.ionSlideReachEnd.emit(),t.watchSlidesProgress&&function(t,e){void 0===e&&(e=t._translate||0);if(0===t._slides.length)return;void 0===t._slides[0].swiperSlideOffset&&yt(t);var n=-e;t._rtl&&(n=e);ct(t._slides,Zu.slideVisible);for(var r=0;r<t._slides.length;r++){var i=t._slides[r],o=(n+(t.centeredSlides?wt(t):0)-i.swiperSlideOffset)/(i.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility){var a=-(n-i.swiperSlideOffset),s=a+t._slidesSizesGrid[r],u=a>=0&&a<t._renderedSize||s>0&&s<=t._renderedSize||a<=0&&s>=t._renderedSize;u&&t._slides[r].classList.add(Zu.slideVisible)}i.progress=t._rtl?-o:o}}(t,e),t.ionSlideProgress.emit(t.progress)})}function Ot(t,e){e?t.setAttribute("aria-disabled","true"):t.hasAttribute("aria-disabled")&&t.removeAttribute("aria-disabled")}function kt(t,e){e?t.setAttribute("aria-hidden","true"):t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden")}function Tt(t){if(t.paginationType&&t._paginationContainer){var e="";if("bullets"===t.paginationType)for(var n=t.loop?Math.ceil((t._slides.length-2*t.loopedSlides)/t.slidesPerGroup):t._snapGrid.length,r=0;r<n;r++)e+=t.paginationBulletRender?t.paginationBulletRender(r,Zu.bullet):'<button class="'+Zu.bullet+'" aria-label="Go to slide '+(r+1)+'" data-slide-index="'+r+'"></button>';else"fraction"===t.paginationType?e='<span class="'+Zu.paginationCurrent+'"></span> / <span class="'+Zu.paginationTotal+'"></span>':"progress"===t.paginationType&&(e='<span class="'+Zu.paginationProgressbar+'"></span>');t._paginationContainer.innerHTML=e,t._bullets=t._paginationContainer.querySelectorAll("."+Zu.bullet)}}function Pt(t){ct(t._slides,[Zu.slideActive,Zu.slideNext,Zu.slidePrev,Zu.slideDuplicateActive,Zu.slideDuplicateNext,Zu.slideDuplicatePrev]);for(var e=0;e<t._slides.length;e++)kt(t._slides[e],!0);var n=t._slides[t._activeIndex];if(n){lt(n,Zu.slideActive),kt(n,!1),t.loop&&lt(n.classList.contains(Zu.slideDuplicate)?pt(t._wrapper,"."+Zu.slide+":not(."+Zu.slideDuplicate+')[data-swiper-slide-index="'+t.realIndex+'"]'):pt(t._wrapper,"."+Zu.slide+"."+Zu.slideDuplicate+'[data-swiper-slide-index="'+t.realIndex+'"]'),Zu.slideDuplicateActive);var r=n.nextElementSibling;t.loop&&!r&&(r=t._slides[0]),r&&r.classList.add(Zu.slideNext);var i=n.previousElementSibling;t.loop&&!i&&(i=t._slides[t._slides.length-1]),i&&i.classList.add(Zu.slidePrev),t.loop&&(lt(r.classList.contains(Zu.slideDuplicate)?pt(t._wrapper,"."+Zu.slide+":not(."+Zu.slideDuplicate+')[data-swiper-slide-index="'+r.getAttribute("data-swiper-slide-index")+'"]'):pt(t._wrapper,"."+Zu.slide+"."+Zu.slideDuplicate+'[data-swiper-slide-index="'+r.getAttribute("data-swiper-slide-index")+'"]'),Zu.slideDuplicateNext),lt(i.classList.contains(Zu.slideDuplicate)?pt(t._wrapper,"."+Zu.slide+":not(."+Zu.slideDuplicate+')[data-swiper-slide-index="'+i.getAttribute("data-swiper-slide-index")+'"]'):pt(t._wrapper,"."+Zu.slide+"."+Zu.slideDuplicate+'[data-swiper-slide-index="'+i.getAttribute("data-swiper-slide-index")+'"]'),Zu.slideDuplicatePrev)),t._paginationContainer&&function(t){var e,n=t.loop?Math.ceil((t._slides.length-2*t.loopedSlides)/t.slidesPerGroup):t._snapGrid.length;if(t.loop?((e=Math.ceil((t._activeIndex-t.loopedSlides)/t.slidesPerGroup))>t._slides.length-1-2*t.loopedSlides&&(e-=t._slides.length-2*t.loopedSlides),e>n-1&&(e-=n),e<0&&"bullets"!==t.paginationType&&(e=n+e)):e=void 0!==t._snapIndex?t._snapIndex:t._activeIndex||0,"bullets"===t.paginationType&&t._bullets)for(var r=e+(e<0?t._bullets.length:0),i=0;i<t._bullets.length;i++)i===r?lt(t._bullets[i],Zu.bulletActive):ct(t._bullets[i],Zu.bulletActive);if("fraction"===t.paginationType&&(dt(t._paginationContainer,"."+Zu.paginationCurrent,function(t){t.textContent=e+1}),dt(t._paginationContainer,"."+Zu.paginationTotal,function(t){t.textContent=n})),"progress"===t.paginationType){var o=(e+1)/n,a=o,s=1;bt(t)||(s=o,a=1),dt(t._paginationContainer,"."+Zu.paginationProgressbar,function(e){ht(e,"translate3d(0,0,0) scaleX("+a+") scaleY("+s+")"),mt(e,t.speed)})}}(t),t.loop||(t.prevButton&&(t._isBeginning?(t.prevButton.classList.add(Zu.buttonDisabled),Ot(t.prevButton,!0)):(t.prevButton.classList.remove(Zu.buttonDisabled),Ot(t.prevButton,!1))),t.nextButton&&(t._isEnd?(t.nextButton.classList.add(Zu.buttonDisabled),Ot(t.nextButton,!0)):(t.nextButton.classList.remove(Zu.buttonDisabled),Ot(t.nextButton,!1))))}}function Nt(t){var e,n,r,i=t._rtl?t._translate:-t._translate;for(n=0;n<t._slidesGrid.length;n++)void 0!==t._slidesGrid[n+1]?i>=t._slidesGrid[n]&&i<t._slidesGrid[n+1]-(t._slidesGrid[n+1]-t._slidesGrid[n])/2?e=n:i>=t._slidesGrid[n]&&i<t._slidesGrid[n+1]&&(e=n+1):i>=t._slidesGrid[n]&&(e=n);(r=Math.floor(e/t.slidesPerGroup))>=t._snapGrid.length&&(r=t._snapGrid.length-1),e!==t._activeIndex&&(t._snapIndex=r,t._previousIndex=t._activeIndex,t._activeIndex=e,Pt(t),It(t))}function It(t){var e=t._slides[t._activeIndex];e&&(t.realIndex=parseInt(e.getAttribute("data-swiper-slide-index")||t._activeIndex,10))}function At(t){var e=t.win();return!!(e.cordova||e.PhoneGap||e.phonegap)}function Mt(t){return t.testNavigatorPlatform("iphone|ipad|ipod")}function Dt(t){return t.testUserAgent("Safari")}function Rt(t){return Mt(t)&&!function(t){return Mt(t)&&!!t.win().webkit}(t)&&!Dt(t)}function jt(t,e,n,r,i){var o=0,a=0;bt(t)?o=t._rtl?-n:n:a=n,t.roundLengths&&(o=st(o),a=st(a)),t.virtualTranslate||ht(t._wrapper,"translate3d("+o+"px, "+a+"px, 0px)"),t._translate=bt(t)?o:a;var s=xt(t)-wt(t);(0===s?0:(n-wt(t))/s)!==t.progress&&St(t,n),r&&Nt(t),"slide"!==t.effect&&Qu[t.effect]&&Qu[t.effect].setTranslate(t,e),t.parallax&&Ct(t),t.control&&Ju.setTranslate(t,e,t._translate,i,jt)}function Lt(t,e,n,r){var i,o,a,s,u=e.win();return void 0===r&&(r="x"),t.virtualTranslate?t._rtl?-t._translate:t._translate:(a=e.getElementComputedStyle(n),u.WebKitCSSMatrix?((o=a.transform||a.webkitTransform).split(",").length>6&&(o=o.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),s=new u.WebKitCSSMatrix("none"===o?"":o)):i=(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===r&&(o=u.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===r&&(o=u.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),t._rtl&&o&&(o=-o),o||0)}function zt(t,e,n,r){mt(t._wrapper,n),"slide"!==t.effect&&Qu[t.effect]&&Qu[t.effect].setTransition(t,e,n),t.parallax&&function(t,e){void 0===e&&(e=t.speed),dt(t.container,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]",function(t){var n=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),mt(t,n)})}(t,n),t.control&&Ju.setTransition(t,e,n,r,zt)}function Ft(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY,r=t.targetTouches[1].pageX,i=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))}function Bt(t,e,n){var r=t._zoom;if(t.originalEvent=n,!t._supportGestures){if("touchstart"!==n.type||"touchstart"===n.type&&n.targetTouches.length<2)return;r.gesture.scaleStart=Ft(n)}if(!r.gesture.slide&&(n.currentTarget&&n.currentTarget.classList.contains(Zu.slide)&&(r.gesture.slide=n.currentTarget),r.gesture.slide||(r.gesture.slide=t._slides[t._activeIndex]),r.gesture.image=r.gesture.slide.querySelector("img, svg, canvas, ion-img"),r.gesture.image)){if(r.gesture.imageWrap=r.gesture.image.closest("."+Zu.zoomContainer),!r.gesture.imageWrap)return void(r.gesture.image=void 0);r.gesture.zoomMax=parseInt(r.gesture.imageWrap.getAttribute("data-swiper-zoom")||t.zoomMax,10)}mt(r.gesture.image,0),r.isScaling=!0}function Vt(t,e,n){var r=t._zoom;if(t.originalEvent=n,!t._supportGestures){if("touchmove"!==n.type||"touchmove"===n.type&&n.targetTouches.length<2)return;r.gesture.scaleMove=Ft(n)}r.gesture.image&&(r.scale=t._supportGestures?n.scale*r.currentScale:r.gesture.scaleMove/r.gesture.scaleStart*r.currentScale,r.scale>r.gesture.zoomMax&&(r.scale=r.gesture.zoomMax-1+Math.pow(r.scale-r.gesture.zoomMax+1,.5)),r.scale<t.zoomMin&&(r.scale=t.zoomMin+1-Math.pow(t.zoomMin-r.scale+1,.5)),ht(r.gesture.image,"translate3d(0,0,0) scale("+r.scale+")"))}function Ut(t,e,n){var r=t._zoom;t.originalEvent=n,!t._supportGestures&&("touchend"!==n.type||"touchend"===n.type&&n.changedTouches.length<2)||r.gesture.image&&(r.scale=Math.max(Math.min(r.scale,r.gesture.zoomMax),t.zoomMin),mt(r.gesture.image,t.speed),ht(r.gesture.image,"translate3d(0,0,0) scale("+r.scale+")"),r.currentScale=r.scale,r.isScaling=!1,1===r.scale&&(r.gesture.slide=void 0))}function Wt(t,e,n){var r=t._zoom;if(t.originalEvent=n,r.gesture.image&&(t._allowClick=!1,r.image.isTouched&&r.gesture.slide)){r.image.isMoved||(r.image.width=r.gesture.image.offsetWidth,r.image.height=r.gesture.image.offsetHeight,r.image.startX=Lt(t,e,r.gesture.imageWrap,"x")||0,r.image.startY=Lt(t,e,r.gesture.imageWrap,"y")||0,r.gesture.slideWidth=r.gesture.slide.offsetWidth,r.gesture.slideHeight=r.gesture.slide.offsetHeight,mt(r.gesture.imageWrap,0),t._rtl&&(r.image.startX=-r.image.startX,r.image.startY=-r.image.startY));var i=r.image.width*r.scale,o=r.image.height*r.scale;if(!(i<r.gesture.slideWidth&&o<r.gesture.slideHeight)){if(r.image.minX=Math.min(r.gesture.slideWidth/2-i/2,0),r.image.maxX=-r.image.minX,r.image.minY=Math.min(r.gesture.slideHeight/2-o/2,0),r.image.maxY=-r.image.minY,r.image.touchesCurrent.x="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,r.image.touchesCurrent.y="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY,!r.image.isMoved&&!r.isScaling){if(bt(t)&&Math.floor(r.image.minX)===Math.floor(r.image.startX)&&r.image.touchesCurrent.x<r.image.touchesStart.x||Math.floor(r.image.maxX)===Math.floor(r.image.startX)&&r.image.touchesCurrent.x>r.image.touchesStart.x)return void(r.image.isTouched=!1);if(!bt(t)&&Math.floor(r.image.minY)===Math.floor(r.image.startY)&&r.image.touchesCurrent.y<r.image.touchesStart.y||Math.floor(r.image.maxY)===Math.floor(r.image.startY)&&r.image.touchesCurrent.y>r.image.touchesStart.y)return void(r.image.isTouched=!1)}n.preventDefault(),n.stopPropagation(),r.image.isMoved=!0,r.image.currentX=r.image.touchesCurrent.x-r.image.touchesStart.x+r.image.startX,r.image.currentY=r.image.touchesCurrent.y-r.image.touchesStart.y+r.image.startY,r.image.currentX<r.image.minX&&(r.image.currentX=r.image.minX+1-Math.pow(r.image.minX-r.image.currentX+1,.8)),r.image.currentX>r.image.maxX&&(r.image.currentX=r.image.maxX-1+Math.pow(r.image.currentX-r.image.maxX+1,.8)),r.image.currentY<r.image.minY&&(r.image.currentY=r.image.minY+1-Math.pow(r.image.minY-r.image.currentY+1,.8)),r.image.currentY>r.image.maxY&&(r.image.currentY=r.image.maxY-1+Math.pow(r.image.currentY-r.image.maxY+1,.8)),r.velocity.prevPositionX||(r.velocity.prevPositionX=r.image.touchesCurrent.x),r.velocity.prevPositionY||(r.velocity.prevPositionY=r.image.touchesCurrent.y),r.velocity.prevTime||(r.velocity.prevTime=Date.now()),r.velocity.x=(r.image.touchesCurrent.x-r.velocity.prevPositionX)/(Date.now()-r.velocity.prevTime)/2,r.velocity.y=(r.image.touchesCurrent.y-r.velocity.prevPositionY)/(Date.now()-r.velocity.prevTime)/2,Math.abs(r.image.touchesCurrent.x-r.velocity.prevPositionX)<2&&(r.velocity.x=0),Math.abs(r.image.touchesCurrent.y-r.velocity.prevPositionY)<2&&(r.velocity.y=0),r.velocity.prevPositionX=r.image.touchesCurrent.x,r.velocity.prevPositionY=r.image.touchesCurrent.y,r.velocity.prevTime=Date.now(),ht(r.gesture.imageWrap,"translate3d("+r.image.currentX+"px, "+r.image.currentY+"px,0)")}}}function qt(t,e){Ht(t);var n,r=t._zoom.unRegs,i={passive:"touchstart"===t._touchEvents.start,zone:!1},o=t._slides;if(t._supportGestures)for(var a=0;a<o.length;a++)e.registerListener(n=o[a],"gesturestart",function(e){Bt(t,0,e)},i,r),e.registerListener(n,"gesturechange",function(e){Vt(t,0,e)},i,r),e.registerListener(n,"gestureend",function(e){Ut(t,0,e)},i,r);else if("touchstart"===t._touchEvents.start)for(a=0;a<o.length;a++)e.registerListener(n=o[a],t._touchEvents.start,function(e){Bt(t,0,e)},i,r),e.registerListener(n,t._touchEvents.move,function(e){Vt(t,0,e)},i,r),e.registerListener(n,t._touchEvents.end,function(e){Ut(t,0,e)},i,r);var s=t.ionSlideTouchStart.subscribe(function(n){!function(t,e,n){var r=t._zoom;t.originalEvent=n,r.gesture.image&&!r.image.isTouched&&(e.is("android")&&n.preventDefault(),r.image.isTouched=!0,r.image.touchesStart.x="touchstart"===n.type?n.targetTouches[0].pageX:n.pageX,r.image.touchesStart.y="touchstart"===n.type?n.targetTouches[0].pageY:n.pageY)}(t,e,n)});r.push(function(){s.unsubscribe()});for(a=0;a<o.length;a++)(n=o[a]).querySelector("."+Zu.zoomContainer)&&e.registerListener(n,"s.touchEvents.move",function(n){Wt(t,e,n)},i,r);var u=t.ionSlideTouchEnd.subscribe(function(){!function(t){var e=t._zoom;if(e.gesture.image){if(!e.image.isTouched||!e.image.isMoved)return e.image.isTouched=!1,void(e.image.isMoved=!1);e.image.isTouched=!1,e.image.isMoved=!1;var n=300,r=300,i=e.image.currentX+e.velocity.x*n,o=e.image.currentY+e.velocity.y*r;0!==e.velocity.x&&(n=Math.abs((i-e.image.currentX)/e.velocity.x)),0!==e.velocity.y&&(r=Math.abs((o-e.image.currentY)/e.velocity.y));var a=Math.max(n,r);e.image.currentX=i,e.image.currentY=o;var s=e.image.width*e.scale,u=e.image.height*e.scale;e.image.minX=Math.min(e.gesture.slideWidth/2-s/2,0),e.image.maxX=-e.image.minX,e.image.minY=Math.min(e.gesture.slideHeight/2-u/2,0),e.image.maxY=-e.image.minY,e.image.currentX=Math.max(Math.min(e.image.currentX,e.image.maxX),e.image.minX),e.image.currentY=Math.max(Math.min(e.image.currentY,e.image.maxY),e.image.minY),mt(e.gesture.imageWrap,a),ht(e.gesture.imageWrap,"translate3d("+e.image.currentX+"px, "+e.image.currentY+"px,0)")}}(t)});r.push(function(){u.unsubscribe()});var l=t.ionSlideTouchEnd.subscribe(function(){!function(t){var e=t._zoom;e.gesture.slide&&t._previousIndex!==t._activeIndex&&(ht(e.gesture.image,"translate3d(0,0,0) scale(1)"),ht(e.gesture.imageWrap,"translate3d(0,0,0)"),e.gesture.slide=e.gesture.image=e.gesture.imageWrap=void 0,e.scale=e.currentScale=1)}(t)});if(r.push(function(){l.unsubscribe()}),t.zoomToggle){var c=t.ionSlideDoubleTap.subscribe(function(){!function(t,e){var n=t._zoom,r=t.originalEvent;if(n.gesture.slide||(n.gesture.slide=t.clickedSlide?t.clickedSlide:t._slides[t._activeIndex],n.gesture.image=n.gesture.slide.querySelector("img, svg, canvas, ion-img"),n.gesture.imageWrap=n.gesture.image&&n.gesture.image.closest("."+Zu.zoomContainer)),n.gesture.imageWrap){var i,o,a,s,u,l,c,f,p,d,h,m,g,v;if(void 0===n.image.touchesStart.x&&r?(i="touchend"===r.type?r.changedTouches[0].pageX:r.pageX,o="touchend"===r.type?r.changedTouches[0].pageY:r.pageY):(i=n.image.touchesStart.x,o=n.image.touchesStart.y),n.scale&&1!==n.scale)n.scale=n.currentScale=1,mt(n.gesture.imageWrap,300),ht(n.gesture.imageWrap,"translate3d(0,0,0)"),mt(n.gesture.image,300),ht(n.gesture.image,"translate3d(0,0,0) scale(1)"),n.gesture.slide=void 0;else{if(n.scale=n.currentScale=parseInt(n.gesture.imageWrap.getAttribute("data-swiper-zoom")||t.zoomMax,10),r){g=n.gesture.slide.offsetWidth,v=n.gesture.slide.offsetHeight;var y=vt(n.gesture.slide,e);a=y.left+g/2-i,s=y.top+v/2-o,c=n.gesture.image.offsetWidth*n.scale,f=n.gesture.image.offsetHeight*n.scale,h=-(p=Math.min(g/2-c/2,0)),m=-(d=Math.min(v/2-f/2,0)),l=s*n.scale,(u=a*n.scale)<p&&(u=p),u>h&&(u=h),l<d&&(l=d),l>m&&(l=m)}else u=0,l=0;mt(n.gesture.imageWrap,300),ht(n.gesture.imageWrap,"translate3d("+u+"px, "+l+"px,0)"),mt(n.gesture.image,300),ht(n.gesture.image,"translate3d(0,0,0) scale("+n.scale+")")}}}(t,e)});r.push(function(){c.unsubscribe()})}}function Ht(t){t._zoom.unRegs.forEach(function(t){t()}),t._zoom.unRegs.length=0}function Gt(t,e){if(t._classNames=[],t.container){t.container.swiper=t;var n=Zu.containerModifier;t._classNames.push(n+t.direction),t.freeMode&&t._classNames.push(n+"free-mode"),t.autoHeight&&t._classNames.push(n+"autoheight"),(t.parallax||t.watchSlidesVisibility)&&(t.watchSlidesProgress=!0),t.touchReleaseOnEdges&&(t.resistanceRatio=0);var r=t.effect;["cube","coverflow","flip"].indexOf(r)>=0&&(t.watchSlidesProgress=!0,t._classNames.push(n+"3d")),"slide"!==r&&t._classNames.push(n+r),"cube"===r&&(t.resistanceRatio=0,t.slidesPerView=1,t.slidesPerColumn=1,t.slidesPerGroup=1,t.centeredSlides=!1,t.spaceBetween=0,t.virtualTranslate=!0,t.setWrapperSize=!1),"fade"!==r&&"flip"!==r||(t.slidesPerView=1,t.slidesPerColumn=1,t.slidesPerGroup=1,t.watchSlidesProgress=!0,t.spaceBetween=0,t.setWrapperSize=!1,t.virtualTranslate=!0),t._wrapper=t.container.querySelector("."+Zu.wrapper),t.paginationType&&(t._paginationContainer=t.container.querySelector(".swiper-pagination"),"bullets"===t.paginationType&&t._paginationContainer.classList.add(Zu.paginationModifier+"clickable"),t._paginationContainer.classList.add(Zu.paginationModifier+t.paginationType)),t._rtl=bt(t)&&("rtl"===t.container.dir.toLowerCase()||"rtl"===t.container.style.direction),t._rtl&&t._classNames.push(n+"rtl"),t.slidesPerColumn>1&&t._classNames.push(n+"multirow"),e.is("android")&&t._classNames.push(n+"android"),t._classNames.forEach(function(e){t.container.classList.add(e)}),t._translate=0,t.progress=0,t.velocity=0,t._autoplayTimeoutId=void 0,t._autoplaying=!1,t._autoplayPaused=!1,t._allowClick=!0,t._animating=!1,t._touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},t.loop&&function(t){dt(t._wrapper,"."+Zu.slide+"."+Zu.slideDuplicate,function(t){t.parentElement.removeChild(t)});var e=t._wrapper.querySelectorAll("."+Zu.slide);"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=e.length);t.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),t.loopedSlides=t.loopedSlides+t.loopAdditionalSlides,t.loopedSlides>e.length&&(t.loopedSlides=e.length);for(var n=[],r=[],i=0;i<e.length;i++){var o=e[i];i<t.loopedSlides&&r.push(o),i<e.length&&i>=e.length-t.loopedSlides&&n.push(o),o.setAttribute("data-swiper-slide-index",i)}for(i=0;i<r.length;i++){var a=r[i].cloneNode(!0);lt(a,Zu.slideDuplicate),t._wrapper.appendChild(a)}for(i=n.length-1;i>=0;i--){var s=n[i].cloneNode(!0);lt(s,Zu.slideDuplicate),t._wrapper.insertBefore(s,t._wrapper.firstElementChild)}}(t),Jt(t,e),Qt(t,e),Tt(t),"slide"!==r&&Qu[r]&&(t.loop||St(t),Qu[r].setTranslate(t,e)),t.loop?ee(t,e,t.initialSlide+t.loopedSlides,0,t.runCallbacksOnInit):(ee(t,e,t.initialSlide,0,t.runCallbacksOnInit),0===t.initialSlide&&Ct(t)),t.autoplay&&Yt(t,e)}}function $t(t,e){var n=t.autoplay,r=t._slides[t._activeIndex];r.hasAttribute("data-swiper-autoplay")&&(n=r.getAttribute("data-swiper-autoplay")||t.autoplay),t._autoplayTimeoutId=e.timeout(function(){t._zone.run(function(){t.loop?(te(t,e),ie(t,e,!0,void 0,!0),t.ionSlideAutoplay.emit(t)):t._isEnd?t.autoplayStopOnLast?Kt(t):(ee(t,e,0),t.ionSlideAutoplay.emit(t)):(ie(t,e,!0,void 0,!0),t.ionSlideAutoplay.emit(t))})},n)}function Yt(t,e){return void 0===t._autoplayTimeoutId&&(!(!t.autoplay||t._autoplaying)&&(t._autoplaying=!0,t._zone.run(function(){t.ionSlideAutoplayStart.emit(t)}),void $t(t,e)))}function Kt(t){t._autoplayTimeoutId&&(t._autoplayTimeoutId&&clearTimeout(t._autoplayTimeoutId),t._autoplaying=!1,t._autoplayTimeoutId=void 0,t._zone.run(function(){t.ionSlideAutoplayStop.emit(t)}))}function Xt(t,e,n){t._autoplayPaused||(t._autoplayTimeoutId&&clearTimeout(t._autoplayTimeoutId),t._autoplayPaused=!0,0===n?(t._autoplayPaused=!1,$t(t,e)):e.transitionEnd(t._wrapper,function(){t&&(t._autoplayPaused=!1,t._autoplaying?$t(t,e):Kt(t))}))}function Zt(t){var e,n=[],r=0;if("auto"!==t.slidesPerView&&t.slidesPerView>1)for(e=0;e<Math.ceil(t.slidesPerView);e++){var i=t._activeIndex+e;if(i>t._slides.length)break;n.push(t._slides[i])}else n.push(t._slides[t._activeIndex]);for(e=0;e<n.length;e++)if(void 0!==n[e]){var o=n[e].offsetHeight;r=o>r?o:r}r&&(t._wrapper.style.height=r+"px")}function Jt(t,e){var n,r,i=t.container;if(n=void 0!==t.width?t.width:i.clientWidth,r=void 0!==t.renderedHeight?t.renderedHeight:i.clientHeight,!(0===n&&bt(t)||0===r&&!bt(t))){var o=e.getElementComputedStyle(i);n=n-parseInt(o.paddingLeft,10)-parseInt(o.paddingRight,10),r=r-parseInt(o.paddingTop,10)-parseInt(o.paddingBottom,10),t.renderedWidth=n,t.renderedHeight=r,t._renderedSize=bt(t)?n:r}}function Qt(t,e){t._slides=t._wrapper.querySelectorAll("."+Zu.slide),t._snapGrid=[],t._slidesGrid=[],t._slidesSizesGrid=[];var n,r=t.spaceBetween,i=-t.slidesOffsetBefore,o=0,a=0;if(void 0!==t._renderedSize){"string"==typeof r&&r.indexOf("%")>=0&&(r=parseFloat(r.replace("%",""))/100*t._renderedSize),t._virtualSize=-r,ut(t._slides,t._rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var s;t.slidesPerColumn>1&&(s=Math.floor(t._slides.length/t.slidesPerColumn)===t._slides.length/t.slidesPerColumn?t._slides.length:Math.ceil(t._slides.length/t.slidesPerColumn)*t.slidesPerColumn,"auto"!==t.slidesPerView&&"row"===t.slidesPerColumnFill&&(s=Math.max(s,t.slidesPerView*t.slidesPerColumn)));var u,l=t.slidesPerColumn,c=s/l,f=c-(t.slidesPerColumn*c-t._slides.length);for(n=0;n<t._slides.length;n++){u=0;var p=t._slides[n];if(t.slidesPerColumn>1){var d,h,m;"column"===t.slidesPerColumnFill?(m=n-(h=Math.floor(n/l))*l,(h>f||h===f&&m===l-1)&&++m>=l&&(m=0,h++),ut(p,{"-webkit-box-ordinal-group":d=h+m*s/l,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):h=n-(m=Math.floor(n/c))*c;var g=0!==m&&t.spaceBetween&&t.spaceBetween+"px",v={};bt(t)?v.marginTop=g:v.marginLeft=g,ut(p,v),p.setAttribute("data-swiper-column",h),p.setAttribute("data-swiper-row",m)}if("none"!==p.style.display){if("auto"===t.slidesPerView){var y=e.getElementComputedStyle(p);u=bt(t)?p.offsetWidth+parseFloat(y.marginRight)+parseFloat(y.marginLeft):p.offsetHeight+parseFloat(y.marginTop)+parseFloat(y.marginBottom),t.roundLengths&&(u=st(u))}else u=(t._renderedSize-(t.slidesPerView-1)*r)/t.slidesPerView,t.roundLengths&&(u=st(u)),bt(t)?t._slides[n].style.width=u+"px":t._slides[n].style.height=u+"px";t._slides[n].swiperSlideSize=u,t._slidesSizesGrid.push(u),t.centeredSlides?(i=i+u/2+o/2+r,0===n&&(i=i-t._renderedSize/2-r),Math.abs(i)<.001&&(i=0),a%t.slidesPerGroup==0&&t._snapGrid.push(i),t._slidesGrid.push(i)):(a%t.slidesPerGroup==0&&t._snapGrid.push(i),t._slidesGrid.push(i),i=i+u+r),t._virtualSize+=u+r,o=u,a++}}t._virtualSize=Math.max(t._virtualSize,t._renderedSize)+t.slidesOffsetAfter;var b;if(!t._rtl||"slide"!==t.effect&&"coverflow"!==t.effect||ut(t._wrapper,{width:t._virtualSize+t.spaceBetween+"px"}),t.setWrapperSize&&(bt(t)?ut(t._wrapper,{width:t._virtualSize+t.spaceBetween+"px"}):ut(t._wrapper,{height:t._virtualSize+t.spaceBetween+"px"})),t.slidesPerColumn>1&&(t._virtualSize=(u+t.spaceBetween)*s,t._virtualSize=Math.ceil(t._virtualSize/t.slidesPerColumn)-t.spaceBetween,bt(t)?ut(t._wrapper,{width:t._virtualSize+t.spaceBetween+"px"}):ut(t._wrapper,{height:t._virtualSize+t.spaceBetween+"px"}),t.centeredSlides)){for(b=[],n=0;n<t._snapGrid.length;n++)t._snapGrid[n]<t._virtualSize+t._snapGrid[0]&&b.push(t._snapGrid[n]);t._snapGrid=b}if(!t.centeredSlides){for(b=[],n=0;n<t._snapGrid.length;n++)t._snapGrid[n]<=t._virtualSize-t._renderedSize&&b.push(t._snapGrid[n]);t._snapGrid=b,Math.floor(t._virtualSize-t._renderedSize)-Math.floor(t._snapGrid[t._snapGrid.length-1])>1&&t._snapGrid.push(t._virtualSize-t._renderedSize)}0===t._snapGrid.length&&(t._snapGrid=[0]),0!==t.spaceBetween&&(bt(t)?ut(t._slides,t._rtl?{marginLeft:r+"px"}:{marginRight:r+"px"}):ut(t._slides,{marginBottom:r+"px"})),t.watchSlidesProgress&&yt(t)}}function te(t,e){var n;t._activeIndex<t.loopedSlides?(n=t._slides.length-3*t.loopedSlides+t._activeIndex,ee(t,e,n+=t.loopedSlides,0,!1,!0)):("auto"===t.slidesPerView&&t._activeIndex>=2*t.loopedSlides||t._activeIndex>t._slides.length-2*t.slidesPerView)&&(n=-t._slides.length+t._activeIndex+t.loopedSlides,ee(t,e,n+=t.loopedSlides,0,!1,!0))}function ee(t,e,n,r,i,o){void 0===i&&(i=!0),void 0===n&&(n=0),n<0&&(n=0),t._snapIndex=Math.floor(n/t.slidesPerGroup),t._snapIndex>=t._snapGrid.length&&(t._snapIndex=t._snapGrid.length-1);var a=-t._snapGrid[t._snapIndex];return t.autoplay&&t._autoplaying&&(o||!t.autoplayDisableOnInteraction?Xt(t,e,r):Kt(t)),St(t,a),!(!t._allowSwipeToNext&&a<t._translate&&a<wt(t))&&(!(!t._allowSwipeToPrev&&a>t._translate&&a>xt(t)&&(t._activeIndex||0)!==n)&&(void 0===r&&(r=t.speed),t._previousIndex=t._activeIndex||0,t._activeIndex=n,It(t),t._rtl&&-a===t._translate||!t._rtl&&a===t._translate?(t.autoHeight&&Zt(t),Pt(t),"slide"!==t.effect&&jt(t,e,a),!1):(Pt(t),ne(t,i),0===r?(jt(t,e,a),zt(t,e,0),re(t,e,i)):(jt(t,e,a),zt(t,e,r),t._animating||(t._animating=!0,e.transitionEnd(t._wrapper,function(){t&&re(t,e,i)}))),!0)))}function ne(t,e){void 0===e&&(e=!0),t.autoHeight&&Zt(t),e&&t._zone.run(function(){t.ionSlideTransitionStart.emit(t),t._activeIndex!==t._previousIndex&&(t.ionSlideWillChange.emit(t),t._activeIndex>t._previousIndex?t.ionSlideNextStart.emit(t):t.ionSlidePrevStart.emit(t))})}function re(t,e,n){void 0===n&&(n=!0),t._animating=!1,zt(t,e,0),n&&t._zone.run(function(){t.ionSlideTransitionEnd.emit(t),t._activeIndex!==t._previousIndex&&(t.ionSlideDidChange.emit(t),t._activeIndex>t._previousIndex?t.ionSlideNextEnd.emit(t):t.ionSlidePrevEnd.emit(t))})}function ie(t,e,n,r,i){if(t.loop)return!t._animating&&(te(t,e),ee(t,e,t._activeIndex+t.slidesPerGroup,r,n,i));var o=t._activeIndex+t.slidesPerGroup;return o<t._slides.length&&ee(t,e,o,r,n,i)}function oe(t,e,n,r,i){if(t.loop)return!t._animating&&(te(t,e),ee(t,e,t._activeIndex-1,r,n,i));return t._activeIndex-1>=0&&ee(t,e,t._activeIndex-1,r,n,i)}function ae(t){Kt(t),t.loop&&function(t){if(dt(t._wrapper,"."+Zu.slide+"."+Zu.slideDuplicate,function(t){t.parentElement.removeChild(t)}),t._slides)for(var e=0;e<t._slides.length;e++)t._slides[e].removeAttribute("data-swiper-slide-index")}(t),function(t){if(t.container&&t._wrapper){if(t.container&&(ct(t.container,t._classNames),t.container.removeAttribute("style")),t._wrapper.removeAttribute("style"),t._slides&&t._slides.length){ct(t._slides,[Zu.slideVisible,Zu.slideActive,Zu.slideNext,Zu.slidePrev]);for(var e=0;e<t._slides.length;e++){var n=t._slides[e];n.removeAttribute("style"),n.removeAttribute("data-swiper-column"),n.removeAttribute("data-swiper-row")}}ct(t._bullets,Zu.bulletActive),ct(t.prevButton,Zu.buttonDisabled),ct(t.nextButton,Zu.buttonDisabled)}}(t)}function se(t,e,n){n&&!t._keyboardUnReg?t._keyboardUnReg=e.registerListener(e.doc(),"keydown",function(n){!function(t,e,n){var r=e.win(),i=n.keyCode||n.charCode;if(!t._allowSwipeToNext&&(bt(t)&&39===i||!bt(t)&&40===i))return!1;if(!t._allowSwipeToPrev&&(bt(t)&&37===i||!bt(t)&&38===i))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey)){var o=e.getActiveElement();if(!o||!o.nodeName||"input"!==o.nodeName.toLowerCase()&&"textarea"!==o.nodeName.toLowerCase()){if(37===i||39===i||38===i||40===i){var a=!1;if(t.container.closest("."+Zu.slide)&&!t.container.closest("."+Zu.slideActive))return;var s={left:r.pageXOffset,top:r.pageYOffset},u=e.width(),l=e.height(),c=vt(t.container,e);t._rtl&&(c.left=c.left-t.container.scrollLeft);for(var f=[[c.left,c.top],[c.left+t.renderedWidth,c.top],[c.left,c.top+t.renderedHeight],[c.left+t.renderedWidth,c.top+t.renderedHeight]],p=0;p<f.length;p++){var d=f[p];d[0]>=s.left&&d[0]<=s.left+u&&d[1]>=s.top&&d[1]<=s.top+l&&(a=!0)}if(!a)return}bt(t)?(37!==i&&39!==i||(n.preventDefault?n.preventDefault():n.returnValue=!1),(39===i&&!t._rtl||37===i&&t._rtl)&&ie(t,e),(37===i&&!t._rtl||39===i&&t._rtl)&&oe(t,e)):(38!==i&&40!==i||(n.preventDefault?n.preventDefault():n.returnValue=!1),40===i&&ie(t,e),38===i&&oe(t,e))}}}(t,e,n)},{zone:!1}):!n&&t._keyboardUnReg&&t._keyboardUnReg()}function ue(t,e){var n=e.win(),r=e.doc();t._supportTouch=!!("ontouchstart"in n||n.DocumentTouch&&r instanceof n.DocumentTouch),t._touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},n.navigator.pointerEnabled?t._touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:n.navigator.msPointerEnabled&&(t._touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),t._touchEvents={start:t._supportTouch||!t.simulateTouch?"touchstart":t._touchEventsDesktop.start,move:t._supportTouch||!t.simulateTouch?"touchmove":t._touchEventsDesktop.move,end:t._supportTouch||!t.simulateTouch?"touchend":t._touchEventsDesktop.end},(n.navigator.pointerEnabled||n.navigator.msPointerEnabled)&&("container"===t.touchEventsTarget?t.container:t._wrapper).classList.add("swiper-wp8-"+t.direction);var i=[],o="container"===t.touchEventsTarget?t.container:t._wrapper;t._supportTouch&&(e.registerListener(o,t._touchEvents.start,function(n){ce(t,e,n)},{passive:!0,zone:!1},i),e.registerListener(o,t._touchEvents.move,function(n){fe(t,e,n)},{zone:!1},i),e.registerListener(o,t._touchEvents.end,function(n){pe(t,e,n)},{passive:!0,zone:!1},i)),(t.simulateTouch&&!e.is("ios")&&!e.is("android")||t.simulateTouch&&!t._supportTouch&&e.is("ios")||e.getQueryParam("ionicPlatform"))&&(e.registerListener(o,"mousedown",function(n){ce(t,e,n)},{zone:!1},i),e.registerListener(o,"mousemove",function(n){fe(t,e,n)},{zone:!1},i),e.registerListener(o,"mouseup",function(n){pe(t,e,n)},{zone:!1},i));var a=e.resize.subscribe(function(){return function(t,e,n){js&&(e.cancelTimeout(js),js=null);js=e.timeout(function(){return function(t,e,n){js=null;var r=t._allowSwipeToPrev,i=t._allowSwipeToNext;t._allowSwipeToPrev=t._allowSwipeToNext=!0,Jt(t,e),Qt(t,e),("auto"===t.slidesPerView||t.freeMode||n)&&Tt(t);t._spline&&(t._spline=void 0);if(t.freeMode){var o=Math.min(Math.max(t._translate,xt(t)),wt(t));jt(t,e,o),Nt(t),Pt(t),t.autoHeight&&Zt(t)}else Pt(t),ee(t,e,("auto"===t.slidesPerView||t.slidesPerView>1)&&t._isEnd&&!t.centeredSlides?t._slides.length-1:t._activeIndex,0,!1,!0);t._allowSwipeToPrev=r,t._allowSwipeToNext=i}(t,e,n)},200)}(t,e,!1)});return t.nextButton&&e.registerListener(t.nextButton,"click",function(n){!function(t,e,n){if(n.preventDefault(),t._isEnd&&!t.loop)return;ie(t,e)}(t,e,n)},{zone:!1},i),t.prevButton&&e.registerListener(t.prevButton,"click",function(n){!function(t,e,n){if(n.preventDefault(),t._isBeginning&&!t.loop)return;oe(t,e)}(t,e,n)},{zone:!1},i),t.paginationType&&e.registerListener(t._paginationContainer,"click",function(n){!function(t,e,n){var r=n.target.getAttribute("data-slide-index");if(r){var i=parseInt(r,10);n.preventDefault(),t.loop&&(i+=t.loopedSlides),ee(t,e,i)}}(t,e,n)},{zone:!1},i),(t.preventClicks||t.preventClicksPropagation)&&e.registerListener(o,"click",function(e){!function(t,e){t._allowClick||(t.preventClicks&&e.preventDefault(),t.preventClicksPropagation&&t._animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}(t,e)},{zone:!1,capture:!0},i),function(){a.unsubscribe(),i.forEach(function(t){t()}),i=null}}function le(t,e){var n=t.target;if(!n.matches(e))if("string"==typeof e)n=n.closest(e);else if(e.nodeType){for(var r=n.parentElement;r;)if(r===e)return e;return}return n}function ce(t,e,n){if(n.originalEvent&&(n=n.originalEvent),t.originalEvent=n,(Rs="touchstart"===n.type)||!("which"in n)||3!==n.which)if(t.noSwiping&&le(n,"."+Zu.noSwiping))t._allowClick=!0;else if(!t.swipeHandler||le(n,t.swipeHandler)){var r=t._touches.currentX="touchstart"===n.type?n.targetTouches[0].pageX:n.pageX,i=t._touches.currentY="touchstart"===n.type?n.targetTouches[0].pageY:n.pageY;if(!(e.is("ios")&&t.iOSEdgeSwipeDetection&&r<=t.iOSEdgeSwipeThreshold)){if(Ss=!0,Os=!1,ks=!0,Ps=void 0,void 0,t._touches.startX=r,t._touches.startY=i,Ts=Date.now(),t._allowClick=!0,Jt(t,e),t.swipeDirection=void 0,t.threshold>0&&(As=!1),"touchstart"!==n.type){var o=!0;_t(n.target)&&(o=!1),e.focusOutActiveElement(),o&&n.preventDefault()}t.ionSlideTouchStart.emit(n)}}}function fe(t,e,n){if(n.originalEvent&&(n=n.originalEvent),t.originalEvent=n,!Rs||"mousemove"!==n.type){if(n.preventedByNestedSwiper)return t._touches.startX="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,void(t._touches.startY="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY);if(t.onlyExternal)return t._allowClick=!1,void(Ss&&(t._touches.startX=t._touches.currentX="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,t._touches.startY=t._touches.currentY="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY,Ts=Date.now()));if(Rs&&t.touchReleaseOnEdges&&!t.loop)if(bt(t)){if(t._touches.currentX<t._touches.startX&&t._translate<=xt(t)||t._touches.currentX>t._touches.startX&&t._translate>=wt(t))return}else if(t._touches.currentY<t._touches.startY&&t._translate<=xt(t)||t._touches.currentY>t._touches.startY&&t._translate>=wt(t))return;var r=e.getActiveElement();if(Rs&&r&&n.target===r&&_t(n.target))return Os=!0,void(t._allowClick=!1);if(!(n.targetTouches&&n.targetTouches.length>1)){if(t._touches.currentX="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,t._touches.currentY="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY,void 0===Ps){var i;bt(t)&&t._touches.currentY===t._touches.startY||!bt(t)&&t._touches.currentX===t._touches.startX?Ps=!1:(i=180*Math.atan2(Math.abs(t._touches.currentY-t._touches.startY),Math.abs(t._touches.currentX-t._touches.startX))/Math.PI,Ps=bt(t)?i>t.touchAngle:90-i>t.touchAngle)}if(Ss)if(Ps)Ss=!1;else{t._allowClick=!1,t.ionSlideDrag.emit(t),n.preventDefault(),t.touchMoveStopPropagation&&n.stopPropagation(),Os||(t.loop&&te(t,e),Is=function(t,e,n){return void 0===n&&(n=bt(t)?"x":"y"),Lt(t,e,t._wrapper,n)}(t,e),zt(t,e,0),t._animating&&gt(e,t._wrapper),t.autoplay&&t._autoplaying&&(t.autoplayDisableOnInteraction?Kt(t):Xt(t,e)),Ds=!1),Os=!0;var o=t._touches.diff=bt(t)?t._touches.currentX-t._touches.startX:t._touches.currentY-t._touches.startY;o*=t.touchRatio,t._rtl&&(o=-o),t.swipeDirection=o>0?"prev":"next",Ns=o+Is;var a=!0;if(o>0&&Ns>wt(t)?(a=!1,t.resistance&&(Ns=wt(t)-1+Math.pow(-wt(t)+Is+o,t.resistanceRatio))):o<0&&Ns<xt(t)&&(a=!1,t.resistance&&(Ns=xt(t)+1-Math.pow(xt(t)-Is-o,t.resistanceRatio))),a&&(n.preventedByNestedSwiper=!0),!t._allowSwipeToNext&&"next"===t.swipeDirection&&Ns<Is&&(Ns=Is),!t._allowSwipeToPrev&&"prev"===t.swipeDirection&&Ns>Is&&(Ns=Is),t.threshold>0){if(!(Math.abs(o)>t.threshold||As))return void(Ns=Is);if(!As)return As=!0,t._touches.startX=t._touches.currentX,t._touches.startY=t._touches.currentY,Ns=Is,void(t._touches.diff=bt(t)?t._touches.currentX-t._touches.startX:t._touches.currentY-t._touches.startY)}t.followFinger&&((t.freeMode||t.watchSlidesProgress)&&Nt(t),t.freeMode&&(0===el.length&&el.push({position:t._touches[bt(t)?"startX":"startY"],time:Ts}),el.push({position:t._touches[bt(t)?"currentX":"currentY"],time:(new Date).getTime()})),St(t,Ns),jt(t,e,Ns))}}}}function pe(t,e,n){if(n.originalEvent&&(n=n.originalEvent),t.originalEvent=n,ks&&t.ionSlideTouchEnd.emit(n),ks=!1,Ss){var r=Date.now(),i=r-Ts;if(t._allowClick&&(!function(t,e,n){var r=le(n,"."+Zu.slide),i=-1;if(r)for(var o=0;o<t._slides.length;o++)if(t._slides[o]===r){i=o;break}if(!(r&&i>-1))return t.clickedSlide=void 0,void(t.clickedIndex=void 0);if(t.clickedSlide=r,t.clickedIndex=i,t.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t._activeIndex){var a,s=t.clickedIndex,u="auto"===t.slidesPerView?function(t){var e,n,r=1;if(t.centeredSlides){var i,o=t._slides[t._activeIndex].swiperSlideSize;for(e=t._activeIndex+1;e<t._slides.length;e++)t._slides[e]&&!i&&(r++,(o+=t._slides[e].swiperSlideSize)>t._renderedSize&&(i=!0));for(n=t._activeIndex-1;n>=0;n--)t._slides[n]&&!i&&(r++,(o+=t._slides[n].swiperSlideSize)>t._renderedSize&&(i=!0))}else for(e=t._activeIndex+1;e<t._slides.length;e++)t._slidesGrid[e]-t._slidesGrid[t._activeIndex]<t._renderedSize&&r++;return r}(t):t.slidesPerView;if(t.loop){if(t._animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<t.loopedSlides-u/2||s>t._slides.length-t.loopedSlides+u/2?(te(t,e),s=ft(t._wrapper.querySelector("."+Zu.slide+'[data-swiper-slide-index="'+a+'"]:not(.'+Zu.slideDuplicate+")")),e.timeout(function(){ee(t,e,s)})):ee(t,e,s):s>t._slides.length-u?(te(t,e),s=ft(t._wrapper.querySelector("."+Zu.slide+'[data-swiper-slide-index="'+a+'"]:not(.'+Zu.slideDuplicate+")")),e.timeout(function(){ee(t,e,s)})):ee(t,e,s)}else ee(t,e,s)}}(t,e,n),t._zone.run(function(){t.ionSlideTap.emit(t),i<300&&r-tl>300&&(Ms&&e.cancelTimeout(Ms),Ms=e.timeout(function(){t&&t.paginationHide&&t._paginationContainer&&!n.target.classList.contains(Zu.bullet)&&t._paginationContainer.classList.toggle(Zu.paginationHidden)},300)),i<300&&r-tl<300&&(Ms&&clearTimeout(Ms),t.ionSlideDoubleTap.emit(t))})),tl=Date.now(),e.timeout(function(){t&&(t._allowClick=!0)}),Ss&&Os&&t.swipeDirection&&0!==t._touches.diff&&Ns!==Is){Ss=Os=!1;var o;if(o=t.followFinger?t._rtl?t._translate:-t._translate:-Ns,t.freeMode){if(o<-wt(t))return void ee(t,e,t._activeIndex);if(o>-xt(t))return void ee(t,e,t._slides.length<t._snapGrid.length?t._snapGrid.length-1:t._slides.length-1);if(t.freeModeMomentum){if(el.length>1){var a=el.pop(),s=el.pop(),u=a.time-s.time;t.velocity=(a.position-s.position)/u,t.velocity=t.velocity/2,Math.abs(t.velocity)<t.freeModeMinimumVelocity&&(t.velocity=0),(u>150||(new Date).getTime()-a.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity=t.velocity*t.freeModeMomentumVelocityRatio,el.length=0;var l=1e3*t.freeModeMomentumRatio,c=t._translate+t.velocity*l;t._rtl&&(c=-c);var f,p=!1,d=20*Math.abs(t.velocity)*t.freeModeMomentumBounceRatio;if(c<xt(t))t.freeModeMomentumBounce?(c+xt(t)<-d&&(c=xt(t)-d),f=xt(t),p=!0,Ds=!0):c=xt(t);else if(c>wt(t))t.freeModeMomentumBounce?(c-wt(t)>d&&(c=wt(t)+d),f=wt(t),p=!0,Ds=!0):c=wt(t);else if(t.freeModeSticky){var h,m=0;for(m=0;m<t._snapGrid.length;m+=1)if(t._snapGrid[m]>-c){h=m;break}c=Math.abs(t._snapGrid[h]-c)<Math.abs(t._snapGrid[h-1]-c)||"next"===t.swipeDirection?t._snapGrid[h]:t._snapGrid[h-1],t._rtl||(c=-c)}if(0!==t.velocity)l=t._rtl?Math.abs((-c-t._translate)/t.velocity):Math.abs((c-t._translate)/t.velocity);else if(t.freeModeSticky)return void function(t,e,n,r){ee(t,e,t._activeIndex,r,n,!0)}(t,e);t.freeModeMomentumBounce&&p?(St(t,f),zt(t,e,l),jt(t,e,c),ne(t),t._animating=!0,e.transitionEnd(t._wrapper,function(){t&&Ds&&(zt(t,e,t.speed),jt(t,e,f),e.transitionEnd(t._wrapper,function(){t&&re(t,e)}))})):t.velocity?(St(t,c),zt(t,e,l),jt(t,e,c),ne(t),t._animating||(t._animating=!0,e.transitionEnd(t._wrapper,function(){t&&re(t,e)}))):St(t,c),Nt(t)}(!t.freeModeMomentum||i>=t.longSwipesMs)&&(St(t),Nt(t))}else{for(var g=0,v=t._slidesSizesGrid[0],y=0;y<t._slidesGrid.length;y+=t.slidesPerGroup)void 0!==t._slidesGrid[y+t.slidesPerGroup]?o>=t._slidesGrid[y]&&o<t._slidesGrid[y+t.slidesPerGroup]&&(g=y,v=t._slidesGrid[y+t.slidesPerGroup]-t._slidesGrid[y]):o>=t._slidesGrid[y]&&(g=y,v=t._slidesGrid[t._slidesGrid.length-1]-t._slidesGrid[t._slidesGrid.length-2]);var b=(o-t._slidesGrid[g])/v;if(i>t.longSwipesMs){if(!t.longSwipes)return void ee(t,e,t._activeIndex);"next"===t.swipeDirection&&ee(t,e,b>=t.longSwipesRatio?g+t.slidesPerGroup:g),"prev"===t.swipeDirection&&ee(t,e,b>1-t.longSwipesRatio?g+t.slidesPerGroup:g)}else{if(!t.shortSwipes)return void ee(t,e,t._activeIndex);"next"===t.swipeDirection&&ee(t,e,g+t.slidesPerGroup),"prev"===t.swipeDirection&&ee(t,e,g)}}}else Ss=Os=!1}}function de(t,e,n,r,i,o){var a,s,u,l,c=e?e.length-1:-1;if(n.length){if((u=n[n.length-1]).top+u.height>t)return;s=u.record+1}else u=tc,s=0;for(var f=0,p=s;p<=c;p++)if(a=e[p],r&&null!==(l=r(a,p,e))&&(u=he(u,p,1,l,o.hdrWidth,o.hdrHeight,o.viewWidth),n.push(u)),u=he(u,p,0,null,o.itmWidth,o.itmHeight,o.viewWidth),n.push(u),i&&null!==(l=i(a,p,e))&&(u=he(u,p,2,l,o.ftrWidth,o.ftrHeight,o.viewWidth),n.push(u)),u.record===c&&(u.isLast=!0),f++,u.top+u.height+o.itmHeight>t&&f>3)return}function he(t,e,n,r,i,o,a){var s={record:e,tmpl:n,width:i,height:o,reads:0};return t.left+t.width+i>a?(s.row=t.row+1,s.top=t.top+t.height,s.left=0):(s.row=t.row,s.top=t.top,s.left=t.left+t.width),r&&(s.data=r),s}function me(t,e,n,r,i,o,a,s,u,l){if(!i||0===i.length)return o.length=0,a.clear(),!0;var c,f,p,d=i.length,h=!1,m=null,g=o.length;t=Math.max(t,0),e=Math.min(e,r.length-1);for(var v=[],y=t;y<=e;y++){f=r[y],c=null;var b=o.find(function(t){return t.cell===y&&t.tmpl===f.tmpl});if(b){if(b.view.context.$implicit===i[f.record]){v.push(b);continue}c=b}else for(var _=0;_<g;_++){f.tmpl!==(x=o[_]).tmpl||0===_&&0!==y||(x.cell<t||x.cell>e)&&(c?n?x.cell<c.cell&&(c=x):x.cell>c.cell&&(c=x):c=x)}if(!c){if(null===m){m=-1;for(var w=g-1;w>=0;w--){var x;if(x=o[w]){m=a.indexOf(x.view);break}}}if(!(p=1===f.tmpl?u:2===f.tmpl?l:s)){console.error("virtual"+(1===f.tmpl?"Header":2===f.tmpl?"Footer":"Item")+" template required");continue}c={tmpl:f.tmpl,view:a.createEmbeddedView(p,new ec(null,null,null),m)},g=o.push(c)}c.cell=y;var E=c.view.context;E.$implicit=f.data||i[f.record],E.index=y,E.count=d,c.hasChanges=!0,c.lastTransform=null,h=!0,v.push(c)}var C=o.filter(function(t){return v.indexOf(t)<0});return C.forEach(function(t){var e=a.indexOf(t.view);a.remove(e);var n=o.findIndex(function(e){return e===t});o.splice(n,1)}),v.length=0,C.length=0,h}function ge(t,e,n,r,i){for(var o,a,s,u=n.length,l=0;l<e.length;l++)(a=n[(o=e[l]).cell])&&a.reads<rc&&(function(t,e,n){var r=t.getElementComputedStyle(n);e.left=n.clientLeft-parseFloat(r.marginLeft),e.width=n.offsetWidth+parseFloat(r.marginLeft)+parseFloat(r.marginRight),e.height=n.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom)}(t,a,xe(o)),i&&(1===a.tmpl?(r.hdrHeight=a.height,0===a.left&&(r.hdrWidth=a.width)):2===a.tmpl?(r.ftrHeight=a.height,0===a.left&&(r.ftrWidth=a.width)):(r.itmHeight=a.height,0===a.left&&(r.itmWidth=a.width))),a.reads++);var c=r.scrollTop+r.viewHeight;if(r.topViewCell=u,r.bottomViewCell=0,u>0){s={row:0,width:0,height:0,top:(a=n[0]).top,left:0,tmpl:-1};for(var f=0;f<u;f++)s.left+s.width+(a=n[f]).width>r.viewWidth?(a.row++,a.top=s.top+s.height,a.left=0):(a.row=s.row,a.top=s.top,a.left=s.left+s.width),a.top+a.height>r.scrollTop&&f<r.topViewCell?r.topViewCell=f:a.top<c&&f>r.bottomViewCell&&(r.bottomViewCell=f),s=a}}function ve(t,e,n){for(var r,i,o,a=0,s=t.length;a<s;a++)i=e[(r=t[a]).cell],r&&i&&((o=r.view.context.bounds).top=i.top+n.viewTop,o.bottom=o.top+i.height,o.left=i.left+n.viewLeft,o.right=o.left+i.width,o.width=i.width,o.height=i.height)}function ye(t,e){var n=e.renderHeight-e.itmHeight,r=t.length,i=e.itmHeight<90?nc:0;if(e.scrollDiff>0){e.topCell=Math.max(e.topViewCell-i,0),e.bottomCell=e.topCell;for(var o=0,a=e.topCell;a<r&&(o+=t[a].height,a>e.bottomCell&&(e.bottomCell=a),!(o>=n));a++);if(o<n)for(a=e.topCell-1;a>=0&&(o+=t[a].height,e.topCell=a,!(o>=n));a--);}else{e.bottomCell=Math.min(e.bottomViewCell+i,r-1),e.topCell=e.bottomCell;for(o=0,a=e.bottomCell;a>=0&&(o+=t[a].height,a<e.topCell&&(e.topCell=a),!(o>=n));a--);if(o<n)for(a=e.bottomCell;a<r&&(o+=t[a].height,e.bottomCell=a,!(o>=n));a++);}}function be(t,e,n,r){if(!t||!e)return 0;var i=function(t,e){if(e.record>=t-1)return e.top+e.height;var n=t-e.record-1,r=e.top+e.height;return Math.ceil(r+r/(t-n)*n)}(t,e),o=e.record/(t-1);return Math.abs(n-i)>i*r||o>.995?i:n}function _e(t,e){if(e.indexOf("%")>0)return t*(parseFloat(e)/100);if(e.indexOf("px")>0)return parseFloat(e);throw new Error('virtual scroll width can only use "%" or "px" units')}function we(t,e){if(e.indexOf("px")>0)return parseFloat(e);throw new Error('virtual scroll height must use "px" units')}function xe(t){for(var e=t.view.rootNodes,n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];return null}function Ee(t){return function(t){return t}}function Ce(t,e){if(!e||!e.parentNode)return!0;if(!t)return!1;if(t.defaultPrevented)return!0;for(var n=t.target,r=0;r<4&&n;r++){if(n.hasAttribute("disable-activated"))return!0;n=n.parentElement}return!1}function Se(t){for(var e=t,n=0;n<10&&e;n++){if(Oe(e))return e;e=e.parentElement}return null}function Oe(t){if(pc.indexOf(t.tagName)>-1)return!0;for(var e=0,n=dc.length;e<n;e++)if(t.hasAttribute&&t.hasAttribute(dc[e]))return!0;return!1}function ke(t,e,n,r,i){return function(){return new fc(t,e,n,r,i)}}function Te(t,e,n){return setTimeout(Ae(t,n),e)}function Pe(t,e,n){return!!Array.isArray(t)&&(Ne(t,n[e],n),!0)}function Ne(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function Ie(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&Object.assign(r,n)}function Ae(t,e){return function(){return t.apply(e,arguments)}}function Me(t,e){return typeof t==_c?t.apply(e?e[0]||void 0:void 0,e):t}function De(t,e){return void 0===t?e:t}function Re(t,e,n){Ne(Fe(e),function(e){t.addEventListener(e,n,!1)})}function je(t,e,n){Ne(Fe(e),function(e){t.removeEventListener(e,n,!1)})}function Le(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function ze(t,e){return t.indexOf(e)>-1}function Fe(t){return t.trim().split(/\s+/g)}function Be(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function Ve(t){return Array.prototype.slice.call(t,0)}function Ue(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];Be(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]?1:0}):r.sort()),r}function We(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<yc.length;){if(n=yc[o],(r=n?n+i:e)in t)return r;o++}}function qe(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}function He(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Me(t.options.enable,[t])&&n.handler(e)},this.init()}function Ge(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&Pc&&r-i==0,a=e&(Ic|Ac)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=$e(e));i>1&&!n.firstMultiple?n.firstMultiple=$e(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=Ye(r);e.timeStamp=Ec(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Je(s,u),e.distance=Ze(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Pc&&o.eventType!==Ic||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=Xe(e.deltaX,e.deltaY);var l=Ke(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=xc(l.x)>xc(l.y)?l.x:l.y,e.scale=a?function(t,e){return Ze(e[0],e[1],Uc)/Ze(t[0],t[1],Uc)}(a.pointers,r):1,e.rotation=a?function(t,e){return Je(e[1],e[0],Uc)+Je(t[1],t[0],Uc)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(e.eventType!=Ac&&(s>Tc||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=Ke(s,u,l);r=c.x,i=c.y,n=xc(c.x)>xc(c.y)?c.x:c.y,o=Xe(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var c=t.element;Le(e.srcEvent.target,c)&&(c=e.srcEvent.target);e.target=c}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function $e(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:wc(t.pointers[n].clientX),clientY:wc(t.pointers[n].clientY)},n++;return{timeStamp:Ec(),pointers:e,center:Ye(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ye(t){var e=t.length;if(1===e)return{x:wc(t[0].clientX),y:wc(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:wc(n/e),y:wc(r/e)}}function Ke(t,e,n){return{x:e/t||0,y:n/t||0}}function Xe(t,e){return t===e?Mc:xc(t)>=xc(e)?t<0?Dc:Rc:e<0?jc:Lc}function Ze(t,e,n){n||(n=Vc);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function Je(t,e,n){n||(n=Vc);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function Qe(t,e){this.evEl=qc,this.evWin=Hc,this.allow=!0,this.pressed=!1,He.apply(this,arguments)}function tn(){this.evEl=Yc,this.evWin=Kc,He.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function en(){this.evTarget=Zc,this.evWin=Jc,this.started=!1,He.apply(this,arguments)}function nn(t,e){this.evTarget=tf,this.targetIds={},He.apply(this,arguments)}function rn(){He.apply(this,arguments);var t=Ae(this.handler,this);this.touch=new nn(this.manager,t),this.mouse=new Qe(this.manager,t)}function on(t,e){this.manager=t,this.set(e)}function an(t){this.options=Object.assign({},this.defaults,t||{}),this.id=Cc++,this.manager=null,this.options.enable=De(this.options.enable,!0),this.state=lf,this.simultaneous={},this.requireFail=[]}function sn(t){return t&hf?"cancel":t&pf?"end":t&ff?"move":t&cf?"start":""}function un(t){return t==Lc?"down":t==jc?"up":t==Dc?"left":t==Rc?"right":""}function ln(t,e){var n=e.manager;return n?n.get(t):t}function cn(){an.apply(this,arguments)}function fn(){cn.apply(this,arguments),this.pX=null,this.pY=null}function pn(){cn.apply(this,arguments)}function dn(){an.apply(this,arguments),this._timer=null,this._input=null}function hn(){cn.apply(this,arguments)}function mn(){cn.apply(this,arguments)}function gn(){an.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function vn(t,e){return e=e||{},e.recognizers=De(e.recognizers,mf.preset),new yn(t,e)}function yn(t,e){this.options=Object.assign({},mf,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(Oc?tn:kc?nn:Sc?rn:Qe))(t,Ge)}(this),this.touchAction=new on(this,this.options.touchAction),bn(this,!0),Ne(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function bn(t,e){var n=t.element;n.style&&Ne(t.options.cssProps,function(t,r){n.style[We(n.style,r)]=e?t:""})}function _n(t,e){var n=new vf,r=t.win(),i=t.doc();return t.timeout(function(){r.addEventListener("online",function(t){n.publish("app:online",t)},!1),r.addEventListener("offline",function(t){n.publish("app:offline",t)},!1),r.addEventListener("orientationchange",function(t){n.publish("app:rotated",t)}),r.addEventListener("statusTap",function(){var n=i.elementFromPoint(t.width()/2,t.height()/2);if(n){var r=n.closest(".scroll-content");if(r){var o=r.style,a=new ao(null,t,e);a._el=r,o.WebkitBackfaceVisibility="hidden",o.WebkitTransform="translate3d(0,0,0)",e.write(function(){function e(){o.overflow="",o.WebkitBackfaceVisibility="",o.WebkitTransform=""}o.overflow="hidden";var n=t.timeout(function(){e()},400);a.scrollTo(0,0,300).then(function(){t.cancelTimeout(n),e()})})}}})},2e3),n}function wn(t,e){return function(){return _n(t,e)}}function xn(){return _f}function En(t){return function(){t.setModeConfig("ios",xf),t.setModeConfig("md",Ef),t.setModeConfig("wp",Cf)}}function Cn(t,e,n){return"path"===n.get("locationStrategy")?new kf.PathLocationStrategy(t,e):new kf.HashLocationStrategy(t,e)}var Sn=n(0),On=n(36),kn=function(){function t(){this._c={},this._s={},this._modes={},this._trns={}}return t.prototype.init=function(t,e){this._s=t&&h(t)&&!m(t)?t:{},this.plt=e},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=this.plt;if(!c(this._c[t])){if(!c(t))throw"config key is not defined";var r=void 0,i=this._s[t],o=void 0,a=void 0,s=void 0,u=void 0,f=null;if(n){var p=n.getQueryParam("ionic"+t);if(c(p))return this._c[t]="true"===p||"false"!==p&&p;for(var d=n.platforms(),h=0,m=d.length;h<m;h++)this._s.platforms&&(f=this._s.platforms[d[h]])&&(c(f[t])&&(r=f[t]),(f=this.getModeConfig(f.mode))&&c(f[t])&&(o=f[t])),(f=n.getPlatformConfig(d[h]))&&f.settings&&(c(f.settings[t])&&(s=f.settings[t]),(f=this.getModeConfig(f.settings.mode))&&c(f[t])&&(u=f[t]))}(f=this.getModeConfig(this._s.mode))&&c(f[t])&&(a=f[t]),this._c[t]=c(r)?r:c(i)?i:c(o)?o:c(a)?a:c(s)?s:c(u)?u:null}var g=this._c[t];return l(g)&&(g=g(n)),null!==g?g:e},t.prototype.getBoolean=function(t,e){void 0===e&&(e=!1);var n=this.get(t);return null===n?e:"string"==typeof n?"true"===n:!!n},t.prototype.getNumber=function(t,e){void 0===e&&(e=NaN);var n=parseFloat(this.get(t));return isNaN(n)?e:n},t.prototype.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];switch(t.length){case 2:this._s[n]=r,delete this._c[n];break;case 3:this._s.platforms=this._s.platforms||{},this._s.platforms[n]=this._s.platforms[n]||{},this._s.platforms[n][r]=t[2],delete this._c[r]}return this},t.prototype.settings=function(t,e){switch(arguments.length){case 0:return this._s;case 1:this._s=t,this._c={};break;case 2:this._s.platforms=this._s.platforms||{},this._s.platforms[t]=e,this._c={}}return this},t.prototype.setModeConfig=function(t,e){this._modes[t]=e},t.prototype.getModeConfig=function(t){return this._modes[t]||null},t.prototype.setTransition=function(t,e){this._trns[t]=e},t.prototype.getTransition=function(t){return this._trns[t]||null},t}(),Tn=new Sn.InjectionToken("USERCONFIG"),Pn=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return this.data[t]},t}(),Nn=function(){function t(t,e,n){void 0===n&&(n=In),this.component=t,this._isHidden=!1,this._state=Dn,this.willEnter=new Sn.EventEmitter,this.didEnter=new Sn.EventEmitter,this.willLeave=new Sn.EventEmitter,this.didLeave=new Sn.EventEmitter,this.willUnload=new Sn.EventEmitter,this.readReady=new Sn.EventEmitter,this.writeReady=new Sn.EventEmitter,this.isOverlay=!1,this._emitter=new Sn.EventEmitter,this.data=e instanceof Pn?e.data:p(e)?e:{},this._cssClass=n,this._ts=Date.now(),window.addEventListener("orientationchange",this.handleOrientationChange.bind(this))}return t.prototype.handleOrientationChange=function(){this.getContent()&&this.getContent().resize()},t.prototype.init=function(t){this._ts=Date.now(),this._cmp=t,this.instance=this.instance||t.instance,this._detached=!1},t.prototype._setNav=function(t){this._nav=t},t.prototype._setInstance=function(t){this.instance=t},t.prototype.subscribe=function(t){return this._emitter.subscribe(t)},t.prototype.emit=function(t){this._emitter.emit(t)},t.prototype.onDidDismiss=function(t){this._onDidDismiss=t},t.prototype.onWillDismiss=function(t){this._onWillDismiss=t},t.prototype.dismiss=function(t,e,n){if(void 0===n&&(n={}),!this._nav)return Promise.resolve(!1);this.isOverlay&&!n.minClickBlockDuration&&(n.minClickBlockDuration=400),this._dismissData=t,this._dismissRole=e;var r=Object.assign({},this._leavingOpts,n);return this._nav.removeView(this,r).then(function(){return t})},t.prototype.getNav=function(){return this._nav},t.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("pageTransition")},t.prototype.getNavParams=function(){return new Pn(this.data)},t.prototype.setLeavingOpts=function(t){this._leavingOpts=t},t.prototype.enableBack=function(){if(!this._nav)return!1;return!!this._nav.getPrevious(this)},Object.defineProperty(t.prototype,"name",{get:function(){return this.component?this.component.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._nav?this._nav.indexOf(this):-1},enumerable:!0,configurable:!0}),t.prototype.isFirst=function(){return!!this._nav&&this._nav.first()===this},t.prototype.isLast=function(){return!!this._nav&&this._nav.last()===this},t.prototype._domShow=function(t,e){if(this._cmp&&t===this._isHidden){this._isHidden=!t;var n=t?null:"";e.setElementAttribute(this.pageRef().nativeElement,"hidden",n)}},t.prototype.getZIndex=function(){return this._zIndex},t.prototype._setZIndex=function(t,e){if(t!==this._zIndex){this._zIndex=t;var n=this.pageRef();n&&e.setElementStyle(n.nativeElement,"z-index",t)}},t.prototype.pageRef=function(){return this._cmp&&this._cmp.location},t.prototype._setContent=function(t){this._cntDir=t},t.prototype.getContent=function(){return this._cntDir},t.prototype._setContentRef=function(t){this._cntRef=t},t.prototype.contentRef=function(){return this._cntRef},t.prototype._setIONContent=function(t){this._setContent(t),this._ionCntDir=t},t.prototype.getIONContent=function(){return this._ionCntDir},t.prototype._setIONContentRef=function(t){this._setContentRef(t),this._ionCntRef=t},t.prototype.getIONContentRef=function(){return this._ionCntRef},t.prototype._setHeader=function(t){this._hdrDir=t},t.prototype.getHeader=function(){return this._hdrDir},t.prototype._setFooter=function(t){this._ftrDir=t},t.prototype.getFooter=function(){return this._ftrDir},t.prototype._setNavbar=function(t){this._nb=t},t.prototype.getNavbar=function(){return this._nb},t.prototype.hasNavbar=function(){return!!this._nb},t.prototype.setBackButtonText=function(t){this._nb&&this._nb.setBackButtonText(t)},t.prototype.showBackButton=function(t){this._nb&&(this._nb.hideBackButton=!t)},t.prototype._preLoad=function(){this._lifecycle("PreLoad")},t.prototype._willLoad=function(){this._lifecycle("WillLoad")},t.prototype._didLoad=function(){this._lifecycle("DidLoad")},t.prototype._willEnter=function(){this.handleOrientationChange(),this._detached&&this._cmp&&(this._cmp.changeDetectorRef.reattach(),this._detached=!1),this.willEnter.emit(null),this._lifecycle("WillEnter")},t.prototype._didEnter=function(){this._nb&&this._nb.didEnter(),this.didEnter.emit(null),this._lifecycle("DidEnter")},t.prototype._willLeave=function(t){this.willLeave.emit(null),this._lifecycle("WillLeave"),t&&this._onWillDismiss&&(this._onWillDismiss(this._dismissData,this._dismissRole),this._onWillDismiss=null)},t.prototype._didLeave=function(){this.didLeave.emit(null),this._lifecycle("DidLeave"),!this._detached&&this._cmp&&(this._cmp.changeDetectorRef.detach(),this._detached=!0)},t.prototype._willUnload=function(){this.willUnload.emit(null),this._lifecycle("WillUnload"),this._onDidDismiss&&this._onDidDismiss(this._dismissData,this._dismissRole),this._onDidDismiss=null,this._dismissData=null,this._dismissRole=null},t.prototype._destroy=function(t){if(this._cmp){if(t){var e=this._cmp.location.nativeElement;t.setElementAttribute(e,"class",null),t.setElementAttribute(e,"style",null)}window.removeEventListener("orientationchange",this.handleOrientationChange.bind(this)),this._cmp.destroy()}this._nav=this._cmp=this.instance=this._cntDir=this._cntRef=this._leavingOpts=this._hdrDir=this._ftrDir=this._nb=this._onDidDismiss=this._onWillDismiss=null,this._state=Rn},t.prototype._lifecycleTest=function(t){var e=this.instance,n="ionViewCan"+t;if(e&&e[n])try{var r=e[n]();return r instanceof Promise?r:Promise.resolve(!1!==r)}catch(t){return Promise.reject(this.name+" "+n+" error: "+t.message)}return Promise.resolve(!0)},t.prototype._lifecycle=function(t){var e=this.instance,n="ionView"+t;e&&e[n]&&e[n]()},t}(),In="ion-page",An=9999,Mn=function(){return function(){}}(),Dn=1,Rn=4,jn=100,Ln="back",zn="forward",Fn=function(){function t(){this._menus=[]}return t.prototype.open=function(t){var e=this.get(t);if(e&&!this.isAnimating()){var n=this.getOpen();return n&&e!==n&&n.setOpen(!1,!1),e.open()}return Promise.resolve(!1)},t.prototype.close=function(t){var e;return(e=t?this.get(t):this.getOpen())?e.close():Promise.resolve(!1)},t.prototype.toggle=function(t){var e=this.get(t);if(e&&!this.isAnimating()){var n=this.getOpen();return n&&e!==n&&n.setOpen(!1,!1),e.toggle()}return Promise.resolve(!1)},t.prototype.enable=function(t,e){var n=this.get(e);if(n)return n.enable(t)},t.prototype.swipeEnable=function(t,e){var n=this.get(e);if(n)return n.swipeEnable(t)},t.prototype.isOpen=function(t){if(t){var e=this.get(t);return e&&e.isOpen||!1}return!!this.getOpen()},t.prototype.isEnabled=function(t){var e=this.get(t);return e&&e.enabled||!1},t.prototype.get=function(t){return"left"===t||"right"===t?this._menus.find(function(e){return e.side===t&&e.enabled})||this._menus.find(function(e){return e.side===t})||null:t?this._menus.find(function(e){return e.id===t})||null:this._menus.find(function(t){return t.enabled})||(this._menus.length?this._menus[0]:null)},t.prototype.getOpen=function(){return this._menus.find(function(t){return t.isOpen})},t.prototype.getMenus=function(){return this._menus},t.prototype.isAnimating=function(){return this._menus.some(function(t){return t.isAnimating()})},t.prototype._register=function(t){this._menus.push(t)},t.prototype._unregister=function(t){_(this._menus,t)},t.prototype._setActiveMenu=function(t){var e=t.side;this._menus.filter(function(n){return n.side===e&&n!==t}).map(function(t){return t.enable(!1)})},t.registerType=function(t,e){Bn[t]=e},t.create=function(t,e,n){return new Bn[t](e,n)},t}(),Bn={},Vn=/^(radio|checkbox|range|file|submit|reset|color|image|button)$/i,Un=["value","checked","disabled","readonly","placeholder","type","class","style","id","autofocus","autocomplete","autocorrect"],Wn=function(){function t(){this.data={}}return t.prototype.parseUrl=function(t){if(t){var e=t.indexOf("?");if(e>-1)for(var n=t.slice(e+1).split("&"),r=0;r<n.length;r++)if(n[r].indexOf("=")>0){var i=n[r].split("=");i.length>1&&(this.data[i[0].toLowerCase()]=i[1].split("#")[0])}}},t.prototype.get=function(t){return this.data[t.toLowerCase()]},t}(),qn=function(){function t(){var t=this;this._versions={},this._qp=new Wn,this._bbActions=[],this._pW=0,this._pH=0,this._lW=0,this._lH=0,this._isPortrait=null,this._uiEvtOpts=!1,this._platforms=[],this.backButton=new Sn.EventEmitter,this.pause=new Sn.EventEmitter,this.resume=new Sn.EventEmitter,this.resize=new Sn.EventEmitter,this._readyPromise=new Promise(function(e){t._readyResolve=e}),this.backButton.subscribe(function(){t.runBackButtonAction()})}return t.prototype.setWindow=function(t){this._win=t},t.prototype.win=function(){return this._win},t.prototype.setDocument=function(t){this._doc=t},t.prototype.doc=function(){return this._doc},t.prototype.setZone=function(t){this.zone=t},t.prototype.setCssProps=function(t){this.Css=function(t){var e,n={},r=["webkitTransform","-webkit-transform","webkit-transform","transform"];for(e=0;e<r.length;e++)if(void 0!==t.style[r[e]]){n.transform=r[e];break}for(r=["webkitTransition","transition"],e=0;e<r.length;e++)if(void 0!==t.style[r[e]]){n.transition=r[e];break}var i=n.transition.indexOf("webkit")>-1;return n.transitionDuration=(i?"-webkit-":"")+"transition-duration",n.transitionTimingFn=(i?"-webkit-":"")+"transition-timing-function",n.transitionDelay=(i?"-webkit-":"")+"transition-delay",n.transitionEnd=(i?"webkitTransitionEnd ":"")+"transitionend",n.transformOrigin=(i?"-webkit-":"")+"transform-origin",n.animationDelay=i?"webkitAnimationDelay":"animationDelay",n}(t)},t.prototype.is=function(t){return this._platforms.indexOf(t)>-1},t.prototype.platforms=function(){return this._platforms},t.prototype.versions=function(){return this._versions},t.prototype.version=function(){for(var t in this._versions)if(this._versions[t])return this._versions[t];return{}},t.prototype.ready=function(){return this._readyPromise},t.prototype.triggerReady=function(t){var e=this;this.zone.run(function(){e._readyResolve(t)})},t.prototype.prepareReady=function(){function t(){e._doc.removeEventListener("DOMContentLoaded",t,!1),e._win.removeEventListener("load",t,!1),e.triggerReady("dom")}var e=this;"complete"===e._doc.readyState||"interactive"===e._doc.readyState?e.triggerReady("dom"):(e._doc.addEventListener("DOMContentLoaded",t,!1),e._win.addEventListener("load",t,!1))},t.prototype.setDir=function(t,e){this._dir=t,this.isRTL="rtl"===t,!1!==e&&this._doc.documentElement.setAttribute("dir",t)},t.prototype.dir=function(){return this._dir},t.prototype.setLang=function(t,e){this._lang=t,!1!==e&&this._doc.documentElement.setAttribute("lang",t)},t.prototype.lang=function(){return this._lang},t.prototype.exitApp=function(){},t.prototype.registerBackButtonAction=function(t,e){var n=this;void 0===e&&(e=0);var r={fn:t,priority:e};return this._bbActions.push(r),function(){_(n._bbActions,r)}},t.prototype.runBackButtonAction=function(){var t=null;this._bbActions.forEach(function(e){(!t||e.priority>=t.priority)&&(t=e)}),t&&t.fn&&t.fn()},t.prototype.setUserAgent=function(t){this._ua=t},t.prototype.setQueryParams=function(t){this._qp.parseUrl(t)},t.prototype.getQueryParam=function(t){return this._qp.get(t)},t.prototype.url=function(){return this._win.location.href},t.prototype.userAgent=function(){return this._ua||""},t.prototype.setNavigatorPlatform=function(t){this._nPlt=t},t.prototype.navigatorPlatform=function(){return this._nPlt||""},t.prototype.width=function(){return this._calcDim(),this._isPortrait?this._pW:this._lW},t.prototype.height=function(){return this._calcDim(),this._isPortrait?this._pH:this._lH},t.prototype.getElementComputedStyle=function(t,e){return this._win.getComputedStyle(t,e)},t.prototype.getElementFromPoint=function(t,e){return this._doc.elementFromPoint(t,e)},t.prototype.getElementBoundingClientRect=function(t){return t.getBoundingClientRect()},t.prototype.isPortrait=function(){return this._calcDim(),this._isPortrait},t.prototype.isLandscape=function(){return!this.isPortrait()},t.prototype._calcDim=function(){if(null===this._isPortrait||!1===this._isPortrait&&this._win.innerWidth<this._win.innerHeight){var t=this._win,e=t.innerWidth,n=t.innerHeight;t.screen.width>0&&t.screen.height>0&&(e<n?(this._pW<=e&&(this._isPortrait=!0,this._pW=e),this._pH<=n&&(this._isPortrait=!0,this._pH=n)):(this._lW!==e&&(this._isPortrait=!1,this._lW=e),this._lH!==n&&(this._isPortrait=!1,this._lH=n)))}},t.prototype.raf=function(t){return this._win.__zone_symbol__requestAnimationFrame(t)},t.prototype.cancelRaf=function(t){return this._win.__zone_symbol__cancelAnimationFrame(t)},t.prototype.timeout=function(t,e){return this._win.__zone_symbol__setTimeout(t,e)},t.prototype.cancelTimeout=function(t){this._win.__zone_symbol__clearTimeout(t)},t.prototype.registerListener=function(t,e,n,r,i){var o,a=this._uiEvtOpts?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;return!r.zone&&t.__zone_symbol__addEventListener?(t.__zone_symbol__addEventListener(e,n,a),o=function(){t.__zone_symbol__removeEventListener(e,n,a)}):(t.addEventListener(e,n,a),o=function(){t.removeEventListener(e,n,a)}),i&&i.push(o),o},t.prototype.transitionEnd=function(t,e,n){function r(){o.forEach(function(t){t()})}function i(n){t===n.target&&(r(),e(n))}void 0===n&&(n=!0);var o=[];return t&&(this.registerListener(t,"webkitTransitionEnd",i,{zone:n},o),this.registerListener(t,"transitionend",i,{zone:n},o)),r},t.prototype.windowLoad=function(t){var e,n=this._win,r=this._doc;"complete"===r.readyState?t(n,r):e=this.registerListener(n,"load",function(){e&&e(),t(n,r)},{zone:!1})},t.prototype.isActiveElement=function(t){return!(!t||this.getActiveElement()!==t)},t.prototype.getActiveElement=function(){return this._doc.activeElement},t.prototype.hasFocus=function(t){return!(!t||this.getActiveElement()!==t||t.parentElement.querySelector(":focus")!==t)},t.prototype.hasFocusedTextInput=function(){var t=this.getActiveElement();return!!I(t)&&t.parentElement.querySelector(":focus")===t},t.prototype.focusOutActiveElement=function(){var t=this.getActiveElement();t&&t.blur&&t.blur()},t.prototype._initEvents=function(){var t=this;try{var e=Object.defineProperty({},"passive",{get:function(){t._uiEvtOpts=!0}});this._win.addEventListener("optsTest",null,e)}catch(t){}this.timeout(function(){var e;t.registerListener(t._win,"resize",function(){clearTimeout(e),e=setTimeout(function(){!1===t.hasFocusedTextInput()&&(t._isPortrait=null),t.zone.run(function(){return t.resize.emit()})},200)},{passive:!0,zone:!1})},2e3)},t.prototype.setPlatformConfigs=function(t){this._registry=t||{}},t.prototype.getPlatformConfig=function(t){return this._registry[t]||{}},t.prototype.registry=function(){return this._registry},t.prototype.setDefault=function(t){this._default=t},t.prototype.testQuery=function(t,e){return t.toLowerCase().split(";").indexOf(e)>-1},t.prototype.testNavigatorPlatform=function(t){return new RegExp(t,"i").test(this._nPlt)},t.prototype.matchUserAgentVersion=function(t){if(this._ua&&t){var e=this._ua.match(t);if(e)return{major:e[1],minor:e[2]}}},t.prototype.testUserAgent=function(t){return!!this._ua&&this._ua.indexOf(t)>=0},t.prototype.isPlatformMatch=function(t,e,n){void 0===n&&(n=[]);var r=this._qp.get("ionicplatform");if(r)return this.testQuery(r,t);e=e||[t];for(var i=this._ua.toLowerCase(),o=0;o<e.length;o++)if(i.indexOf(e[o])>-1){for(var a=0;a<n.length;a++)if(i.indexOf(n[a])>-1)return!1;return!0}return!1},t.prototype.init=function(){this._initEvents();var t,e,n;for(var r in this._registry)(n=this.matchPlatform(r))&&(n.isEngine?e=n:(!t||n.depth>t.depth)&&(t=n));if(t||(t=new Hn(this._registry,this._default)),t){e&&(e.child=t,t.parent=e,t=e);for(var i=t;i;)!function(t,e){var n=e.superset();if(n){var r=new Hn(t,n);r.parent=e.parent,r.child=e,r.parent&&(r.parent.child=r),e.parent=r}}(this._registry,i),i=i.child;for(i=t.parent;i;)t=i,i=i.parent;for(i=t;i;){if(i.initialize(this),"iphone"===i.name&&"iPad"===this.navigatorPlatform())return this._platforms.push("tablet"),void this._platforms.push("ipad");this._platforms.push(i.name),this._versions[i.name]=i.version(this),i=i.child}}this._platforms.indexOf("mobile")>-1&&-1===this._platforms.indexOf("cordova")&&this._platforms.push("mobileweb")},t.prototype.matchPlatform=function(t){var e=new Hn(this._registry,t).getRoot(this);if(e){e.depth=0;for(var n=e.child;n;)e.depth++,n=n.child}return e},t}(),Hn=function(){function t(t,e){this.registry=t,this.c=t[e],this.name=e,this.isEngine=this.c.isEngine}return t.prototype.settings=function(){return this.c.settings||{}},t.prototype.superset=function(){return this.c.superset},t.prototype.isMatch=function(t){return this.c.isMatch&&this.c.isMatch(t)||!1},t.prototype.initialize=function(t){this.c.initialize&&this.c.initialize(t)},t.prototype.version=function(t){if(this.c.versionParser){var e=this.c.versionParser(t);if(e){var n=e.major+"."+e.minor;return{str:n,num:parseFloat(n),major:parseInt(e.major,10),minor:parseInt(e.minor,10)}}}},t.prototype.getRoot=function(e){if(this.isMatch(e)){var n=this.getSubsetParents(this.name);if(!n.length)return this;for(var r=null,i=null,o=0;o<n.length;o++)if(r=new t(this.registry,n[o]),r.child=this,i=r.getRoot(e))return this.parent=r,i}return null},t.prototype.getSubsetParents=function(t){var e=[],n=null;for(var r in this.registry)(n=this.registry[r]).subsets&&n.subsets.indexOf(t)>-1&&e.push(r);return e},t}(),Gn=function(){function t(t,e,n){this._dur=null,this._es=null,this._rvEs=null,this.hasChildren=!1,this.isPlaying=!1,this.hasCompleted=!1,this.plt=t,this.element(e),this.opts=n}return t.prototype.element=function(t){if(t)if("string"==typeof t){t=this.plt.doc().querySelectorAll(t);for(var e=0;e<t.length;e++)this._addEle(t[e])}else if(t.length)for(e=0;e<t.length;e++)this._addEle(t[e]);else this._addEle(t);return this},t.prototype._addEle=function(t){t.nativeElement&&(t=t.nativeElement),1===t.nodeType&&(this._eL=(this._e=this._e||[]).push(t))},t.prototype.add=function(t){return t.parent=this,this.hasChildren=!0,this._cL=(this._c=this._c||[]).push(t),this},t.prototype.getDuration=function(t){return t&&c(t.duration)?t.duration:null!==this._dur?this._dur:this.parent?this.parent.getDuration():0},t.prototype.isRoot=function(){return!this.parent},t.prototype.duration=function(t){return this._dur=t,this},t.prototype.getEasing=function(){return this._rv&&this._rvEs?this._rvEs:null!==this._es?this._es:this.parent&&this.parent.getEasing()||null},t.prototype.easing=function(t){return this._es=t,this},t.prototype.easingReverse=function(t){return this._rvEs=t,this},t.prototype.from=function(t,e){return this._addProp("from",t,e),this},t.prototype.to=function(t,e,n){var r=this._addProp("to",t,e);return n&&this.afterClearStyles([r.trans?this.plt.Css.transform:t]),this},t.prototype.fromTo=function(t,e,n,r){return this.from(t,e).to(t,n,r)},t.prototype._getProp=function(t){return this._fx?this._fx.find(function(e){return e.name===t}):(this._fx=[],null)},t.prototype._addProp=function(t,e,n){var r=this._getProp(e);if(!r){var i=1===$n[e];this._fx.push(r={name:e,trans:i,wc:i?this.plt.Css.transform:e})}var o={val:n,num:null,unit:""};if(r[t]=o,"string"==typeof n&&n.indexOf(" ")<0){var a=n.match(Yn),s=parseFloat(a[1]);isNaN(s)||(o.num=s),o.unit=a[0]!==a[2]?a[2]:""}else"number"==typeof n&&(o.num=n);return r},t.prototype.beforeAddClass=function(t){return(this._bfAdd=this._bfAdd||[]).push(t),this},t.prototype.beforeRemoveClass=function(t){return(this._bfRm=this._bfRm||[]).push(t),this},t.prototype.beforeStyles=function(t){return this._bfSty=t,this},t.prototype.beforeClearStyles=function(t){this._bfSty=this._bfSty||{};for(var e=0;e<t.length;e++)this._bfSty[t[e]]="";return this},t.prototype.beforeAddRead=function(t){return(this._rdFn=this._rdFn||[]).push(t),this},t.prototype.beforeAddWrite=function(t){return(this._wrFn=this._wrFn||[]).push(t),this},t.prototype.afterAddClass=function(t){return(this._afAdd=this._afAdd||[]).push(t),this},t.prototype.afterRemoveClass=function(t){return(this._afRm=this._afRm||[]).push(t),this},t.prototype.afterStyles=function(t){return this._afSty=t,this},t.prototype.afterClearStyles=function(t){this._afSty=this._afSty||{};for(var e=0;e<t.length;e++)this._afSty[t[e]]="";return this},t.prototype.play=function(t){var e=this;this.plt&&(this._isAsync=this._hasDuration(t),this._clearAsync(),this._playInit(t),this.plt.raf(function(){e.plt.raf(e._playDomInspect.bind(e,t))}))},t.prototype.syncPlay=function(){if(this.plt){var t={duration:0};this._isAsync=!1,this._clearAsync(),this._playInit(t),this._playDomInspect(t)}},t.prototype._playInit=function(t){this._twn=!1,this.isPlaying=!0,this.hasCompleted=!1,this._hasDur=this.getDuration(t)>Kn;for(var e=this._c,n=0;n<this._cL;n++)e[n]._playInit(t);this._hasDur&&(this._progress(0),this._willChg(!0))},t.prototype._playDomInspect=function(t){this._beforeAnimation();var e=this.getDuration(t);this._isAsync&&this._asyncEnd(e,!0),this._playProgress(t),this._isAsync&&this.plt&&this.plt.raf(this._playToStep.bind(this,1))},t.prototype._playProgress=function(t){for(var e=this._c,n=0;n<this._cL;n++)e[n]._playProgress(t);this._hasDur?this._setTrans(this.getDuration(t),!1):(this._progress(1),this._setAfterStyles(),this._didFinish(!0))},t.prototype._playToStep=function(t){for(var e=this._c,n=0;n<this._cL;n++)e[n]._playToStep(t);this._hasDur&&this._progress(t)},t.prototype._asyncEnd=function(t,e){var n=this;n._unrgTrns=this.plt.transitionEnd(n._transEl(),function(){n._clearAsync(),n._playEnd(),n._didFinishAll(e,!0,!1)},!1),n._tm=n.plt.timeout(function(){n._tm=void 0,n._clearAsync(),n._playEnd(e?1:0),n._didFinishAll(e,!0,!1)},t+Xn)},t.prototype._playEnd=function(t){for(var e=this._c,n=0;n<this._cL;n++)e[n]._playEnd(t);this._hasDur&&(c(t)&&(this._setTrans(0,!0),this._progress(t)),this._setAfterStyles(),this._willChg(!1))},t.prototype._hasDuration=function(t){if(this.getDuration(t)>Kn)return!0;for(var e=this._c,n=0;n<this._cL;n++)if(e[n]._hasDuration(t))return!0;return!1},t.prototype._hasDomReads=function(){if(this._rdFn&&this._rdFn.length)return!0;for(var t=this._c,e=0;e<this._cL;e++)if(t[e]._hasDomReads())return!0;return!1},t.prototype.stop=function(t){void 0===t&&(t=1),this._clearAsync(),this._hasDur=!0,this._playEnd(t)},t.prototype._clearAsync=function(){this._unrgTrns&&this._unrgTrns(),this._tm&&clearTimeout(this._tm),this._tm=this._unrgTrns=void 0},t.prototype._progress=function(t){var e,n=this._fx,r=this._eL;if(n&&r){this._rv&&(t=-1*t+1);var i,o,a="",s=this._e;for(i=0;i<n.length;i++){var u=n[i];if(u.from&&u.to){var l=u.from.num,c=u.to.num,f=l!==c;if(f&&(this._twn=!0),0===t)e=u.from.val;else if(1===t)e=u.to.val;else if(f){var p=(c-l)*t+l,d=u.to.unit;"px"===d&&(p=Math.round(p)),e=p+d}if(null!==e){var h=u.name;if(u.trans)a+=h+"("+e+") ";else for(o=0;o<r;o++)s[o].style[h]=e}}}if(a.length){(!this._rv&&1!==t||this._rv&&0!==t)&&(a+="translateZ(0px)");var m=this.plt.Css.transform;for(i=0;i<s.length;i++)s[i].style[m]=a}}},t.prototype._setTrans=function(t,e){if(this._fx)for(var n,r=this._e,i=e?"linear":this.getEasing(),o=t+"ms",a=this.plt.Css,s=a.transition,u=a.transitionDuration,l=a.transitionTimingFn,c=0;c<this._eL;c++)n=r[c].style,t>0?(n[s]="",n[u]=o,i&&(n[l]=i)):n[s]="none"},t.prototype._beforeAnimation=function(){this._fireBeforeReadFunc(),this._fireBeforeWriteFunc(),this._setBeforeStyles()},t.prototype._setBeforeStyles=function(){var t,e,n=this._c;for(t=0;t<this._cL;t++)n[t]._setBeforeStyles();if(!this._rv){var r,i,o,a=this._bfAdd,s=this._bfRm;for(t=0;t<this._eL;t++){if(r=this._e[t],i=r.classList,a)for(e=0;e<a.length;e++)i.add(a[e]);if(s)for(e=0;e<s.length;e++)i.remove(s[e]);if(this._bfSty)for(o in this._bfSty)r.style[o]=this._bfSty[o]}}},t.prototype._fireBeforeReadFunc=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e]._fireBeforeReadFunc();var n=this._rdFn;if(n)for(e=0;e<n.length;e++)n[e]()},t.prototype._fireBeforeWriteFunc=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e]._fireBeforeWriteFunc();var n=this._wrFn;if(this._wrFn)for(e=0;e<n.length;e++)n[e]()},t.prototype._setAfterStyles=function(){var t,e,n,r,i=this._e;for(t=0;t<this._eL;t++)if(n=i[t],r=n.classList,n.style[this.plt.Css.transitionDuration]=n.style[this.plt.Css.transitionTimingFn]="",this._rv){if(this._bfAdd)for(e=0;e<this._bfAdd.length;e++)r.remove(this._bfAdd[e]);if(this._bfRm)for(e=0;e<this._bfRm.length;e++)r.add(this._bfRm[e]);if(this._bfSty)for(var o in this._bfSty)n.style[o]=""}else{if(this._afAdd)for(e=0;e<this._afAdd.length;e++)r.add(this._afAdd[e]);if(this._afRm)for(e=0;e<this._afRm.length;e++)r.remove(this._afRm[e]);if(this._afSty)for(var o in this._afSty)n.style[o]=this._afSty[o]}},t.prototype._willChg=function(t){var e,n,r=this._fx;if(t&&r){e=[];for(var i=0;i<r.length;i++){var o=r[i].wc;"webkitTransform"===o?e.push("transform","-webkit-transform"):e.push(o)}n=e.join(",")}else n="";for(i=0;i<this._eL;i++)this._e[i].style.willChange=n},t.prototype.progressStart=function(){this._clearAsync(),this._beforeAnimation(),this._progressStart()},t.prototype._progressStart=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e]._progressStart();this._setTrans(0,!0),this._willChg(!0)},t.prototype.progressStep=function(t){t=Math.min(1,Math.max(0,t));for(var e=this._c,n=0;n<this._cL;n++)e[n].progressStep(t);this._rv&&(t=-1*t+1),this._progress(t)},t.prototype.progressEnd=function(t,e,n){void 0===n&&(n=-1),this._rv&&(e=-1*e+1);var r=t?1:0;Math.abs(e-r)<.05?n=0:n<0&&(n=this._dur),this._isAsync=n>30,this._progressEnd(t,r,n,this._isAsync),this._isAsync&&(this._asyncEnd(n,t),this.plt&&this.plt.raf(this._playToStep.bind(this,r)))},t.prototype._progressEnd=function(t,e,n,r){for(var i=this._c,o=0;o<this._cL;o++)i[o]._progressEnd(t,e,n,r);r?(this.isPlaying=!0,this.hasCompleted=!1,this._hasDur=!0,this._willChg(!0),this._setTrans(n,!1)):(this._progress(e),this._willChg(!1),this._setAfterStyles(),this._didFinish(t))},t.prototype.onFinish=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),n&&(this._fFn=this._fOneFn=void 0),e?(this._fOneFn=this._fOneFn||[],this._fOneFn.push(t)):(this._fFn=this._fFn||[],this._fFn.push(t)),this},t.prototype._didFinishAll=function(t,e,n){for(var r=this._c,i=0;i<this._cL;i++)r[i]._didFinishAll(t,e,n);(e&&this._isAsync||n&&!this._isAsync)&&this._didFinish(t)},t.prototype._didFinish=function(t){if(this.isPlaying=!1,this.hasCompleted=t,this._fFn)for(var e=0;e<this._fFn.length;e++)this._fFn[e](this);if(this._fOneFn){for(e=0;e<this._fOneFn.length;e++)this._fOneFn[e](this);this._fOneFn.length=0}},t.prototype.reverse=function(t){void 0===t&&(t=!0);for(var e=this._c,n=0;n<this._cL;n++)e[n].reverse(t);return this._rv=t,this},t.prototype.destroy=function(){for(var t=this._c,e=0;e<this._cL;e++)t[e].destroy();this._clearAsync(),this.parent=this.plt=this._e=this._rdFn=this._wrFn=null,this._c&&(this._c.length=this._cL=0),this._fFn&&(this._fFn.length=0),this._fOneFn&&(this._fOneFn.length=0)},t.prototype._transEl=function(){for(var t,e=0;e<this._cL;e++)if(t=this._c[e]._transEl())return t;return this._twn&&this._hasDur&&this._eL?this._e[0]:null},t}(),$n={translateX:1,translateY:1,translateZ:1,scale:1,scaleX:1,scaleY:1,scaleZ:1,rotate:1,rotateX:1,rotateY:1,rotateZ:1,skewX:1,skewY:1,perspective:1},Yn=/(^-?\d*\.?\d*)(.*)/,Kn=32,Xn=400,Zn=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jn=function(t){function e(e,n,r,i){var o=t.call(this,e,null,i)||this;return o.enteringView=n,o.leavingView=r,o}return Zn(e,t),e.prototype.init=function(){},e.prototype.registerStart=function(t){this._trnsStart=t},e.prototype.start=function(){this._trnsStart&&this._trnsStart(),this._trnsStart=null,this.parent&&this.parent.start()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.parent=this.enteringView=this.leavingView=this._trnsStart=null},e}(Gn),Qn=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.init=function(){var t=this;this.enteringView&&(this.enteringPage=new Gn(this.plt,this.enteringView.pageRef()),this.add(this.enteringPage.beforeAddClass("show-page")),this.beforeAddRead(function(){t.enteringView.readReady.emit()}),this.beforeAddWrite(function(){t.enteringView.writeReady.emit()}))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.enteringPage&&this.enteringPage.destroy(),this.enteringPage=null},e}(Jn),er=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nr="opacity",rr="translateX",ir="show-back-button",or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return er(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.plt,n=e.isRTL?"-99.5%":"99.5%",r=e.isRTL?"33%":"-33%",i=this.enteringView,o=this.leavingView,a=this.opts;this.duration(p(a.duration)?a.duration:500),this.easing(p(a.easing)?a.easing:"cubic-bezier(0.36,0.66,0.04,1)");var s="back"===a.direction,u=i&&i.hasNavbar(),l=o&&o.hasNavbar();if(i){var c=i.pageRef().nativeElement,f=new Gn(e,i.contentRef());if(f.element(c.querySelectorAll("ion-header > *:not(ion-navbar),ion-footer > *")),this.add(f),s?f.fromTo(rr,r,"0%",!0).fromTo(nr,.8,1,!0):f.beforeClearStyles([nr]).fromTo(rr,n,"0%",!0),u){var d=c.querySelector("ion-navbar"),h=new Gn(e,d);this.add(h);var m=new Gn(e,d.querySelector("ion-title")),g=new Gn(e,d.querySelectorAll("ion-buttons,[menuToggle]")),v=new Gn(e,d.querySelector(".toolbar-background")),y=new Gn(e,d.querySelector(".back-button"));if(h.add(m).add(g).add(v).add(y),m.fromTo(nr,.01,1,!0),g.fromTo(nr,.01,1,!0),s)m.fromTo(rr,r,"0%",!0),i.enableBack()&&y.beforeAddClass(ir).fromTo(nr,.01,1,!0);else if(m.fromTo(rr,n,"0%",!0),v.beforeClearStyles([nr]).fromTo(rr,n,"0%",!0),i.enableBack()){y.beforeAddClass(ir).fromTo(nr,.01,1,!0);var b=new Gn(e,d.querySelector(".back-button-text"));b.fromTo(rr,e.isRTL?"-100px":"100px","0px"),h.add(b)}else y.beforeRemoveClass(ir)}}if(o&&o.pageRef()){var _=o.pageRef().nativeElement,w=new Gn(e,o.contentRef());if(w.element(_.querySelectorAll("ion-header > *:not(ion-navbar),ion-footer > *")),this.add(w),s?w.beforeClearStyles([nr]).fromTo(rr,"0%",e.isRTL?"-100%":"100%"):w.fromTo(rr,"0%",r).fromTo(nr,1,.8).afterClearStyles(["transform",nr]),l){var x=_.querySelector("ion-navbar"),E=new Gn(e,x),C=new Gn(e,x.querySelector("ion-title")),S=new Gn(e,x.querySelectorAll("ion-buttons,[menuToggle]")),O=new Gn(e,x.querySelector(".toolbar-background")),k=new Gn(e,x.querySelector(".back-button"));if(E.add(C).add(S).add(k).add(O),this.add(E),k.fromTo(nr,.99,0),C.fromTo(nr,.99,0),S.fromTo(nr,.99,0),s){C.fromTo(rr,"0%",e.isRTL?"-100%":"100%"),O.beforeClearStyles([nr]).fromTo(rr,"0%",e.isRTL?"-100%":"100%");var T=new Gn(e,x.querySelector(".back-button-text"));T.fromTo(rr,"0%",(e.isRTL?-300:300)+"px"),E.add(T)}else C.fromTo(rr,"0%",r).afterClearStyles(["transform"]),k.afterClearStyles([nr]),C.afterClearStyles([nr]),S.afterClearStyles([nr])}}},e}(tr),ar=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ar(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.plt,n=this.enteringView,r=this.leavingView,i=this.opts,o="back"===i.direction;if(n&&(o?this.duration(p(i.duration)?i.duration:200).easing("cubic-bezier(0.47,0,0.745,0.715)"):(this.duration(p(i.duration)?i.duration:280).easing("cubic-bezier(0.36,0.66,0.04,1)"),this.enteringPage.fromTo("translateY","40px","0px",!0).fromTo("opacity",.01,1,!0)),n.hasNavbar())){var a=n.pageRef().nativeElement.querySelector("ion-navbar"),s=new Gn(e,a);this.add(s);var u=new Gn(e,a.querySelector(".back-button"));this.add(u),n.enableBack()?u.beforeAddClass("show-back-button"):u.beforeRemoveClass("show-back-button")}if(r&&o){this.duration(i.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var l=new Gn(e,r.pageRef());this.add(l.fromTo("translateY","0px","40px").fromTo("opacity",1,0))}},e}(tr),ur=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ur(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.plt,n=this.enteringView,r=this.leavingView,i=this.opts,o="back"===i.direction;if(n&&(o?(this.duration(p(i.duration)?i.duration:120).easing("cubic-bezier(0.47,0,0.745,0.715)"),this.enteringPage.beforeClearStyles(["scale"])):(this.duration(p(i.duration)?i.duration:280).easing("cubic-bezier(0,0,0.05,1)"),this.enteringPage.fromTo("scale",.95,1,!0).fromTo("opacity",.01,1,!0)),n.hasNavbar())){var a=n.pageRef().nativeElement.querySelector("ion-navbar"),s=new Gn(e,a);this.add(s);var u=new Gn(e,a.querySelector(".back-button"));this.add(u),n.enableBack()?u.beforeAddClass("show-back-button"):u.beforeRemoveClass("show-back-button")}if(r&&o){this.duration(i.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var l=new Gn(e,r.pageRef());this.add(l.fromTo("scale",1,.95).fromTo("opacity",.99,0))}},e}(tr),cr=function(){function t(t,e,n){this._config=t,this._plt=e,this._menuCtrl=n,this._disTime=0,this._scrollTime=0,this._title="",this._titleSrv=new On.Title(On.DOCUMENT),this._rootNavs=new Map,this._didScroll=!1,this.viewDidLoad=new Sn.EventEmitter,this.viewWillEnter=new Sn.EventEmitter,this.viewDidEnter=new Sn.EventEmitter,this.viewWillLeave=new Sn.EventEmitter,this.viewDidLeave=new Sn.EventEmitter,this.viewWillUnload=new Sn.EventEmitter,e.registerBackButtonAction(this.goBack.bind(this)),this._disableScrollAssist=t.getBoolean("disableScrollAssist",!1);t.getBoolean("inputBlurring",!1)&&this._enableInputBlurring(),t.setTransition("ios-transition",or),t.setTransition("md-transition",sr),t.setTransition("wp-transition",lr)}return t.prototype.setTitle=function(t){t!==this._title&&(this._title=t,this._titleSrv.setTitle(t))},t.prototype.setElementClass=function(t,e){this._appRoot.setElementClass(t,e)},t.prototype.setEnabled=function(t,e,n){void 0===e&&(e=700),void 0===n&&(n=0),this._disTime=t?0:Date.now()+e,this._clickBlock&&(t?this._clickBlock.activate(!1,dr,n):this._clickBlock.activate(!0,e+dr,n))},t.prototype._setDisableScroll=function(t){this._disableScrollAssist&&this._appRoot._disableScroll(t)},t.prototype.isEnabled=function(){var t=this._disTime;return 0===t||t<Date.now()},t.prototype.setScrolling=function(){this._scrollTime=Date.now()+pr,this._didScroll=!0},t.prototype.isScrolling=function(){var t=this._scrollTime;return 0!==t&&(!(t<Date.now())||(this._scrollTime=0,!1))},t.prototype.getActiveNav=function(){console.warn("(getActiveNav) is deprecated and will be removed in the next major release. Use getActiveNavs instead.");var t=this.getActiveNavs();return t&&t.length?t[0]:null},t.prototype.getActiveNavs=function(t){var e=this._appRoot._getPortal(2);if(e.length()>0)return R(e);if(!this._rootNavs||!this._rootNavs.size)return[];if(1===this._rootNavs.size)return R(this._rootNavs.values().next().value);if(t)return R(this._rootNavs.get(t));var n=[];return this._rootNavs.forEach(function(t){var e=R(t);n=n.concat(e)}),n},t.prototype.getRootNav=function(){console.warn("(getRootNav) is deprecated and will be removed in the next major release. Use getRootNavById instead.");var t=this.getRootNavs();return 0===t.length?null:(t.length>1&&console.warn("(getRootNav) there are multiple root navs, use getRootNavs instead"),t[0])},t.prototype.getRootNavs=function(){var t=[];return this._rootNavs.forEach(function(e){return t.push(e)}),t},t.prototype.getRootNavById=function(t){return this._rootNavs.get(t)},t.prototype.registerRootNav=function(t){this._rootNavs.set(t.id,t)},t.prototype.unregisterRootNav=function(t){this._rootNavs.delete(t.id)},t.prototype.getActiveNavContainers=function(){var t=[];return this._rootNavs.forEach(function(e){t=t.concat(R(e))}),t},t.prototype.present=function(t,e,n){var r=this._appRoot._getPortal(n);return t._setNav(r),e.direction=zn,e.animation||(e.animation=t.getTransitionName(zn)),t.setLeavingOpts({keyboardClose:e.keyboardClose,direction:Ln,animation:t.getTransitionName(Ln),ev:e.ev}),r.insertPages(-1,[t],e)},t.prototype.goBack=function(){if(this._menuCtrl&&this._menuCtrl.isOpen())return this._menuCtrl.close();var t=this.navPop();return t||this._config.getBoolean("navExitApp",!0)&&this._plt.exitApp(),t},t.prototype.navPop=function(){var t=this;if(!this._rootNavs||0===this._rootNavs.size||!this.isEnabled())return Promise.resolve();if(this._appRoot._getPortal(1).length()>0)return Promise.resolve();var e=null,n=null;return this._rootNavs.forEach(function(r){t.getActiveNavs(r.id).map(function(t){return D(t)}).filter(function(t){return!!t}).forEach(function(t){var r=t.last();(t._isPortal||r&&t.length()>1&&(!n||r._ts>=n._ts))&&(n=r,e=t)})}),e?e.pop():void 0},t.prototype._enableInputBlurring=function(){var t=!0,e=this,n=this._plt;n.registerListener(n.doc(),"focusin",function(){t=!0},{capture:!0,zone:!1,passive:!0}),n.registerListener(n.doc(),"touchend",function(r){if(e._didScroll)e._didScroll=!1;else{var i=e._plt.getActiveElement();if(i&&-1!==fr.indexOf(i.tagName)){var o=r.target;o!==i&&(fr.indexOf(o.tagName)>=0||o.classList.contains("input-cover")||(t=!1,n.timeout(function(){t||i.blur()},50)))}}},{capture:!1,zone:!1,passive:!0})},t.prototype.getNavByIdOrName=function(t){for(var e=0,n=Array.from(this._rootNavs.values());e<n.length;e++){var r=M(n[e],t);if(r)return r}return null},t}(),fr=["INPUT","TEXTAREA","ION-INPUT","ION-TEXTAREA"],pr=100,dr=64,hr=function(){function t(t,e,n,r){this._config=t,this._elementRef=e,this._renderer=n,this._componentName=r,r&&(this._setComponentName(),this._setMode(t.get("mode")))}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._setColor(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){this._setMode(t)},enumerable:!0,configurable:!0}),t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.prototype.setElementAttribute=function(t,e){this._renderer.setElementAttribute(this._elementRef.nativeElement,t,e)},t.prototype.setElementStyle=function(t,e){this._renderer.setElementStyle(this._elementRef.nativeElement,t,e)},t.prototype._setColor=function(t,e){e&&(this._componentName=e),this._color&&this.setElementClass(this._componentName+"-"+this._mode+"-"+this._color,!1),t&&(this.setElementClass(this._componentName+"-"+this._mode+"-"+t,!0),this._color=t)},t.prototype._setMode=function(t){this._mode&&this.setElementClass(this._componentName+"-"+this._mode,!1),t&&(this.setElementClass(this._componentName+"-"+t,!0),this._setColor(null),this._mode=t,this._setColor(this._color))},t.prototype._setComponentName=function(){this.setElementClass(this._componentName,!0)},t.prototype.getElementRef=function(){return this._elementRef},t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t}(),mr=function(){function t(t,e){this._app=t,this.links=e&&m(e.links)?br(e.links):[]}return t.prototype.parse=function(t){return"/"===t.charAt(0)&&(t=t.substr(1)),t=t.split("?")[0].split("#")[0],F(this._app,t,this.links)},t.prototype.createSegmentFromName=function(t,e){var n=this.getLinkFromName(e);return n?this._createSegment(this._app,t,n,null):null},t.prototype.getLinkFromName=function(t){return this.links.find(function(e){return e.component===t||e.name===t})},t.prototype.serialize=function(t){if(!t||!t.length)return"/";return t.map(function(t){return"tabs"===t.type?t.requiresExplicitNavPrefix?"/"+t.type+"/"+t.navId+"/"+t.secondaryId+"/"+t.id:"/"+t.secondaryId+"/"+t.id:t.requiresExplicitNavPrefix?"/"+t.type+"/"+t.navId+"/"+t.id:"/"+t.id}).join("")},t.prototype.serializeComponent=function(t,e,n){if(e){var r=yr(this.links,e,n);if(r)return this._createSegment(this._app,t,r,n)}return null},t.prototype._createSegment=function(t,e,n,r){var i=n.segmentParts;if(p(r)){i=i.slice();var o=Object.keys(r),a=o.length;if(a)for(var s=0;s<i.length;s++)if(":"===i[s].charAt(0))for(var u=0;u<a;u++)if(i[s]===":"+o[u]){i[s]=encodeURIComponent(r[o[u]]);break}}var l=!0;return l=e.parent?e.parent&&e.parent.getAllChildNavs().length>1:t.getRootNavById(e.id)&&t.getRootNavs().length>1,{id:i.join("/"),name:n.name,component:n.component,loadChildren:n.loadChildren,data:r,defaultHistory:n.defaultHistory,navId:e.name||e.id,type:e.getType(),secondaryId:e.getSecondaryIdentifier(),requiresExplicitNavPrefix:l}},t}(),gr=function(t,e){return!(!p(t)||!p(e))&&(":"===e.charAt(0)||t===e)},vr=function(t,e){for(var n=null,r=0;r<e.segmentPartsLen;r++)":"===e.segmentParts[r].charAt(0)&&((n=n||{})[e.segmentParts[r].substring(1)]=decodeURIComponent(t[r]));return n},yr=function(t,e,n){for(var r=null,i=-1,o=0;o<t.length;o++){var a=t[o];if(a.component===e){var s=0;if(n)for(var u=Object.keys(n),l=0;l<u.length;l++)p(a.dataKeys[u[l]])&&s++;else if(a.dataLen)continue;s>=i&&(r=a,i=s)}}return r},br=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];d(r.segment)&&(r.segment=r.name),r.dataKeys={},r.segmentParts=r.segment.split("/"),r.segmentPartsLen=r.segmentParts.length,r.staticLen=r.dataLen=0;for(var i=!0,o=0;o<r.segmentPartsLen;o++)":"===r.segmentParts[o].charAt(0)?(r.dataLen++,i=!1,r.dataKeys[r.segmentParts[o].substring(1)]=!0):i&&r.staticLen++}return t.sort(L)},_r=/\s+|\?|\!|\$|\,|\.|\+|\"|\'|\*|\^|\||\/|\\|\[|\]|#|%|`|>|<|;|:|@|&|=/g,wr=new Sn.InjectionToken("USERLINKS"),xr=function(){function t(t,e,n,r,i){this._app=t,this._serializer=e,this._location=n,this._moduleLoader=r,this._baseCfr=i,this._history=[]}return t.prototype.init=function(){var t=this,e=U(this._location.path());this._historyPush(e),this._location.subscribe(function(e){t._urlChange(U(e.url))})},t.prototype._urlChange=function(t){var e=this;if(!this._isCurrentUrl(t)){this._isBackUrl(t)?this._historyPop():(!1,this._historyPush(t));var n=this._app.getActiveNavContainers();if(n&&n.length){if("/"===t){if(!p(this._indexAliasUrl))return void n.forEach(function(t){t.goToRoot({updateUrl:!1,isNavRoot:!0})});t=this._indexAliasUrl}this.getCurrentSegments(t).map(function(t){for(var e=0,r=n;e<r.length;e++){var i=function(t,e){for(;t;){if(t.id===e||t.name===e)return t;t=t.parent}return null}(r[e],t.navId);if(i)return{segment:t,navContainer:i}}}).filter(function(t){return!!t}).forEach(function(t){e._loadViewForSegment(t.navContainer,t.segment,function(){})})}}},t.prototype.getCurrentSegments=function(t){return t||(t=U(this._location.path())),this._serializer.parse(t)},t.prototype.navChange=function(t){if(t){for(var e=0,n=this._app.getActiveNavContainers();e<n.length;e++){var r=n[e];if(k(r)||r.isTransitioning())return}for(var i=[],o=0,a=this._app.getRootNavs();o<a.length;o++){var s=this.getSegmentsFromNav(a[o]);i=i.concat(s)}if((i=i.filter(function(t){return!!t})).length){var u=this._serializer.serialize(i);this._updateLocation(u,t)}}},t.prototype.getSegmentsFromNav=function(t){var e=this,n=[];return!function(t){return!!t&&!!t.push&&"nav"===t.getType()}(t)?T(t)&&n.push(this.getSegmentFromTab(t)):n.push(this.getSegmentFromNav(t)),t.getActiveChildNavs().forEach(function(t){n=n.concat(e.getSegmentsFromNav(t))}),n},t.prototype.getSegmentFromNav=function(t,e,n){if(!e){var r=t.getActive(!0);r&&(e=r.component,n=r.data)}return this._serializer.serializeComponent(t,e,n)},t.prototype.getSegmentFromTab=function(t,e,n){if(t&&t.parent){var r=t.parent,i=r.getActiveChildNavs();if(i&&i.length){var o=i[0].getActive(!0);return o&&(e=o.component,n=o.data),this._serializer.serializeComponent(r,e,n)}}},t.prototype._updateLocation=function(t,e){this._indexAliasUrl===t&&(t="/"),e===Ln&&this._isBackUrl(t)?(this._historyPop(),this._location.back()):this._isCurrentUrl(t)||(this._historyPush(t),this._location.go(t))},t.prototype.getComponentFromName=function(t){var e=this._serializer.getLinkFromName(t);return e?this.getNavLinkComponent(e):Promise.reject("invalid link: "+t)},t.prototype.getNavLinkComponent=function(t){return t.component?Promise.resolve(t.component):t.loadChildren?this._moduleLoader.load(t.loadChildren).then(function(e){return t.component=e.component,e.component}):Promise.reject("invalid link component: "+t.name)},t.prototype.resolveComponent=function(t){var e=this._moduleLoader.getComponentFactoryResolver(t);return e||(e=this._baseCfr),e.resolveComponentFactory(t)},t.prototype.createUrl=function(t,e,n,r){void 0===r&&(r=!0);var i=this._serializer.createSegmentFromName(t,e),o=this.getCurrentSegments();if(i)for(var a=0;a<o.length;a++)if(o[a].navId===t.name||o[a].navId===t.id){o[a]=i;var s=this._serializer.serialize(o);return r?this._location.prepareExternalUrl(s):s}return""},t.prototype.getSegmentByNavIdOrName=function(t,e){for(var n=U(this._location.path()),r=0,i=this._serializer.parse(n);r<i.length;r++){var o=i[r];if(o.navId===t||o.navId===e)return o}return null},t.prototype.initViews=function(t){var e=this,n=this._serializer.getLinkFromName(t.name);return this.getNavLinkComponent(n).then(function(n){t.component=n;var r=new Nn(n,t.data);return r.id=t.id,m(t.defaultHistory)?O(e,t.defaultHistory).then(function(t){return t.push(r),t}):[r]})},t.prototype._isBackUrl=function(t){return t===this._history[this._history.length-2]},t.prototype._isCurrentUrl=function(t){return t===this._history[this._history.length-1]},t.prototype._historyPush=function(t){this._isCurrentUrl(t)||(this._history.push(t),this._history.length>30&&this._history.shift())},t.prototype._historyPop=function(){this._history.pop(),this._history.length||this._historyPush(this._location.path())},t.prototype._getTabSelector=function(t){return p(t.tabUrlPath)?t.tabUrlPath:p(t.tabTitle)?j(t.tabTitle):"tab-"+t.index},t.prototype._loadViewForSegment=function(t,e,n){if(!e)return n(!1,!1);if(k(t)||T(t)&&t.parent){var r=k(t)?t:t.parent,i=r._getSelectedTabIndex(e.secondaryId),o=r.getByIndex(i);return o._segment=e,r.select(o,{updateUrl:!1,animate:!1},!0),n(!1,!1)}for(var a=t,s=a.length()-1,u=s;u>=0;u--){var l=a.getByIndex(u);if(l&&(l.id===e.id||l.id===e.name))return u===s?n(!1,!1):a.popTo(l,{animate:!1,updateUrl:!1},n)}return a.setRoot(e.component||e.name,e.data,{id:e.id,animate:!1,updateUrl:!1},n)},t}(),Er=function(){function t(t){this.dom=t,this.writeTask=null,this.readTask=null}return t.prototype.read=function(t){var e=this;if(!this.readTask)return this.readTask=this.dom.read(function(n){e.readTask=null,t(n)})},t.prototype.write=function(t){var e=this;if(!this.writeTask)return this.writeTask=this.dom.write(function(n){e.writeTask=null,t(n)})},t.prototype.cancel=function(){var t=this.writeTask;t&&this.dom.cancel(t);var e=this.readTask;e&&this.dom.cancel(e),this.readTask=this.writeTask=null},t}(),Cr=function(){function t(t){this.plt=t,this.r=[],this.w=[]}return t.prototype.debouncer=function(){return new Er(this)},t.prototype.read=function(t,e){var n=this;return e?t.timeoutId=this.plt.timeout(function(){n.r.push(t),n._queue()},e):(this.r.push(t),this._queue()),t},t.prototype.write=function(t,e){var n=this;return e?t.timeoutId=this.plt.timeout(function(){n.w.push(t),n._queue()},e):(this.w.push(t),this._queue()),t},t.prototype.cancel=function(t){t&&(t.timeoutId&&this.plt.cancelTimeout(t.timeoutId),_(this.r,t)||_(this.w,t))},t.prototype._queue=function(){var t=this;t.q||(t.q=!0,t.plt.raf(function(e){t._flush(e)}))},t.prototype._flush=function(t){var e;try{!function(t,e,n){for(var r;r=e.shift();)r(t);for(;r=n.shift();)r(t)}(t,this.r,this.w)}catch(t){e=t}if(this.q=!1,(this.r.length||this.w.length)&&this._queue(),e)throw e},t}(),Sr="goback-swipe",Or="menu-swipe",kr="item-swipe",Tr="refresher",Pr="toggle",Nr=-10,Ir=0,Ar=10,Mr=20,Dr=30,Rr={disable:[Or,Sr],disableScroll:!0},jr=function(){function t(t){this._app=t,this.id=1,this.requestedStart={},this.disabledGestures={},this.disabledScroll=new Set,this.capturedID=null}return t.prototype.createGesture=function(t){if(!t.name)throw new Error("name is undefined");return new Lr(t.name,this.newID(),this,t.priority||0,!!t.disableScroll)},t.prototype.createBlocker=function(t){return void 0===t&&(t={}),new zr(this.newID(),this,t.disable,!!t.disableScroll)},t.prototype.newID=function(){var t=this.id;return this.id++,t},t.prototype.start=function(t,e,n){return this.canStart(t)?(this.requestedStart[e]=n,!0):(delete this.requestedStart[e],!1)},t.prototype.capture=function(t,e,n){if(!this.start(t,e,n))return!1;var r=this.requestedStart,i=-1e4;for(var o in r)i=Math.max(i,r[o]);return i===n?(this.capturedID=e,this.requestedStart={},!0):(delete r[e],!1)},t.prototype.release=function(t){delete this.requestedStart[t],this.capturedID&&t===this.capturedID&&(this.capturedID=null)},t.prototype.disableGesture=function(t,e){var n=this.disabledGestures[t];n||(n=new Set,this.disabledGestures[t]=n),n.add(e)},t.prototype.enableGesture=function(t,e){var n=this.disabledGestures[t];n&&n.delete(e)},t.prototype.disableScroll=function(t){var e=!this.isScrollDisabled();this.disabledScroll.add(t),this._app&&e&&this.isScrollDisabled()&&this._app._setDisableScroll(!0)},t.prototype.enableScroll=function(t){var e=this.isScrollDisabled();this.disabledScroll.delete(t),this._app&&e&&!this.isScrollDisabled()&&this._app._setDisableScroll(!1)},t.prototype.canStart=function(t){return!this.capturedID&&!this.isDisabled(t)},t.prototype.isCaptured=function(){return!!this.capturedID},t.prototype.isScrollDisabled=function(){return this.disabledScroll.size>0},t.prototype.isDisabled=function(t){var e=this.disabledGestures[t];return!!(e&&e.size>0)},t}(),Lr=function(){function t(t,e,n,r,i){this.name=t,this.id=e,this.controller=n,this.priority=r,this.disableScroll=i}return t.prototype.canStart=function(){return!!this.controller&&this.controller.canStart(this.name)},t.prototype.start=function(){return!!this.controller&&this.controller.start(this.name,this.id,this.priority)},t.prototype.capture=function(){if(!this.controller)return!1;var t=this.controller.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.controller.disableScroll(this.id),t},t.prototype.release=function(){this.controller&&(this.controller.release(this.id),this.disableScroll&&this.controller.enableScroll(this.id))},t.prototype.destroy=function(){this.release(),this.controller=null},t}(),zr=function(){function t(t,e,n,r){this.id=t,this.controller=e,this.disable=n,this.disableScroll=r,this.blocked=!1}return t.prototype.block=function(){var t=this;this.controller&&(this.disable&&this.disable.forEach(function(e){t.controller.disableGesture(e,t.id)}),this.disableScroll&&this.controller.disableScroll(this.id),this.blocked=!0)},t.prototype.unblock=function(){var t=this;this.controller&&(this.disable&&this.disable.forEach(function(e){t.controller.enableGesture(e,t.id)}),this.disableScroll&&this.controller.enableScroll(this.id),this.blocked=!1)},t.prototype.destroy=function(){this.unblock(),this.controller=null},t}(),Fr=function(){return function(){}}(),Br=function(){function t(t,e,n){this.direction=t,this.dirty=!1,this._angle=0,this._isPan=0;var r=n*(Math.PI/180);this.maxCosine=Math.cos(r),this.threshold=e*e}return t.prototype.start=function(t){this.startCoord=t,this._angle=0,this._isPan=0,this.dirty=!0},t.prototype.detect=function(t){if(!this.dirty)return!1;var e=t.x-this.startCoord.x,n=t.y-this.startCoord.y;if(e*e+n*n>=this.threshold){var r=Math.atan2(n,e),i="y"===this.direction?Math.sin(r):Math.cos(r);return this._angle=r,this._isPan=i>this.maxCosine?1:i<-this.maxCosine?-1:0,this.dirty=!1,!0}return!1},t.prototype.angle=function(){return this._angle},t.prototype.pan=function(){return this._isPan},t}(),Vr=function(){function t(t,e,n,r,i,o){this.plt=t,this.ele=e,this.pointerDown=n,this.pointerMove=r,this.pointerUp=i,this.option=o,this.rmTouchStart=null,this.rmTouchMove=null,this.rmTouchEnd=null,this.rmTouchCancel=null,this.rmMouseStart=null,this.rmMouseMove=null,this.rmMouseUp=null,this.lastTouchEvent=0,this.mouseWait=2e3,this.bindTouchEnd=this.handleTouchEnd.bind(this),this.bindMouseUp=this.handleMouseUp.bind(this),this.rmTouchStart=this.plt.registerListener(e,"touchstart",this.handleTouchStart.bind(this),o),this.rmMouseStart=this.plt.registerListener(e,"mousedown",this.handleMouseDown.bind(this),o)}return t.prototype.handleTouchStart=function(t){this.lastTouchEvent=Date.now()+this.mouseWait,this.lastEventType=Wr,this.pointerDown(t,Wr)&&(!this.rmTouchMove&&this.pointerMove&&(this.rmTouchMove=this.plt.registerListener(this.ele,"touchmove",this.pointerMove,this.option)),this.rmTouchEnd||(this.rmTouchEnd=this.plt.registerListener(this.ele,"touchend",this.bindTouchEnd,this.option)),this.rmTouchCancel||(this.rmTouchCancel=this.plt.registerListener(this.ele,"touchcancel",this.bindTouchEnd,this.option)))},t.prototype.handleMouseDown=function(t){this.lastTouchEvent>Date.now()||(this.lastEventType=Ur,this.pointerDown(t,Ur)&&(!this.rmMouseMove&&this.pointerMove&&(this.rmMouseMove=this.plt.registerListener(this.plt.doc(),"mousemove",this.pointerMove,this.option)),this.rmMouseUp||(this.rmMouseUp=this.plt.registerListener(this.plt.doc(),"mouseup",this.bindMouseUp,this.option))))},t.prototype.handleTouchEnd=function(t){this.stopTouch(),this.pointerUp&&this.pointerUp(t,Wr)},t.prototype.handleMouseUp=function(t){this.stopMouse(),this.pointerUp&&this.pointerUp(t,Ur)},t.prototype.stopTouch=function(){this.rmTouchMove&&this.rmTouchMove(),this.rmTouchEnd&&this.rmTouchEnd(),this.rmTouchCancel&&this.rmTouchCancel(),this.rmTouchMove=this.rmTouchEnd=this.rmTouchCancel=null},t.prototype.stopMouse=function(){this.rmMouseMove&&this.rmMouseMove(),this.rmMouseUp&&this.rmMouseUp(),this.rmMouseMove=this.rmMouseUp=null},t.prototype.stop=function(){this.stopTouch(),this.stopMouse()},t.prototype.destroy=function(){this.rmTouchStart&&this.rmTouchStart(),this.rmMouseStart&&this.rmMouseStart(),this.stop(),this.ele=this.pointerUp=this.pointerMove=this.pointerDown=this.rmTouchStart=this.rmMouseStart=null},t}(),Ur=1,Wr=2,qr=function(){function t(t){this.plt=t,this.evts=[]}return t.prototype.pointerEvents=function(t){if(t.element&&t.pointerDown){var e=new Vr(this.plt,t.element,t.pointerDown,t.pointerMove,t.pointerUp,{capture:t.capture,passive:t.passive,zone:t.zone});return this.evts.push(function(){return e.destroy()}),e}console.error("PointerEvents config is invalid")},t.prototype.listen=function(t,e,n,r){if(t){var i=this.plt.registerListener(t,e,n,r);return this.evts.push(i),i}},t.prototype.unlistenAll=function(){this.evts.forEach(function(t){t()}),this.evts.length=0},t.prototype.destroy=function(){this.unlistenAll(),this.evts=null},t}(),Hr=function(){function t(t,e,n){void 0===n&&(n={}),this.plt=t,this.element=e,a(n,{threshold:20,maxAngle:40,direction:"x",zone:!0,capture:!1,passive:!1}),this.events=new qr(t),n.domController&&(this.debouncer=n.domController.debouncer()),this.gestute=n.gesture,this.direction=n.direction,this.eventsConfig={element:this.element,pointerDown:this.pointerDown.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerUp.bind(this),zone:n.zone,capture:n.capture,passive:n.passive},n.threshold>0&&(this.detector=new Br(n.direction,n.threshold,n.maxAngle))}return t.prototype.listen=function(){this.isListening||(this.pointerEvents=this.events.pointerEvents(this.eventsConfig),this.isListening=!0)},t.prototype.unlisten=function(){this.isListening&&(this.gestute&&this.gestute.release(),this.events.unlistenAll(),this.isListening=!1)},t.prototype.destroy=function(){this.gestute&&this.gestute.destroy(),this.gestute=null,this.unlisten(),this.events.destroy(),this.events=this.element=this.gestute=null},t.prototype.pointerDown=function(t){if(!this.started){if(!this.canStart(t))return!1;if(this.gestute&&(this.gestute.release(),!this.gestute.start()))return!1;this.started=!0,this.captured=!1;var e=P(t);if(this.detector)this.detector.start(e);else if(!this.tryToCapture(t))return this.started=!1,this.captured=!1,this.gestute.release(),!1;return!0}},t.prototype.pointerMove=function(t){var e=this;if(this.captured)this.debouncer.write(function(){e.onDragMove(t)});else{var n=P(t);this.detector.detect(n)&&0!==this.detector.pan()&&(this.tryToCapture(t)||this.abort(t))}},t.prototype.pointerUp=function(t){this.debouncer.cancel(),this.gestute&&this.gestute.release(),this.captured?this.onDragEnd(t):this.notCaptured(t),this.captured=!1,this.started=!1},t.prototype.tryToCapture=function(t){return!(this.gestute&&!this.gestute.capture())&&(this.onDragStart(t),this.captured=!0,!0)},t.prototype.abort=function(t){this.started=!1,this.captured=!1,this.gestute.release(),this.pointerEvents.stop(),this.notCaptured(t)},t.prototype.getNativeElement=function(){return this.element},t.prototype.canStart=function(t){return!0},t.prototype.onDragStart=function(t){},t.prototype.onDragMove=function(t){},t.prototype.onDragEnd=function(t){},t.prototype.notCaptured=function(t){},t}(),Gr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$r=function(t){function e(e,n,r){void 0===r&&(r={});var i=t.call(this,e,n,r)||this;return i.slide=null,i}return Gr(e,t),e.prototype.getSlideBoundaries=function(t,e){return{min:0,max:this.getNativeElement().offsetWidth}},e.prototype.getElementStartPos=function(t,e){return 0},e.prototype.onDragStart=function(t){this.onSlideBeforeStart(t);var e=P(t)[this.direction];this.slide={min:0,max:0,pointerStartPos:e,pos:e,timestamp:Date.now(),elementStartPos:0,started:!0,delta:0,distance:0,velocity:0};var n=this.getSlideBoundaries(this.slide,t),r=n.max;this.slide.min=n.min,this.slide.max=r,this.slide.elementStartPos=this.getElementStartPos(this.slide,t),this.onSlideStart(this.slide,t)},e.prototype.onDragMove=function(t){var e=this.slide,n=P(t)[this.direction],i=Date.now(),o=(this.plt.isRTL?e.pos-n:n-e.pos)/(i-e.timestamp);e.pos=n,e.timestamp=i,e.distance=r(e.min,(this.plt.isRTL?e.pointerStartPos-n:n-e.pointerStartPos)+e.elementStartPos,e.max),e.velocity=o,e.delta=this.plt.isRTL?e.pointerStartPos-n:n-e.pointerStartPos,this.onSlide(e,t)},e.prototype.onDragEnd=function(t){this.onSlideEnd(this.slide,t),this.slide=null},e.prototype.onSlideBeforeStart=function(t){},e.prototype.onSlideStart=function(t,e){},e.prototype.onSlide=function(t,e){},e.prototype.onSlideEnd=function(t,e){},e}(Hr),Yr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=function(t){function e(e,n,r){void 0===r&&(r={});var i=this;return a(r,{edge:"start",maxEdgeStart:50}),(i=t.call(this,e,n,r)||this).setEdges(r.edge),i.maxEdgeStart=r.maxEdgeStart,i}return Yr(e,t),e.prototype.setEdges=function(t){var e=this.plt.isRTL;this.edges=t.split(" ").map(function(t){switch(t){case"start":return e?"right":"left";case"end":return e?"left":"right";default:return t}})},e.prototype.canStart=function(t){var e=this,n=P(t);return this._d=this.getContainerDimensions(),this.edges.every(function(t){return e._checkEdge(t,n)})},e.prototype.getContainerDimensions=function(){var t=this.plt;return{left:0,top:0,width:t.width(),height:t.height()}},e.prototype._checkEdge=function(t,e){var n=this._d,r=this.maxEdgeStart;switch(t){case"left":return e.x<=n.left+r;case"right":return e.x>=n.width-r;case"top":return e.y<=n.top+r;case"bottom":return e.y>=n.height-r}return!1},e}($r),Xr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zr=function(t){function e(e,n,r,i){var o=t.call(this,e,e.doc().body,{direction:"x",edge:"start",maxEdgeStart:75,threshold:5,zone:!1,domController:i,gesture:r.createGesture({name:Sr,priority:Mr,disableScroll:!0})})||this;return o._nav=n,o}return Xr(e,t),e.prototype.canStart=function(e){return this._nav.canSwipeBack()&&t.prototype.canStart.call(this,e)},e.prototype.onSlideBeforeStart=function(t){this._nav.swipeBackStart()},e.prototype.onSlide=function(t,e){e.preventDefault(),e.stopPropagation();this._nav.swipeBackProgress(t.distance/t.max)},e.prototype.onSlideEnd=function(t,e){var n=t.velocity,r=t.distance/t.max,i=!w(n<0,Math.abs(t.velocity)>.4,Math.abs(t.delta)<.5*Math.abs(t.max));this._nav.swipeBackEnd(i,r,n)},e}(Kr),Jr=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=function(t){function e(e,n,r,i,o,a,s,u,l,c,f,p,d){var h=t.call(this,r,o,s)||this;return h.parent=e,h._app=n,h.config=r,h.plt=i,h._zone=a,h._cfr=u,h._gestureCtrl=l,h._trnsCtrl=c,h._linker=f,h._domCtrl=p,h._errHandler=d,h._ids=-1,h._init=!1,h._queue=[],h._trnsId=null,h._trnsTm=!1,h._views=[],h._zIndexOffset=0,h.viewDidLoad=new Sn.EventEmitter,h.viewWillEnter=new Sn.EventEmitter,h.viewDidEnter=new Sn.EventEmitter,h.viewWillLeave=new Sn.EventEmitter,h.viewDidLeave=new Sn.EventEmitter,h.viewWillUnload=new Sn.EventEmitter,h._sbEnabled=r.getBoolean("swipeBackEnabled"),h._children=[],h.id="n"+ ++ti,h._destroyed=!1,h}return Jr(e,t),Object.defineProperty(e.prototype,"swipeBackEnabled",{get:function(){return this._sbEnabled},set:function(t){this._sbEnabled=g(t),this._swipeBackCheck()},enumerable:!0,configurable:!0}),e.prototype.push=function(t,e,n,r){return this._queueTrns({insertStart:-1,insertViews:[{page:t,params:e}],opts:n},r)},e.prototype.insert=function(t,e,n,r,i){return this._queueTrns({insertStart:t,insertViews:[{page:e,params:n}],opts:r},i)},e.prototype.insertPages=function(t,e,n,r){return this._queueTrns({insertStart:t,insertViews:e,opts:n},r)},e.prototype.pop=function(t,e){return this._queueTrns({removeStart:-1,removeCount:1,opts:t},e)},e.prototype.popTo=function(t,e,n){var r={removeStart:-1,removeCount:-1,opts:e};return E(t)?(r.removeView=t,r.removeStart=1):u(t)&&(r.removeStart=t+1),this._queueTrns(r,n)},e.prototype.popToRoot=function(t,e){return this._queueTrns({removeStart:1,removeCount:-1,opts:t},e)},e.prototype.popAll=function(){for(var t=[],e=this._views.length-1;e>=0;e--)t.push(this.pop(null));return Promise.all(t)},e.prototype.remove=function(t,e,n,r){return void 0===e&&(e=1),this._queueTrns({removeStart:t,removeCount:e,opts:n},r)},e.prototype.removeView=function(t,e,n){return this._queueTrns({removeView:t,removeStart:0,removeCount:1,opts:e},n)},e.prototype.setRoot=function(t,e,n,r){return this.setPages([{page:t,params:e}],n,r)},e.prototype.setPages=function(t,e,n){return d(e)&&(e={}),!0!==e.animate&&(e.animate=!1),this._queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},n)},e.prototype._queueTrns=function(t,e){var n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.done=e,t.insertViews&&0===t.insertViews.length&&(t.insertViews=void 0),this._queue.push(t),this._nextTrns(),n},e.prototype._success=function(t,e){null!==this._queue?(this._init=!0,this._trnsId=null,this.setTransitioning(!1),this._swipeBackCheck(),this._nextTrns(),e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringName,t.leavingName,t.direction),e.resolve(t.hasCompleted)):this._fireError("nav controller was destroyed",e)},e.prototype._failed=function(t,e){null!==this._queue?(this._trnsId=null,this._queue.length=0,this.setTransitioning(!1),this._swipeBackCheck(),this._nextTrns(),this._fireError(t,e)):this._fireError("nav controller was destroyed",e)},e.prototype._fireError=function(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this._destroyed?e.reject(t):e.resolve(!1)},e.prototype._nextTrns=function(){var t=this;if(this.isTransitioning())return!1;var e=this._queue.shift();if(!e)return!1;var n,r;return this._startTI(e).then(function(){return t._loadLazyLoading(e)}).then(function(){if(r=t.getActive(),n=t._getEnteringView(e,r),!r&&!n)throw"no views in the stack to be removed";n&&n._state===Dn&&t._viewInit(n),e.requiresTransition=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&n!==r}).then(function(){return t._viewTest(n,r,e)}).then(function(){return t._postViewInit(n,r,e)}).then(function(){return t._transition(n,r,e)}).then(function(n){return t._success(n,e)}).catch(function(n){return t._failed(n,e)}),!0},e.prototype._startTI=function(t){var e=this._views.length;if(p(t.removeView)){var n=this.indexOf(t.removeView);if(n<0)return Promise.reject("removeView was not found");t.removeStart+=n}return p(t.removeStart)&&(t.removeStart<0&&(t.removeStart=e-1),t.removeCount<0&&(t.removeCount=e-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===e),t.insertViews&&((t.insertStart<0||t.insertStart>e)&&(t.insertStart=e),t.enteringRequiresTransition=t.insertStart===e),this.setTransitioning(!0),Promise.resolve()},e.prototype._loadLazyLoading=function(t){var e=this,n=t.insertViews;return n?O(this._linker,n).then(function(n){if(0===(n=n.filter(function(t){return null!==t})).length)throw"invalid views to insert";for(var r=0;r<n.length;r++){var i=n[r],o=i._nav;if(o&&o!==e)throw"inserted view was already inserted";if(i._state===Rn)throw"inserted view was already destroyed"}t.insertViews=n}):Promise.resolve()},e.prototype._getEnteringView=function(t,e){var n=t.insertViews;if(n)return n[n.length-1];var r=t.removeStart;if(p(r)){var i,o,a=this._views,s=r+t.removeCount;for(i=a.length-1;i>=0;i--)if(o=a[i],(i<r||i>=s)&&o!==e)return o}return null},e.prototype._postViewInit=function(t,e,n){var r,i,o,a=this,s=n.opts||{},u=n.insertViews,l=n.removeStart,c=n.removeCount;if(p(l)){for(o=[],i=0;i<c;i++)(r=this._views[i+l])&&r!==t&&r!==e&&o.push(r);s.direction=s.direction||Ln}if(0===this._views.length+(u?u.length:0)-(c||0)&&!this._isPortal)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.getNativeElement()),"navigation stack needs at least one root page";if(u){for(p(s.id)&&(t.id=s.id),i=0;i<u.length;i++)this._insertViewAt(r=u[i],n.insertStart+i);n.enteringRequiresTransition&&(s.direction=s.direction||zn)}if(o&&o.length>0)for(this._zone.run(function(){for(i=0;i<o.length;i++)a._willLeave(r=o[i],!0),a._didLeave(r),a._willUnload(r)}),i=0;i<o.length;i++)this._destroyView(o[i]);n.requiresTransition&&!s.animation&&(s.animation=p(n.removeStart)?(e||t).getTransitionName(s.direction):(t||e).getTransitionName(s.direction)),n.opts=s},e.prototype._viewInit=function(t){var e=Sn.ReflectiveInjector.resolve([{provide:Fr,useValue:this},{provide:Nn,useValue:t},{provide:Pn,useValue:t.getNavParams()}]),n=this._linker.resolveComponent(t.component),r=Sn.ReflectiveInjector.fromResolvedProviders(e,this._viewport.parentInjector);t.init(n.create(r,[])),t._state=2,this._preLoad(t)},e.prototype._viewAttachToDOM=function(t,e,n){if(this._willLoad(t),n.insert(e.hostView,n.length),t._state=3,t._cssClass){this._renderer.setElementClass(e.location.nativeElement,t._cssClass,!0)}e.changeDetectorRef.detectChanges(),this._zone.run(this._didLoad.bind(this,t))},e.prototype._viewTest=function(t,e,n){if(!n.requiresTransition)return Promise.resolve();var r=[];return e&&r.push(e._lifecycleTest("Leave")),t&&r.push(t._lifecycleTest("Enter")),0===r.length?Promise.resolve():Promise.all(r).then(function(t){if(t.some(function(t){return!1===t}))throw"canEnter/Leave returned false"}).catch(function(t){throw n.reject=null,t})},e.prototype._transition=function(t,e,n){var r=this;if(!n.requiresTransition)return Promise.resolve({hasCompleted:!0,requiresTransition:!1});var i=n.opts;this._trnsId=this._trnsCtrl.getRootTrnsId(this),null===this._trnsId&&(this._trnsId=this._trnsCtrl.nextId());var o=this._trnsCtrl.get(this._trnsId,t,e,{animation:i.animation,direction:i.direction,duration:!1===i.animate?0:i.duration,easing:i.easing,isRTL:this._config.plt.isRTL,ev:i.ev});this._sbTrns&&this._sbTrns.destroy(),this._sbTrns=null,o.isRoot()&&i.progressAnimation&&(this._sbTrns=o);var a=new Promise(function(t){return o.registerStart(t)}).then(function(){return r._transitionStart(o,t,e,i)});return t&&2===t._state&&this._viewAttachToDOM(t,t._cmp,this._viewport),o.hasChildren||o.start(),a},e.prototype._transitionStart=function(t,e,n,r){var i=this;this._trnsId=null,function(t,e,n,r,i){if(e){if(t._isPortal)return r===zn&&e._setZIndex(t._zIndexOffset+An,i),void An++;(n=n||t.getPrevious(e))&&p(n._zIndex)?e._setZIndex(r===Ln?n._zIndex-1:n._zIndex+1,i):e._setZIndex(jn+t._zIndexOffset,i)}}(this,e,n,r.direction,this._renderer),e&&e._domShow(!0,this._renderer),n&&n._domShow(!0,this._renderer),t.init();var o=!this._init&&1===this._views.length&&!this._isPortal,a=!1===this._config.get("animate");(o||a)&&(r.animate=!1),!1===r.animate&&t.duration(0),t.beforeAddRead(this._viewsWillLifecycles.bind(this,e,n));var s=t.getDuration(),u=new Promise(function(e){t.onFinish(e)});return t.isRoot()&&(s>ei&&!1!==r.disableApp&&this._app.setEnabled(!1,s+ri,r.minClickBlockDuration),r.progressAnimation?t.progressStart():t.play()),u.then(function(){return i._zone.run(function(){return i._transitionFinish(t,r)})})},e.prototype._transitionFinish=function(t,e){var n,r,i=t.hasCompleted,o=t.enteringView,a=t.leavingView;return i?(o&&(n=o.name,this._didEnter(o)),a&&(r=a.name,this._didLeave(a)),this._cleanup(o)):this._cleanup(a),t.isRoot()&&(this._trnsCtrl.destroy(t.trnsId),this._app.setEnabled(!0),this.setTransitioning(!1),this.hasChildren()||!1===e.updateUrl||this._linker.navChange(e.direction),!1!==e.keyboardClose&&this.plt.focusOutActiveElement()),{hasCompleted:i,requiresTransition:!0,enteringName:n,leavingName:r,direction:e.direction}},e.prototype._viewsWillLifecycles=function(t,e){var n=this;(t||e)&&this._zone.run(function(){if(e){n._willLeave(e,!t||e.index>t.index)}t&&n._willEnter(t)})},e.prototype._insertViewAt=function(t,e){var n=this._views.indexOf(t);n>-1?this._views.splice(e,0,this._views.splice(n,1)[0]):(t._setNav(this),this._ids++,t.id||(t.id=this.id+"-"+this._ids),this._views.splice(e,0,t))},e.prototype._removeView=function(t){var e=this._views,n=e.indexOf(t);n>=0&&e.splice(n,1)},e.prototype._destroyView=function(t){t._destroy(this._renderer),this._removeView(t)},e.prototype._cleanup=function(t){if(!this._destroyed){var e=this._views.indexOf(t),n=this._views,r=!1,i=void 0,o=void 0;for(o=n.length-1;o>=0;o--)i=n[o],o>e?(this._willUnload(i),this._destroyView(i)):o<e&&!this._isPortal&&i._domShow(!1,this._renderer),i._zIndex<=0&&(r=!0);if(!this._isPortal&&r)for(o=0;o<n.length;o++)(i=n[o])._setZIndex(i._zIndex+jn+1,this._renderer)}},e.prototype._preLoad=function(t){t._preLoad()},e.prototype._willLoad=function(t){try{t._willLoad()}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._didLoad=function(t){try{t._didLoad(),this.viewDidLoad.emit(t),this._app.viewDidLoad.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._willEnter=function(t){try{t._willEnter(),this.viewWillEnter.emit(t),this._app.viewWillEnter.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._didEnter=function(t){try{t._didEnter(),this.viewDidEnter.emit(t),this._app.viewDidEnter.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._willLeave=function(t,e){try{t._willLeave(e),this.viewWillLeave.emit(t),this._app.viewWillLeave.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._didLeave=function(t){try{t._didLeave(),this.viewDidLeave.emit(t),this._app.viewDidLeave.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._willUnload=function(t){try{t._willUnload(),this.viewWillUnload.emit(t),this._app.viewWillUnload.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype.hasChildren=function(){return this._children&&this._children.length>0},e.prototype.getActiveChildNavs=function(){return this._children},e.prototype.getAllChildNavs=function(){return this._children},e.prototype.registerChildNav=function(t){this._children.push(t)},e.prototype.unregisterChildNav=function(t){this._children=this._children.filter(function(e){return e!==t})},e.prototype.destroy=function(){for(var t,e=this._views,n=0;n<e.length;n++)(t=e[n])._willUnload(),t._destroy(this._renderer);this._sbGesture&&this._sbGesture.destroy(),this._sbTrns&&this._sbTrns.destroy(),this._queue=this._views=this._sbGesture=this._sbTrns=null,this.parent&&this.parent.unregisterChildNav?this.parent.unregisterChildNav(this):this._app&&this._app.unregisterRootNav(this),this._destroyed=!0},e.prototype.swipeBackStart=function(){if(!(this.isTransitioning()||this._queue.length>0)){this._queueTrns({removeStart:-1,removeCount:1,opts:{direction:Ln,progressAnimation:!0}},null)}},e.prototype.swipeBackProgress=function(t){this._sbTrns&&this._sbGesture&&(this._app.setEnabled(!1,ni),this.setTransitioning(!0),this._sbTrns.progressStep(t))},e.prototype.swipeBackEnd=function(t,e,n){if(this._sbTrns&&this._sbGesture){var r=this._sbTrns.getDuration()/(Math.abs(n)+1);this._sbTrns.progressEnd(t,e,r)}},e.prototype._swipeBackCheck=function(){this.canSwipeBack()?(this._sbGesture||(this._sbGesture=new Zr(this.plt,this,this._gestureCtrl,this._domCtrl)),this._sbGesture.listen()):this._sbGesture&&this._sbGesture.unlisten()},e.prototype.canSwipeBack=function(){return this._sbEnabled&&!this._isPortal&&!this._children.length&&!this.isTransitioning()&&this._app.isEnabled()&&this.canGoBack()},e.prototype.canGoBack=function(){var t=this.getActive();return!(!t||!t.enableBack())},e.prototype.isTransitioning=function(){return this._trnsTm},e.prototype.setTransitioning=function(t){this._trnsTm=t},e.prototype.getActive=function(){return this._views[this._views.length-1]},e.prototype.isActive=function(t){return t===this.getActive()},e.prototype.getByIndex=function(t){return this._views[t]},e.prototype.getPrevious=function(t){t||(t=this.getActive());var e=this._views,n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.first=function(){return this._views[0]},e.prototype.last=function(){var t=this._views;return t[t.length-1]},e.prototype.indexOf=function(t){return this._views.indexOf(t)},e.prototype.length=function(){return this._views.length},e.prototype.getViews=function(){return this._views},e.prototype.getViewById=function(t){for(var e=0,n=this._views;e<n.length;e++){var r=n[e];if(r&&r.id===t)return r}return null},e.prototype.isSwipeBackEnabled=function(){return this._sbEnabled},e.prototype.dismissPageChangeViews=function(){for(var t=0,e=this._views;t<e.length;t++){var n=e[t];n.data&&n.data.dismissOnPageChange&&n.dismiss().catch(function(){})}},e.prototype.setViewport=function(t){this._viewport=t},e.prototype.resize=function(){var t=this.getActive();if(t){var e=t.getIONContent();e&&e.resize()}},e.prototype.goToRoot=function(t){return Promise.reject(new Error("goToRoot needs to be implemented by child class"))},e.prototype.getType=function(){return"nav"},e.prototype.getSecondaryIdentifier=function(){return null},e.prototype.getActiveChildNav=function(){return console.warn("(getActiveChildNav) is deprecated and will be removed in the next major release. Use getActiveChildNavs instead."),this._children[this._children.length-1]},e}(hr),ti=-1,ei=64,ni=5e3,ri=2e3,ii=function(){function t(t,e){this.plt=t,this._config=e,this._ids=0,this._trns={}}return t.prototype.getRootTrnsId=function(t){for(t=t.parent;t;){if(p(t._trnsId))return t._trnsId;t=t.parent}return null},t.prototype.nextId=function(){return this._ids++},t.prototype.get=function(t,e,n,r){var i=this._config.getTransition(r.animation);i||(i=this._config.getTransition("ios-transition"));var o=new i(this.plt,e,n,r);return o.trnsId=t,this._trns[t]?this._trns[t].add(o):this._trns[t]=o,o},t.prototype.destroy=function(t){var e=this._trns[t];e&&(e.destroy(),delete this._trns[t])},t}(),oi=(this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}}(),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ai=new Sn.InjectionToken("USERROOT"),si=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,o,r,i,"app-root")||this;return u._userCmp=e,u._cfr=n,u._plt=a,s._appRoot=u,u._stopScrollPlugin=window.IonicStopScroll,u}return oi(e,t),e.prototype.ngOnInit=function(){var t=this,e=this._cfr.resolveComponentFactory(this._userCmp),n=this._viewport.createComponent(e);this._renderer.setElementClass(n.location.nativeElement,"app-root",!0),n.changeDetectorRef.detectChanges(),this.setElementClass(this._config.get("mode"),!0);var r=this._plt.versions();this._plt.platforms().forEach(function(e){var n="platform-"+e;t.setElementClass(n,!0);var i=r[e];i&&(t.setElementClass(n+=i.major,!0),t.setElementClass(n+"_"+i.minor,!0))}),this._config.getBoolean("hoverCSS",!0)&&this.setElementClass("enable-hover",!0),this._plt.prepareReady()},e.prototype._getPortal=function(t){return 3===t?this._loadingPortal:4===t?this._toastPortal:2===t?this._modalPortal:this._overlayPortal},e.prototype._getActivePortal=function(){var t=this._overlayPortal,e=this._modalPortal,n=e.length()>0,r=t.length()>0;if(!n&&!r)return null;if(n&&r){return t.getActive().getZIndex()>e.getActive().getZIndex()?t:e}return n?e:r?t:void 0},e.prototype._disableScroll=function(t){var e=this;if(t)this.stopScroll().then(function(){e._tmr=e._plt.timeout(function(){e.setElementClass("disable-scroll",!0)},32)});else{var n=this._stopScrollPlugin;n&&n.cancel&&n.cancel(),clearTimeout(this._tmr),this.setElementClass("disable-scroll",!1)}},e.prototype.stopScroll=function(){var t=this;return this._stopScrollPlugin?new Promise(function(e){t._stopScrollPlugin.stop(function(){return e(!0)})}):Promise.resolve(!1)},e}(hr),ui=9,li=function(){function t(t,e,n,r,i,o){this._viewCtrl=t,this._elementRef=n,this.gestureBlocker=r.createBlocker(Rr),this.d=i.data,this.mode=e.get("mode"),o.setElementClass(n.nativeElement,"action-sheet-"+this.mode,!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&o.setElementClass(n.nativeElement,t,!0)}),this.id=++ci,this.d.title&&(this.hdrId="acst-hdr-"+this.id),this.d.subTitle&&(this.descId="acst-subhdr-"+this.id)}return t.prototype.ionViewDidLoad=function(){var t=this;this.d.buttons=this.d.buttons.map(function(e){switch("string"==typeof e&&(e={text:e}),e.cssClass||(e.cssClass=""),e.role){case"cancel":return t.cancelButton=e,null;case"destructive":e.cssClass=(e.cssClass+" "||"")+"action-sheet-destructive";break;case"selected":e.cssClass=(e.cssClass+" "||"")+"action-sheet-selected"}return e}).filter(function(t){return null!==t})},t.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this.gestureBlocker.unblock()},t.prototype.ionViewDidEnter=function(){var t=this._elementRef.nativeElement.querySelector("button");t&&t.focus(),this.enabled=!0},t.prototype.keyUp=function(t){this.enabled&&27===t.keyCode&&this._viewCtrl.isLast()&&this.bdClick()},t.prototype.click=function(t){if(this.enabled){var e=!0;t.handler&&!1===t.handler()&&(e=!1),e&&this.dismiss(t.role)}},t.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&(this.cancelButton?this.click(this.cancelButton):this.dismiss("backdrop"))},t.prototype.dismiss=function(t){return this._viewCtrl.dismiss(null,t,{minClickBlockDuration:400})},t.prototype.ngOnDestroy=function(){this.d=this.cancelButton=null,this.gestureBlocker.destroy()},t}(),ci=-1,fi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.01,.4),n.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(n)},e}(Jn),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.4,0),n.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(e).add(n)},e}(Jn),hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.01,.26),n.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(n)},e}(Jn),mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.26,0),n.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e).add(n)},e}(Jn),gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.01,.16),n.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(n)},e}(Jn),vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fi(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.1,0),n.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e).add(n)},e}(Jn),yi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bi=function(t){function e(e,n,r){var i=this;return n.buttons=n.buttons||[],n.enableBackdropDismiss=!p(n.enableBackdropDismiss)||!!n.enableBackdropDismiss,i=t.call(this,li,n,null)||this,i._app=e,i.isOverlay=!0,r.setTransition("action-sheet-slide-in",pi),r.setTransition("action-sheet-slide-out",di),r.setTransition("action-sheet-md-slide-in",hi),r.setTransition("action-sheet-md-slide-out",mi),r.setTransition("action-sheet-wp-slide-in",gi),r.setTransition("action-sheet-wp-slide-out",vi),i}return yi(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("actionSheet"+("back"===t?"Leave":"Enter"))},e.prototype.setTitle=function(t){return this.data.title=t,this},e.prototype.setSubTitle=function(t){return this.data.subTitle=t,this},e.prototype.addButton=function(t){return this.data.buttons.push(t),this},e.prototype.present=function(t){return void 0===t&&(t={}),t.minClickBlockDuration=t.minClickBlockDuration||400,this._app.present(this,t)},e}(Nn),_i=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new bi(this._app,t,this.config)},t}(),wi=function(){function t(t,e,n,r,i,o,a){this._viewCtrl=t,this._elementRef=e,this._renderer=o,this._plt=a,this.gestureBlocker=r.createBlocker(Rr),this.d=i.data,this.mode=this.d.mode||n.get("mode"),this.keyboardResizes=n.getBoolean("keyboardResizes",!1),o.setElementClass(e.nativeElement,"alert-"+this.mode,!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&o.setElementClass(e.nativeElement,t,!0)}),this.id=++xi,this.descId="",this.hdrId="alert-hdr-"+this.id,this.subHdrId="alert-subhdr-"+this.id,this.msgId="alert-msg-"+this.id,this.activeId="",this.lastClick=0,this.d.message?this.descId=this.msgId:this.d.subTitle&&(this.descId=this.subHdrId),this.d.message||(this.d.message="")}return t.prototype.ionViewDidLoad=function(){var t=this,e=this.d;e.buttons=e.buttons.map(function(t){return"string"==typeof t?{text:t}:t}),e.inputs=e.inputs.map(function(e,n){return{type:e.type||"text",name:p(e.name)?e.name:n+"",placeholder:p(e.placeholder)?e.placeholder:"",value:p(e.value)?e.value:"",label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:p(e.id)?e.id:"alert-input-"+t.id+"-"+n,handler:p(e.handler)?e.handler:null,min:p(e.min)?e.min:null,max:p(e.max)?e.max:null}});var n=[];e.inputs.forEach(function(t){n.indexOf(t.type)<0&&n.push(t.type)}),n.length>1&&(n.indexOf("checkbox")>-1||n.indexOf("radio")>-1)&&console.warn("Alert cannot mix input types: "+n.join("/")+". Please see alert docs for more info."),this.inputType=n.length?n[0]:null;var r=this.d.inputs.find(function(t){return t.checked});r&&(this.activeId=r.id);var i=this.d.inputs.length&&this.d.inputs.some(function(t){return!Vn.test(t.type)});!this.keyboardResizes&&i&&this._plt.is("mobile")&&this._renderer.setElementClass(this._elementRef.nativeElement,"alert-top",!0)},t.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this.gestureBlocker.unblock()},t.prototype.ionViewDidEnter=function(){var t=this._elementRef.nativeElement.querySelector("input,button");t&&setTimeout(function(){return t.focus()}),this.enabled=!0},t.prototype.keyUp=function(t){if(this.enabled&&this._viewCtrl.isLast())if(13===t.keyCode){if(this.lastClick+1e3<Date.now()){this.btnClick(this.d.buttons[this.d.buttons.length-1])}}else 27===t.keyCode&&this.bdClick()},t.prototype.btnClick=function(t){if(this.enabled){this.lastClick=Date.now();var e=!0;t.handler&&!1===t.handler(this.getValues())&&(e=!1),e&&this.dismiss(t.role)}},t.prototype.rbClick=function(t){this.enabled&&(this.d.inputs.forEach(function(e){e.checked=t===e}),this.activeId=t.id,t.handler&&t.handler(t))},t.prototype.cbClick=function(t){this.enabled&&(t.checked=!t.checked,t.handler&&t.handler(t))},t.prototype.bdClick=function(){if(this.enabled&&this.d.enableBackdropDismiss){var t=this.d.buttons.find(function(t){return"cancel"===t.role});t?this.btnClick(t):this.dismiss("backdrop")}},t.prototype.dismiss=function(t){return this._viewCtrl.dismiss(this.getValues(),t,{minClickBlockDuration:400})},t.prototype.getValues=function(){if("radio"===this.inputType){var t=this.d.inputs.find(function(t){return t.checked});return t?t.value:void 0}if("checkbox"===this.inputType)return this.d.inputs.filter(function(t){return t.checked}).map(function(t){return t.value});if(0!==this.d.inputs.length){var e={};return this.d.inputs.forEach(function(t){e[t.name]=t.value}),e}},t.prototype.ngOnDestroy=function(){this.gestureBlocker.destroy()},t}(),xi=-1,Ei=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".alert-wrapper"));n.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.3),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),Si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".alert-wrapper"));n.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.3,0),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".alert-wrapper"));n.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.5),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".alert-wrapper"));n.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.5,0),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),Ti=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".alert-wrapper"));n.fromTo("opacity",.01,1).fromTo("scale",1.3,1),e.fromTo("opacity",.01,.5),this.easing("cubic-bezier(0,0,0.05,1)").duration(200).add(e).add(n)},e}(Jn),Pi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ei(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".alert-wrapper"));n.fromTo("opacity",.99,0).fromTo("scale",1,1.3),e.fromTo("opacity",.5,0),this.easing("ease-out").duration(150).add(e).add(n)},e}(Jn),Ni=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ii=function(t){function e(e,n,r){void 0===n&&(n={});var i=this;return n.inputs=n.inputs||[],n.buttons=n.buttons||[],n.enableBackdropDismiss=!p(n.enableBackdropDismiss)||!!n.enableBackdropDismiss,i=t.call(this,wi,n,null)||this,i._app=e,i.isOverlay=!0,r.setTransition("alert-pop-in",Ci),r.setTransition("alert-pop-out",Si),r.setTransition("alert-md-pop-in",Oi),r.setTransition("alert-md-pop-out",ki),r.setTransition("alert-wp-pop-in",Ti),r.setTransition("alert-wp-pop-out",Pi),i}return Ni(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"alertLeave":"alertEnter")},e.prototype.setTitle=function(t){return this.data.title=t,this},e.prototype.setSubTitle=function(t){return this.data.subTitle=t,this},e.prototype.setMessage=function(t){return this.data.message=t,this},e.prototype.addInput=function(t){return this.data.inputs.push(t),this},e.prototype.addButton=function(t){return this.data.buttons.push(t),this},e.prototype.setCssClass=function(t){return this.data.cssClass=t,this},e.prototype.setMode=function(t){this.data.mode=t},e.prototype.present=function(t){return void 0===t&&(t={}),t.minClickBlockDuration=t.minClickBlockDuration||400,this._app.present(this,t)},e}(Nn),Ai=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new Ii(this._app,t,this.config)},t}(),Mi=function(){return function(){}}(),Di=function(){function t(t,e){this._elementRef=t,this._renderer=e}return t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t}(),Ri=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji=function(t){function e(e,n,r){return t.call(this,e,n,r,"badge")||this}return Ri(e,t),e}(hr),Li=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zi=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o._role="button",o._style="default",o._mode=n.get("mode"),!1===n.get("hoverCSS")&&o.setElementClass("disable-hover",!0),e.trim().length>0&&o.setRole(e),o}return Li(e,t),Object.defineProperty(e.prototype,"large",{set:function(t){this._attr("_size","large",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"small",{set:function(t){this._attr("_size","small",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"default",{set:function(t){this._attr("_size","default",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outline",{set:function(t){this._attr("_style","outline",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clear",{set:function(t){this._attr("_style","clear",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"solid",{set:function(t){this._attr("_style","solid",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{set:function(t){this._attr("_shape","round",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"block",{set:function(t){this._attr("_display","block",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"full",{set:function(t){this._attr("_display","full",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strong",{set:function(t){this._attr("_decorator","strong",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{set:function(t){this._assignCss(!1),this._mode=t,this._assignCss(!0)},enumerable:!0,configurable:!0}),e.prototype._attr=function(t,e,n){"_style"===t&&this._updateColor(this._color,!1),this._setClass(this[t],!1),g(n)?(this[t]=e,this._setClass(e,!0)):(this[t]="_style"===t?"default":null,this._setClass(this[t],!0)),"_style"===t&&this._updateColor(this._color,!0)},Object.defineProperty(e.prototype,"color",{set:function(t){this._updateColor(this._color,!1),this._updateColor(t,!0),this._color=t},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._init=!0,this._assignCss(!0)},e.prototype.setRole=function(t){this._assignCss(!1),this._role=t,this._assignCss(!0)},e.prototype._assignCss=function(t){var e=this._role;e&&(this.setElementClass(e,t),this.setElementClass(e+"-"+this._mode,t),this._setClass(this._style,t),this._setClass(this._shape,t),this._setClass(this._display,t),this._setClass(this._size,t),this._setClass(this._decorator,t),this._updateColor(this._color,t))},e.prototype._setClass=function(t,e){t&&this._init&&(t=t.toLocaleLowerCase(),this.setElementClass(this._role+"-"+t,e),this.setElementClass(this._role+"-"+t+"-"+this._mode,e))},e.prototype._updateColor=function(t,e){if(t&&this._init){var n=this._role,r=this._style;n+=null!==(r="bar-button"!==this._role&&"solid"===r?"default":r)&&""!==r&&"default"!==r?"-"+r.toLowerCase():"",null!==t&&""!==t&&this.setElementClass(n+"-"+this._mode+"-"+t,e)}},e}(hr),Fi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(t){function e(e,n,r){return t.call(this,e,n,r,"card")||this}return Fi(e,t),e}(hr),Vi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ui=function(t){function e(e,n,r){return t.call(this,e,n,r,"card-content")||this}return Vi(e,t),e}(hr),Wi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qi=function(t){function e(e,n,r){return t.call(this,e,n,r,"card-header")||this}return Wi(e,t),e}(hr),Hi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gi=function(t){function e(e,n,r){return t.call(this,e,n,r,"card-title")||this}return Hi(e,t),e}(hr),$i=(n(13),function(){function t(){this._focused=null,this._ids=-1,this._inputs=[]}return t.prototype.register=function(t){this._inputs.push(t)},t.prototype.deregister=function(t){_(this._inputs,t),this.unsetAsFocused(t)},t.prototype.setAsFocused=function(t){this._focused=t},t.prototype.unsetAsFocused=function(t){t===this._focused&&(this._focused=null)},t.prototype.tabFocus=function(t){var e=this._inputs,n=e.indexOf(t)+1;if(n>0&&n<e.length){var r=e[n];if(r!==this._focused)return r.initFocus()}if((n=e.indexOf(this._focused))>0){var i=e[n-1];i&&i.initFocus()}},t.prototype.nextId=function(){return++this._ids},t}()),Yi=function(){return function(){}}(),Ki=function(){return function(){}}(),Xi=function(){function t(t){this.wait=t,this.timer=null}return t.prototype.debounce=function(t){this.callback=t,this.schedule()},t.prototype.schedule=function(){this.cancel(),this.wait<=0?this.callback():this.timer=setTimeout(this.callback,this.wait)},t.prototype.cancel=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t}(),Zi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ji=function(t){function e(e,n,r,o,a,s,u,l){var c=t.call(this,e,n,r,o)||this;return c._defaultValue=a,c._form=s,c._item=u,c._ngControl=l,c._isFocus=!1,c._disabled=!1,c._debouncer=new Xi(0),c._init=!1,c._initModel=!1,c.ionFocus=new Sn.EventEmitter,c.ionChange=new Sn.EventEmitter,c.ionBlur=new Sn.EventEmitter,s&&s.register(c),c._value=i(c._defaultValue),u&&(c.id=o+"-"+u.registerInput(o),c._labelId=u.labelId,c._item.setElementClass("item-"+o,!0)),l&&(l.valueAccessor=c),c}return Zi(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabledState(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._writeValue(t)&&(this.onChange(),this._fireIonChange())},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t){this.value=t},e.prototype.setDisabledState=function(t){this._disabled=t=g(t),this._item&&this._item.setElementClass("item-"+this._componentName+"-disabled",t)},e.prototype.writeValue=function(t){this._writeValue(t)&&(this._initModel?this._fireIonChange():this._init&&(this._initModel=!0))},e.prototype._writeValue=function(t){if(f(t))return!1;var e=null===t?i(this._defaultValue):this._inputNormalize(t);return!(f(e)||!this._inputShouldChange(e))&&(this._value=e,this._init&&this._inputUpdated(),!0)},e.prototype._fireIonChange=function(){var t=this;this._init&&this._debouncer.debounce(function(){t.ionChange.emit(t._inputChangeEvent()),t._initModel=!0})},e.prototype.registerOnChange=function(t){this._onChanged=t},e.prototype.registerOnTouched=function(t){this._onTouched=t},e.prototype._initialize=function(){this._init||(this._init=!0,p(this._value)&&this._inputUpdated())},e.prototype._fireFocus=function(){this._isFocus||(this._form&&this._form.setAsFocused(this),this._setFocus(!0),this.ionFocus.emit(this))},e.prototype._fireBlur=function(){this._isFocus&&(this._form&&this._form.unsetAsFocused(this),this._setFocus(!1),this._fireTouched(),this.ionBlur.emit(this))},e.prototype._fireTouched=function(){this._onTouched&&this._onTouched()},e.prototype._setFocus=function(t){this._isFocus=t;var e=this._item;e&&(e.setElementClass("input-has-focus",t),e.setElementClass("item-input-has-focus",t)),this._inputUpdated()},e.prototype.onChange=function(){this._onChanged&&this._onChanged(this._inputNgModelEvent())},e.prototype.isFocus=function(){return this._isFocus},e.prototype.hasValue=function(){var t=this._value;return!!p(t)&&(!m(t)&&!s(t)||t.length>0)},e.prototype.focusNext=function(){this._form&&this._form.tabFocus(this)},e.prototype.ngOnDestroy=function(){var t=this._form;t&&t.deregister(this),this._init=!1},e.prototype.ngAfterContentInit=function(){this._initialize()},e.prototype.initFocus=function(){var t=this._elementRef.nativeElement.querySelector("button");t&&t.focus()},e.prototype._inputNormalize=function(t){return t},e.prototype._inputShouldChange=function(t){return this._value!==t},e.prototype._inputChangeEvent=function(){return this},e.prototype._inputNgModelEvent=function(){return this._value},e.prototype._inputUpdated=function(){var t=this._item;if(t){!function(t,e){e&&(t.setElementClass("ng-untouched",e.untouched),t.setElementClass("ng-touched",e.touched),t.setElementClass("ng-pristine",e.pristine),t.setElementClass("ng-dirty",e.dirty),t.setElementClass("ng-valid",e.valid),t.setElementClass("ng-invalid",!e.valid))}(t,this._ngControl);var e=this.hasValue();t.setElementClass("input-has-value",e),t.setElementClass("item-input-has-value",e)}},e}(hr),Qi=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),to=function(t){function e(e,n,r){var i=t.call(this,e,n,r,"icon")||this;return i._isActive=!0,i._name="",i._ios="",i._md="",i._css="",i._hidden=!1,i._iconMode=e.get("iconMode"),i}return Qi(e,t),e.prototype.ngOnDestroy=function(){this._css&&this.setElementClass(this._css,!1)},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=/^md-|^ios-|^logo-/.test(t)?t:this._iconMode+"-"+t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ios",{get:function(){return this._ios},set:function(t){this._ios=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"md",{get:function(){return this._md},set:function(t){this._md=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this._isActive=g(t),this.update()},enumerable:!0,configurable:!0}),e.prototype.update=function(){var t;if(!(this._hidden=null===(t=this._ios&&"ios"===this._iconMode?this._ios:this._md&&"md"===this._iconMode?this._md:this._name))){"ios"===t.split("-",2)[0]&&!this._isActive&&t.indexOf("logo-")<0&&t.indexOf("-outline")<0&&(t+="-outline");var e="ion-"+t;if(this._css!==e){this._css&&this.setElementClass(this._css,!1),this._css=e,this.setElementClass(e,!0);var n=t.replace("ios-","").replace("md-","").replace("-"," ");this.setElementAttribute("aria-label",n)}}},e}(hr),eo=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),no=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,e,n,r,"label")||this;return u.type=""===i?"floating":""===o?"stacked":""===a?"fixed":""===s?"inset":null,u}return eo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,t&&this.setElementAttribute("id",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.getNativeElement().textContent||""},enumerable:!0,configurable:!0}),e}(hr),ro=function(){function t(t,e,n,r){this._plt=e,this._zone=n,this._dom=r,this.willShow=new Sn.EventEmitter,this.willHide=new Sn.EventEmitter,this.didShow=new Sn.EventEmitter,this.didHide=new Sn.EventEmitter,this.eventsAvailable=!1,this.focusOutline(t.get("focusOutline"));var i=e.win();i.Ionic&&i.Ionic.keyboardPlugin?this.listenV2(i):this.listenV1(i)}return t.prototype.listenV2=function(t){var e=this,n=this._plt;n.registerListener(t,"keyboardWillShow",function(t){e._zone.run(function(){e.willShow.emit(t.keyboardHeight)})},{zone:!1,passive:!0}),n.registerListener(t,"keyboardWillHide",function(){e._zone.run(function(){e.willHide.emit()})},{zone:!1,passive:!0}),n.registerListener(t,"keyboardDidShow",function(t){e._zone.run(function(){e.didShow.emit(t.keyboardHeight)})},{zone:!1,passive:!0}),n.registerListener(t,"keyboardDidHide",function(){e._zone.run(function(){e.didHide.emit()})},{zone:!1,passive:!0}),this.eventsAvailable=!0},t.prototype.listenV1=function(t){var e=this,n=this._plt;n.registerListener(t,"native.keyboardhide",function(){e.blurActiveInput(!0)},{zone:!1,passive:!0}),n.registerListener(t,"native.keyboardshow",function(){e.blurActiveInput(!1)},{zone:!1,passive:!0})},t.prototype.blurActiveInput=function(t){var e=this,n=this._plt;n.cancelTimeout(this._tmr),t&&(this._tmr=n.timeout(function(){e.isOpen()&&n.focusOutActiveElement()},80))},t.prototype.isOpen=function(){return this.hasFocusedTextInput()},t.prototype.onClose=function(t,e,n){function r(){!i.isOpen()||o>n?i._plt.timeout(function(){i._zone.run(function(){t()})},400):i._plt.timeout(r,e),o++}void 0===e&&(e=io),void 0===n&&(n=oo);var i=this,o=0,a=null;return t||(a=new Promise(function(e){t=e})),i._plt.timeout(r,e),a},t.prototype.close=function(){var t=this;this._dom.read(function(){t.isOpen()&&t._dom.write(function(){t._plt.focusOutActiveElement()})})},t.prototype.focusOutline=function(t){function e(){a._dom.write(function(){s.doc().body.classList[l?"add":"remove"]("focus-outline")})}function n(){l=!1,r()}function r(){e(),i&&i(),o&&o(),l&&(i=s.registerListener(u,"mousedown",n,c),o=s.registerListener(u,"touchstart",n,c))}var i,o,a=this,s=a._plt,u=s.doc(),l=!1,c={passive:!0,zone:!1};if(!0===t)return l=!0,e();!1!==t&&s.registerListener(s.doc(),"keydown",function(t){l||t.keyCode!==ui||(l=!0,r())},c)},t.prototype.hasFocusedTextInput=function(){var t=this._plt.getActiveElement();return!!I(t)&&t.parentElement.querySelector(":focus")===t},t.prototype.hideFormAccessoryBar=function(t){var e=this._plt.win();e&&e.Keyboard&&e.Keyboard.hideFormAccessoryBar&&e.Keyboard.hideFormAccessoryBar(t)},t}(),io=150,oo=100,ao=function(){function t(t,e,n){this._app=t,this._plt=e,this._dom=n,this.isScrolling=!1,this.initialized=!1,this._eventsEnabled=!1,this._t=0,this._l=0,this.ev={timeStamp:0,scrollTop:0,scrollLeft:0,scrollHeight:0,scrollWidth:0,contentHeight:0,contentWidth:0,contentTop:0,contentBottom:0,startY:0,startX:0,deltaY:0,deltaX:0,velocityY:0,velocityX:0,directionY:"down",directionX:null,domWrite:n.write.bind(n)}}return t.prototype.init=function(t,e,n){this._el=t,this.initialized||(this.initialized=!0,this._js?this.enableJsScroll(e,n):this.enableNativeScrolling())},t.prototype.enableEvents=function(){this._eventsEnabled=!0},t.prototype.setScrolling=function(t,e){this.isScrolling?t?this.onScroll&&this.onScroll(e):(this.isScrolling=!1,this.onScrollEnd&&this.onScrollEnd(e)):t&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart(e))},t.prototype.enableNativeScrolling=function(){if(this._js=!1,this._el){var t=this,e=t.ev,n=[];t._lsn&&t._lsn(),t._lsn=t._plt.registerListener(t._el,"scroll",function(r){if(t._app.setScrolling(),t._eventsEnabled){if(e.timeStamp=r.timeStamp,e.timeStamp||(e.timeStamp=Date.now()),e.scrollTop=t.getTop(),e.scrollLeft=t.getLeft(),t.isScrolling||(e.startY=e.scrollTop,e.startX=e.scrollLeft,e.velocityY=e.velocityX=0,e.deltaY=e.deltaX=0,n.length=0),n.push(e.scrollTop,e.scrollLeft,e.timeStamp),n.length>3){e.deltaY=e.scrollTop-e.startY,e.deltaX=e.scrollLeft-e.startX;for(var i=n.length-1,o=i,a=e.timeStamp-100,s=i;s>0&&n[s]>a;s-=3)o=s;if(o!==i){var u=n[o-2]-n[i-2],l=n[o-1]-n[i-1],c=fo/(n[i]-n[o]);e.velocityY=u*c,e.velocityX=l*c,e.directionY=u>0?"up":"down",e.directionX=l>0?"left":"right"}}t.setScrolling(!0,e),t._dom.cancel(t._endTmr),t._endTmr=t._dom.read(function(){e.velocityY=e.velocityX=0,t.setScrolling(!1,e),t._endTmr=null},so)}},po)}},t.prototype.enableJsScroll=function(t,e){function n(){s||(s=o.scrollHeight-o.parentElement.offsetHeight+t+e)}function r(t){u.timeStamp=t,u.velocityY&&(u.velocityY*=co,n(),i._t=Math.min(Math.max(i._t+u.velocityY,0),s),u.scrollTop=i._t,i.onScroll(u),i._dom.write(function(){i.setTop(i._t),i._t>0&&i._t<s&&Math.abs(u.velocityY)>lo?a=i._dom.read(function(t){r(t)}):(i.isScrolling=!1,u.velocityY=u.velocityX=0,i.onScrollEnd(u))}))}var i=this;i._js=!0;var o=i._el;if(o){var a,s,u=i.ev,l=[],c=i._plt,f=c.registerListener(o,"touchstart",function(t){l.length=0,s=null,i._dom.cancel(a),l.push(P(t).y,t.timeStamp)},po),p=c.registerListener(o,"touchmove",function(t){if(l.length){u.timeStamp=t.timeStamp;var e=P(t).y;n(),i._t-=e-l[l.length-2],i._t=Math.min(Math.max(i._t,0),s),l.push(e,u.timeStamp),i.isScrolling||(u.startY=i._t,u.velocityY=u.deltaY=0,i.isScrolling=!0,i.onScrollStart(u)),i._dom.write(function(){i.setTop(i._t)})}},po),d=c.registerListener(o,"touchend",function(t){if(i._dom.cancel(a),!l.length&&i.isScrolling)return i.isScrolling=!1,u.velocityY=u.velocityX=0,void i.onScrollEnd(u);var e=P(t).y;l.push(e,t.timeStamp);for(var o=l.length-1,s=o,c=t.timeStamp-100,f=o;f>0&&l[f]>c;f-=2)s=f;s!==o?(u.velocityY=(l[s-1]-l[o-1])/(l[o]-l[s])*fo,Math.abs(u.velocityY)>uo&&(n(),a=i._dom.read(function(t){r(t)}))):(i.isScrolling=!1,u.velocityY=0,i.onScrollEnd(u));l.length=0},po);o.parentElement.classList.add("js-scroll"),i._lsn&&i._lsn(),i._lsn=function(){f(),p(),d(),o.parentElement.classList.remove("js-scroll")}}},t.prototype.getTop=function(){return this._js?this._t:this._t=this._el.scrollTop},t.prototype.getLeft=function(){return this._js?0:this._l=this._el.scrollLeft},t.prototype.setTop=function(t){this._t=t,this._js?this._el.style[this._plt.Css.transform]="translate3d("+-1*this._l+"px,"+-1*t+"px,0px)":this._el.scrollTop=t},t.prototype.setLeft=function(t){this._l=t,this._js?this._el.style[this._plt.Css.transform]="translate3d("+-1*t+"px,"+-1*this._t+"px,0px)":this._el.scrollLeft=t},t.prototype.scrollTo=function(t,e,n,r){function i(o){if(d++,!a._el||h||d>f)return a.setScrolling(!1,null),s.style[p]="",void r();var m=Math.min(1,(o-u)/n),g=--m*m*m+1;l!==e&&a.setTop(g*(e-l)+l),c!==t&&a.setLeft(Math.floor(g*(t-c)+c)),g<1?a._plt.raf(i):(h=!0,a.setScrolling(!1,null),s.style[p]="",r())}var o;void 0===r&&(o=new Promise(function(t){r=t}));var a=this,s=a._el;if(!s)return r(),o;if(n<32)return a.setTop(e),a.setLeft(t),r(),o;var u,l=s.scrollTop,c=s.scrollLeft,f=n/16+100,p=a._plt.Css.transform,d=0,h=!1;return a.setScrolling(!0,null),a.isScrolling=!0,a._dom.write(function(t){u=t,i(t)},16),o},t.prototype.scrollToTop=function(t){return this.scrollTo(0,0,t)},t.prototype.scrollToBottom=function(t){var e=0;return this._el&&(e=this._el.scrollHeight-this._el.clientHeight),this.scrollTo(0,e,t)},t.prototype.stop=function(){this.setScrolling(!1,null)},t.prototype.destroy=function(){this.stop(),this._endTmr&&this._dom.cancel(this._endTmr),this._lsn&&this._lsn();var t=this.ev;t.domWrite=t.contentElement=t.fixedElement=t.scrollElement=t.headerElement=null,this._lsn=this._el=this._dom=this.ev=t=null,this.onScrollStart=this.onScroll=this.onScrollEnd=null},t}(),so=80,uo=4,lo=.12,co=.97,fo=1e3/60,po={passive:!0,zone:!1},ho=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ho(e,t),e.prototype.subscribe=function(e,n,r){return this.onSubscribe(),t.prototype.subscribe.call(this,e,n,r)},e}(Sn.EventEmitter),go=function(t){function e(e,n,r,i,o,a,s,u,l,c){var f=t.call(this,e,i,o,"content")||this;f._plt=n,f._dom=r,f._app=a,f._keyboard=s,f._zone=u,f._scrollPadding=0,f._inputPolling=!1,f._hasRefresher=!1,f._imgs=[],f._scrollDownOnLoad=!1,f.ionScrollStart=new mo,f.ionScroll=new mo,f.ionScrollEnd=new mo;var p=function(){return f._scroll.enableEvents()};for(f.ionScroll.onSubscribe=p,f.ionScrollStart.onSubscribe=p,f.ionScrollEnd.onSubscribe=p,f.statusbarPadding=e.getBoolean("statusbarPadding",!1),f._imgReqBfr=e.getNumber("imgRequestBuffer",1400),f._imgRndBfr=e.getNumber("imgRenderBuffer",400),f._imgVelMax=e.getNumber("imgVelocityMax",3),f._scroll=new ao(a,n,r);c;){if(k(c)){f._tabs=c;break}c=c.parent}return l?(f._viewCtrl=l,l._setIONContent(f),l._setIONContentRef(i),f._viewCtrlReadSub=l.readReady.subscribe(function(){f._viewCtrlReadSub.unsubscribe(),f._readDimensions()}),f._viewCtrlWriteSub=l.writeReady.subscribe(function(){f._viewCtrlWriteSub.unsubscribe(),f._writeDimensions()})):(r.read(f._readDimensions.bind(f)),r.write(f._writeDimensions.bind(f))),f}return ho(e,t),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this._scroll.ev.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentWidth",{get:function(){return this._scroll.ev.contentWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this._scroll.ev.scrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this._scroll.ev.scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this._scroll.ev.scrollTop},set:function(t){this._scroll.setTop(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this._scroll.ev.scrollLeft},set:function(t){this._scroll.setLeft(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScrolling",{get:function(){return this._scroll.isScrolling},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directionY",{get:function(){return this._scroll.ev.directionY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directionX",{get:function(){return this._scroll.ev.directionX},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this,e=this._scroll;e.ev.fixedElement=this.getFixedElement(),e.ev.scrollElement=this.getScrollElement(),e.onScrollStart=function(e){t.ionScrollStart.emit(e)},e.onScroll=function(e){t.ionScroll.emit(e),t.imgsUpdate()},e.onScrollEnd=function(e){t.ionScrollEnd.emit(e),t.imgsUpdate()}},e.prototype.enableJsScroll=function(){this._scroll.enableJsScroll(this._cTop,this._cBottom)},e.prototype.ngOnDestroy=function(){this._scLsn&&this._scLsn(),this._viewCtrlReadSub&&this._viewCtrlReadSub.unsubscribe(),this._viewCtrlWriteSub&&this._viewCtrlWriteSub.unsubscribe(),this._viewCtrlReadSub=this._viewCtrlWriteSub=null,this._scroll&&this._scroll.destroy(),this._footerEle=this._scLsn=this._scroll=null},e.prototype.getScrollElement=function(){return this._scrollContent.nativeElement},e.prototype.getFixedElement=function(){return this._fixedContent.nativeElement},e.prototype.onScrollElementTransitionEnd=function(t){this._plt.transitionEnd(this.getScrollElement(),t)},e.prototype.scrollTo=function(t,e,n,r){return void 0===n&&(n=300),this._scroll.scrollTo(t,e,n,r)},e.prototype.scrollToTop=function(t){return void 0===t&&(t=300),this._scroll.scrollToTop(t)},e.prototype.scrollToBottom=function(t){return void 0===t&&(t=300),this._scroll.scrollToBottom(t)},Object.defineProperty(e.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(t){this._fullscreen=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollDownOnLoad",{get:function(){return this._scrollDownOnLoad},set:function(t){this._scrollDownOnLoad=g(t)},enumerable:!0,configurable:!0}),e.prototype.addImg=function(t){this._imgs.push(t)},e.prototype.removeImg=function(t){_(this._imgs,t)},e.prototype.setScrollElementStyle=function(t,e){var n=this.getScrollElement();n&&this._dom.write(function(){n.style[t]=e})},e.prototype.getContentDimensions=function(){var t=this.getScrollElement(),e=t.parentElement;return{contentHeight:e.offsetHeight-this._cTop-this._cBottom,contentTop:this._cTop,contentBottom:this._cBottom,contentWidth:e.offsetWidth,contentLeft:e.offsetLeft,scrollHeight:t.scrollHeight,scrollTop:t.scrollTop,scrollWidth:t.scrollWidth,scrollLeft:t.scrollLeft}},e.prototype.addScrollPadding=function(t){if(0===t&&(this._inputPolling=!1,this._scrollPadding=-1),t>this._scrollPadding){this._scrollPadding=t;var e=this.getScrollElement();e&&this._dom.write(function(){e.style.paddingBottom=t>0?t+"px":""})}},e.prototype.clearScrollPaddingFocusOut=function(){var t=this;this._inputPolling||(this._inputPolling=!0,this._keyboard.onClose(function(){t.addScrollPadding(0)},200,3e3))},e.prototype.resize=function(){this._dom.read(this._readDimensions.bind(this)),this._dom.write(this._writeDimensions.bind(this))},e.prototype._readDimensions=function(){var t,e=this._pTop,n=this._pRight,r=this._pBottom,i=this._pLeft,o=this._hdrHeight,a=this._ftrHeight,s=this._tabsPlacement,u=0;if(this._pTop=0,this._pRight=0,this._pBottom=0,this._pLeft=0,this._hdrHeight=0,this._ftrHeight=0,this._tabsPlacement=null,this._tTop=0,this._fTop=0,this._fBottom=0,this._scroll){t=this._scroll.ev;var l=this.getNativeElement();if(l){for(var c,f,p=l.parentElement,d=p.children,h=d.length-1;h>=0;h--)"ION-CONTENT"===(f=(l=d[h]).tagName)?(t.contentElement=l,this._fullscreen&&(c=getComputedStyle(l),this._pTop=q(c.paddingTop),this._pBottom=q(c.paddingBottom),this._pRight=q(c.paddingRight),this._pLeft=q(c.paddingLeft))):"ION-HEADER"===f?(t.headerElement=l,this._hdrHeight=l.clientHeight):"ION-FOOTER"===f&&(t.footerElement=l,this._ftrHeight=l.clientHeight,this._footerEle=l);l=p;for(;l&&"ION-MODAL"!==l.tagName&&!l.classList.contains("tab-subpage");)"ION-TABS"===l.tagName&&(this._tabbarHeight=l.firstElementChild.clientHeight,null===this._tabsPlacement&&(this._tabsPlacement=l.getAttribute("tabsplacement"))),l=l.parentElement;this._tabs&&"top"===this._tabsPlacement&&(this._tTop=this._hdrHeight,u=this._tabs._top),this._cTop=this._hdrHeight,this._cBottom=this._ftrHeight,"top"===this._tabsPlacement?this._cTop+=this._tabbarHeight:"bottom"===this._tabsPlacement&&(this._cBottom+=this._tabbarHeight),this._hasRefresher&&(this._cTop-=1),this._fTop=this._cTop,this._fBottom=this._cBottom,this._fullscreen&&(this._cTop+=this._pTop,this._cBottom+=this._pBottom);var m=this.getContentDimensions();t.scrollHeight=m.scrollHeight,t.scrollWidth=m.scrollWidth,t.contentHeight=m.contentHeight,t.contentWidth=m.contentWidth,t.contentTop=m.contentTop,t.contentBottom=m.contentBottom,this._dirty=e!==this._pTop||r!==this._pBottom||i!==this._pLeft||n!==this._pRight||o!==this._hdrHeight||a!==this._ftrHeight||s!==this._tabsPlacement||u!==this._tTop||this._cTop!==this.contentTop||this._cBottom!==this.contentBottom,this._scroll.init(this.getScrollElement(),this._cTop,this._cBottom),this.imgsUpdate()}}},e.prototype._writeDimensions=function(){if(this._dirty){var t=this.getScrollElement();if(t){var e=this.getFixedElement();if(e){if("bottom"===this._tabsPlacement&&this._cBottom>0&&this._footerEle){this._footerEle.style.bottom=H(this._cBottom-this._ftrHeight)}var n="marginTop",r="marginBottom",i=this._fTop,o=this._fBottom;this._fullscreen&&(n="paddingTop",r="paddingBottom"),this._cTop!==this.contentTop&&(t.style[n]=H(this._cTop),e.style.marginTop=H(i),this.contentTop=this._cTop),this._cBottom!==this.contentBottom&&(t.style[r]=H(this._cBottom),e.style.marginBottom=H(o),this.contentBottom=this._cBottom),null!==this._tabsPlacement&&this._tabs&&("top"===this._tabsPlacement?this._tabs.setTabbarPosition(this._tTop,-1):this._tabs.setTabbarPosition(-1,0)),this._scrollDownOnLoad&&(this.scrollToBottom(0),this._scrollDownOnLoad=!1)}}}},e.prototype.imgsUpdate=function(){this._scroll.initialized&&this._imgs.length&&this.isImgsUpdatable()&&function(t,e,n,r,i,o){for(var a,s=e+n,u=[],l=[],c=0,f=t.length;c<f;c++){if(a=t[c],"up"===r){if(a.top<s&&a.bottom>e-o){a.canRequest=a.canRender=!0,u.push(a);continue}if(a.bottom<=e&&a.bottom>e-i){a.canRequest=!0,a.canRender=!1,l.push(a);continue}if(a.top>=s&&a.top<s+o){a.canRequest=a.canRender=!1;continue}}else{if(a.bottom>e&&a.top<s+o){a.canRequest=a.canRender=!0,u.push(a);continue}if(a.top>=s&&a.top<s+i){a.canRequest=!0,a.canRender=!1,l.push(a);continue}if(a.bottom<=e&&a.bottom>e-o){a.canRequest=a.canRender=!1;continue}}a.canRequest=a.canRender=!1,a.reset()}u.sort(W).forEach(function(t){return t.update()}),"up"===r?l.sort(W).reverse().forEach(function(t){return t.update()}):l.sort(W).forEach(function(t){return t.update()})}(this._imgs,this.scrollTop,this.contentHeight,this.directionY,this._imgReqBfr,this._imgRndBfr)},e.prototype.isImgsUpdatable=function(){return Math.abs(this._scroll.ev.velocityY)<this._imgVelMax},e}(hr),vo=function(){function t(t,e){this.plt=t,this.reorderList=e,this.selectedItemEle=null,this.events=new qr(t),this.events.pointerEvents({element:this.reorderList.getNativeElement(),pointerDown:this.onDragStart.bind(this),pointerMove:this.onDragMove.bind(this),pointerUp:this.onDragEnd.bind(this),zone:!1})}return t.prototype.onDragStart=function(t){if(this.selectedItemEle)return!1;var e=t.target;if("ION-REORDER"!==e.nodeName)return!1;var n=e.$ionComponent;if(!n)return console.error("ion-reorder does not contain $ionComponent"),!1;this.reorderList._reorderPrepare();var r=n.getReorderNode();return r?(t.preventDefault(),this.selectedItemEle=r,this.selectedItemHeight=r.offsetHeight,this.lastYcoord=-100,this.lastToIndex=G(r),this.windowHeight=this.plt.height()-yo,this.lastScrollPosition=this.reorderList._scrollContent(0),this.offset=P(t),this.offset.y+=this.lastScrollPosition,r.classList.add(_o),this.reorderList._reorderStart(),!0):(console.error("reorder node not found"),!1)},t.prototype.onDragMove=function(t){var e=this.selectedItemEle;if(e){t.preventDefault();var n=P(t),r=n.y,i=this.scroll(r);if(Math.abs(r-this.lastYcoord)>30){var o=this.itemForCoord(n);if(o){var a=G(o);if(void 0!==a&&(a!==this.lastToIndex||this.emptyZone)){var s=G(e);this.lastToIndex=a,this.lastYcoord=r,this.emptyZone=!1,this.reorderList._reorderMove(s,a,this.selectedItemHeight)}}else this.emptyZone=!0}var u=Math.round(r-this.offset.y+i);e.style[this.plt.Css.transform]="translateY("+u+"px)"}},t.prototype.onDragEnd=function(t){var e=this,n=this.selectedItemEle;if(n){t&&(t.preventDefault(),t.stopPropagation());var r=this.lastToIndex,i=G(n),o=function(){e.selectedItemEle.style.transition="",e.selectedItemEle.classList.remove(_o),e.selectedItemEle=null};r===i?(n.style.transition="transform 200ms ease-in-out",setTimeout(o,200)):o(),this.reorderList._reorderEmit(i,r)}},t.prototype.itemForCoord=function(t){return $(this.plt.getElementFromPoint(this.offset.x+(this.reorderList._isStart===this.plt.isRTL?-100:100),t.y),this.reorderList.getNativeElement())},t.prototype.scroll=function(t){return t<yo?this.lastScrollPosition=this.reorderList._scrollContent(-bo):t>this.windowHeight&&(this.lastScrollPosition=this.reorderList._scrollContent(bo)),this.lastScrollPosition},t.prototype.destroy=function(){this.onDragEnd(null),this.events.destroy(),this.events=null,this.reorderList=null},t}(),yo=60,bo=10,_o="reorder-active",wo=function(){function t(t,e){this.from=t,this.to=e}return t.prototype.applyTo=function(t){b(t,this)},t}(),xo=function(){function t(t,e,n,r,i,o){this._plt=t,this._dom=e,this._rendered=r,this._zone=i,this._content=o,this._enableReorder=!1,this._visibleReorder=!1,this._isStart=!1,this._lastToIndex=-1,this.ionItemReorder=new Sn.EventEmitter,this._element=n.nativeElement}return Object.defineProperty(t.prototype,"side",{set:function(t){this._isStart="start"===t},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._element=null,this._reorderGesture&&this._reorderGesture.destroy()},Object.defineProperty(t.prototype,"reorder",{get:function(){return this._enableReorder},set:function(t){var e=this,n=g(t);!n&&this._reorderGesture?(this._reorderGesture.destroy(),this._reorderGesture=null,this._visibleReorder=!1,setTimeout(function(){return e._enableReorder=!1},400)):n&&!this._reorderGesture&&(this._reorderGesture=new vo(this._plt,this),this._enableReorder=!0,this._dom.write(function(){e._zone.run(function(){e._visibleReorder=!0})},16))},enumerable:!0,configurable:!0}),t.prototype._reorderPrepare=function(){for(var t=this._element,e=t.children,n=0,r=e.length;n<r;n++){var i=e[n];i.$ionIndex=n,i.$ionReorderList=t}},t.prototype._reorderStart=function(){this.setElementClass("reorder-list-active",!0)},t.prototype._reorderEmit=function(t,e){var n=this;this._reorderReset(),t!==e&&this._zone.run(function(){var r=new wo(t,e);n.ionItemReorder.emit(r)})},t.prototype._scrollContent=function(t){var e=this._content.scrollTop+t;return 0!==t&&this._content.scrollTo(0,e,0),e},t.prototype._reorderReset=function(){var t=this._element.children,e=t.length;this.setElementClass("reorder-list-active",!1);for(var n=this._plt.Css.transform,r=0;r<e;r++)t[r].style[n]="";this._lastToIndex=-1},t.prototype._reorderMove=function(t,e,n){-1===this._lastToIndex&&(this._lastToIndex=t);var r=this._lastToIndex;this._lastToIndex=e;var i=this._element.children,o=this._plt.Css.transform;if(e>=r)for(var a=r;a<=e;a++)a!==t&&(i[a].style[o]=a>t?"translateY("+-n+"px)":"");if(e<=r)for(a=e;a<=r;a++)a!==t&&(i[a].style[o]=a<t?"translateY("+n+"px)":"")},t.prototype.setElementClass=function(t,e){this._rendered.setElementClass(this._element,t,e)},t.prototype.getNativeElement=function(){return this._element},t}(),Eo=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Co=function(t){function e(e,n,r,i,o){var a=t.call(this,n,r,i,"item")||this;return a._ids=-1,a._inputs=[],a._viewLabel=!0,a._name="item",a.labelId=null,a._setName(r),a._hasReorder=!!o,a.id=e.nextId().toString(),a.labelId="lbl-"+a.id,i.orgListen||(i.orgListen=i.listen,i.listen=function(t,e,n){return"click"===e&&t.setAttribute&&t.setAttribute("tappable",""),i.orgListen(t,e,n)}),a}return Eo(e,t),e.prototype.registerInput=function(t){return this._inputs.push(t),this.id+"-"+ ++this._ids},e.prototype.ngAfterContentInit=function(){if(this._viewLabel&&this._inputs.length){var t=this.getLabelText().trim();this._viewLabel=t.length>0}this._inputs.length>1&&this.setElementClass("item-multiple-inputs",!0)},e.prototype._updateColor=function(t,e){this._setColor(t,e=e||"item")},e.prototype._setName=function(t){var e=t.nativeElement.nodeName.replace("ION-","");"LIST-HEADER"!==e&&"ITEM-DIVIDER"!==e||(this._name=e)},e.prototype.getLabelText=function(){return this._label?this._label.text:""},Object.defineProperty(e.prototype,"contentLabel",{set:function(t){t&&(this._label=t,t.id=this.labelId,t.type&&this.setElementClass("item-label-"+t.type,!0),this._viewLabel=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewLabel",{set:function(t){this._label||(this._label=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_buttons",{set:function(t){t.forEach(function(t){t._size||t.setElementClass("item-button",!0)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_icons",{set:function(t){t.forEach(function(t){t.setElementClass("item-icon",!0)})},enumerable:!0,configurable:!0}),e}(hr),So=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oo=function(t){function e(e,n,r,i,o){return t.call(this,e,i,o,"checkbox",!1,n,r,null)||this}return So(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.value=!this.value,this._fireTouched()},e.prototype._inputNormalize=function(t){return g(t)},e.prototype._inputUpdated=function(){this._item&&this._item.setElementClass("item-checkbox-checked",this._value)},e}(Ji),ko=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),To=function(t){function e(e,n,r){return t.call(this,e,n,r,"chip")||this}return ko(e,t),e}(hr),Po=function(){function t(t){var e=this;t&&t.ready().then(function(){e._p=t.win().TapticEngine})}return t.prototype.available=function(){return!!this._p},t.prototype.selection=function(){this._p&&this._p.selection()},t.prototype.gestureSelectionStart=function(){this._p&&this._p.gestureSelectionStart()},t.prototype.gestureSelectionChanged=function(){this._p&&this._p.gestureSelectionChanged()},t.prototype.gestureSelectionEnd=function(){this._p&&this._p.gestureSelectionEnd()},t.prototype.notification=function(t){this._p&&this._p.notification(t)},t.prototype.impact=function(t){this._p&&this._p.impact(t)},t}(),No="picker-opt-selected",Io=function(){function t(t,e,n,r,i,o,a){this._plt=e,this.elementRef=n,this._zone=r,this._haptic=i,this.y=0,this.pos=[],this.startY=null,this.ionChange=new Sn.EventEmitter,this.events=new qr(o),this.rotateFactor=t.getNumber("pickerRotateFactor",0),this.scaleFactor=t.getNumber("pickerScaleFactor",1),this.decelerateFunc=this.decelerate.bind(this),this.debouncer=a.debouncer()}return t.prototype.ngAfterViewInit=function(){var t=this.colEle.nativeElement;this.colHeight=t.clientHeight,this.optHeight=t.firstElementChild?t.firstElementChild.clientHeight:0,this.events.pointerEvents({element:this.elementRef.nativeElement,pointerDown:this.pointerStart.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerEnd.bind(this),capture:!0,zone:!1})},t.prototype.ngOnDestroy=function(){this._plt.cancelRaf(this.rafId),this.events.destroy()},t.prototype.pointerStart=function(t){this._haptic.gestureSelectionStart(),t.preventDefault(),this._plt.cancelRaf(this.rafId),this.startY=P(t).y,this.velocity=0,this.pos.length=0,this.pos.push(this.startY,Date.now());for(var e=this.col.options,n=e.length-1,r=0,i=0;i<e.length;i++)e[i].disabled||(n=Math.min(n,i),r=Math.max(r,i));return this.minY=n*this.optHeight*-1,this.maxY=r*this.optHeight*-1,!0},t.prototype.pointerMove=function(t){var e=this;t.preventDefault(),t.stopPropagation();var n=P(t).y;this.pos.push(n,Date.now()),this.debouncer.write(function(){if(null!==e.startY){var t=e.y+(n-e.startY);t>e.minY?(t=Math.pow(t,.8),e.bounceFrom=t):t<e.maxY?(t+=Math.pow(e.maxY-t,.9),e.bounceFrom=t):e.bounceFrom=0,e.update(t,0,!1,!1);var r=Math.max(Math.abs(Math.round(t/e.optHeight)),0);r!==e.lastTempIndex&&(e._haptic.gestureSelectionChanged(),e.lastTempIndex=r)}})},t.prototype.pointerEnd=function(t){if(t.preventDefault(),this.debouncer.cancel(),null!==this.startY)if(this.velocity=0,this.bounceFrom>0)this.update(this.minY,100,!0,!0);else if(this.bounceFrom<0)this.update(this.maxY,100,!0,!0);else{var e=P(t).y;this.pos.push(e,Date.now());for(var n=this.pos.length-1,i=n,o=Date.now()-100,a=n;a>0&&this.pos[a]>o;a-=2)i=a;if(i!==n){this.velocity=r(-60,(this.pos[i-1]-this.pos[n-1])/(this.pos[n]-this.pos[i])*(1e3/60),60)}if(Math.abs(e-this.startY)>3){this.update(this.y+(e-this.startY),0,!0,!0)}this.startY=null,this.decelerate()}},t.prototype.decelerate=function(){var t=0;if(isNaN(this.y)||!this.optHeight)this.update(t,0,!0,!0),this._haptic.gestureSelectionEnd();else if(Math.abs(this.velocity)>0){this.velocity*=.97,this.velocity=this.velocity>0?Math.max(this.velocity,1):Math.min(this.velocity,-1),(t=Math.round(this.y-this.velocity))>this.minY?(t=this.minY,this.velocity=0):t<this.maxY&&(t=this.maxY,this.velocity=0);var e=t%this.optHeight!=0||Math.abs(this.velocity)>1;this.update(t,0,!0,!e),e&&(this.rafId=this._plt.raf(this.decelerateFunc))}else if(this.y%this.optHeight!=0){var n=Math.abs(this.y%this.optHeight);this.velocity=n>this.optHeight/2?1:-1,this._haptic.gestureSelectionEnd(),this.decelerate()}var r=Math.max(Math.abs(Math.round(t/this.optHeight)),0);r!==this.lastTempIndex&&this._haptic.gestureSelectionChanged(),this.lastTempIndex=r},t.prototype.optClick=function(t,e){this.velocity||(t.preventDefault(),t.stopPropagation(),this.setSelected(e,150))},t.prototype.setSelected=function(t,e){var n=t>-1?t*this.optHeight*-1:0;this._plt.cancelRaf(this.rafId),this.velocity=0,this.update(n,e,!0,!0)},t.prototype.update=function(t,e,n,r){t=Math.round(t);var i,o,a,s,u,l,c,f,p,d,h=this.colEle.nativeElement.children,m=h.length,g=this.col.selectedIndex=Math.min(Math.max(Math.round(-t/this.optHeight),0),m-1),v=0===e?null:e+"ms",y="scale("+this.scaleFactor+")";for(i=0;i<m;i++)o=h[i],a=this.col.options[i],s=i*this.optHeight+t,u=!0,p="",0!==this.rotateFactor?(f=s*this.rotateFactor,Math.abs(f)>90?u=!1:(0,l=0,c=90,p="rotateX("+f+"deg) ")):(0,c=0,l=s,Math.abs(l)>170&&(u=!1)),d=g===i,u?(p+="translate3d(0px,"+l+"px,"+c+"px) ",1===this.scaleFactor||d||(p+=y)):p="translate3d(-9999px,0px,0px)",e!==a._dur&&(a._dur=e,o.style[this._plt.Css.transitionDuration]=v),p!==a._trans&&(a._trans=p,o.style[this._plt.Css.transform]=p),d!==a._selected&&(a._selected=d,d?o.classList.add(No):o.classList.remove(No));if(this.col.prevSelected=g,n&&(this.y=t),r)if(void 0===this.lastIndex)this.lastIndex=this.col.selectedIndex;else if(this.lastIndex!==this.col.selectedIndex){this.lastIndex=this.col.selectedIndex;var b=this.ionChange;b.observers.length>0&&this._zone.run(b.emit.bind(b,this.col.options[this.col.selectedIndex]))}},t.prototype.refresh=function(){for(var t=this.col.options.length-1,e=0,n=this.col.options,i=0;i<n.length;i++)n[i].disabled||(t=Math.min(t,i),e=Math.max(e,i));var o=r(t,this.col.selectedIndex,e);if(this.col.prevSelected!==o){var a=o*this.optHeight*-1;this._plt.cancelRaf(this.rafId),this.velocity=0,this.update(a,150,!0,!1)}},t}(),Ao=function(){function t(t,e,n,r,i,o){this._viewCtrl=t,this._elementRef=e,this._gestureBlocker=r.createBlocker(Rr),this.d=i.data,this.mode=n.get("mode"),o.setElementClass(e.nativeElement,"picker-"+this.mode,!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){o.setElementClass(e.nativeElement,t,!0)}),this.id=++Mo,this.lastClick=0}return t.prototype.ionViewWillLoad=function(){var t=this.d;t.buttons=t.buttons.map(function(t){return s(t)?{text:t}:(t.role&&(t.cssRole="picker-toolbar-"+t.role),t)}),t.columns=t.columns.map(function(t){return p(t.options)||(t.options=[]),t.selectedIndex=t.selectedIndex||0,t.options=t.options.map(function(t){var e={text:"",value:"",disabled:t.disabled};return p(t)&&(s(t)||u(t)?(e.text=t.toString(),e.value=t):(e.text=p(t.text)?t.text:t.value,e.value=p(t.value)?t.value:t.text)),e}),t})},t.prototype.ionViewDidLoad=function(){this.refresh()},t.prototype.ionViewWillEnter=function(){this._gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this._gestureBlocker.unblock()},t.prototype.refresh=function(){this._cols.forEach(function(t){return t.refresh()})},t.prototype._colChange=function(){this._viewCtrl.ionChange.emit(this.getSelected())},t.prototype._keyUp=function(t){if(this.enabled&&this._viewCtrl.isLast())if(13===t.keyCode){if(this.lastClick+1e3<Date.now()){this.btnClick(this.d.buttons[this.d.buttons.length-1])}}else 27===t.keyCode&&this.bdClick()},t.prototype.ionViewDidEnter=function(){var t=this._elementRef.nativeElement.querySelector("button");t&&t.focus(),this.enabled=!0},t.prototype.btnClick=function(t){if(this.enabled){this.lastClick=Date.now();var e=!0;t.handler&&!1===t.handler(this.getSelected())&&(e=!1),e&&this.dismiss(t.role)}},t.prototype.bdClick=function(){if(this.enabled&&this.d.enableBackdropDismiss){var t=this.d.buttons.find(function(t){return"cancel"===t.role});t?this.btnClick(t):this.dismiss("backdrop")}},t.prototype.dismiss=function(t){return this._viewCtrl.dismiss(this.getSelected(),t)},t.prototype.getSelected=function(){var t={};return this.d.columns.forEach(function(e,n){var r=e.options[e.selectedIndex];t[e.name]={text:r?r.text:null,value:r?r.value:null,columnIndex:n}}),t},t.prototype.ngOnDestroy=function(){this._gestureBlocker.destroy()},t}(),Mo=-1,Do=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Do(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".picker-wrapper"));e.fromTo("opacity",.01,.26),n.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(n)},e}(Jn),jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Do(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".picker-wrapper"));e.fromTo("opacity",.26,0),n.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e).add(n)},e}(Jn),Lo=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(t){function e(e,n,r){void 0===n&&(n={});var i=this;return n||(n={}),n.columns=n.columns||[],n.buttons=n.buttons||[],n.enableBackdropDismiss=!p(n.enableBackdropDismiss)||Boolean(n.enableBackdropDismiss),i=t.call(this,Ao,n,null)||this,i._app=e,i.isOverlay=!0,i.ionChange=new Sn.EventEmitter,r.setTransition("picker-slide-in",Ro),r.setTransition("picker-slide-out",jo),i}return Lo(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"pickerLeave":"pickerEnter")},e.prototype.addButton=function(t){this.data.buttons.push(t)},e.prototype.addColumn=function(t){this.data.columns.push(t)},e.prototype.getColumns=function(){return this.data.columns},e.prototype.getColumn=function(t){return this.getColumns().find(function(e){return e.name===t})},e.prototype.refresh=function(){this._cmp&&this._cmp.instance.refresh&&this._cmp.instance.refresh()},e.prototype.setCssClass=function(t){this.data.cssClass=t},e.prototype.present=function(t){return void 0===t&&(t={}),this._app.present(this,t)},e}(Nn),Fo=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new zo(this._app,t,this.config)},t}(),Bo=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Vo=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Uo="YYYY",Wo="YY",qo="MMMM",Ho="MMM",Go="MM",$o="M",Yo="DDDD",Ko="DDD",Xo="DD",Zo="D",Jo="HH",Qo="H",ta="hh",ea="h",na="mm",ra="m",ia="ss",oa="s",aa="A",sa="a",ua=[{f:Uo,k:"year"},{f:qo,k:"month"},{f:Yo,k:"day"},{f:Ho,k:"month"},{f:Ko,k:"day"},{f:Wo,k:"year"},{f:Go,k:"month"},{f:Xo,k:"day"},{f:Jo,k:"hour"},{f:ta,k:"hour"},{f:na,k:"minute"},{f:ia,k:"second"},{f:$o,k:"month"},{f:Zo,k:"day"},{f:Qo,k:"hour"},{f:ea,k:"hour"},{f:ra,k:"minute"},{f:oa,k:"second"},{f:aa,k:"ampm"},{f:sa,k:"ampm"}],la=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ca=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fa=["January","February","March","April","May","June","July","August","September","October","November","December"],pa=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],da=[ta,ea,na,ra,ia,oa],ha=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ma=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ga=function(t){function e(e,n,r,i,o,a){var s=t.call(this,n,r,i,"datetime",{},e,o,null)||this;return s._pickerCtrl=a,s._text="",s._locale={},s.cancelText="Cancel",s.doneText="Done",s.pickerOptions={},s.placeholder="",s.ionCancel=new Sn.EventEmitter,s}return ha(e,t),e.prototype.ngAfterContentInit=function(){var t=this;["monthNames","monthShortNames","dayNames","dayShortNames"].forEach(function(e){t._locale[e]=function(t,e){if(p(t)){s(t)&&(t=t.replace(/\[|\]/g,"").split(","));var n;return m(t)&&(n=t.map(function(t){return t.trim()})),n&&n.length||console.warn('Invalid "'+e+'Names". Must be an array of strings, or a comma separated string.'),n}}(p(t[e])?t[e]:t._config.get(e),e)}),this._initialize()},e.prototype._inputNormalize=function(t){return J(this._value,t),this._value},e.prototype._inputUpdated=function(){t.prototype._inputUpdated.call(this),this.updateText()},e.prototype._inputShouldChange=function(){return!0},e.prototype._inputChangeEvent=function(){return this.value},e.prototype._inputNgModelEvent=function(){return function(t){var e="";return p(t)&&(p(t.year)?(e=nt(t.year),p(t.month)&&(e+="-"+tt(t.month),p(t.day)&&(e+="-"+tt(t.day),p(t.hour)&&(e+="T"+tt(t.hour)+":"+tt(t.minute)+":"+tt(t.second),t.millisecond>0&&(e+="."+et(t.millisecond)),d(t.tzOffset)||0===t.tzOffset?e+="Z":e+=(t.tzOffset>0?"+":"-")+tt(Math.floor(t.tzOffset/60))+":"+tt(t.tzOffset%60))))):p(t.hour)&&(e=tt(t.hour)+":"+tt(t.minute),p(t.second)&&(e+=":"+tt(t.second),p(t.millisecond)&&(e+="."+et(t.millisecond))))),e}(this.value)},e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.open()},e.prototype._keyup=function(){this.open()},e.prototype.open=function(){var t=this;if(!this.isFocus()&&!this._disabled){var e=ma({},this.pickerOptions);e.buttons=(e.buttons||[]).concat([{text:this.cancelText,role:"cancel",handler:function(){return t.ionCancel.emit(t)}},{text:this.doneText,handler:function(e){return t.value=e}}]);var n=this._picker=this._pickerCtrl.create(e);n.ionChange.subscribe(function(){t.validate(),n.refresh()}),this.generate(),this.validate(),this._fireFocus(),n.present(e),n.onDidDismiss(function(){t._fireBlur()})}},e.prototype.generate=function(){var t=this,e=this._picker,n=this.pickerFormat||this.displayFormat||va;if(p(n)){this.calcMinMax(),-1===(n=n.replace("DDDD","{~}").replace("DDD","{~}")).indexOf("D")&&(n=n.replace("{~}","D")),function(t){var e=[];t=t.replace(/[^\w\s]/gi," "),ua.forEach(function(e){e.f.length>1&&t.indexOf(e.f)>-1&&t.indexOf(e.f+e.f.charAt(0))<0&&(t=t.replace(e.f," "+e.f+" "))});var n=t.split(" ").filter(function(t){return t.length>0});return n.forEach(function(t,r){ua.forEach(function(i){if(t===i.f){if((t===aa||t===sa)&&(e.indexOf(ea)<0&&e.indexOf(ta)<0||-1===da.indexOf(n[r-1])))return;e.push(t)}})}),e}(n=n.replace(/{~}/g,"")).forEach(function(n){var r=Q(n),i={name:r,selectedIndex:0,options:(p(t[r+"Values"])?rt(t[r+"Values"],r):function(t,e,n){var r,i=[];if(t===Uo||t===Wo)for(r=n.year;r>=e.year;)i.push(r--);else if(t===qo||t===Ho||t===Go||t===$o||t===ta||t===ea)for(r=1;r<13;r++)i.push(r);else if(t===Yo||t===Ko||t===Xo||t===Zo)for(r=1;r<32;r++)i.push(r);else if(t===Jo||t===Qo)for(r=0;r<24;r++)i.push(r);else if(t===na||t===ra)for(r=0;r<60;r++)i.push(r);else if(t===ia||t===oa)for(r=0;r<60;r++)i.push(r);else t!==aa&&t!==sa||i.push("am","pm");return i}(n,t._min,t._max)).map(function(e){return{value:e,text:Y(n,e,null,t._locale)}})},o=function(t,e){return e===aa||e===sa?t.hour<12?"am":"pm":e===ta||e===ea?t.hour>12?t.hour-12:t.hour:t[Q(e)]}(t.getValueOrDefault(),n),a=i.options.findIndex(function(t){return t.value===o});a>=0&&(i.selectedIndex=a),e.addColumn(i)});var r=this._min,i=this._max,o=this._picker.getColumns();["month","day","hour","minute"].filter(function(t){return!o.find(function(e){return e.name===t})}).forEach(function(t){r[t]=0,i[t]=0}),this.divyColumns()}},e.prototype.validateColumn=function(t,e,n,i,o,a){var s=this._picker.getColumn(t);if(!s)return 0;for(var u=o.slice(),l=a.slice(),c=s.options,f=c.length-1,p=0,d=0;d<c.length;d++){var h=c[d],m=h.value;u[e]=h.value,l[e]=h.value;(h.disabled=m<o[e]||m>a[e]||K(l[0],l[1],l[2],l[3],l[4])<n||K(u[0],u[1],u[2],u[3],u[4])>i)||(f=Math.min(f,d),p=Math.max(p,d))}var g=s.selectedIndex=r(f,s.selectedIndex,p);return(h=s.options[g])?h.value:0},e.prototype.validate=function(){var t=new Date,e=X(this._min),n=X(this._max),r=this._picker.getColumn("year"),i=t.getFullYear();if(r){r.options.find(function(e){return e.value===t.getFullYear()})||(i=r.options[0].value);var o=r.options[r.selectedIndex];o&&(i=o.value)}var a=this.validateColumn("month",1,e,n,[i,0,0,0,0],[i,12,31,23,59]),s=function(t,e){return 4===t||6===t||9===t||11===t?30:2===t?function(t){return t%4==0&&t%100!=0||t%400==0}(e)?29:28:31}(a,i),u=this.validateColumn("day",2,e,n,[i,a,0,0,0],[i,a,s,23,59]),l=this.validateColumn("hour",3,e,n,[i,a,u,0,0],[i,a,u,23,59]);this.validateColumn("minute",4,e,n,[i,a,u,l,0],[i,a,u,l,59])},e.prototype.divyColumns=function(){for(var t,e,n=this._picker.getColumns(),r=[],i=0;i<n.length;i++){t=n[i],r.push(0);for(var o=0;o<t.options.length;o++)(e=t.options[o].text.length)>r[i]&&(r[i]=e)}2===r.length?(e=Math.max(r[0],r[1]),n[0].align="right",n[1].align="left",n[0].optionsWidth=n[1].optionsWidth=17*e+"px"):3===r.length&&(e=Math.max(r[0],r[2]),n[0].align="right",n[1].columnWidth=17*r[1]+"px",n[0].optionsWidth=n[2].optionsWidth=17*e+"px",n[2].align="left")},e.prototype.updateText=function(){this._text=function(t,e,n){if(d(e))return"";var r=[],i=!1;if(ua.forEach(function(o,a){if(t.indexOf(o.f)>-1){var s="{"+a+"}",u=Y(o.f,e[o.k],e,n);!i&&u&&p(e[o.k])&&(i=!0),r.push(s,u),t=t.replace(o.f,s)}}),!i)return"";for(var o=0;o<r.length;o+=2)t=t.replace(r[o],r[o+1]);return t}(this.displayFormat||this.pickerFormat||va,this.getValue(),this._locale)},e.prototype.getValue=function(){return this._value},e.prototype.getValueOrDefault=function(){if(this.hasValue())return this._value;var t={};return J(t,this.getDefaultValueDateString()),t},e.prototype.getDefaultValueDateString=function(){if(this.initialValue)return this.initialValue;var t=(new Date).toISOString();if(this.max){var e=Z(t),n=Z(this.max);for(var r in n)null===n[r]&&(n[r]=e[r]);if(function(t,e){var n=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second),r=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second);return n.getTime()-r.getTime()}(e,n)>0)return this.max}return t},e.prototype.hasValue=function(){var t=this._value;return p(t)&&h(t)&&Object.keys(t).length>0},e.prototype.calcMinMax=function(t){var e=(t||new Date).getFullYear();if(p(this.yearValues)){var n=rt(this.yearValues,"year");d(this.min)&&(this.min=Math.min.apply(Math,n)),d(this.max)&&(this.max=Math.max.apply(Math,n))}else d(this.min)&&(this.min=(e-100).toString()),d(this.max)&&(this.max=e.toString());var r=this._min=Z(this.min),i=this._max=Z(this.max);r.year=r.year||e,i.year=i.year||e,r.month=r.month||1,i.month=i.month||12,r.day=r.day||1,i.day=i.day||31,r.hour=r.hour||0,i.hour=i.hour||23,r.minute=r.minute||0,i.minute=i.minute||59,r.second=r.second||0,i.second=i.second||59,r.year>i.year&&(console.error("min.year > max.year"),r.year=i.year-100),r.year===i.year&&(r.month>i.month?(console.error("min.month > max.month"),r.month=1):r.month===i.month&&r.day>i.day&&(console.error("min.day > max.day"),r.day=1))},e}(Ji),va="MMM D, YYYY",ya=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ba=function(t){function e(e,n,r){return t.call(this,e,n,r,"fab")||this}return ya(e,t),e.prototype.setActiveClose=function(t){this.setElementClass("fab-close-active",t)},e}(hr),_a=function(){function t(t,e,n,r){this._elementRef=t,this._renderer=e,this._plt=r,this._visible=!1,this._fabs=[],this._mode=n.get("mode")}return Object.defineProperty(t.prototype,"_setbuttons",{set:function(t){for(var e=this._fabs=t.toArray(),n="fab-"+this._mode+"-in-list",r=0,i=e;r<i.length;r++){var o=i[r];o.setElementClass("fab-in-list",!0),o.setElementClass(n,!0)}},enumerable:!0,configurable:!0}),t.prototype.setVisible=function(t){var e=this,n=g(t);if(n!==this._visible){this._visible=n;var r=this._fabs,i=1;r.forEach(n?function(t){e._plt.timeout(function(){return t.setElementClass("show",!0)},30*i),i++}:function(t){return t.setElementClass("show",!1)}),this.setElementClass("fab-list-active",n)}},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t}(),wa=function(){function t(t){this._listsActive=!1,this._events=new qr(t)}return t.prototype.ngAfterContentInit=function(){var t=this._mainButton;t&&t.getNativeElement()?this._events.listen(t.getNativeElement(),"click",this.clickHandler.bind(this),{zone:!0}):console.error("FAB container needs a main <button ion-fab>")},t.prototype.clickHandler=function(t){this.canActivateList(t)&&this.toggleList()},t.prototype.canActivateList=function(t){if(this._fabLists.length>0&&this._mainButton&&t.target){var e=t.target.closest("ion-fab>[ion-fab]");return e&&e===this._mainButton.getNativeElement()}return!1},t.prototype.toggleList=function(){this.setActiveLists(!this._listsActive)},t.prototype.setActiveLists=function(t){if(t!==this._listsActive){for(var e=0,n=this._fabLists.toArray();e<n.length;e++){n[e].setVisible(t)}this._mainButton.setActiveClose(t),this._listsActive=t}},t.prototype.close=function(){this.setActiveLists(!1)},t.prototype.ngOnDestroy=function(){this._events.destroy()},t}(),xa=function(){return function(){}}(),Ea=function(){return function(){}}(),Ca=function(){return function(){}}(),Sa=function(){function t(t,e,n,r,i){this._elementRef=t,this._renderer=e,this._plt=n,this._content=r,this._dom=i,this._cache=!0,this._w="",this._h="",this._wQ="",this._hQ="",this.alt="",this._content?this._content.addImg(this):console.warn("ion-img can only be used within an ion-content"),this._isLoaded(!1)}return Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(t){t!==this._src&&(this.reset(),this._src=t,this._hasLoaded=0===t.indexOf("data:"),this.update())},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._requestingSrc&&(this._srcAttr(""),this._requestingSrc=null),this._renderedSrc&&(this._renderedSrc=null,this._isLoaded(!1))},t.prototype.update=function(){var t=this;this._src&&this._content.isImgsUpdatable()&&(this.canRequest&&this._src!==this._renderedSrc&&this._src!==this._requestingSrc&&!this._hasLoaded&&(this._requestingSrc=this._src,this._isLoaded(!1),this._srcAttr(this._src),this._setDims()),this.canRender&&this._hasLoaded&&this._src!==this._renderedSrc&&(this._renderedSrc=this._src,this._setDims(),this._dom.write(function(){t._hasLoaded&&(t._isLoaded(!0),t._srcAttr(t._src))})))},t.prototype._isLoaded=function(t){var e=this._renderer,n=this._elementRef.nativeElement;e.setElementClass(n,"img-loaded",t),e.setElementClass(n,"img-unloaded",!t)},t.prototype._srcAttr=function(t){var e=this._img,n=this._renderer;e&&e.src!==t&&(n.setElementAttribute(this._img,"src",t),n.setElementAttribute(this._img,"alt",this.alt))},Object.defineProperty(t.prototype,"top",{get:function(){var t=this._getBounds();return t&&t.top||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){var t=this._getBounds();return t&&t.bottom||0},enumerable:!0,configurable:!0}),t.prototype._getBounds=function(){return this._bounds?this._bounds:(this._rect||(this._rect=this._elementRef.nativeElement.getBoundingClientRect()),this._rect)},Object.defineProperty(t.prototype,"bounds",{set:function(t){p(t)&&(this._bounds=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cache",{get:function(){return this._cache},set:function(t){this._cache=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{set:function(t){this._wQ=it(t),this._setDims()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(t){this._hQ=it(t),this._setDims()},enumerable:!0,configurable:!0}),t.prototype._setDims=function(){var t=this;if(this.canRender&&(this._w!==this._wQ||this._h!==this._hQ)){var e=this._elementRef.nativeElement,n=this._renderer;this._dom.write(function(){t._w!==t._wQ&&(t._w=t._wQ,n.setElementStyle(e,"width",t._w)),t._h!==t._hQ&&(t._h=t._hQ,n.setElementStyle(e,"height",t._h))})}},t.prototype.ngAfterContentInit=function(){var t=this;this._img=this._elementRef.nativeElement.firstChild,this._unreg=this._plt.registerListener(this._img,"load",function(){t._hasLoaded=!0,t.update()},{passive:!0})},t.prototype.ngOnDestroy=function(){this._unreg&&this._unreg(),this._content&&this._content.removeImg(this)},t}(),Oa=function(){function t(t,e,n,r){this._content=t,this._zone=e,this._elementRef=n,this._dom=r,this._lastCheck=0,this._highestY=0,this._thr="15%",this._thrPx=0,this._thrPc=.15,this._position=Ia,this._init=!1,this.state=ka,this.ionInfinite=new Sn.EventEmitter,t.setElementClass("has-infinite-scroll",!0)}return Object.defineProperty(t.prototype,"threshold",{get:function(){return this._thr},set:function(t){this._thr=t,t.indexOf("%")>-1?(this._thrPx=0,this._thrPc=parseFloat(t)/100):(this._thrPx=parseFloat(t),this._thrPc=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{set:function(t){this.enable(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){t===Na||t===Ia?this._position=t:console.error("Invalid value for ion-infinite-scroll's position input. Its value should be '"+Ia+"' or '"+Na+"'.")},enumerable:!0,configurable:!0}),t.prototype._onScroll=function(t){var e=this;if(this.state===Pa||this.state===Ta)return 1;if(this._lastCheck+32>t.timeStamp)return 2;this._lastCheck=t.timeStamp;var n=this._elementRef.nativeElement.scrollHeight;if(!n)return 3;var r=this._content.getContentDimensions(),i=r.contentHeight,o=this._thrPc?i*this._thrPc:this._thrPx;return(this._position===Ia?r.scrollHeight-n-r.scrollTop-i-o:r.scrollTop-n-o)<0?(this._dom.write(function(){e._zone.run(function(){e.state!==Pa&&e.state!==Ta&&(e.state=Pa,e.ionInfinite.emit(e))})}),5):6},t.prototype.complete=function(){var t=this;if(this.state===Pa)if(this._position!==Ia){var e=this._content.getContentDimensions();this._dom.read(function(){var n=t._content.getContentDimensions().scrollHeight-(e.scrollHeight-e.scrollTop);t._dom.write(function(){t._content.scrollTop=n,t.state=ka})})}else this.state=ka},t.prototype.waitFor=function(t){var e=this.complete.bind(this);t.then(e,e)},t.prototype.enable=function(t){this.state=t?ka:Ta,this._setListeners(t)},t.prototype._setListeners=function(t){this._init&&(t?this._scLsn||(this._scLsn=this._content.ionScroll.subscribe(this._onScroll.bind(this))):(this._scLsn&&this._scLsn.unsubscribe(),this._scLsn=null))},t.prototype.ngAfterContentInit=function(){this._init=!0,this._setListeners(this.state!==Ta),this._position===Na&&(this._content.scrollDownOnLoad=!0)},t.prototype.ngOnDestroy=function(){this._setListeners(!1)},t}(),ka="enabled",Ta="disabled",Pa="loading",Na="top",Ia="bottom",Aa=function(){function t(t,e){this.inf=t,this._config=e}return t.prototype.ngOnInit=function(){this.loadingSpinner||(this.loadingSpinner=this._config.get("infiniteLoadingSpinner",this._config.get("spinner","ios")))},t}(),Ma=n(51),Da=(n(97),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ra=function(t){function e(e,n,r,i,o,a,s,u,l,c){var f=t.call(this,e,o,a,"input","",r,u,l)||this;if(f._plt=n,f._app=i,f._content=s,f.ngControl=l,f._dom=c,f._clearInput=!1,f._readonly=!1,f._type="text",f._isTextarea=!1,f._onDestroy=new Ma.Subject,f._useAssist=!1,f._relocated=!1,f.autocomplete="",f.autocorrect="",f.placeholder="",f.min=null,f.max=null,f.step=null,f.input=new Sn.EventEmitter,f.blur=new Sn.EventEmitter,f.focus=new Sn.EventEmitter,f.autocomplete=e.get("autocomplete","off"),f.autocorrect=e.get("autocorrect","off"),f._autoFocusAssist=e.get("autoFocusAssist","delay"),f._keyboardHeight=e.getNumber("keyboardHeight"),f._isTextarea=!("ION-TEXTAREA"!==o.nativeElement.tagName),f._isTextarea&&u&&u.setElementClass("item-textarea",!0),!s)return f;e.getBoolean("hideCaretOnScroll",!1)&&f._enableHideCaretOnScroll();var p=n.win();if(p.Ionic&&p.Ionic.keyboardPlugin){e.getBoolean("keyboardResizes",!1)?(f._keyboardHeight=e.getNumber("keyboardSafeArea",60),f._enableScrollMove()):(f._enableScrollPadding(),f._enableScrollMove())}else{f._useAssist=e.getBoolean("scrollAssist",!1);e.getBoolean("scrollPadding",f._useAssist)&&f._enableScrollPadding()}return f}return Da(e,t),Object.defineProperty(e.prototype,"clearInput",{get:function(){return this._clearInput},set:function(t){this._clearInput=!this._isTextarea&&g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._isTextarea?"text":this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearOnEdit",{get:function(){return this._clearOnEdit},set:function(t){this._clearOnEdit=g(t)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){},e.prototype.ngAfterViewInit=function(){!1!==this.clearOnEdit&&"password"===this.type&&(this.clearOnEdit=!0);var t=this._elementRef.nativeElement,e=this._native.nativeElement;if(function(t,e){for(var n=t.attributes,r=0;r<n.length;r++){var i=n[r];-1===Un.indexOf(i.name)&&e.setAttribute(i.name,i.value)}}(t,e),t.hasAttribute("tabIndex")&&t.removeAttribute("tabIndex"),t.hasAttribute("autofocus"))switch(t.removeAttribute("autofocus"),this._autoFocusAssist){case"immediate":e.focus();break;case"delay":this._plt.timeout(function(){return e.focus()},800)}this._initialize(),this.focus.observers.length>0&&console.warn("(focus) is deprecated in ion-input, use (ionFocus) instead"),this.blur.observers.length>0&&console.warn("(blur) is deprecated in ion-input, use (ionBlur) instead")},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._onDestroy.next(),this._onDestroy=null},e.prototype.initFocus=function(){this.setFocus()},e.prototype.setFocus=function(){this.isFocus()||this._native.nativeElement.focus()},e.prototype.setBlur=function(){this.isFocus()&&this._native.nativeElement.blur()},e.prototype.onInput=function(t){this.value=t.target.value,this.input.emit(t)},e.prototype.onBlur=function(t){this._fireBlur(),this.blur.emit(t),this._scrollData=null,this._clearOnEdit&&this.hasValue()&&(this._didBlurAfterEdit=!0)},e.prototype.onFocus=function(t){this._fireFocus(),this.focus.emit(t)},e.prototype.onKeydown=function(t){t&&this._clearOnEdit&&this.checkClearOnEdit(t.target.value)},e.prototype._inputUpdated=function(){t.prototype._inputUpdated.call(this);var e=this._native.nativeElement,n=this._value;e.value!==n&&(e.value=n)},e.prototype.clearTextInput=function(){this.value=""},e.prototype.checkClearOnEdit=function(t){this._clearOnEdit&&(this._didBlurAfterEdit&&this.hasValue()&&this.clearTextInput(),this._didBlurAfterEdit=!1)},e.prototype._getScrollData=function(){if(!this._content)return{scrollAmount:0,scrollTo:0,scrollPadding:0,scrollDuration:0,inputSafeY:0};if(this._scrollData)return this._scrollData;var t=this._elementRef.nativeElement;return t=t.closest("ion-item,[ion-item]")||t,this._scrollData=function(t,e,n,r,i){var o=t+n.contentTop-n.scrollTop,a=o+e,s=n.contentTop,u=(i-r-s)/2,l=s+u,c=o>=s&&o<=l,f=o<s,p=o>l,d=a>=s&&a<=l,h=a>l,m={scrollAmount:0,scrollTo:0,scrollPadding:0,scrollDuration:0,inputSafeY:0};if(m.scrollPadding=r,c&&d)return m;(p||h||f)&&(m.scrollAmount=u>e?Math.round(l-a):Math.round(s-o),m.inputSafeY=4-(o-s),f&&m.scrollAmount>e&&(m.scrollAmount=e)),m.scrollTo=n.scrollTop-m.scrollAmount;var g=Math.abs(m.scrollAmount)/ja;return m.scrollDuration=Math.min(400,Math.max(150,g)),m}(t.offsetTop,t.offsetHeight,this._content.getContentDimensions(),this._keyboardHeight,this._plt.height())},e.prototype._relocateInput=function(t){if(this._relocated!==t){var e=this._plt,n=this.getNativeElement(),r=this._native.nativeElement;if(t){!function(t,e,n){if(e){var r=e.offsetTop,i=e.offsetLeft,o=e.offsetWidth,a=e.offsetHeight,s=e.cloneNode(!1),u=s.style;s.classList.add("cloned-input"),s.setAttribute("aria-hidden","true"),u.pointerEvents="none",u.position="absolute",u.top=r+"px",u.left=i+"px",u.width=o+"px",u.height=a+"px";var l=n.cloneNode(!1);l.value=n.value,l.tabIndex=-1,s.appendChild(l),e.parentNode.appendChild(s),e.style.pointerEvents="none"}n.style[t.Css.transform]="scale(0)"}(e,n,r);var i=this._getScrollData().inputSafeY;r.style[e.Css.transform]="translate3d("+(this._plt.isRTL?9999:-9999)+"px,"+i+"px,0)",r.style.opacity="0"}else!function(t,e,n){if(e&&e.parentElement){for(var r=e.parentElement.querySelectorAll(".cloned-input"),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);e.style.pointerEvents=""}n.style[t.Css.transform]="",n.style.opacity=""}(e,n,r);this._relocated=t}},e.prototype._enableScrollPadding=function(){var t=this;this.ionFocus.subscribe(function(){var e=t._content,n=t._getScrollData().scrollPadding;e.addScrollPadding(n),e.clearScrollPaddingFocusOut()})},e.prototype._enableHideCaretOnScroll=function(){function t(t){r.isFocus()&&r._dom.write(function(){return r._relocateInput(t)})}var e=this,n=this._content;n.ionScrollStart.takeUntil(this._onDestroy).subscribe(function(){return t(!0)}),n.ionScrollEnd.takeUntil(this._onDestroy).subscribe(function(){return t(!1)}),this.ionBlur.subscribe(function(){return e._relocateInput(!1)});var r=this},e.prototype._enableScrollMove=function(){var t=this;this.ionFocus.subscribe(function(){var e=t._getScrollData();Math.abs(e.scrollAmount)>4&&t._content.scrollTo(0,e.scrollTo,e.scrollDuration)})},e.prototype._pointerStart=function(t){"touchstart"===t.type&&(this._isTouch=!0),(this._isTouch||!this._isTouch&&"mousedown"===t.type)&&this._app.isEnabled()&&(this._coord=P(t))},e.prototype._pointerEnd=function(t){if(this._isTouch&&"mouseup"===t.type||!this._app.isEnabled())t.preventDefault(),t.stopPropagation();else if(this._coord){var e=P(t);N(8,this._coord,e)||this.isFocus()||(t.preventDefault(),t.stopPropagation(),this._jsSetFocus())}this._coord=null},e.prototype._jsSetFocus=function(){var t=this,e=this._content;e||this.setFocus();var n=this._getScrollData();Math.abs(n.scrollAmount)<4?this.setFocus():(this._relocateInput(!0),this.setFocus(),e.scrollTo(0,n.scrollTo,n.scrollDuration,function(){t._relocateInput(!1),t.setFocus()}))},e}(Ji),ja=.3,La=function(){return function(){}}(),za=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fa=function(t){function e(e,n,r){return t.call(this,e,n,r,"item-divider")||this}return za(e,t),e}(hr),Ba=function(){return function(){}}(),Va=function(){function t(t,e){this._elementRef=t,this._plt=e,this.ionSwipe=new Sn.EventEmitter}return t.prototype.isRightSide=function(){return y(this.side,this._plt.isRTL,!0)},t.prototype.width=function(){return this._elementRef.nativeElement.offsetWidth},t}(),Ua=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wa=function(t){function e(e,n,r,i){var o=t.call(this,e,n.getNativeElement(),{maxAngle:20,threshold:5,zone:!1,domController:i,gesture:r.createGesture({name:kr,priority:Nr,disableScroll:!0})})||this;return o.list=n,o.preSelectedContainer=null,o.selectedContainer=null,o.openContainer=null,o}return Ua(e,t),e.prototype.canStart=function(t){if(this.selectedContainer)return!1;var e=function(t){var e=t.target.closest("ion-item-sliding");return e?e.$ionComponent:null}(t);if(!e)return this.closeOpened(),!1;e!==this.openContainer&&this.closeOpened();var n=P(t);return this.preSelectedContainer=e,this.firstCoordX=n.x,this.firstTimestamp=Date.now(),!0},e.prototype.onDragStart=function(t){t.preventDefault();var e=P(t);this.selectedContainer=this.openContainer=this.preSelectedContainer,this.selectedContainer.startSliding(e.x)},e.prototype.onDragMove=function(t){t.preventDefault(),this.selectedContainer.moveSliding(P(t).x)},e.prototype.onDragEnd=function(t){t.preventDefault();var e=P(t).x-this.firstCoordX,n=Date.now()-this.firstTimestamp;this.selectedContainer.endSliding(e/n),this.selectedContainer=null,this.preSelectedContainer=null},e.prototype.notCaptured=function(t){(function(t){return!!t.target.closest("ion-item-options>button")})(t)||this.closeOpened()},e.prototype.closeOpened=function(){return this.selectedContainer=null,!!this.openContainer&&(this.openContainer.close(),this.openContainer=null,!0)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.closeOpened(),this.list=null,this.preSelectedContainer=null,this.selectedContainer=null,this.openContainer=null},e}(Hr),qa=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ha=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,"list")||this;return s._plt=i,s._gestureCtrl=o,s._domCtrl=a,s._enableSliding=!0,s._containsSlidingItems=!1,s}return qa(e,t),Object.defineProperty(e.prototype,"sliding",{get:function(){return this._enableSliding},set:function(t){this._enableSliding=g(t),this._updateSlidingState()},enumerable:!0,configurable:!0}),e.prototype.containsSlidingItem=function(t){this._containsSlidingItems=t,this._updateSlidingState()},e.prototype._updateSlidingState=function(){this._enableSliding&&this._containsSlidingItems?this._slidingGesture||(this._slidingGesture=new Wa(this._plt,this,this._gestureCtrl,this._domCtrl),this._slidingGesture.listen()):(this._slidingGesture&&this._slidingGesture.destroy(),this._slidingGesture=null)},e.prototype.closeSlidingItems=function(){this._slidingGesture&&this._slidingGesture.closeOpened()},e.prototype.destroy=function(){this._slidingGesture&&this._slidingGesture.destroy()},e}(hr),Ga=function(){function t(t,e,n,r,i){this._plt=e,this._renderer=n,this._elementRef=r,this._zone=i,this._openAmount=0,this._startX=0,this._optsWidthRightSide=0,this._optsWidthLeftSide=0,this._tmr=null,this._optsDirty=!0,this._state=2,this.ionDrag=new Sn.EventEmitter,t&&t.containsSlidingItem(!0),r.nativeElement.$ionComponent=this,this.setElementClass("item-wrapper",!0)}return Object.defineProperty(t.prototype,"_itemOptions",{set:function(t){var e=0;this._leftOptions=this._rightOptions=null;for(var n=0,r=t.toArray();n<r.length;n++){var i=r[n];i.isRightSide()?(this._rightOptions=i,e|=2):(this._leftOptions=i,e|=1)}this._optsDirty=!0,this._sides=e},enumerable:!0,configurable:!0}),t.prototype.getOpenAmount=function(){return this._openAmount},t.prototype.getSlidingPercent=function(){var t=this._openAmount;return t>0?t/this._optsWidthRightSide:t<0?t/this._optsWidthLeftSide:0},t.prototype.startSliding=function(t){this._tmr&&(this._plt.cancelTimeout(this._tmr),this._tmr=null),0===this._openAmount&&(this._optsDirty=!0,this._setState(4)),this._startX=t+this._openAmount,this.item.setElementStyle(this._plt.Css.transition,"none")},t.prototype.moveSliding=function(t){if(!this._optsDirty){var e=this._startX-t;switch(this._sides){case 2:e=Math.max(0,e);break;case 1:e=Math.min(0,e);break;case 3:break;case 0:return}if(e>this._optsWidthRightSide){e=(n=this._optsWidthRightSide)+.55*(e-n)}else if(e<-this._optsWidthLeftSide){var n;e=(n=-this._optsWidthLeftSide)+.55*(e-n)}return this._setOpenAmount(e,!1),e}this.calculateOptsWidth()},t.prototype.endSliding=function(t){var e=this._openAmount>0?this._optsWidthRightSide:-this._optsWidthLeftSide;return w(this._openAmount>0==!(t<0),Math.abs(t)>.3,Math.abs(this._openAmount)<Math.abs(e/2))&&(e=0),this.fireSwipeEvent(),this._setOpenAmount(e,!0),e},t.prototype.fireSwipeEvent=function(){var t=this;32&this._state?this._zone.run(function(){return t._rightOptions.ionSwipe.emit(t)}):64&this._state&&this._zone.run(function(){return t._leftOptions.ionSwipe.emit(t)})},t.prototype.calculateOptsWidth=function(){this._optsDirty&&(this._optsWidthRightSide=0,this._rightOptions&&(this._optsWidthRightSide=this._rightOptions.width()),this._optsWidthLeftSide=0,this._leftOptions&&(this._optsWidthLeftSide=this._leftOptions.width()),this._optsDirty=!1)},t.prototype._setOpenAmount=function(t,e){var n=this,r=this._plt;if(this._tmr&&(r.cancelTimeout(this._tmr),this._tmr=null),this._openAmount=t,e&&this.item.setElementStyle(r.Css.transition,""),t>0){this._setState(t>=this._optsWidthRightSide+30?40:8)}else{if(!(t<0))return this._tmr=r.timeout(function(){n._setState(2),n._tmr=null},600),void this.item.setElementStyle(r.Css.transform,"");this._setState(t<=-this._optsWidthLeftSide-30?80:16)}this.item.setElementStyle(r.Css.transform,"translate3d("+-t+"px,0,0)");var i=this.ionDrag;i.observers.length>0&&i.emit(this)},t.prototype._setState=function(t){t!==this._state&&(this.setElementClass("active-slide",2!==t),this.setElementClass("active-options-right",!!(8&t)),this.setElementClass("active-options-left",!!(16&t)),this.setElementClass("active-swipe-right",!!(32&t)),this.setElementClass("active-swipe-left",!!(64&t)),this._state=t)},t.prototype.close=function(){this._setOpenAmount(0,!0)},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t}(),$a=function(){function t(t){this.elementRef=t,t.nativeElement.$ionComponent=this}return t.prototype.getReorderNode=function(){return $(this.elementRef.nativeElement,null)},t.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation()},t}(),Ya=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ka=function(t){function e(e,n,r,i){var o=t.call(this,e,r,n,"list-header")||this;return o._id=i,o}return Ya(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.setElementAttribute("id",t)},enumerable:!0,configurable:!0}),e}(hr),Xa=function(){function t(t,e,n,r,i,o){this._viewCtrl=t,this._config=e,this.gestureBlocker=r.createBlocker(Rr),this.d=i.data,o.setElementClass(n.nativeElement,"loading-"+e.get("mode"),!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&o.setElementClass(n.nativeElement,t,!0)}),this.id=++Za}return t.prototype.ngOnInit=function(){f(this.d.spinner)&&(this.d.spinner=this._config.get("loadingSpinner",this._config.get("spinner","ios"))),this.showSpinner=c(this.d.spinner)&&"hide"!==this.d.spinner},t.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this.gestureBlocker.unblock()},t.prototype.ionViewDidEnter=function(){var t=this;this.d&&this.d.duration&&(this.durationTimeout=setTimeout(function(){return t.dismiss("backdrop")},this.d.duration))},t.prototype.keyUp=function(t){this._viewCtrl.isLast()&&27===t.keyCode&&this.bdClick()},t.prototype.bdClick=function(){this.d.enableBackdropDismiss&&this.dismiss("backdrop")},t.prototype.dismiss=function(t){return this.durationTimeout&&clearTimeout(this.durationTimeout),this._viewCtrl.dismiss(null,t)},t.prototype.ngOnDestroy=function(){this.gestureBlocker.destroy()},t}(),Za=-1,Ja=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".loading-wrapper"));n.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.3),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".loading-wrapper"));n.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.3,0),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".loading-wrapper"));n.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.5),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".loading-wrapper"));n.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.5,0),this.easing("ease-in-out").duration(200).add(e).add(n)},e}(Jn),rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".loading-wrapper"));n.fromTo("opacity",.01,1).fromTo("scale",1.3,1),e.fromTo("opacity",.01,.16),this.easing("cubic-bezier(0,0,0.05,1)").duration(200).add(e).add(n)},e}(Jn),is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ja(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".loading-wrapper"));n.fromTo("opacity",.99,0).fromTo("scale",1,1.3),e.fromTo("opacity",.16,0),this.easing("ease-out").duration(150).add(e).add(n)},e}(Jn),os=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),as=function(t){function e(e,n,r){void 0===n&&(n={});var i=this;return n.showBackdrop=!p(n.showBackdrop)||!!n.showBackdrop,n.enableBackdropDismiss=!!p(n.enableBackdropDismiss)&&!!n.enableBackdropDismiss,n.dismissOnPageChange=!!p(n.dismissOnPageChange)&&!!n.dismissOnPageChange,i=t.call(this,Xa,n,null)||this,i._app=e,i.isOverlay=!0,r.setTransition("loading-pop-in",Qa),r.setTransition("loading-pop-out",ts),r.setTransition("loading-md-pop-in",es),r.setTransition("loading-md-pop-out",ns),r.setTransition("loading-wp-pop-in",rs),r.setTransition("loading-wp-pop-out",is),i}return os(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"loadingLeave":"loadingEnter")},e.prototype.setContent=function(t){return this.data.content=t,this},e.prototype.setSpinner=function(t){return this.data.spinner=t,this},e.prototype.setCssClass=function(t){return this.data.cssClass=t,this},e.prototype.setShowBackdrop=function(t){return this.data.showBackdrop=t,this},e.prototype.setDuration=function(t){return this.data.duration=t,this},e.prototype.present=function(t){return void 0===t&&(t={}),this._app.present(this,t,3)},e.prototype.dismissAll=function(){this._nav&&this._nav.popAll()},e}(Nn),ss=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new as(this._app,t,this.config)},t}(),us=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ls=function(t){function e(e,n,r,i){var o=t.call(this,e,e.doc().body,{direction:"x",edge:n.side,threshold:5,maxEdgeStart:n.maxEdgeStart||50,zone:!1,passive:!0,domController:i,gesture:r.createGesture({name:Or,priority:Ar,disableScroll:!0})})||this;return o.menu=n,o}return us(e,t),e.prototype.canStart=function(e){var n=this.menu;return!!n.canSwipe()&&(!!n.isOpen||!n.getMenuController().getOpen()&&t.prototype.canStart.call(this,e))},e.prototype.onSlideBeforeStart=function(){this.menu._swipeBeforeStart()},e.prototype.onSlideStart=function(){this.menu._swipeStart()},e.prototype.onSlide=function(t){this.menu._swipeProgress(t.distance/(this.menu.isRightSide!==this.plt.isRTL?t.min:t.max))},e.prototype.onSlideEnd=function(t){var e=this.menu.isRightSide!==this.plt.isRTL?t.min:t.max,n=t.distance/e,r=t.velocity;e=Math.abs(.5*e);this.menu._swipeEnd(r<=0&&(r<-.2||t.delta<-e),r>=0&&(r>.2||t.delta>e),n,r)},e.prototype.getElementStartPos=function(t){var e=this.menu;return e.isRightSide!==this.plt.isRTL?e.isOpen?t.min:t.max:e.isOpen?t.max:t.min},e.prototype.getSlideBoundaries=function(){var t=this.menu;return t.isRightSide!==this.plt.isRTL?{min:-t.width(),max:0}:{min:0,max:t.width()}},e}(Kr),cs=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fs={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},ps=function(){return function(){}}(),ds=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i,o,"split-pane")||this;return a._zone=e,a._plt=n,a._init=!1,a._visible=!1,a._isEnabled=!0,a._mediaQuery=fs.md,a.sideContent=null,a.mainContent=null,a.ionChange=new Sn.EventEmitter,a}return cs(e,t),Object.defineProperty(e.prototype,"_setchildren",{set:function(t){var e=this;(this._children=t.filter(function(t){return t!==e})).forEach(function(t){var n=t.initPane();e._setPaneCSSClass(t.getElementRef(),n)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"when",{get:function(){return this._mediaQuery},set:function(t){if("boolean"==typeof t)this._mediaQuery=t;else{var e=fs[t];this._mediaQuery=e||t}this._update()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=g(t),this._update()},enumerable:!0,configurable:!0}),e.prototype._register=function(t,e,n){return this.getElementRef().nativeElement===t.getElementRef().nativeElement.parentNode&&(this._setPaneCSSClass(t.getElementRef(),e),n&&this.ionChange.subscribe(n),e&&(this.mainContent&&console.error("split pane: main content was already set"),this.mainContent=t),!0)},e.prototype.ngAfterViewInit=function(){this._init=!0,this._update()},e.prototype._update=function(){var t=this;if(this._init)if(this._rmListener&&this._rmListener(),this._rmListener=null,this._isEnabled){var e=this._mediaQuery;if("boolean"!=typeof e)if(e&&e.length>0){var n=function(e){return t._setVisible(e.matches)},r=this._plt.win().matchMedia(e);r.addListener(n),this._setVisible(r.matches),this._rmListener=function(){r.removeListener(n)}}else this._setVisible(!1);else this._setVisible(e)}else this._setVisible(!1)},e.prototype._updateChildren=function(){this.mainContent=null,this.sideContent=null;var t=this._visible;this._children.forEach(function(e){return e.paneChanged&&e.paneChanged(t)})},e.prototype._setVisible=function(t){var e=this;this._visible!==t&&(this._visible=t,this.setElementClass("split-pane-visible",t),this._updateChildren(),this._zone.run(function(){e.ionChange.emit(e)}))},e.prototype.isVisible=function(){return this._visible},e.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},e.prototype._setPaneCSSClass=function(t,e){var n=t.nativeElement;this._renderer.setElementClass(n,"split-pane-main",e),this._renderer.setElementClass(n,"split-pane-side",!e)},e.prototype.ngOnDestroy=function(){this._rmListener&&this._rmListener(),this._rmListener=null},e.prototype.initPane=function(){return!0},e}(hr),hs=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ms=function(t){function e(e,n,r,i,o,a,s,u,l,c,f,p,d,h){var m=t.call(this,n,r,i,o,a,s,u,l,c,f,p,d,h)||this;return m._hasInit=!1,e&&e._setContent(m),n?n.registerChildNav(m):e&&e.getNav()?(m.parent=e.getNav(),m.parent.registerChildNav(m)):r&&!r.getRootNavById(m.id)&&r.registerRootNav(m),m}return hs(e,t),Object.defineProperty(e.prototype,"_vp",{set:function(t){this.setViewport(t)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var t=this;this._hasInit=!0;var e=this._linker.getSegmentByNavIdOrName(this.id,this.name);if(e&&(e.component||e.loadChildren))return this._linker.initViews(e).then(function(e){return t.setPages(e,null,null)});if(this._root){var n=!e;return this.push(this._root,this.rootParams,{isNavRoot:this._app.getRootNavById(this.id)===this,updateUrl:n},null)}},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(t){this._root=t,this._hasInit&&this.setRoot(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.initPane=function(){return this._elementRef.nativeElement.hasAttribute("main")},e.prototype.paneChanged=function(t){t&&this.resize()},e.prototype.goToRoot=function(t){return this.setRoot(this._root,this.rootParams,t,null)},e.prototype.getType=function(){return"nav"},e.prototype.getSecondaryIdentifier=function(){return null},e}(Qr),gs=function(){function t(t,e,n,r,i,o,a,s,u){this._menuCtrl=t,this._elementRef=e,this._config=n,this._plt=r,this._renderer=i,this._keyboard=o,this._gestureCtrl=a,this._domCtrl=s,this._app=u,this._isSwipeEnabled=!0,this._isAnimating=!1,this._isPersistent=!1,this._init=!1,this._isPane=!1,this.isOpen=!1,this.isRightSide=!1,this.ionDrag=new Sn.EventEmitter,this.ionOpen=new Sn.EventEmitter,this.ionClose=new Sn.EventEmitter,this._events=new qr(r),this._gestureBlocker=a.createBlocker({disable:[Sr]}),this.side="start"}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){var e=g(t);this.enable(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"side",{get:function(){return this._side},set:function(t){this.isRightSide=y(t,this._plt.isRTL),this._side=this.isRightSide?"right":"left"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeEnabled",{get:function(){return this._isSwipeEnabled},set:function(t){var e=g(t);this.swipeEnable(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"persistent",{get:function(){return this._isPersistent},set:function(t){this._isPersistent=g(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._init=!0;var e=this.content;if(this._cntEle=e instanceof Node?e:e&&e.getNativeElement&&e.getNativeElement(),!this._cntEle)return console.error('Menu: must have a [content] element to listen for drag events on. Example:\n\n<ion-menu [content]="content"></ion-menu>\n\n<ion-nav #content></ion-nav>');this.setElementAttribute("side",this._side),this.type||(this.type=this._config.get("menuType")),this.setElementAttribute("type",this.type),this._gesture=new ls(this._plt,this,this._gestureCtrl,this._domCtrl),this._cntEle.classList.add("menu-content"),this._cntEle.classList.add("menu-content-"+this.type);var n=this._isEnabled;!0!==n&&void 0!==n||(n=!this._menuCtrl.getMenus().some(function(e){return e.side===t.side&&e.enabled})),this._menuCtrl._register(this),this.enable(n)},t.prototype.onBackdropClick=function(t){t.preventDefault(),t.stopPropagation(),this._menuCtrl.close()},t.prototype._getType=function(){return this._type||(this._type=Fn.create(this.type,this,this._plt),!1===this._config.get("animate")&&this._type.ani.duration(0)),this._type},t.prototype.setOpen=function(t,e){var n=this;return void 0===e&&(e=!0),t===this.isOpen||!this._canOpen()||this._isAnimating?Promise.resolve(this.isOpen):new Promise(function(r){n._before(),n._getType().setOpen(t,e,function(){n._after(t),r(n.isOpen)})})},t.prototype._forceClosing=function(){var t=this;this._isAnimating=!0,this._getType().setOpen(!1,!1,function(){t._after(!1)})},t.prototype.canSwipe=function(){return this._isSwipeEnabled&&!this._isAnimating&&this._canOpen()&&this._app.isEnabled()},t.prototype.isAnimating=function(){return this._isAnimating},t.prototype._swipeBeforeStart=function(){this.canSwipe()&&this._before()},t.prototype._swipeStart=function(){this._isAnimating&&this._getType().setProgressStart(this.isOpen)},t.prototype._swipeProgress=function(t){if(this._isAnimating){this._getType().setProgessStep(t);var e=this.ionDrag;e.observers.length>0&&e.emit(t)}},t.prototype._swipeEnd=function(t,e,n,r){var i=this;if(this._isAnimating){var o=this.isRightSide,a=this._plt.isRTL,s=!this.isOpen?o!==a?t:e:o!==a?e:t;this._getType().setProgressEnd(s,n,r,function(t){i._after(t)})}},t.prototype._before=function(){this.setElementClass("show-menu",!0),this.backdrop.setElementClass("show-backdrop",!0),this.resize(),this._keyboard.close(),this._isAnimating=!0},t.prototype._after=function(t){if(this._app.setEnabled(!1,100),this.isOpen=t,this._isAnimating=!1,this._events.unlistenAll(),t){this._gestureBlocker.block(),this._cntEle.classList.add("menu-content-open");var e=this.onBackdropClick.bind(this);this._events.listen(this._cntEle,"click",e,{capture:!0}),this._events.listen(this.backdrop.getNativeElement(),"click",e,{capture:!0}),this.ionOpen.emit(!0)}else this._gestureBlocker.unblock(),this._cntEle.classList.remove("menu-content-open"),this.setElementClass("show-menu",!1),this.backdrop.setElementClass("show-menu",!1),this.ionClose.emit(!0)},t.prototype.open=function(){return this.setOpen(!0)},t.prototype.close=function(){return this.setOpen(!1)},t.prototype.resize=function(){var t=this.menuContent?this.menuContent:this.menuNav;t&&t.resize()},t.prototype.toggle=function(){return this.setOpen(!this.isOpen)},t.prototype._canOpen=function(){return this._isEnabled&&!this._isPane},t.prototype._updateState=function(){var t=this._canOpen();if(!t&&this.isOpen&&this._forceClosing(),this._isEnabled&&this._menuCtrl&&this._menuCtrl._setActiveMenu(this),this._init){var e=this._gesture;t&&this._isSwipeEnabled&&!e.isListening?e.listen():!e.isListening||t&&this._isSwipeEnabled||e.unlisten(),(this.isOpen||this._isPane&&this._isEnabled)&&this.resize()}},t.prototype.enable=function(t){return this._isEnabled=t,this.setElementClass("menu-enabled",t),this._updateState(),this},t.prototype.initPane=function(){return!1},t.prototype.paneChanged=function(t){this._isPane=t,this._updateState()},t.prototype.swipeEnable=function(t){return this._isSwipeEnabled=t,this._updateState(),this},t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t.prototype.getMenuElement=function(){return this.getNativeElement().querySelector(".menu-inner")},t.prototype.getContentElement=function(){return this._cntEle},t.prototype.getBackdropElement=function(){return this.backdrop.getNativeElement()},t.prototype.width=function(){return this.getMenuElement().offsetWidth},t.prototype.getMenuController=function(){return this._menuCtrl},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.prototype.setElementAttribute=function(t,e){this._renderer.setElementAttribute(this._elementRef.nativeElement,t,e)},t.prototype.getElementRef=function(){return this._elementRef},t.prototype.ngOnDestroy=function(){this._menuCtrl._unregister(this),this._events.destroy(),this._gesture&&this._gesture.destroy(),this._type&&this._type.destroy(),this._gesture=null,this._type=null,this._cntEle=null},t}(),vs=function(){function t(t){this._menu=t}return t.prototype.close=function(){var t=this._menu.get(this.menuClose);t&&t.close()},t}(),ys=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bs=function(t){function e(e,n,r){return t.call(this,e,n,r,"toolbar")||this}return ys(e,t),e.prototype._setTitle=function(t){this._title=t},e.prototype.getTitleText=function(){return this._title&&this._title.getTitleText()||""},e}(hr),_s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ws=function(t){function e(e,n,r,i,o,a){var s=t.call(this,i,o,a)||this;return s._app=e,s.navCtrl=r,s._hidden=!1,s._hideBb=!1,n&&n._setNavbar(s),s._bbIcon=i.get("backButtonIcon"),s._sbPadding=i.getBoolean("statusbarPadding"),s._backText=i.get("backButtonText","Back"),s}return _s(e,t),Object.defineProperty(e.prototype,"hideBackButton",{get:function(){return this._hideBb},set:function(t){this._hideBb=g(t)},enumerable:!0,configurable:!0}),e.prototype.backButtonClick=function(t){t.preventDefault(),t.stopPropagation(),this.navCtrl&&this.navCtrl.pop(null,null)},e.prototype.setBackButtonText=function(t){this._backText=t},e.prototype.didEnter=function(){try{this._app.setTitle(this.getTitleText())}catch(t){console.error(t)}},e.prototype.setHidden=function(t){this._hidden=t},e}(bs),xs=function(){function t(t,e,n,r){this._menu=t,this._viewCtrl=e,this._button=n,this._isButton=!!n,this._inNavbar=!!r}return t.prototype.ngAfterContentInit=function(){this._isButton&&this._button._setClass("menutoggle",!0)},t.prototype.toggle=function(){var t=this._menu.get(this.menuToggle);t&&t.toggle()},Object.defineProperty(t.prototype,"isHidden",{get:function(){var t=this._menu.get(this.menuToggle);if(this._inNavbar&&this._viewCtrl){if(!t||!t._canOpen())return!0;if(this._viewCtrl.isFirst())return!1;if(t)return!t.persistent}return!1},enumerable:!0,configurable:!0}),t}(),Es=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cs=function(){function t(t){this.ani=new Gn(t),this.ani.easing("cubic-bezier(0.0, 0.0, 0.2, 1)").easingReverse("cubic-bezier(0.4, 0.0, 0.6, 1)").duration(280)}return t.prototype.setOpen=function(t,e,n){var r=this.ani.onFinish(n,!0,!0).reverse(!t);e?r.play():r.syncPlay()},t.prototype.setProgressStart=function(t){this.isOpening=!t,this.ani.reverse(t).progressStart()},t.prototype.setProgessStep=function(t){this.ani.progressStep(t)},t.prototype.setProgressEnd=function(t,e,n,r){var i=this,o=this.isOpening&&t;this.isOpening||t||(o=!0);var a=this.ani;a.onFinish(function(){i.isOpening=!1,r(o)},!0);var s=1-Math.min(Math.abs(n)/4,.7),u=a.getDuration()*s;a.progressEnd(t,e,u)},t.prototype.destroy=function(){this.ani.destroy(),this.ani=null},t}();Fn.registerType("reveal",function(t){function e(e,n){var r=t.call(this,n)||this,i=e.width()*(e.isRightSide?-1:1)+"px",o=new Gn(n,e.getContentElement());return o.fromTo("translateX","0px",i),r.ani.add(o),r}return Es(e,t),e}(Cs));Fn.registerType("push",function(t){function e(e,n){var r,i,o,a=t.call(this,n)||this,s=e.width();e.isRightSide?(r=-s+"px",i=s+"px",o="0px"):(r=s+"px",o="0px",i=-s+"px");var u=new Gn(n,e.getMenuElement());u.fromTo("translateX",i,o),a.ani.add(u);var l=new Gn(n,e.getContentElement());return l.fromTo("translateX","0px",r),a.ani.add(l),a}return Es(e,t),e}(Cs));Fn.registerType("overlay",function(t){function e(e,n){var r,i,o=t.call(this,n)||this,a=e.width();e.isRightSide?(r=8+a+"px",i="0px"):(r=-(8+a)+"px",i="0px");var s=new Gn(n,e.getMenuElement());s.fromTo("translateX",r,i),o.ani.add(s);var u=new Gn(n,e.getBackdropElement());return u.fromTo("opacity",.01,.35),o.ani.add(u),o}return Es(e,t),e}(Cs));var Ss,Os,ks,Ts,Ps,Ns,Is,As,Ms,Ds,Rs,js,Ls=function(){function t(t,e,n,r){this._app=t,this._component=e,this._config=n,this._deepLinker=r}return t.prototype.getImplementation=function(){throw new Error('Child class must implement "getImplementation" method')},t.prototype.present=function(t){var e=this;void 0===t&&(t={});return s(this._component)?this._deepLinker.getComponentFromName(this._component).then(function(n){return e._component=n,e.createAndPresentOverlay(t)}):this.createAndPresentOverlay(t)},t.prototype.dismiss=function(t,e,n){if(this.overlay)return this.overlay.dismiss(t,e,n)},t.prototype.onDidDismiss=function(t){this._onDidDismiss=t,this.overlay&&this.overlay.onDidDismiss(this._onDidDismiss)},t.prototype.createAndPresentOverlay=function(t){return this.overlay=this.getImplementation(),this.overlay.onWillDismiss(this._onWillDismiss),this.overlay.onDidDismiss(this._onDidDismiss),this.overlay.present(t)},t.prototype.onWillDismiss=function(t){this._onWillDismiss=t,this.overlay&&this.overlay.onWillDismiss(this._onWillDismiss)},t}(),zs=function(){function t(t){this._compiler=t}return t.prototype.load=function(t,e){return this._compiler instanceof Sn.Compiler?function(t,e){return n(206)(t).then(function(n){var r=n[e];if(!r)throw new Error("Module "+t+" does not export "+e);return r})}(t,e):function(t,e,r){return r||(r="default"),n(206)(e).then(function(n){var i=n[r];if(!i)throw new Error("Module "+e+" does not export "+r);return t.compileModuleAsync(i)})}(this._compiler,t,e)},t}(),Fs=new Sn.InjectionToken("LZYCMP"),Bs=function(){function t(t,e){this._ngModuleLoader=t,this._injector=e,this._cfrMap=new Map,this._promiseMap=new Map}return t.prototype.load=function(t){var e=this,n=t.split(Vs),r=this._promiseMap.get(t);return r||(r=this._ngModuleLoader.load(n[0],n[1]),this._promiseMap.set(t,r)),r.then(function(t){var n=t.create(e._injector),r=n.injector.get(Fs);return e._cfrMap.set(r,n.componentFactoryResolver),{componentFactoryResolver:n.componentFactoryResolver,component:r}})},t.prototype.getComponentFactoryResolver=function(t){return this._cfrMap.get(t)},t}(),Vs="#",Us=function(){function t(t,e,n,r,i,o,a){this._cfr=t,this._renderer=e,this._elementRef=n,this._navParams=r,this._viewCtrl=i,this.moduleLoader=a;var s=r.get("opts");this._gestureBlocker=o.createBlocker({disable:[Or,Sr]}),this._bdDismiss=s.enableBackdropDismiss,s.cssClass&&s.cssClass.split(" ").forEach(function(t){""!==t.trim()&&e.setElementClass(n.nativeElement,t,!0)})}return t.prototype.ionViewPreLoad=function(){var t=this._navParams.data.component;if(t){var e=this.moduleLoader.getComponentFactoryResolver(t);e||(e=this._cfr);var n=e.resolveComponentFactory(t),r=this._viewport.createComponent(n,this._viewport.length,this._viewport.parentInjector,[]);this._setCssClass(r,"ion-page"),this._setCssClass(r,"show-page"),this._viewCtrl._setInstance(r.instance),this._viewCtrl.willEnter.subscribe(this._viewWillEnter.bind(this)),this._viewCtrl.didLeave.subscribe(this._viewDidLeave.bind(this)),this._enabled=!0}else console.warn("modal's page was not defined")},t.prototype._viewWillEnter=function(){this._gestureBlocker.block()},t.prototype._viewDidLeave=function(){this._gestureBlocker.unblock()},t.prototype._setCssClass=function(t,e){this._renderer.setElementClass(t.location.nativeElement,e,!0)},t.prototype._bdClick=function(){if(this._enabled&&this._bdDismiss){return this._viewCtrl.dismiss(null,"backdrop",{minClickBlockDuration:400})}},t.prototype._keyUp=function(t){this._enabled&&this._viewCtrl.isLast()&&27===t.keyCode&&this._bdClick()},t.prototype.ngOnDestroy=function(){this._gestureBlocker.destroy()},t}(),Ws=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.enteringView.pageRef().nativeElement,n=e.querySelector("ion-backdrop"),r=new Gn(this.plt,n),i=new Gn(this.plt,e.querySelector(".modal-wrapper"));i.beforeStyles({opacity:1}),i.fromTo("translateY","100%","0%"),r.fromTo("opacity",.01,.4),this.element(this.enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(400).add(r).add(i)},e}(tr),Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.leavingView.pageRef().nativeElement,n=new Gn(this.plt,e.querySelector("ion-backdrop")),r=e.querySelector(".modal-wrapper"),i=r.getBoundingClientRect(),o=new Gn(this.plt,r);o.fromTo("translateY","0px",this.plt.height()-i.top+"px"),n.fromTo("opacity",.4,0),this.element(this.leavingView.pageRef()).easing("ease-out").duration(250).add(n).add(o)},e}(tr),Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.enteringView.pageRef().nativeElement,n=new Gn(this.plt,e.querySelector("ion-backdrop")),r=new Gn(this.plt,e.querySelector(".modal-wrapper"));n.fromTo("opacity",.01,.4),r.fromTo("translateY","40px","0px"),r.fromTo("opacity",.01,1);this.element(this.enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).add(n).add(r)},e}(tr),$s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ws(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.leavingView.pageRef().nativeElement,n=new Gn(this.plt,e.querySelector("ion-backdrop")),r=new Gn(this.plt,e.querySelector(".modal-wrapper"));n.fromTo("opacity",.4,0),r.fromTo("translateY","0px","40px"),r.fromTo("opacity",.99,0),this.element(this.leavingView.pageRef()).duration(200).easing("cubic-bezier(0.47,0,0.745,0.715)").add(r).add(n)},e}(tr),Ys=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ks=function(t){function e(e,n,r,i,o){void 0===i&&(i={});var a=this;return r=r||{},r.component=n,i.showBackdrop=!p(i.showBackdrop)||!!i.showBackdrop,i.enableBackdropDismiss=!p(i.enableBackdropDismiss)||!!i.enableBackdropDismiss,r.opts=i,a=t.call(this,Us,r,null)||this,a._app=e,a._enterAnimation=i.enterAnimation,a._leaveAnimation=i.leaveAnimation,a.isOverlay=!0,o.setTransition("modal-slide-in",qs),o.setTransition("modal-slide-out",Hs),o.setTransition("modal-md-slide-in",Gs),o.setTransition("modal-md-slide-out",$s),a}return Ys(e,t),e.prototype.getTransitionName=function(t){var e;if("back"===t){if(this._leaveAnimation)return this._leaveAnimation;e="modalLeave"}else{if(this._enterAnimation)return this._enterAnimation;e="modalEnter"}return this._nav&&this._nav.config.get(e)},e.prototype.present=function(t){return void 0===t&&(t={}),t.minClickBlockDuration=t.minClickBlockDuration||400,this._app.present(this,t,2)},e}(Nn),Xs=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zs=function(t){function e(e,n,r,i,o,a){void 0===i&&(i={});var s=t.call(this,e,n,o,a)||this;return s.data=r,s.opts=i,s.isOverlay=!0,s}return Xs(e,t),e.prototype.getImplementation=function(){return new Ks(this._app,this._component,this.data,this.opts,this._config)},e}(Ls),Js=function(){function t(t,e,n){this._app=t,this.config=e,this.deepLinker=n}return t.prototype.create=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),new Zs(this._app,t,e,n,this.config,this.deepLinker)},t}(),Qs=function(){function t(t){this._nav=t,t||console.error("navPop must be within a NavController")}return t.prototype.onClick=function(){return!this._nav||(this._nav.pop().catch(function(){}),!1)},t}(),tu=function(){function t(t,e,n){this.host=t,this.linker=e,this.viewCtrl=n}return t.prototype.updateHref=function(){if(this.host&&this.viewCtrl){var t=this.host._nav.getPrevious(this.viewCtrl);this._href=t&&this.linker.createUrl(this.host._nav,this.viewCtrl.component,this.viewCtrl.data)||"#"}else this._href="#"},t.prototype.ngAfterContentInit=function(){this.updateHref()},t}(),eu=function(){function t(t){this._nav=t,t||console.error("navPush must be within a NavController")}return t.prototype.onClick=function(){return!this._nav||!this.navPush||(this._nav.push(this.navPush,this.navParams),!1)},t}(),nu=function(){function t(t,e){this.host=t,this.linker=e}return t.prototype.updateHref=function(){this._href=this.host&&this.linker?this.linker.createUrl(this.host._nav,this.host.navPush,this.host.navParams)||"#":"#"},t.prototype.ngAfterContentInit=function(){this.updateHref()},t}(),ru=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iu=function(t){function e(e,n,r){return t.call(this,e,n,r,"note")||this}return ru(e,t),e}(hr),ou=function(){function t(t){this._elementRef=t,this._selected=!1,this._disabled=!1,this.ionSelect=new Sn.EventEmitter}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return p(this._value)?this._value:this.text},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._elementRef.nativeElement.textContent},enumerable:!0,configurable:!0}),t}(),au=function(){function t(t,e,n,r,i,o,a,s){this._cfr=t,this._elementRef=e,this._renderer=n,this._config=r,this._navParams=i,this._viewCtrl=o,this.moduleLoader=s,this._gestureBlocker=a.createBlocker(Rr),this.d=i.data.opts,n.setElementClass(e.nativeElement,"popover-"+r.get("mode"),!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&n.setElementClass(e.nativeElement,t,!0)}),this.id=++su}return t.prototype.ionViewPreLoad=function(){this._load(this._navParams.data.component)},t.prototype._load=function(t){if(t){var e=this.moduleLoader.getComponentFactoryResolver(t);e||(e=this._cfr);var n=e.resolveComponentFactory(t),r=this._viewport.createComponent(n,this._viewport.length,this._viewport.parentInjector,[]);this._viewCtrl._setInstance(r.instance),this._enabled=!0,this._viewCtrl.willEnter.subscribe(this._viewWillEnter.bind(this)),this._viewCtrl.didLeave.subscribe(this._viewDidLeave.bind(this))}},t.prototype._viewWillEnter=function(){this._gestureBlocker.block()},t.prototype._viewDidLeave=function(){this._gestureBlocker.unblock()},t.prototype._setCssClass=function(t,e){this._renderer.setElementClass(t.location.nativeElement,e,!0)},t.prototype._bdClick=function(){if(this._enabled&&this.d.enableBackdropDismiss)return this._viewCtrl.dismiss(null,"backdrop")},t.prototype._keyUp=function(t){this._enabled&&27===t.keyCode&&this._viewCtrl.isLast()&&this._bdClick()},t.prototype.ngOnDestroy=function(){this._gestureBlocker.destroy()},t}(),su=-1,uu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uu(e,t),e.prototype.mdPositionView=function(t,e){var n="top",r="left",i=t.querySelector(".popover-wrapper"),o=t.querySelector(".popover-content"),a=o.getBoundingClientRect(),s=a.width,u=a.height,l=this.plt.width(),c=this.plt.height(),f=e&&e.target&&e.target.getBoundingClientRect(),p=f&&"top"in f?f.top:c/2-u/2,d=f&&f.height||0,h={top:p,left:f&&"left"in f?f.left:l/2-s/2};h.left<mu?h.left=mu:s+mu+h.left>l&&(h.left=l-s-mu,r="right"),p+d+u>c&&p-u>0?(h.top=p-u,t.className=t.className+" popover-bottom",n="bottom"):p+d+u>c&&(o.style.bottom=mu+"px"),o.style.top=h.top+"px",o.style.left=h.left+"px",o.style[this.plt.Css.transformOrigin]=n+" "+r,i.style.opacity="1"},e.prototype.iosPositionView=function(t,e){var n="top",r="left",i=t.querySelector(".popover-wrapper"),o=t.querySelector(".popover-content"),a=o.getBoundingClientRect(),s=a.width,u=a.height,l=this.plt.width(),c=this.plt.height(),f=e&&e.target&&e.target.getBoundingClientRect(),p=f&&"top"in f?f.top:c/2-u/2,d=f&&"left"in f?f.left:l/2,h=f&&f.width||0,m=f&&f.height||0,g=t.querySelector(".popover-arrow"),v=g.getBoundingClientRect(),y=v.width,b=v.height;f||(g.style.display="none");var _={top:p+m,left:d+h/2-y/2},w={top:p+m+(b-1),left:d+h/2-s/2},x=!1,E=!1;w.left<hu+25?(x=!0,w.left=hu):s+hu+w.left+25>l&&(E=!0,w.left=l-s-hu,r="right"),p+m+u>c&&p-u>0?(_.top=p-(b+1),w.top=p-u-(b-1),t.className=t.className+" popover-bottom",n="bottom"):p+m+u>c&&(o.style.bottom=hu+"%"),g.style.top=_.top+"px",g.style.left=_.left+"px",o.style.top=w.top+"px",o.style.left=w.left+"px",x&&(CSS.supports("left","constant(safe-area-inset-left)")?o.style.left="calc("+w.left+"px + constant(safe-area-inset-left)":CSS.supports("left","env(safe-area-inset-left)")&&(o.style.left="calc("+w.left+"px + env(safe-area-inset-left)")),E&&(CSS.supports("right","constant(safe-area-inset-right)")?o.style.left="calc("+w.left+"px - constant(safe-area-inset-right)":CSS.supports("right","env(safe-area-inset-right)")&&(o.style.left="calc("+w.left+"px - env(safe-area-inset-right)")),o.style[this.plt.Css.transformOrigin]=n+" "+r,i.style.opacity="1"},e}(tr),cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uu(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".popover-wrapper"));n.fromTo("opacity",.01,1),e.fromTo("opacity",.01,.08),this.easing("ease").duration(100).add(e).add(n)},e.prototype.play=function(){var e=this;this.plt.raf(function(){e.iosPositionView(e.enteringView.pageRef().nativeElement,e.opts.ev),t.prototype.play.call(e)})},e}(lu),fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uu(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector("ion-backdrop")),n=new Gn(this.plt,t.querySelector(".popover-wrapper"));n.fromTo("opacity",.99,0),e.fromTo("opacity",.08,0),this.easing("ease").duration(500).add(e).add(n)},e}(lu),pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uu(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector(".popover-content")),n=new Gn(this.plt,t.querySelector(".popover-viewport"));e.fromTo("scale",.001,1),n.fromTo("opacity",.01,1),this.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).add(e).add(n)},e.prototype.play=function(){var e=this;this.plt.raf(function(){e.mdPositionView(e.enteringView.pageRef().nativeElement,e.opts.ev),t.prototype.play.call(e)})},e}(lu),du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uu(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new Gn(this.plt,t.querySelector(".popover-wrapper"));e.fromTo("opacity",.99,0),this.easing("ease").duration(500).fromTo("opacity",.01,1).add(e)},e}(lu),hu=2,mu=12,gu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vu=function(t){function e(e,n,r,i,o){void 0===r&&(r={}),void 0===i&&(i={});var a=this;return i.showBackdrop=!p(i.showBackdrop)||!!i.showBackdrop,i.enableBackdropDismiss=!p(i.enableBackdropDismiss)||!!i.enableBackdropDismiss,r.component=n,r.opts=i,a=t.call(this,au,r,null)||this,a._app=e,a.isOverlay=!0,o.setTransition("popover-pop-in",cu),o.setTransition("popover-pop-out",fu),o.setTransition("popover-md-pop-in",pu),o.setTransition("popover-md-pop-out",du),a}return gu(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"popoverLeave":"popoverEnter")},e.prototype.present=function(t){return void 0===t&&(t={}),this._app.present(this,t)},e}(Nn),yu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bu=function(t){function e(e,n,r,i,o,a){void 0===i&&(i={});var s=t.call(this,e,n,o,a)||this;return s.data=r,s.opts=i,s.isOverlay=!0,s}return yu(e,t),e.prototype.getImplementation=function(){return new vu(this._app,this._component,this.data,this.opts,this._config)},e}(Ls),_u=function(){function t(t,e,n){this._app=t,this.config=e,this._deepLinker=n}return t.prototype.create=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),new bu(this._app,t,e,n,this.config,this._deepLinker)},t}(),wu=function(){function t(t,e,n){this._renderer=t,this._elementRef=e,this._cd=n,this._disabled=!1,this._btns=[],this._ids=-1,this._init=!1,this.ionChange=new Sn.EventEmitter,this.id=++xu}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=g(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this._btns.find(function(t){return t.checked});t&&this._setActive(t)},t.prototype.writeValue=function(t){this.value=t,this._init&&(this._update(),this.onTouched(),this.ionChange.emit(t)),this._init=!0},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(n){t(n),e.value=n,e._update(),e.onTouched(),e.ionChange.emit(n)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype._update=function(){var t=this,e=!1;this._btns.forEach(function(n){n.checked=v(t.value,n.value)&&!e,n.checked&&(t._setActive(n),e=!0)})},t.prototype._setActive=function(t){this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-activedescendant",t.id)},t.prototype.add=function(t){var e=this;return this._btns.push(t),t.ionSelect.subscribe(function(t){e.onChange(t)}),this.id+"-"+ ++this._ids},t.prototype.remove=function(t){var e=this._btns.indexOf(t);e>-1&&(t.value===this.value&&(this.value=null),this._btns.splice(e,1))},Object.defineProperty(t.prototype,"_header",{set:function(t){t&&(t.id||(t.id="rg-hdr-"+this.id),this._renderer.setElementAttribute(this._elementRef.nativeElement,"aria-describedby",t.id))},enumerable:!0,configurable:!0}),t.prototype.onChange=function(t){this.value=t,this._update(),this.onTouched(),this.ionChange.emit(t),this._cd.detectChanges()},t.prototype.onTouched=function(){},t.prototype.setDisabledState=function(t){this.disabled=t},t}(),xu=-1,Eu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cu=function(t){function e(e,n,r,i,o,a){var s=t.call(this,n,r,i,"radio")||this;return s._form=e,s._item=o,s._group=a,s._checked=!1,s._disabled=!1,s._value=null,s.ionSelect=new Sn.EventEmitter,e.register(s),a&&(s.id="rb-"+a.add(s)),o&&(s.id="rb-"+o.registerInput("radio"),s._labelId="lbl-"+o.id,s._item.setElementClass("item-radio",!0)),s}return Eu(e,t),Object.defineProperty(e.prototype,"color",{set:function(t){this._setColor(t),this._item&&this._item._updateColor(t,"item-radio")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return d(this._value)?this.id:this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=g(t),this._item&&this._item.setElementClass("item-radio-checked",this._checked)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled||null!=this._group&&this._group.disabled},set:function(t){this._disabled=g(t),this._item&&this._item.setElementClass("item-radio-disabled",this._disabled)},enumerable:!0,configurable:!0}),e.prototype.initFocus=function(){this._elementRef.nativeElement.querySelector("button").focus()},e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.checked=!0,this.ionSelect.emit(this.value)},e.prototype.ngOnInit=function(){this._group&&p(this._group.value)&&(this.checked=v(this._group.value,this.value)),this._group&&this._group.disabled&&(this.disabled=this._group.disabled)},e.prototype.ngOnDestroy=function(){this._form.deregister(this),this._group&&this._group.remove(this)},e}(hr),Su=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ou=function(t){function e(e,n,r,i,o,a,s,u,l){var c=t.call(this,i,a,s,"range",0,e,r,null)||this;return c._haptic=n,c._plt=o,c._dom=u,c._cd=l,c._min=0,c._max=100,c._step=1,c._valA=0,c._valB=0,c._ratioA=0,c._ratioB=0,c._events=new qr(o),c}return Su(e,t),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t=Math.round(t),isNaN(t)||(this._min=t,this._inputUpdated())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t=Math.round(t),isNaN(t)||(this._max=t,this._inputUpdated())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){t=Math.round(t),!isNaN(t)&&t>0&&(this._step=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snaps",{get:function(){return this._snaps},set:function(t){this._snaps=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pin",{get:function(){return this._pin},set:function(t){this._pin=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debounce",{get:function(){return this._debouncer.wait},set:function(t){this._debouncer.wait=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dualKnobs",{get:function(){return this._dual},set:function(t){this._dual=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._dual?Math.min(this._ratioA,this._ratioB):this._ratioA},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratioUpper",{get:function(){return this._dual?Math.max(this._ratioA,this._ratioB):null},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._initialize(),this._events.pointerEvents({element:this._slider.nativeElement,pointerDown:this._pointerDown.bind(this),pointerMove:this._pointerMove.bind(this),pointerUp:this._pointerUp.bind(this),zone:!0}),this._createTicks()},e.prototype._pointerDown=function(t){if(this._disabled)return!1;this._fireFocus(),t.preventDefault(),t.stopPropagation();var e=P(t),n=this._rect=this._plt.getElementBoundingClientRect(this._slider.nativeElement),i=r(0,(e.x-n.left)/n.width,1);return this._activeB=this._dual&&Math.abs(i-this._ratioA)>Math.abs(i-this._ratioB),this._update(e,n,!0),this._haptic.gestureSelectionStart(),!0},e.prototype._pointerMove=function(t){if(!this._disabled){t.preventDefault(),t.stopPropagation();this._update(P(t),this._rect,!0)&&this._snaps&&this._haptic.gestureSelectionChanged()}},e.prototype._pointerUp=function(t){this._disabled||(t.preventDefault(),t.stopPropagation(),this._update(P(t),this._rect,!1),this._haptic.gestureSelectionEnd(),this._fireBlur())},e.prototype._update=function(t,e,n){var i=r(0,(t.x-e.left)/e.width,1),o=this._ratioToValue(i);this._snaps&&(i=this._valueToRatio(o)),this._pressed=n;var a=!1;if(this._activeB?(this._pressedB=n,this._pressedA=!1,this._ratioB=i,a=o===this._valB,this._valB=o):(this._pressedA=n,this._pressedB=!1,this._ratioA=i,a=o===this._valA,this._valA=o),this._updateBar(),a)return!1;var s;return s=this._dual?{lower:Math.min(this._valA,this._valB),upper:Math.max(this._valA,this._valB)}:this._valA,this.value=s,!0},e.prototype._updateBar=function(){var t=this._ratioA,e=this._ratioB;this._dual?(this._barL=100*Math.min(t,e)+"%",this._barR=100-100*Math.max(t,e)+"%"):(this._barL="",this._barR=100-100*t+"%"),this._updateTicks()},e.prototype._createTicks=function(){var t=this;this._snaps&&this._dom.write(function(){t._ticks=[];for(var e=t._min;e<=t._max;e+=t._step){var n=t._valueToRatio(e);t._ticks.push({ratio:n,left:100*n+"%"})}t._updateTicks()})},e.prototype._updateTicks=function(){var t=this._ticks,e=this.ratio;if(this._snaps&&t)if(this._dual){var n=this.ratioUpper;t.forEach(function(t){t.active=t.ratio>=e&&t.ratio<=n})}else t.forEach(function(t){t.active=t.ratio<=e})},e.prototype._keyChg=function(t,e){var n=this._step;e?(t?this._valB+=n:this._valB-=n,this._valB=r(this._min,this._valB,this._max),this._ratioB=this._valueToRatio(this._valB)):(t?this._valA+=n:this._valA-=n,this._valA=r(this._min,this._valA,this._max),this._ratioA=this._valueToRatio(this._valA)),this._updateBar()},e.prototype._ratioToValue=function(t){return t=Math.round((this._max-this._min)*t),t=Math.round(t/this._step)*this._step+this._min,r(this._min,t,this._max)},e.prototype._valueToRatio=function(t){return t=Math.round((t-this._min)/this._step)*this._step,t/=this._max-this._min,r(0,t,1)},e.prototype._inputNormalize=function(t){return this._dual?t:(t=parseFloat(t),isNaN(t)?void 0:t)},e.prototype._inputUpdated=function(){var t=this.value;this._dual?(this._valA=t.lower,this._valB=t.upper,this._ratioA=this._valueToRatio(t.lower),this._ratioB=this._valueToRatio(t.upper)):(this._valA=t,this._ratioA=this._valueToRatio(t)),this._updateBar(),this._cd.detectChanges()},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._events.destroy()},e}(Ji),ku=function(){function t(){this.ionIncrease=new Sn.EventEmitter,this.ionDecrease=new Sn.EventEmitter}return Object.defineProperty(t.prototype,"ratio",{set:function(t){this._x=100*t+"%"},enumerable:!0,configurable:!0}),t.prototype._keyup=function(t){var e=t.keyCode;37===e||40===e?(this.ionDecrease.emit(),t.preventDefault(),t.stopPropagation()):39!==e&&38!==e||(this.ionIncrease.emit(),t.preventDefault(),t.stopPropagation())},t}(),Tu=function(){function t(t,e,n,r){this._plt=t,this._content=e,this._zone=n,this._appliedStyles=!1,this._lastCheck=0,this._isEnabled=!0,this._top="",this.state=Pu,this.startY=null,this.currentY=null,this.deltaY=null,this.progress=0,this.pullMin=60,this.pullMax=this.pullMin+60,this.closeDuration=280,this.snapbackDuration=280,this.ionRefresh=new Sn.EventEmitter,this.ionPull=new Sn.EventEmitter,this.ionStart=new Sn.EventEmitter,this._events=new qr(t),e._hasRefresher=!0,this._gesture=r.createGesture({name:Tr,priority:Ir})}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=g(t),this._setListeners(this._isEnabled)},enumerable:!0,configurable:!0}),t.prototype._onStart=function(t){if(t.touches&&t.touches.length>1)return!1;if(this.state!==Pu)return!1;if(this._content.getContentDimensions().scrollTop>0)return!1;if(!this._gesture.canStart())return!1;var e=P(t);if(this._content.contentTop>0){var n=this._content.contentTop+"px";this._top!==n&&(this._top=n)}return this.startY=this.currentY=e.y,this.progress=0,this.state=Pu,!0},t.prototype._onMove=function(t){var e=this;if(t.touches&&t.touches.length>1)return 1;if(!this._gesture.canStart())return 0;if(null===this.startY||this.state===Au||this.state===Mu||this.state===Du)return 2;var n=Date.now();if(this._lastCheck+16>n)return 3;this._lastCheck=n;var r=P(t);if(this.currentY=r.y,this.deltaY=r.y-this.startY,this.deltaY<=0)return this.progress=0,this.state!==Pu&&this._zone.run(function(){e.state=Pu}),this._appliedStyles?(this._setCss(0,"",!1,""),5):6;if(this.state===Pu){if(this._content.getContentDimensions().scrollTop>0)return this.progress=0,this.startY=null,7;this.state=Nu}if(t.preventDefault(),this._setCss(this.deltaY,"0ms",!0,""),!this.deltaY)return this.progress=0,8;this._zone.run(function(){e._onMoveInZone()})},t.prototype._onMoveInZone=function(){return this.progress=this.deltaY/this.pullMin,this._didStart||(this._didStart=!0,this.ionStart.emit(this)),this.ionPull.emit(this),this.deltaY<this.pullMin?(this.state=Nu,2):this.deltaY>this.pullMax?(this._beginRefresh(),3):(this.state=Iu,4)},t.prototype._onEnd=function(){var t=this;this.state===Iu?this._zone.run(function(){t._beginRefresh()}):this.state===Nu&&this._zone.run(function(){t.cancel()}),this.startY=null},t.prototype._beginRefresh=function(){this.state=Au,this._setCss(this.pullMin,this.snapbackDuration+"ms",!0,""),this.ionRefresh.emit(this)},t.prototype.complete=function(){this._close(Du,"120ms")},t.prototype.cancel=function(){this._close(Mu,"")},t.prototype._close=function(t,e){function n(t){t&&clearTimeout(r),this.state=Pu,this.progress=0,this._didStart=this.startY=this.currentY=this.deltaY=null,this._setCss(0,"0ms",!1,"")}var r;r=setTimeout(n.bind(this),600),this._content.onScrollElementTransitionEnd(n.bind(this)),this.state=t,this._setCss(0,"",!0,e),this._pointerEvents&&this._pointerEvents.stop()},t.prototype._setCss=function(t,e,n,r){this._appliedStyles=t>0;var i=this._content,o=this._plt.Css;i.setScrollElementStyle(o.transform,t>0?"translateY("+t+"px) translateZ(0px)":"translateZ(0px)"),i.setScrollElementStyle(o.transitionDuration,e),i.setScrollElementStyle(o.transitionDelay,r),i.setScrollElementStyle("overflow",n?"hidden":"")},t.prototype._setListeners=function(t){this._events.unlistenAll(),this._pointerEvents=null,t&&(this._pointerEvents=this._events.pointerEvents({element:this._content.getScrollElement(),pointerDown:this._onStart.bind(this),pointerMove:this._onMove.bind(this),pointerUp:this._onEnd.bind(this),zone:!1}))},t.prototype.ngOnInit=function(){this._setListeners(this._isEnabled)},t.prototype.ngOnDestroy=function(){this._setListeners(!1),this._events.destroy(),this._gesture.destroy()},t}(),Pu="inactive",Nu="pulling",Iu="ready",Au="refreshing",Mu="cancelling",Du="completing",Ru=function(){function t(t,e){this.r=t,this._config=e}return t.prototype.ngOnInit=function(){this.pullingIcon||(this.pullingIcon=this._config.get("ionPullIcon","arrow-down")),this.refreshingSpinner||(this.refreshingSpinner=this._config.get("ionRefreshingSpinner",this._config.get("spinner","ios")))},t}(),ju=function(){function t(){this._scrollX=!1,this._scrollY=!1,this._zoom=!1,this._maxZoom=1,this.maxScale=3,this.zoomDuration=250}return Object.defineProperty(t.prototype,"scrollX",{get:function(){return this._scrollX},set:function(t){this._scrollX=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollY",{get:function(){return this._scrollY},set:function(t){this._scrollY=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(t){this._zoom=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoom",{get:function(){return this._maxZoom},set:function(t){this._maxZoom=t},enumerable:!0,configurable:!0}),t.prototype.addScrollEventListener=function(t){var e=this._scrollContent.nativeElement;return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}},t}(),Lu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zu=function(t){function e(e,n,r,i,o){var a=t.call(this,e,r,i,"searchbar","",null,null,o)||this;return a._plt=n,a._shouldBlur=!0,a._shouldAlignLeft=!0,a._isCancelVisible=!1,a._spellcheck=!1,a._autocomplete="off",a._autocorrect="off",a._isActive=!1,a._showCancelButton=!1,a._animated=!1,a._inputDebouncer=new Xi(0),a.cancelButtonText="Cancel",a.placeholder="Search",a.type="search",a.ionInput=new Sn.EventEmitter,a.ionCancel=new Sn.EventEmitter,a.ionClear=new Sn.EventEmitter,a.debounce=250,a}return Lu(e,t),Object.defineProperty(e.prototype,"showCancelButton",{get:function(){return this._showCancelButton},set:function(t){this._showCancelButton=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debounce",{get:function(){return this._debouncer.wait},set:function(t){this._debouncer.wait=t,this._inputDebouncer.wait=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autocomplete",{set:function(t){this._autocomplete=""===t||"on"===t?"on":this._config.get("autocomplete","off")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autocorrect",{set:function(t){this._autocorrect=""===t||"on"===t?"on":this._config.get("autocorrect","off")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spellcheck",{set:function(t){this._spellcheck=""===t||"true"===t||!0===t||this._config.getBoolean("spellcheck",!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animated",{get:function(){return this._animated},set:function(t){this._animated=g(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this.showCancelButton;"string"==typeof t&&(this.showCancelButton=""===t||"true"===t)},e.prototype._inputUpdated=function(){var t=this._searchbarInput.nativeElement,e=this._value;t.value!==e&&(t.value=e),this.positionElements()},e.prototype.positionElements=function(){var t=this._animated,e=this._shouldAlignLeft,n=!t||this._value&&""!==this._value.toString().trim()||!0===this._isFocus;this._shouldAlignLeft=n,"ios"===this._mode&&(e!==n&&this.positionPlaceholder(),t&&this.positionCancelButton())},e.prototype.positionPlaceholder=function(){var t=this._searchbarInput.nativeElement,e=this._searchbarIcon.nativeElement;if(this._shouldAlignLeft)t.removeAttribute("style"),e.removeAttribute("style");else{var n=this._plt.doc(),r=n.createElement("span");r.innerHTML=this.placeholder,n.body.appendChild(r);var i=r.offsetWidth;n.body.removeChild(r);var o="calc(50% - "+i/2+"px)";this._plt.isRTL?t.style.paddingRight=o:t.style.paddingLeft=o;var a="calc(50% - "+(i/2+30)+"px)";this._plt.isRTL?e.style.marginRight=a:e.style.marginLeft=a}},e.prototype.positionCancelButton=function(){var t=this._isFocus;if(t!==this._isCancelVisible){var e=this._cancelButton.nativeElement,n=e.style;if(this._isCancelVisible=t,t)this._plt.isRTL?n.marginLeft="0":n.marginRight="0";else{var r=e.offsetWidth;r>0&&(this._plt.isRTL?n.marginLeft=-r+"px":n.marginRight=-r+"px")}}},e.prototype.inputChanged=function(t){var e=this;this.value=t.target.value,this._inputDebouncer.debounce(function(){e.ionInput.emit(t)})},e.prototype.inputFocused=function(){this._isActive=!0,this._fireFocus(),this.positionElements()},e.prototype.inputBlurred=function(){if(!1===this._shouldBlur)return this._searchbarInput.nativeElement.focus(),void(this._shouldBlur=!0);this._fireBlur(),this.positionElements()},e.prototype.clearInput=function(t){var e=this;this.ionClear.emit(t),setTimeout(function(){var n=e._value;p(n)&&""!==n&&(e.value="",e.ionInput.emit(t))},64),this._shouldBlur=!1},e.prototype.cancelSearchbar=function(t){this.ionCancel.emit(t),this.clearInput(t),this._shouldBlur=!0,this._isActive=!1},e.prototype.setFocus=function(){this._renderer.invokeElementMethod(this._searchbarInput.nativeElement,"focus")},e}(Ji),Fu=function(){function t(){this.isActive=!1,this._disabled=!1,this.ionSelect=new Sn.EventEmitter}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=g(t)},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){this.ionSelect.emit(this)},t.prototype.ngOnInit=function(){p(this.value)||console.warn('<ion-segment-button> requires a "value" attribute')},t}(),Bu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vu=function(t){function e(e,n,r,i){return t.call(this,e,n,r,"segment",null,null,null,i)||this}return Bu(e,t),e.prototype.ngAfterContentInit=function(){var t=this;this._initialize(),this._buttons.forEach(function(e){e.ionSelect.subscribe(function(e){t.value=e.value,t._fireTouched()})})},e.prototype._inputUpdated=function(){if(this._buttons)for(var t=this._buttons.toArray(),e=this.value,n=0,r=t;n<r.length;n++){var i=r[n];i.isActive=i.value===e}},e}(Ji),Uu=function(){function t(t,e){this.navParams=t,this.viewController=e}return Object.defineProperty(t.prototype,"value",{get:function(){var t=this.options.find(function(t){return t.checked});return t?t.value:void 0},set:function(t){var e=this.options.find(function(e){return e.value===t});e&&e.handler&&e.handler(),this.viewController.dismiss(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.options=this.navParams.data.options},t}(),Wu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qu=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,r,i,o,"select",[],n,a,null)||this;return u._app=e,u.config=r,u.deepLinker=s,u._multi=!1,u._texts=[],u._text="",u._compareWith=v,u.cancelText="Cancel",u.okText="OK",u.selectOptions={},u.interface="",u.selectedText="",u.ionCancel=new Sn.EventEmitter,u}return Wu(e,t),Object.defineProperty(e.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.open(t)},e.prototype._keyup=function(){this.open()},e.prototype.getValues=function(){return Array.isArray(this._value)?this._value:[this._value]},e.prototype.open=function(t){var e=this;if(!this.isFocus()&&!this._disabled){var n=i(this.selectOptions);n.buttons=[{text:this.cancelText,role:"cancel",handler:function(){e.ionCancel.emit(e)}}],!n.title&&this._item&&(n.title=this._item.getLabelText());var r=this._options.toArray();"action-sheet"!==this.interface&&"popover"!==this.interface||!this._multi||(console.warn('Interface cannot be "'+this.interface+'" with a multi-value select. Using the "alert" interface.'),this.interface="alert"),"popover"!==this.interface||t||(console.warn('Interface cannot be "popover" without UIEvent.'),this.interface="alert");var o;if("action-sheet"===this.interface){n.buttons=n.buttons.concat(r.map(function(t){return{role:t.selected?"selected":"",text:t.text,handler:function(){e.value=t.value,t.ionSelect.emit(t.value)}}}));var a="select-action-sheet";n.cssClass=a+=n.cssClass?" "+n.cssClass:"",o=new bi(this._app,n,this.config)}else if("popover"===this.interface){var s=r.map(function(t){return{text:t.text,checked:t.selected,disabled:t.disabled,value:t.value,handler:function(){e.value=t.value,t.ionSelect.emit(t.value)}}}),u="select-popover";o=new bu(this._app,Uu,{options:s},{cssClass:u+=n.cssClass?" "+n.cssClass:""},this.config,this.deepLinker),Object.defineProperty(t,"target",{value:t.currentTarget}),n.ev=t}else{this.interface="alert",n.inputs=this._options.map(function(t){return{type:e._multi?"checkbox":"radio",label:t.text,value:t.value,checked:t.selected,disabled:t.disabled,handler:function(e){e.checked&&t.ionSelect.emit(t.value)}}});var l="select-alert";o=new Ii(this._app,n,this.config),l+=this._multi?" multiple-select-alert":" single-select-alert",o.setCssClass(l+=n.cssClass?" "+n.cssClass:""),o.addButton({text:this.okText,handler:function(t){return e.value=t}})}o.present(n),this._fireFocus(),o.onDidDismiss(function(){e._fireBlur(),e._overlay=void 0}),this._overlay=o}},e.prototype.close=function(){if(this._overlay&&this.isFocus())return this._overlay.dismiss()},Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multi},set:function(t){this._multi=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._multi?this._texts:this._texts.join()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{set:function(t){this._options=t;0===this.getValues().length?this.writeValue(t.filter(function(t){return t.selected}).map(function(t){return t.value})):this._updateText()},enumerable:!0,configurable:!0}),e.prototype._inputShouldChange=function(t){return!function(t,e){return t===e||JSON.stringify(t)===JSON.stringify(e)}(this._value,t)},e.prototype._inputChangeEvent=function(){return this.value},e.prototype._updateText=function(){var t=this;this._texts.length=0,this._options&&this._options.forEach(function(e){e.selected=t.getValues().some(function(n){return t._compareWith(n,e.value)}),e.selected&&t._texts.push(e.text)}),this._text=this._texts.join(", ")},e.prototype._inputUpdated=function(){this._updateText(),t.prototype._inputUpdated.call(this)},e}(Ji),Hu=function(){function t(t,e,n){if(this._plt=e,this.zone=n,this.isMatch=!1,t){this.conditions=t.replace(/\s/g,"").split(",");for(var r=0;r<this.conditions.length;r++)if(this.conditions[r]&&e.is(this.conditions[r]))return void(this.isMatch=!0);this.orientation()&&(this.resizeObs=e.resize.subscribe(this.orientation.bind(this)))}}return t.prototype.orientation=function(){for(var t=0;t<this.conditions.length;t++){if("portrait"===this.conditions[t])return this.isMatch=this._plt.isPortrait(),!0;if("landscape"===this.conditions[t])return this.isMatch=this._plt.isLandscape(),!0}return!1},t.prototype.ngOnDestroy=function(){this.resizeObs&&this.resizeObs.unsubscribe(),this.resizeObs=null},t}(),Gu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$u=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return Gu(e,t),e}(Hu),Yu=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ku=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return Yu(e,t),e}(Hu),Xu=["INPUT","SELECT","TEXTAREA","BUTTON","VIDEO"],Zu={noSwiping:"swiper-no-swiping",containerModifier:"swiper-container-",slide:"swiper-slide",slideActive:"swiper-slide-active",slideDuplicateActive:"swiper-slide-duplicate-active",slideVisible:"swiper-slide-visible",slideDuplicate:"swiper-slide-duplicate",slideNext:"swiper-slide-next",slideDuplicateNext:"swiper-slide-duplicate-next",slidePrev:"swiper-slide-prev",slideDuplicatePrev:"swiper-slide-duplicate-prev",wrapper:"swiper-wrapper",bullet:"swiper-pagination-bullet",bulletActive:"swiper-pagination-bullet-active",buttonDisabled:"swiper-button-disabled",paginationCurrent:"swiper-pagination-current",paginationTotal:"swiper-pagination-total",paginationHidden:"swiper-pagination-hidden",paginationProgressbar:"swiper-pagination-progressbar",paginationClickable:"swiper-pagination-clickable",paginationModifier:"swiper-pagination-",lazyLoading:"swiper-lazy",lazyStatusLoading:"swiper-lazy-loading",lazyStatusLoaded:"swiper-lazy-loaded",lazyPreloader:"swiper-lazy-preloader",notification:"swiper-notification",preloader:"preloader",zoomContainer:"swiper-zoom-container"},Ju={LinearSpline:function(t,e,n,r){this.x=n,this.y=r,this.lastIndex=n.length-1;var i,o;this.interpolate=function(t){return t?(o=a(this.x,t),i=o-1,(t-this.x[i])*(this.y[o]-this.y[i])/(this.x[o]-this.x[i])+this.y[i]):0};var a=function(){var t,e,n;return function(r,i){for(e=-1,t=r.length;t-e>1;)r[n=t+e>>1]<=i?e=n:t=n;return t}}()},getInterpolateFunction:function(t,e,n){t._spline||(t._spline=t.loop?new Ju.LinearSpline(t,e,t._slidesGrid,n._slidesGrid):new Ju.LinearSpline(t,e,t._snapGrid,n._snapGrid))},setTranslate:function(t,e,n,r,i){function o(r){n=r._rtl&&bt(r)?-t._translate:t._translate,"slide"===t.controlBy&&(Ju.getInterpolateFunction(t,e,r),s=-t._spline.interpolate(-n)),s&&"container"!==t.controlBy||(a=(xt(r)-wt(r))/(xt(t)-wt(t)),s=(n-wt(t))*a+wt(r)),t.controlInverse&&(s=xt(r)-s),St(r,s),i(r,e,s,!1,t),Nt(r)}var a,s,u=t.control;if(Array.isArray(u))for(var l=0;l<u.length;l++)u[l]!==r&&o(u[l]);else r!==u&&o(u)},setTransition:function(t,e,n,r,i){function o(r){i(r,e,n,t),0!==n&&(ne(r),e.transitionEnd(r._wrapper,function(){s&&(r.loop&&"slide"===t.controlBy&&te(r,e),re(r,e))}))}var a,s=t.control;if(Array.isArray(s))for(a=0;a<s.length;a++)s[a]!==r&&o(s[a]);else r!==s&&o(s)}},Qu={fade:{setTranslate:function(t){for(var e=0;e<t._slides.length;e++){var n=t._slides[e],r=-n.swiperSlideOffset;t.virtualTranslate||(r-=t._translate);var i=0;bt(t)||(i=r,r=0);var o=t.fade.crossFade?Math.max(1-Math.abs(n.progress),0):1+Math.min(Math.max(n.progress,-1),0);n.style.opacity=o,ht(n,"translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(t,e,n){for(var r=t._slides,i=0;i<r.length;i++)mt(r[i],n);if(t.virtualTranslate&&0!==n)for(var o=!1,a=0;a<r.length;a++)e.transitionEnd(r[a],function(){!o&&t&&(o=!0,t._animating=!1,gt(e,t._wrapper))})}},flip:{setTranslate:function(t,e){for(var n=0;n<t._slides.length;n++){var r=t._slides[n],i=r.progress;t.flip.limitRotation&&(i=Math.max(Math.min(r.progress,1),-1));var o=-180*i,a=0,s=-r.swiperSlideOffset,u=0;if(bt(t)?t._rtl&&(o=-o):(u=s,s=0,a=-o,o=0),r.style.zIndex=-Math.abs(Math.round(i))+t._slides.length,t.flip.slideShadows){var l=bt(t)?r.querySelector(".swiper-slide-shadow-left"):r.querySelector(".swiper-slide-shadow-top"),c=bt(t)?r.querySelector(".swiper-slide-shadow-right"):r.querySelector(".swiper-slide-shadow-bottom");l||((l=e.doc().createElement("div")).className="swiper-slide-shadow-"+(bt(t)?"left":"top"),r.appendChild(l)),c||((c=e.doc().createElement("div")).className="swiper-slide-shadow-"+(bt(t)?"right":"bottom"),r.appendChild(c)),l&&(l.style.opacity=Math.max(-i,0)),c&&(c.style.opacity=Math.max(i,0))}ht(r,"translate3d("+s+"px, "+u+"px, 0px) rotateX("+a+"deg) rotateY("+o+"deg)")}},setTransition:function(t,e,n){for(var r=0;r<t._slides.length;r++){var i=t._slides[r];mt(i,n),dt(i,".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left",function(t){mt(t,n)})}if(t.virtualTranslate&&0!==n){var o=!1;e.transitionEnd(t._slides[t._activeIndex],function(n){!o&&t&&n.target.classList.contains(Zu.slideActive)&&(o=!0,t._animating=!1,gt(e,t._wrapper))})}}},cube:{setTranslate:function(t,e){var n,r=0;t.cube.shadow&&(bt(t)?((n=t._wrapper.querySelector(".swiper-cube-shadow"))||((n=e.doc().createElement("div")).className="swiper-cube-shadow",t._wrapper.appendChild(n)),n.style.height=t.renderedWidth+"px"):(n=t.container.querySelector(".swiper-cube-shadow"))||((n=e.doc().createElement("div")).className="swiper-cube-shadow",t._wrapper.appendChild(n)));for(var i=0;i<t._slides.length;i++){var o=t._slides[i],a=90*i,s=Math.floor(a/360);t._rtl&&(a=-a,s=Math.floor(-a/360));var u=Math.max(Math.min(o.progress,1),-1),l=0,c=0,f=0;i%4==0?(l=4*-s*t._renderedSize,f=0):(i-1)%4==0?(l=0,f=4*-s*t._renderedSize):(i-2)%4==0?(l=t._renderedSize+4*s*t._renderedSize,f=t._renderedSize):(i-3)%4==0&&(l=-t._renderedSize,f=3*t._renderedSize+4*t._renderedSize*s),t._rtl&&(l=-l),bt(t)||(c=l,l=0);var p="rotateX("+(bt(t)?0:-a)+"deg) rotateY("+(bt(t)?a:0)+"deg) translate3d("+l+"px, "+c+"px, "+f+"px)";if(u<=1&&u>-1&&(r=90*i+90*u,t._rtl&&(r=90*-i-90*u)),ht(o,p),t.cube.slideShadows){var d=bt(t)?o.querySelector(".swiper-slide-shadow-left"):o.querySelector(".swiper-slide-shadow-top"),h=bt(t)?o.querySelector(".swiper-slide-shadow-right"):o.querySelector(".swiper-slide-shadow-bottom");d||((d=e.doc().createElement("div")).className="swiper-slide-shadow-"+(bt(t)?"left":"top"),o.appendChild(d)),h||((h=e.doc().createElement("div")).className="swiper-slide-shadow-"+(bt(t)?"right":"bottom"),o.appendChild(h)),d&&(d.style.opacity=Math.max(-u,0)),h&&(h.style.opacity=Math.max(u,0))}}if(t._wrapper.style.transformOrigin=t._wrapper.style.webkitTransformOrigin="50% 50% -"+t._renderedSize/2+"px",t.cube.shadow)if(bt(t))ht(n,"translate3d(0px, "+(t.renderedWidth/2+t.cube.shadowOffset)+"px, "+-t.renderedWidth/2+"px) rotateX(90deg) rotateZ(0deg) scale("+t.cube.shadowScale+")");else{var m=Math.abs(r)-90*Math.floor(Math.abs(r)/90),g=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),v=t.cube.shadowScale/g;ht(n,"scale3d("+t.cube.shadowScale+", 1, "+v+") translate3d(0px, "+(t.renderedHeight/2+t.cube.shadowOffset)+"px, "+-t.renderedHeight/2/v+"px) rotateX(-90deg)")}var y=Dt(e)||Rt(e)?-t._renderedSize/2:0;ht(t._wrapper,"translate3d(0px,0,"+y+"px) rotateX("+(bt(t)?0:r)+"deg) rotateY("+(bt(t)?-r:0)+"deg)")},setTransition:function(t,e,n){for(var r=0;r<t._slides.length;r++){var i=t._slides[r];mt(i,n),dt(i,".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left",function(t){mt(t,n)})}t.cube.shadow&&!bt(t)&&dt(t.container,".swiper-cube-shadow",function(t){mt(t,n)})}},coverflow:{setTranslate:function(t,e){for(var n=t._translate,r=bt(t)?t.renderedWidth/2-n:t.renderedHeight/2-n,i=bt(t)?t.coverflow.rotate:-t.coverflow.rotate,o=t.coverflow.depth,a=0,s=t._slides.length;a<s;a++){var u=t._slides[a],l=t._slidesSizesGrid[a],c=(r-u.swiperSlideOffset-l/2)/l*t.coverflow.modifier,f=bt(t)?i*c:0,p=bt(t)?0:i*c,d=-o*Math.abs(c),h=bt(t)?0:t.coverflow.stretch*c,m=bt(t)?t.coverflow.stretch*c:0;Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(d)<.001&&(d=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0);if(ht(u,"translate3d("+m+"px,"+h+"px,"+d+"px)  rotateX("+p+"deg) rotateY("+f+"deg)"),u.style.zIndex=1-Math.abs(Math.round(c)),t.coverflow.slideShadows){var g=bt(t)?u.querySelector(".swiper-slide-shadow-left"):u.querySelector(".swiper-slide-shadow-top"),v=bt(t)?u.querySelector(".swiper-slide-shadow-right"):u.querySelector(".swiper-slide-shadow-bottom");g||((g=e.doc().createElement("div")).className="swiper-slide-shadow-"+(bt(t)?"left":"top"),u.appendChild(g)),v||((v=e.doc().createElement("div")).className="swiper-slide-shadow-"+(bt(t)?"right":"bottom"),u.appendChild(v)),g&&(g.style.opacity=c>0?c:0),v&&(v.style.opacity=-c>0?-c:0)}}},setTransition:function(t,e,n){for(var r=0;r<t._slides.length;r++){var i=t._slides[r];mt(i,n),dt(i,".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left",function(t){mt(t,n)})}}}},tl=Date.now(),el=[],nl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rl=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,o,a,"slides")||this;if(s._plt=n,s._control=null,s._effectName="slide",s._direction="horizontal",s._initialSlide=0,s._isLoop=!1,s._pager=!1,s._paginationType="bullets",s.paginationBulletRender=null,s._isParallax=!1,s._speedMs=300,s._isZoom=!1,s.virtualTranslate=!1,s.roundLengths=!1,s._spaceBetween=0,s._slidesPerView=1,s._centeredSlides=!1,s.slidesPerColumn=1,s.slidesPerColumnFill="column",s.slidesPerGroup=1,s.slidesOffsetBefore=0,s.slidesOffsetAfter=0,s.autoplayDisableOnInteraction=!0,s.autoplayStopOnLast=!1,s.freeMode=!1,s.freeModeMomentum=!0,s.freeModeMomentumRatio=1,s.freeModeMomentumBounce=!0,s.freeModeMomentumBounceRatio=1,s.freeModeMomentumVelocityRatio=1,s.freeModeSticky=!1,s.freeModeMinimumVelocity=.02,s.autoHeight=!1,s.setWrapperSize=!1,s.zoomMax=3,s.zoomMin=1,s.zoomToggle=!0,s.touchRatio=1,s.touchAngle=45,s.simulateTouch=!0,s.shortSwipes=!0,s.longSwipes=!0,s.longSwipesRatio=.5,s.longSwipesMs=300,s.followFinger=!0,s.onlyExternal=!1,s.threshold=0,s.touchMoveStopPropagation=!0,s.touchReleaseOnEdges=!1,s.iOSEdgeSwipeDetection=!1,s.iOSEdgeSwipeThreshold=20,s.paginationClickable=!1,s.paginationHide=!1,s.resistance=!0,s.resistanceRatio=.85,s.watchSlidesProgress=!1,s.watchSlidesVisibility=!1,s.preventClicks=!0,s.preventClicksPropagation=!0,s.slideToClickedSlide=!1,s.loopAdditionalSlides=0,s.loopedSlides=null,s.swipeHandler=null,s.noSwiping=!0,s.runCallbacksOnInit=!0,s.controlBy="slide",s.controlInverse=!1,s.keyboardControl=!0,s.coverflow={rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},s.flip={slideShadows:!0,limitRotation:!0},s.cube={slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},s.fade={crossFade:!1},s.prevSlideMessage="Previous slide",s.nextSlideMessage="Next slide",s.firstSlideMessage="This is the first slide",s.lastSlideMessage="This is the last slide",s.ionSlideWillChange=new Sn.EventEmitter,s.ionSlideDidChange=new Sn.EventEmitter,s.ionSlideDrag=new Sn.EventEmitter,s.ionSlideReachStart=new Sn.EventEmitter,s.ionSlideReachEnd=new Sn.EventEmitter,s.ionSlideAutoplay=new Sn.EventEmitter,s.ionSlideAutoplayStart=new Sn.EventEmitter,s.ionSlideAutoplayStop=new Sn.EventEmitter,s.ionSlideNextStart=new Sn.EventEmitter,s.ionSlidePrevStart=new Sn.EventEmitter,s.ionSlideNextEnd=new Sn.EventEmitter,s.ionSlidePrevEnd=new Sn.EventEmitter,s.ionSlideTap=new Sn.EventEmitter,s.ionSlideDoubleTap=new Sn.EventEmitter,s.ionSlideProgress=new Sn.EventEmitter,s.ionSlideTransitionStart=new Sn.EventEmitter,s.ionSlideTransitionEnd=new Sn.EventEmitter,s.ionSlideTouchStart=new Sn.EventEmitter,s.ionSlideTouchEnd=new Sn.EventEmitter,s._unregs=[],s._allowSwipeToNext=!0,s._allowSwipeToPrev=!0,s._zone=r,s.id=++il,s.slideId="slides-"+s.id,s.setElementClass(s.slideId,!0),i)var u=i.readReady.subscribe(function(){u.unsubscribe(),s._initSlides()});return s}return nl(e,t),Object.defineProperty(e.prototype,"autoplay",{get:function(){return this._autoplayMs},set:function(t){this._autoplayMs=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},set:function(t){(t instanceof e||Array.isArray(t))&&(this._control=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effectName},set:function(t){Qu[t]&&(this._effectName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){"horizontal"!==t&&"vertical"!==t||(this._direction=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialSlide",{get:function(){return this._initialSlide},set:function(t){this._initialSlide=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._isLoop},set:function(t){this._isLoop=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pager",{get:function(){return this._pager},set:function(t){this._pager=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{set:function(t){this._rtl="rtl"===t.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginationType",{get:function(){return this._paginationType},set:function(t){"bullets"!==t&&"fraction"!==t&&"progress"!==t||(this._paginationType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parallax",{get:function(){return this._isParallax},set:function(t){this._isParallax=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speedMs},set:function(t){this._speedMs=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoom",{get:function(){return this._isZoom},set:function(t){this._isZoom=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spaceBetween",{get:function(){return this._spaceBetween},set:function(t){this._spaceBetween=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slidesPerView",{get:function(){return this._slidesPerView},set:function(t){this._slidesPerView="auto"===t?"auto":parseFloat(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centeredSlides",{get:function(){return this._centeredSlides},set:function(t){this._centeredSlides=g(t)},enumerable:!0,configurable:!0}),e.prototype._initSlides=function(){if(!this._init){var t=this._plt;this.container=this.getNativeElement().children[0],Gt(this,t),this._unregs.push(ue(this,t)),this.zoom&&this._unregs.push(function(t,e){return t._supportGestures="ongesturestart"in e.win(),t._zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:t.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},unRegs:[]},qt(t,e),function(){Ht(t)}}(this,t)),this.keyboardControl&&this.enableKeyboardControl(!0),this._init=!0}},e.prototype.ngAfterContentInit=function(){var t=this;this._plt.timeout(function(){t._initSlides()},300)},e.prototype.update=function(t){var e=this;void 0===t&&(t=300),this._init&&(this._plt.cancelTimeout(this._tmr),this._tmr=this._plt.timeout(function(){!function(t,e,n){function r(){i=Math.min(Math.max(t._translate,xt(t)),wt(t)),jt(t,e,i),Nt(t),Pt(t)}if(t){Jt(t,e),Qt(t,e),St(t),Tt(t),Pt(t),t.zoom&&qt(t,e);var i;n?(t._spline&&(t._spline=void 0),t.freeMode?(r(),t.autoHeight&&Zt(t)):ee(t,e,("auto"===t.slidesPerView||t.slidesPerView>1)&&t._isEnd&&!t.centeredSlides?t._slides.length-1:t._activeIndex,0,!1,!0)||r()):t.autoHeight&&Zt(t)}}(e,e._plt),e.length()>10&&(e.paginationType=void 0)},t))},e.prototype.resize=function(){},e.prototype.slideTo=function(t,e,n){ee(this,this._plt,t,e,n)},e.prototype.slideNext=function(t,e){ie(this,this._plt,e,t,!0)},e.prototype.slidePrev=function(t,e){oe(this,this._plt,e,t,!0)},e.prototype.getActiveIndex=function(){return this._activeIndex},e.prototype.getPreviousIndex=function(){return this._previousIndex},e.prototype.length=function(){return this._slides.length},e.prototype.isEnd=function(){return this._isEnd},e.prototype.isBeginning=function(){return this._isBeginning},e.prototype.startAutoplay=function(){Yt(this,this._plt)},e.prototype.stopAutoplay=function(){Kt(this)},e.prototype.lockSwipeToNext=function(t){this._allowSwipeToNext=!t},e.prototype.lockSwipeToPrev=function(t){this._allowSwipeToPrev=!t},e.prototype.lockSwipes=function(t){this._allowSwipeToNext=this._allowSwipeToPrev=!t},e.prototype.enableKeyboardControl=function(t){se(this,this._plt,t)},e.prototype.ngOnDestroy=function(){this._init=!1,this._unregs.forEach(function(t){t()}),this._unregs.length=0,ae(this),this.enableKeyboardControl(!1)},e}(hr),il=-1,ol=function(){function t(t,e,n){this._slides=n,e.setElementClass(t.nativeElement,"swiper-slide",!0),n.update(10)}return t.prototype.ngOnDestroy=function(){this._slides.update(10)},t}(),al=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sl=function(t){function e(e,n,r){var i=t.call(this,e,n,r,"spinner")||this;return i._dur=null,i._paused=!1,i}return al(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,this.load()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._dur},set:function(t){this._dur=t,this.load()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=g(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._init=!0,this.load()},e.prototype.load=function(){if(this._init){this._l=[],this._c=[];var t=this._name||this._config.get("spinner","ios"),e=ul[t];if(e){if(e.lines)for(var n=0,r=e.lines;n<r;n++)this._l.push(this._loadEle(e,n,r));else if(e.circles)for(n=0,r=e.circles;n<r;n++)this._c.push(this._loadEle(e,n,r));this.setElementClass("spinner-"+t,!0),this.setElementClass("spinner-"+this._mode+"-"+t,!0)}}},e.prototype._loadEle=function(t,e,n){var r=this._dur||t.dur,i=t.fn(r,e,n);return i.style.animationDuration=r+"ms",i},e}(hr),ul={ios:{dur:1e3,lines:12,fn:function(t,e,n){var r="rotate("+(30*e+(e<6?180:-180))+"deg)",i=-(t-t/n*e)+"ms";return{y1:17,y2:29,style:{transform:r,webkitTransform:r,animationDelay:i,webkitAnimationDelay:i}}}},"ios-small":{dur:1e3,lines:12,fn:function(t,e,n){var r="rotate("+(30*e+(e<6?180:-180))+"deg)",i=-(t-t/n*e)+"ms";return{y1:12,y2:20,style:{transform:r,webkitTransform:r,animationDelay:i,webkitAnimationDelay:i}}}},bubbles:{dur:1e3,circles:9,fn:function(t,e,n){var r=-(t-t/n*e)+"ms";return{r:5,style:{top:9*Math.sin(2*Math.PI*e/n)+"px",left:9*Math.cos(2*Math.PI*e/n)+"px",animationDelay:r,webkitAnimationDelay:r}}}},circles:{dur:1e3,circles:8,fn:function(t,e,n){var r=-(t-t/n*e)+"ms";return{r:5,style:{top:9*Math.sin(2*Math.PI*e/n)+"px",left:9*Math.cos(2*Math.PI*e/n)+"px",animationDelay:r,webkitAnimationDelay:r}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,e){var n=-110*e+"ms";return{r:6,style:{left:9-9*e+"px",animationDelay:n,webkitAnimationDelay:n}}}}},ll=function(){function t(t,e){this._elementRef=t,this._dom=e}return t.prototype.select=function(t){var e=this;if(t){var n=this._dom;n.read(function(){var r=t.btn.getNativeElement(),i="translate3d("+r.offsetLeft+"px,0,0) scaleX("+r.offsetWidth+")";n.write(function(){var t=e._elementRef.nativeElement;t.style[n.plt.Css.transform]=i,e._init||(e._init=!0,n.write(function(){t.classList.add("animate")},80))})},32)}},t}(),cl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fl=function(t){function e(e,n,r,i,o,a,s,u,l){var c=t.call(this,i,o,s,"tabs")||this;c.viewCtrl=n,c._app=r,c._plt=a,c._linker=u,c._ids=-1,c._tabs=[],c._selectHistory=[],c._onDestroy=new Ma.Subject,c.ionChange=new Sn.EventEmitter,c.parent=e,c.id="t"+ ++pl,c._sbPadding=i.getBoolean("statusbarPadding"),c.tabsHighlight=i.getBoolean("tabsHighlight"),c.parent?c.parent.registerChildNav(c):n&&n.getNav()?(c.parent=n.getNav(),c.parent.registerChildNav(c)):c._app&&c._app.registerRootNav(c),n&&(n._setContent(c),n._setContentRef(o));var f=i.getBoolean("keyboardResizes",!1);return l&&f&&(l.willHide.takeUntil(c._onDestroy).subscribe(function(){c._plt.timeout(function(){return c.setTabbarHidden(!1)},50)}),l.willShow.takeUntil(c._onDestroy).subscribe(function(){return c.setTabbarHidden(!0)})),c}return cl(e,t),e.prototype.setTabbarHidden=function(t){this.setElementClass("tabbar-hidden",t),this.resize()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this.parent?this.parent.unregisterChildNav(this):this._app.unregisterRootNav(this)},e.prototype.ngAfterViewInit=function(){var t=this;this._setConfig("tabsPlacement","bottom"),this._setConfig("tabsLayout","icon-top"),this._setConfig("tabsHighlight",this.tabsHighlight),this.tabsHighlight&&this._plt.resize.takeUntil(this._onDestroy).subscribe(function(){return t._highlight.select(t.getSelected())}),this.initTabs()},e.prototype.initTabs=function(){var t=this,e=d(this.selectedIndex)?0:parseInt(this.selectedIndex,10),n=this._linker.getSegmentByNavIdOrName(this.id,this.name);n&&(e=this._getSelectedTabIndex(n.secondaryId,e));var r=this._tabs.find(function(t,n){return n===e&&t.enabled&&t.show});r||(r=this._tabs.find(function(t){return t.enabled&&t.show}));var i=Promise.resolve();return r&&(r._segment=n,i=this.select(r)),i.then(function(){t._tabs.forEach(function(t){t.updateHref(t.root,t.rootParams)})})},e.prototype._setConfig=function(t,e){var n=this[t];d(n)&&(n=this._config.get(t,e)),this.setElementAttribute(t,n)},e.prototype.add=function(t){return this._tabs.push(t),this.id+"-"+ ++this._ids},e.prototype.select=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=!1);var i="number"==typeof t?this.getByIndex(t):t;if(d(i))return Promise.resolve();var o=this.getSelected();if(i===o&&o.getActive())return this._updateCurrentTab(i,n);if(i.root){var a;o&&(a=o.getActive())&&a._willLeave(!1);var s=i.getActive();return s&&s._willEnter(),e.animate=!1,i.load(e).then(function(){r._tabSwitchEnd(i,s,a),!1!==e.updateUrl&&r._linker.navChange("switch"),r._fireChangeEvent(i)})}return this._fireChangeEvent(i),Promise.resolve()},e.prototype._fireChangeEvent=function(t){t.ionSelect.emit(t),this.ionChange.emit(t)},e.prototype._tabSwitchEnd=function(t,e,n){for(var r,i=this._tabs,o=0;o<i.length;o++)(r=i[o]).setSelected(r===t);this.tabsHighlight&&this._highlight.select(t),e&&(e._didEnter(),this._app.viewDidEnter.emit(e)),n&&(n&&n._didLeave(),this._app.viewDidLeave.emit(n)),this._selectHistory[this._selectHistory.length-1]!==t.id&&this._selectHistory.push(t.id)},e.prototype.previousTab=function(t){var e=this;void 0===t&&(t=!0);for(var n=this._selectHistory.length-2;n>=0;n--){var r=this._tabs.find(function(t){return t.id===e._selectHistory[n]});if(r&&r.enabled&&r.show)return t&&this._selectHistory.splice(n+1),r}return null},e.prototype.getByIndex=function(t){return this._tabs[t]},e.prototype.getSelected=function(){for(var t=this._tabs,e=0;e<t.length;e++)if(t[e].isSelected)return t[e];return null},e.prototype.getActiveChildNavs=function(){var t=this.getSelected();return t?[t]:[]},e.prototype.getAllChildNavs=function(){return this._tabs},e.prototype.getIndex=function(t){return this._tabs.indexOf(t)},e.prototype.length=function(){return this._tabs.length},e.prototype._updateCurrentTab=function(t,e){var n=t.getActive();if(n){if(e&&t._segment){var r=t.getViewById(t._segment.name);return r?t.popTo(r,{animate:!1,updateUrl:!1}):0===t._views.length&&t._segment.defaultHistory&&t._segment.defaultHistory.length?this._linker.initViews(t._segment).then(function(e){return t.setPages(e,{animate:!1,updateUrl:!1})}).then(function(){t._segment=null}):t.setRoot(t._segment.name,t._segment.data,{animate:!1,updateUrl:!1}).then(function(){t._segment=null})}return n._cmp&&n._cmp.instance.ionSelected?(n._cmp.instance.ionSelected(),Promise.resolve()):t.length()>1?t.popToRoot():C(this._linker,t.root).then(function(e){if(e.component!==n.component)return t.setRoot(t.root)}).catch(function(){})}},e.prototype.setTabbarPosition=function(t,e){if(this._top!==t||this._bottom!==e){var n=this._tabbar.nativeElement;n.style.top=t>-1?t+"px":"",n.style.bottom=e>-1?e+"px":"",n.classList.add("show-tabbar"),this._top=t,this._bottom=e}},e.prototype.resize=function(){var t=this.getSelected();t&&t.resize()},e.prototype.initPane=function(){return this._elementRef.nativeElement.hasAttribute("main")},e.prototype.paneChanged=function(t){t&&this.resize()},e.prototype.goToRoot=function(t){if(this._tabs.length)return this.select(this._tabs[0],t)},e.prototype.getType=function(){return"tabs"},e.prototype.getSecondaryIdentifier=function(){var t=this.getActiveChildNavs();return t&&t.length?this._linker._getTabSelector(t[0]):""},e.prototype._getSelectedTabIndex=function(t,e){void 0===t&&(t=""),void 0===e&&(e=0);var n=t.match(/tab-(\d+)/);if(n)return parseInt(n[1],10);var r=this._tabs.find(function(e){return p(e.tabUrlPath)&&e.tabUrlPath===t||p(e.tabTitle)&&j(e.tabTitle)===t});return p(r)?r.index:e},e}(hr),pl=-1,dl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hl=function(t){function e(e,n,r,i,o,a,s,u,l,c,f,p,d,h){var m=t.call(this,e,n,r,i,o,a,s,u,c,f,p,d,h)||this;return m._cd=l,m.linker=p,m._dom=d,m._isEnabled=!0,m._isShown=!0,m.ionSelect=new Sn.EventEmitter,m.id=e.add(m),m._tabsHideOnSubPages=r.getBoolean("tabsHideOnSubPages"),m._tabId="tabpanel-"+m.id,m._btnId="tab-"+m.id,m}return dl(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return this._isShown},set:function(t){this._isShown=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsHideOnSubPages",{get:function(){return this._tabsHideOnSubPages},set:function(t){this._tabsHideOnSubPages=g(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_vp",{set:function(t){this.setViewport(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.tabBadgeStyle=this.tabBadgeStyle?this.tabBadgeStyle:"default"},e.prototype.load=function(t){var e=this,n=this._segment;if(n||!this._loaded&&this.root){this.setElementClass("show-tab",!0);for(var r=n&&n.name?n.name:this.root,i=n?n.data:this.rootParams,o=this.length()-1,a=o;a>=0;a--){var s=this.getByIndex(a);if(s&&(s.id===r||s.component===r))return a===o?Promise.resolve():this.popTo(s,{animate:!1,updateUrl:!1})}return(n&&n.defaultHistory&&n.defaultHistory.length&&0===this._views.length?this.linker.initViews(n).then(function(n){return e.setPages(n,t)}):this.push(r,i,t)).then(function(){e._segment=null,e._loaded=!0})}return this._dom.read(function(){e.resize()}),Promise.resolve()},e.prototype.resize=function(){var t=this.getActive();if(t){var e=t.getIONContent();e&&e.resize()}},e.prototype._viewAttachToDOM=function(e,n,r){var i=this._tabsHideOnSubPages&&e.index>0;if(i&&(r=this.parent.portal),t.prototype._viewAttachToDOM.call(this,e,n,r),i){var o=e.pageRef();o&&this._renderer.setElementClass(o.nativeElement,"tab-subpage",!0)}},e.prototype.setSelected=function(t){this.isSelected=t,this.setElementClass("show-tab",t),this.setElementAttribute("aria-hidden",(!t).toString()),t?this._cd.reattach():this._cd.detach()},Object.defineProperty(e.prototype,"index",{get:function(){return this.parent.getIndex(this)},enumerable:!0,configurable:!0}),e.prototype.updateHref=function(t,e){if(this.btn&&this.linker){var n=this.linker.createUrl(this.parent,t,e)||"#";this.btn.updateHref(n)}},e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.getType=function(){return"tab"},e.prototype.goToRoot=function(t){return this.setRoot(this.root,this.rootParams,t,null)},e}(Qr),ml=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gl=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.ionSelect=new Sn.EventEmitter,i.disHover=!1===e.get("hoverCSS"),i.layout=e.get("tabsLayout"),i}return ml(e,t),e.prototype.ngOnInit=function(){this.tab.btn=this,this.layout=this.tab.parent.tabsLayout||this.layout,this.hasTitle=!!this.tab.tabTitle,this.hasIcon=!!this.tab.tabIcon&&"icon-hide"!==this.layout,this.hasTitleOnly=this.hasTitle&&!this.hasIcon,this.hasIconOnly=this.hasIcon&&!this.hasTitle,this.hasBadge=!!this.tab.tabBadge},e.prototype.onClick=function(){return this.ionSelect.emit(this.tab),!1},e.prototype.updateHref=function(t){this.setElementAttribute("href",t)},e}(hr),vl=function(){function t(t,e,n,r,i){this._viewCtrl=t,this._config=e,this._elementRef=n,this.dismissTimeout=void 0,i.setElementClass(n.nativeElement,"toast-"+e.get("mode"),!0),this.d=r.data,this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&i.setElementClass(n.nativeElement,t,!0)}),this.id=++yl,this.d.message&&(this.hdrId="toast-hdr-"+this.id)}return t.prototype.ngAfterViewInit=function(){var t=this;this.d.duration&&(this.dismissTimeout=setTimeout(function(){t.dismiss("backdrop")},this.d.duration)),this.enabled=!0},t.prototype.ionViewDidEnter=function(){var t=document.activeElement;t&&t.blur();var e=this._elementRef.nativeElement.querySelector("button");e&&e.focus()},t.prototype.cbClick=function(){this.enabled&&this.dismiss("close")},t.prototype.dismiss=function(t){return clearTimeout(this.dismissTimeout),this.dismissTimeout=void 0,this._viewCtrl.dismiss(null,t,{disableApp:!1})},t}(),yl=-1,bl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bl(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=t.querySelector(".toast-wrapper"),n=new Gn(this.plt,e);if(this.enteringView.data&&this.enteringView.data.position===Ol)n.fromTo("translateY","-100%","10px");else if(this.enteringView.data&&this.enteringView.data.position===kl){var r=Math.floor(t.clientHeight/2-e.clientHeight/2);e.style.top=r+"px",n.fromTo("opacity",.01,1)}else n.fromTo("translateY","100%","-10px");this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(n)},e}(Jn),wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bl(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement.querySelector(".toast-wrapper"),e=new Gn(this.plt,t);this.leavingView.data&&this.leavingView.data.position===Ol?e.fromTo("translateY","10px","-100%"):this.leavingView.data&&this.leavingView.data.position===kl?e.fromTo("opacity",.99,0):e.fromTo("translateY","-10px","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(e)},e}(Jn),xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bl(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=t.querySelector(".toast-wrapper"),n=new Gn(this.plt,e);if(this.enteringView.data&&this.enteringView.data.position===Ol)n.fromTo("translateY","-100%","0%");else if(this.enteringView.data&&this.enteringView.data.position===kl){var r=Math.floor(t.clientHeight/2-e.clientHeight/2);e.style.top=r+"px",n.fromTo("opacity",.01,1)}else n.fromTo("translateY","100%","0%");this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(n)},e}(Jn),El=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bl(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement.querySelector(".toast-wrapper"),e=new Gn(this.plt,t);this.leavingView.data&&this.leavingView.data.position===Ol?e.fromTo("translateY","0%","-100%"):this.leavingView.data&&this.leavingView.data.position===kl?e.fromTo("opacity",.99,0):e.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e)},e}(Jn),Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bl(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=t.querySelector(".toast-wrapper"),n=new Gn(this.plt,e);if(this.enteringView.data&&this.enteringView.data.position===Ol)n.fromTo("opacity",.01,1),n.fromTo("scale",1.3,1);else if(this.enteringView.data&&this.enteringView.data.position===kl){var r=Math.floor(t.clientHeight/2-e.clientHeight/2);e.style.top=r+"px",n.fromTo("opacity",.01,1),n.fromTo("scale",1.3,1)}else n.fromTo("opacity",.01,1),n.fromTo("scale",1.3,1);this.easing("cubic-bezier(0,0,0.05,1)").duration(200).add(n)},e}(Jn),Sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bl(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement.querySelector(".toast-wrapper"),e=new Gn(this.plt,t);e.fromTo("opacity",.99,0),e.fromTo("scale",1,1.3);this.easing("ease-out").duration(150).add(e)},e}(Jn),Ol="top",kl="middle",Tl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pl=function(t){function e(e,n,r){void 0===n&&(n={});var i=this;return n.dismissOnPageChange=!!p(n.dismissOnPageChange)&&!!n.dismissOnPageChange,i=t.call(this,vl,n,null)||this,i._app=e,n.position&&i.isValidPosition(n.position)||(n.position=Al),i.isOverlay=!0,r.setTransition("toast-slide-in",_l),r.setTransition("toast-slide-out",wl),r.setTransition("toast-md-slide-in",xl),r.setTransition("toast-md-slide-out",El),r.setTransition("toast-wp-slide-out",Sl),r.setTransition("toast-wp-slide-in",Cl),i}return Tl(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("toast"+("back"===t?"Leave":"Enter"))},e.prototype.isValidPosition=function(t){return t===Nl||t===Il||t===Al},e.prototype.setMessage=function(t){return this.data.message=t,this},e.prototype.setDuration=function(t){return this.data.duration=t,this},e.prototype.setPosition=function(t){return this.data.position=t,this},e.prototype.setCssClass=function(t){return this.data.cssClass=t,this},e.prototype.setShowCloseButton=function(t){return this.data.showCloseButton=t,this},e.prototype.present=function(t){return void 0===t&&(t={}),t.disableApp=!1,t.keyboardClose=!1,this._app.present(this,t,4)},e.prototype.dismissAll=function(){this._nav&&this._nav.popAll()},e}(Nn),Nl="top",Il="middle",Al="bottom",Ml=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new Pl(this._app,t,this.config)},t}(),Dl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rl=function(t){function e(e,n,r,i){var o=t.call(this,e,n.getNativeElement(),{threshold:0,zone:!1,domController:i,gesture:r.createGesture({name:Pr,priority:Dr})})||this;return o.toggle=n,o}return Dl(e,t),e.prototype.canStart=function(){return!0},e.prototype.onDragStart=function(t){t.preventDefault(),this.toggle._onDragStart(P(t).x)},e.prototype.onDragMove=function(t){t.preventDefault(),this.toggle._onDragMove(P(t).x)},e.prototype.onDragEnd=function(t){t.preventDefault(),this.toggle._onDragEnd(P(t).x)},e}(Hr),jl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ll=function(t){function e(e,n,r,i,o,a,s,u,l,c){var f=t.call(this,n,i,o,"toggle",!1,e,s,null)||this;return f._plt=r,f._haptic=a,f._gestureCtrl=u,f._domCtrl=l,f._zone=c,f._activated=!1,f}return jl(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._initialize(),this._gesture=new Rl(this._plt,this,this._gestureCtrl,this._domCtrl),this._gesture.listen()},e.prototype._inputUpdated=function(){},e.prototype._inputNormalize=function(t){return g(t)},e.prototype._onDragStart=function(t){var e=this;this._zone.run(function(){e._startX=t,e._fireFocus(),e._activated=!0})},e.prototype._onDragMove=function(t){var e=this;this._startX&&this._shouldToggle(t,-15)&&this._zone.run(function(){e.value=!e.value,e._startX=t,e._haptic.selection()})},e.prototype._onDragEnd=function(t){var e=this;this._startX&&this._zone.run(function(){e._shouldToggle(t,4)&&(e.value=!e.value,e._haptic.selection()),e._activated=!1,e._fireBlur(),e._startX=null})},e.prototype._shouldToggle=function(t,e){var n=!this._plt.isRTL,r=this._startX;return this._value?n&&r+e>t||!n&&r-e<t:n&&r-e<t||!n&&r+e>t},e.prototype._keyup=function(t){32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),t.stopPropagation(),this.value=!this.value)},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._gesture&&this._gesture.destroy()},e}(Ji),zl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,"footer")||this;return i&&i._setFooter(o),o}return zl(e,t),e}(hr),Bl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vl=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,"header")||this;return i&&i._setHeader(o),o}return Bl(e,t),e}(hr),Ul=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i._sbPadding=e.getBoolean("statusbarPadding"),i}return Ul(e,t),e}(bs),ql=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hl=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,"bar-buttons")||this;return a.inToolbar=!(!i&&!o),a}return ql(e,t),Object.defineProperty(e.prototype,"_buttons",{set:function(t){this.inToolbar&&t.forEach(function(t){t.setRole("bar-button")})},enumerable:!0,configurable:!0}),e}(hr),Gl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$l=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,"title")||this;return i&&i._setTitle(a),o&&o._setTitle(a),a}return Gl(e,t),e.prototype.getTitleText=function(){return this._elementRef.nativeElement.textContent},e}(hr),Yl=function(){return function(){}}(),Kl=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xl=function(t){function e(e,n,r){return t.call(this,e,n,r,"text")||this}return Kl(e,t),e}(hr),Zl=function(){return function(t){this.templateRef=t}}(),Jl=function(){return function(t){this.templateRef=t}}(),Ql=function(){return function(t,e){this.templateRef=t,this.viewContainer=e}}(),tc={row:0,width:0,height:0,top:0,left:0,tmpl:-1},ec=function(){function t(t,e,n){this.$implicit=t,this.index=e,this.count=n,this.bounds={}}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),nc=3,rc=2,ic=function(){function t(t,e,n,r,i,o,a,s,u,l){var c=this;this._iterableDiffers=t,this._elementRef=e,this._renderer=n,this._zone=r,this._cd=i,this._content=o,this._plt=a,this._ctrl=s,this._config=u,this._dom=l,this._init=!1,this._lastEle=!1,this._records=[],this._cells=[],this._nodes=[],this._vHeight=0,this._lastCheck=0,this._recordSize=0,this._data={scrollTop:0},this._queue=1,this.bufferRatio=3,this.approxItemWidth="100%",this.approxHeaderWidth="100%",this.approxHeaderHeight="40px",this.approxFooterWidth="100%",this.approxFooterHeight="40px",this.setElementClass("virtual-loading",!0);var f=s.readReady.subscribe(function(){f.unsubscribe(),c.readUpdate(!0)}),p=s.writeReady.subscribe(function(){p.unsubscribe(),c._init=!0,c.writeUpdate(!0),c._listeners()})}return Object.defineProperty(t.prototype,"virtualScroll",{get:function(){return this._records},set:function(t){this._records=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFn",{set:function(t){l(t)&&(this._hdrFn=t.bind(this._ctrl._cmp||this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerFn",{set:function(t){l(t)&&(this._ftrFn=t.bind(this._ctrl._cmp||this))},enumerable:!0,configurable:!0}),t.prototype.firstRecord=function(){var t=this._cells;return t.length>0?t[0].record:0},t.prototype.lastRecord=function(){var t=this._cells;return t.length>0?t[t.length-1].record:0},t.prototype.ngOnChanges=function(t){if("virtualScroll"in t){var e=t.virtualScroll.currentValue;if(!p(this._differ)&&p(e))try{this._differ=this._iterableDiffers.find(e).create(this.virtualTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._init){var t=p(this._differ)?this._differ.diff(this.virtualScroll):null;if(p(t)){var e=!1,n=this._recordSize;t.forEachOperation(function(t,r,i){null===r&&i<n?e=!0:r<n&&null===i&&(e=!0)}),this._recordSize=this._records?this._records.length:0,this.readUpdate(e),this.writeUpdate(e)}}},t.prototype.readUpdate=function(t){t&&(this._cells.length=0,this.calcDimensions())},t.prototype.writeUpdate=function(t){var e=this._data,n=e.scrollTop+e.renderHeight;e.scrollDiff=oc+1,de(n,this._records,this._cells,this._hdrFn,this._ftrFn,this._data),this.renderVirtual(t)},t.prototype.calcDimensions=function(){!function(t,e,n,r,i,o,a,s,u){var l=e.parentElement;t.viewWidth=l.offsetWidth,t.viewHeight=l.offsetHeight,t.viewTop=e.offsetTop,t.viewLeft=e.offsetLeft,t.renderHeight=t.viewHeight*u,t.viewWidth>0&&t.viewHeight>0&&(t.itmWidth=_e(t.viewWidth,n),t.itmHeight=we(0,r),t.hdrWidth=_e(t.viewWidth,i),t.hdrHeight=we(0,o),t.ftrWidth=_e(t.viewWidth,a),t.ftrHeight=we(0,s),t.valid=!0)}(this._data,this._elementRef.nativeElement,this.approxItemWidth,this.approxItemHeight,this.approxHeaderWidth,this.approxHeaderHeight,this.approxFooterWidth,this.approxFooterHeight,this.bufferRatio)},t.prototype.renderVirtual=function(t){var e=this;this._plt.raf(function(){var n=e._nodes,r=e._cells,i=e._data,o=e._records;t&&(ge(e._plt,n,r,i,!0),i.topCell=0,i.bottomCell=r.length-1),ye(r,i),e._zone.run(function(){me(i.topCell,i.bottomCell,!0,r,o,n,e._itmTmp.viewContainer,e._itmTmp.templateRef,e._hdrTmp&&e._hdrTmp.templateRef,e._ftrTmp&&e._ftrTmp.templateRef)}),t&&e._cd.detectChanges(),e._dom.read(function(){return function(t,e,n,r){if(e.length&&n.length){var i=xe(e[0]),o=n[0];o.top=i.clientTop,o.left=i.clientLeft,o.row=0,ge(t,e,n,r,!0)}}(e._plt,n,r,i)}),e._dom.write(function(){if(ve(n,r,i),e._stepChangeDetection(),e._stepDOMWrite(),e._content.imgsUpdate(),!e._lastEle){e._renderer.createElement(e._elementRef.nativeElement,"div").className="virtual-last",e._lastEle=!0,e.setElementClass("virtual-scroll",!0),e.setElementClass("virtual-loading",!1)}})})},t.prototype.resize=function(){this._init&&null!==this._elementRef.nativeElement.offsetParent&&(this.calcDimensions(),this.writeUpdate(!1))},t.prototype._stepDOMWrite=function(){var t=this._cells;!function(t,e,n,r){for(var i,o,a,s,u=Math.max(r,n.length),l=0,c=e.length;l<c;l++)(i=e[l]).lastTransform!==(s="translate3d("+(a=n[i.cell]).left+"px,"+a.top+"px,0px)")&&(o=xe(i))&&(o.style[t.Css.transform]=i.lastTransform=s,o.classList.add("virtual-position"),o.setAttribute("aria-posinset",i.cell+1),o.setAttribute("aria-setsize",u))}(this._plt,this._nodes,t,this._recordSize),this._setHeight(be(this._recordSize,t[t.length-1],this._vHeight,.25)),this._queue=1},t.prototype._stepChangeDetection=function(){for(var t=this._nodes,e=0;e<t.length;e++)t[e].hasChanges&&t[e].view.detectChanges();this._queue=3},t.prototype._stepNoChanges=function(){var t=this._data,e=t.scrollDiff=t.scrollTop-this._lastCheck;if(!(Math.abs(e)<oc)){var n=this._cells,r=this._nodes,i=this._records;if(this._lastCheck=t.scrollTop,e>0){de(t.scrollTop+t.renderHeight,i,n,this._hdrFn,this._ftrFn,t)}ge(this._plt,r,n,t,!1),ye(n,t);me(t.topCell,t.bottomCell,e>0,n,i,r,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef)&&(this._queue=2,ve(r,n,t))}},t.prototype.scrollUpdate=function(t){var e=this;this._data.scrollTop=t.scrollTop;var n=this._queue;1===n?this._stepNoChanges():this._dom.write(2===n?function(){return e._stepChangeDetection()}:function(){return e._stepDOMWrite()})},t.prototype.scrollEnd=function(){var t=this;ge(this._plt,this._nodes,this._cells,this._data,!1),ye(this._cells,this._data),me(this._data.topCell,this._data.bottomCell,!0,this._cells,this._records,this._nodes,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef),this._dom.write(function(){ve(t._nodes,t._cells,t._data),t._stepChangeDetection(),t._stepDOMWrite()})},t.prototype._listeners=function(){this._scrollSub||(this._config.getBoolean("virtualScrollEventAssist")&&this._content.enableJsScroll(),this._resizeSub=this._plt.resize.subscribe(this.resize.bind(this)),this._scrollSub=this._content.ionScroll.subscribe(this.scrollUpdate.bind(this)),this._scrollEndSub=this._content.ionScrollEnd.subscribe(this.scrollEnd.bind(this)))},t.prototype._setHeight=function(t){t!==this._vHeight&&(this._renderer.setElementStyle(this._elementRef.nativeElement,"height",t>0?t+"px":""),this._vHeight=t)},t.prototype.ngAfterContentInit=function(){this.approxItemHeight||(this.approxItemHeight="40px",console.warn('Virtual Scroll: Please provide an "approxItemHeight" input to ensure proper virtual scroll rendering'))},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.prototype.ngOnDestroy=function(){this._resizeSub&&this._resizeSub.unsubscribe(),this._scrollSub&&this._scrollSub.unsubscribe(),this._scrollEndSub&&this._scrollEndSub.unsubscribe(),this._resizeSub=this._scrollEndSub=this._scrollSub=null,this._hdrFn=this._ftrFn=this._records=this._cells=this._nodes=this._data=null},t}(),oc=40,ac=function(){function t(t,e,n){this.app=t,this.dom=n,this._queue=[],this._active=[],this.activatedDelay=sc,this.clearDelay=uc,this._css=e.get("activatedClass","activated")}return t.prototype.clickAction=function(t,e,n){if(!Ce(t,e)){this._scheduleClear(),this._queue.length=0;for(var r=0;r<this._active.length;r++)this._active[r].classList.remove(this._css);this._active.length=0,e&&e.parentNode&&(this._active.push(e),e.classList.add(this._css))}},t.prototype.downAction=function(t,e,n){var r=this;Ce(t,e)||(this.unscheduleClear(),this.deactivate(!0),this._queue.push(e),this._activeDefer=this.dom.write(function(){r._activeDefer=null;for(var t,e=0;e<r._queue.length;e++)r._active.push(t=r._queue[e]),t.classList.add(r._css);r._queue.length=0},this.activatedDelay))},t.prototype.upAction=function(t,e,n){this._scheduleClear()},t.prototype._scheduleClear=function(){var t=this;this._clearDefer||(this._clearDefer=this.dom.write(function(){t.clearState(!0),t._clearDefer=null},this.clearDelay))},t.prototype.unscheduleClear=function(){this._clearDefer&&(this._clearDefer(),this._clearDefer=null)},t.prototype.clearState=function(t){var e=this;this.app.isEnabled()?this.deactivate(t):this.dom.write(function(){e.clearState(t)},600)},t.prototype.deactivate=function(t){this._clearDeferred(),this._queue.length=0;for(var e,n=0;n<this._active.length;n++)(e=this._active[n]).style[this.dom.plt.Css.transition]=t?"":"none",e.classList.remove(this._css);this._active.length=0},t.prototype._clearDeferred=function(){this._activeDefer&&(this._activeDefer(),this._activeDefer=null)},t}(),sc=80,uc=80,lc=function(){function t(t,e,n){this.dom=n,this.highlight=new ac(t,e,n)}return t.prototype.clickAction=function(t,e,n){this.highlight&&this.highlight.clickAction(t,e,n),this._clickAction(t,e,n)},t.prototype.downAction=function(t,e,n){this.highlight&&this.highlight.downAction(t,e,n),this._downAction(t,e,n)},t.prototype.upAction=function(t,e,n){this.highlight&&this.highlight.upAction(t,e,n),this._upAction(t,e,n)},t.prototype.clearState=function(t){this.highlight&&this.highlight.clearState(t)},t.prototype._downAction=function(t,e,n){if(!Ce(t,e))for(var r=e.childElementCount;r--;){var i=e.children[r];if(i.classList.contains("button-effect")){var o=e.getBoundingClientRect();i.$top=o.top,i.$left=o.left,i.$width=o.width,i.$height=o.height;break}}},t.prototype._upAction=function(t,e,n){if(!N(6,n,P(t)))for(var r=e.childElementCount;r--;){var i=e.children[r];if(i.classList.contains("button-effect")){this.startRippleEffect(i,e,n);break}}},t.prototype._clickAction=function(t,e,n){},t.prototype.startRippleEffect=function(t,e,n){if(n){var r=n.x-t.$left,i=n.y-t.$top,o=2*Math.max(Math.abs(t.$width-r),r),a=2*Math.max(Math.abs(t.$height-i),i),s=Math.min(Math.max(Math.hypot(o,a),64),240);e.hasAttribute("ion-item")&&(s=Math.min(s,140)),r-=s/2,i-=s/2,r=Math.round(r),i=Math.round(i),s=Math.round(s);var u=this.dom.plt.Css;t.style.opacity="",t.style[u.transform]="translate3d("+r+"px, "+i+"px, 0px) scale(0.001)",t.style[u.transition]="";var l=Math.sqrt(t.$width+t.$height),c=Math.max(1600*Math.sqrt(l/cc)+.5,260),f=Math.round(.7*c),p=Math.round(c-f),d="translate3d("+r+"px, "+i+"px, 0px) scale(1)",h="transform "+(c=Math.round(c))+"ms,opacity "+f+"ms "+p+"ms";this.dom.write(function(){t.style.width=t.style.height=s+"px",t.style.opacity="0",t.style[u.transform]=d,t.style[u.transition]=h},16)}},t}(),cc=300,fc=function(){function t(t,e,n,r,i){this.plt=e,this.app=r,this.gestureCtrl=i,this.disableClick=0,this.events=new qr(e);var o=t.get("activator");"ripple"===o?this.activator=new lc(r,t,n):"highlight"===o&&(this.activator=new ac(r,t,n)),this.usePolyfill=t.getBoolean("tapPolyfill");var a=e.doc();this.events.listen(a,"click",this.click.bind(this),{passive:!1,capture:!0}),this.pointerEvents=this.events.pointerEvents({element:a,pointerDown:this.pointerStart.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerEnd.bind(this),passive:!0}),this.pointerEvents.mouseWait=mc}return t.prototype.pointerStart=function(t){return!this.startCoord&&(!!this.app.isEnabled()&&(this.lastTouchEnd=0,this.dispatchClick=!0,this.plt.doc()===t.target?(this.startCoord=P(t),!0):(this.activatableEle=Se(t.target),this.activatableEle?(this.startCoord=P(t),this.activator&&this.activator.downAction(t,this.activatableEle,this.startCoord),!0):(this.startCoord=null,!1))))},t.prototype.pointerMove=function(t){this.startCoord&&this.shouldCancelEvent(t)&&this.pointerCancel(t)},t.prototype.pointerEnd=function(t,e){if(this.dispatchClick&&this.startCoord){if(this.activator&&t.target!==this.plt.doc()){var n=Se(t.target)||this.activatableEle;n&&this.activator.upAction(t,n,this.startCoord)}this.usePolyfill&&e===Wr&&this.app.isEnabled()&&this.handleTapPolyfill(t),this.startCoord=null,this.activatableEle=null}},t.prototype.pointerCancel=function(t){this.startCoord=null,this.activatableEle=null,this.dispatchClick=!1,this.activator&&this.activator.clearState(!1),this.pointerEvents.stop()},t.prototype.shouldCancelEvent=function(t){return this.app.isScrolling()||this.gestureCtrl.isCaptured()||N(hc,this.startCoord,P(t))},t.prototype.click=function(t){if(this.shouldCancelClick(t))return t.preventDefault(),void t.stopPropagation();if(this.activator&&this.plt.doc()!==t.target){var e=Se(t.target);e&&this.activator.clickAction(t,e,this.startCoord)}},t.prototype.shouldCancelClick=function(t){if(this.usePolyfill){if(!t.isIonicTap&&this.isDisabledNativeClick())return!0}else if(!this.dispatchClick)return!0;return!this.app.isEnabled()||!!this.gestureCtrl.isCaptured()},t.prototype.profileClickDelay=function(t){if(this.lastTouchEnd){var e=Date.now()-this.lastTouchEnd;e<100||console.warn("SLOW click dispatched. Delay(ms):",e,t),this.lastTouchEnd=null}},t.prototype.handleTapPolyfill=function(t){var e=P(t);if(!N(hc,this.startCoord,e))if(this.disableClick=Date.now()+mc,this.app.isScrolling());else{var n=this.plt.doc().createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,this.plt.win(),1,0,0,e.x,e.y,!1,!1,!1,!1,0,null),n.isIonicTap=!0,t.target.dispatchEvent(n)}},t.prototype.isDisabledNativeClick=function(){return this.disableClick>Date.now()},t}(),pc=["A","BUTTON"],dc=["tappable","ion-button"],hc=100,mc=2500,gc=window,vc=document,yc=["","webkit","Moz","MS","ms","o"],bc=vc.createElement("div"),_c="function",wc=Math.round,xc=Math.abs,Ec=Date.now,Cc=1,Sc="ontouchstart"in window,Oc=void 0!==We(window,"PointerEvent"),kc=Sc&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Tc=25,Pc=1,Nc=2,Ic=4,Ac=8,Mc=1,Dc=2,Rc=4,jc=8,Lc=16,zc=Dc|Rc,Fc=jc|Lc,Bc=zc|Fc,Vc=["x","y"],Uc=["clientX","clientY"];He.prototype={handler:function(){},init:function(){this.evEl&&Re(this.element,this.evEl,this.domHandler),this.evTarget&&Re(this.target,this.evTarget,this.domHandler),this.evWin&&Re(qe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&je(this.element,this.evEl,this.domHandler),this.evTarget&&je(this.target,this.evTarget,this.domHandler),this.evWin&&je(qe(this.element),this.evWin,this.domHandler)}};var Wc={mousedown:Pc,mousemove:Nc,mouseup:Ic},qc="mousedown",Hc="mousemove mouseup";Ie(Qe,He,{handler:function(t){var e=Wc[t.type];e&Pc&&0===t.button&&(this.pressed=!0),e&Nc&&1!==t.which&&(e=Ic),this.pressed&&this.allow&&(e&Ic&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Gc={pointerdown:Pc,pointermove:Nc,pointerup:Ic,pointercancel:Ac,pointerout:Ac},$c={2:"touch",3:"pen",4:"mouse",5:"kinect"},Yc="pointerdown",Kc="pointermove pointerup pointercancel";gc.MSPointerEvent&&!gc.PointerEvent&&(Yc="MSPointerDown",Kc="MSPointerMove MSPointerUp MSPointerCancel"),Ie(tn,He,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Gc[r],o=$c[t.pointerType]||t.pointerType,a="touch"==o,s=Be(e,t.pointerId,"pointerId");i&Pc&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(Ic|Ac)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var Xc={touchstart:Pc,touchmove:Nc,touchend:Ic,touchcancel:Ac},Zc="touchstart",Jc="touchstart touchmove touchend touchcancel";Ie(en,He,{handler:function(t){var e=Xc[t.type];if(e===Pc&&(this.started=!0),this.started){var n=function(t,e){var n=Ve(t.touches),r=Ve(t.changedTouches);return e&(Ic|Ac)&&(n=Ue(n.concat(r),"identifier",!0)),[n,r]}.call(this,t,e);e&(Ic|Ac)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Qc={touchstart:Pc,touchmove:Nc,touchend:Ic,touchcancel:Ac},tf="touchstart touchmove touchend touchcancel";Ie(nn,He,{handler:function(t){var e=Qc[t.type],n=function(t,e){var n=Ve(t.touches),r=this.targetIds;if(e&(Pc|Nc)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=Ve(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return Le(t.target,u)}),e===Pc)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(Ic|Ac)&&delete r[a[i].identifier],i++;return s.length?[Ue(o.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),Ie(rn,He,{handler:function(t,e,n){var r="mouse"==n.pointerType;if("touch"==n.pointerType)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Ic|Ac)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ef=We(bc.style,"touchAction"),nf=void 0!==ef,rf="auto",of="manipulation",af="none",sf="pan-x",uf="pan-y";on.prototype={set:function(t){"compute"==t&&(t=this.compute()),nf&&this.manager.element.style&&(this.manager.element.style[ef]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return Ne(this.manager.recognizers,function(e){Me(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(ze(t,af))return af;var e=ze(t,sf),n=ze(t,uf);return e&&n?af:e||n?e?sf:uf:ze(t,of)?of:rf}(t.join(" "))},preventDefaults:function(t){if(!nf){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=ze(r,af),o=ze(r,uf),a=ze(r,sf);if(i){if(1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return}if(!a||!o)return i||o&&n&zc||a&&n&Fc?this.preventSrc(e):void 0}}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var lf=1,cf=2,ff=4,pf=8,df=pf,hf=16;an.prototype={defaults:{},set:function(t){return Object.assign(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(Pe(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=ln(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return Pe(t,"dropRecognizeWith",this)?this:(t=ln(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(Pe(t,"requireFailure",this))return this;var e=this.requireFail;return t=ln(t,this),-1===Be(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(Pe(t,"dropRequireFailure",this))return this;t=ln(t,this);var e=Be(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<pf&&e(n.options.event+sn(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=pf&&e(n.options.event+sn(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|lf)))return!1;t++}return!0},recognize:function(t){var e=Object.assign({},t);if(!Me(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(df|hf|32)&&(this.state=lf),this.state=this.process(e),this.state&(cf|ff|pf|hf)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},Ie(cn,an,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(cf|ff),i=this.attrTest(t);return r&&(n&Ac||!i)?e|hf:r||i?n&Ic?e|pf:e&cf?e|ff:cf:32}}),Ie(fn,cn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bc},getTouchAction:function(){var t=this.options.direction,e=[];return t&zc&&e.push(uf),t&Fc&&e.push(sf),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&zc?(i=0===o?Mc:o<0?Dc:Rc,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?Mc:a<0?jc:Lc,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return cn.prototype.attrTest.call(this,t)&&(this.state&cf||!(this.state&cf)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=un(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),Ie(pn,cn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[af]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&cf)},emit:function(t){if(1!==t.scale){t.additionalEvent=this.options.event+(t.scale<1?"in":"out")}this._super.emit.call(this,t)}}),Ie(dn,an,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[rf]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Ic|Ac)&&!i)this.reset();else if(t.eventType&Pc)this.reset(),this._timer=Te(function(){this.state=df,this.tryEmit()},e.time,this);else if(t.eventType&Ic)return df;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===df&&(t&&t.eventType&Ic?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Ec(),this.manager.emit(this.options.event,this._input)))}}),Ie(hn,cn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[af]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&cf)}}),Ie(mn,cn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:zc|Fc,pointers:1},getTouchAction:function(){return fn.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(zc|Fc)?e=t.overallVelocity:n&zc?e=t.overallVelocityX:n&Fc&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&xc(e)>this.options.velocity&&t.eventType&Ic},emit:function(t){var e=un(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),Ie(gn,an,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[of]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&Pc&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=Ic)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Ze(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=Te(function(){this.state=df,this.tryEmit()},e.interval,this),cf):df}return 32},failTimeout:function(){return this._timer=Te(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==df&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});var mf={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[hn,{enable:!1}],[pn,{enable:!1},["rotate"]],[mn,{direction:zc}],[fn,{direction:zc},["swipe"]],[gn],[gn,{event:"doubletap",taps:2},["tap"]],[dn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};yn.prototype={set:function(t){return Object.assign(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&df)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(cf|ff|pf)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof an)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(Pe(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(Pe(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=Be(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){var n=this.handlers;return Ne(Fe(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return Ne(Fe(t),function(t){e?n[t]&&n[t].splice(Be(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&function(t,e){var n=vc.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&bn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Object.assign(vn,{INPUT_START:Pc,INPUT_MOVE:Nc,INPUT_END:Ic,INPUT_CANCEL:Ac,STATE_POSSIBLE:lf,STATE_BEGAN:cf,STATE_CHANGED:ff,STATE_ENDED:pf,STATE_RECOGNIZED:df,STATE_CANCELLED:hf,STATE_FAILED:32,DIRECTION_NONE:Mc,DIRECTION_LEFT:Dc,DIRECTION_RIGHT:Rc,DIRECTION_UP:jc,DIRECTION_DOWN:Lc,DIRECTION_HORIZONTAL:zc,DIRECTION_VERTICAL:Fc,DIRECTION_ALL:Bc,Manager:yn,Input:He,TouchAction:on,TouchInput:nn,MouseInput:Qe,PointerEventInput:tn,TouchMouseInput:rn,SingleTouchInput:en,Recognizer:an,AttrRecognizer:cn,Tap:gn,Pan:fn,Swipe:mn,Pinch:pn,Rotate:hn,Press:dn,on:Re,off:je,each:Ne,inherit:Ie,bindFn:Ae,prefixed:We}),gc.Hammer=vn;var gf=function(){function t(t,e){void 0===e&&(e={}),this._callbacks={},this.isListening=!1,a(e,{domEvents:!0}),this.element=t,this.direction=e.direction||"x",e.direction="x"===this.direction?zc:Fc,this._options=e}return t.prototype.options=function(t){Object.assign(this._options,t)},t.prototype.on=function(t,e){"pinch"!==t&&"rotate"!==t||this._hammer.get(t).set({enable:!0}),this._hammer.on(t,e),(this._callbacks[t]||(this._callbacks[t]=[])).push(e)},t.prototype.off=function(t,e){this._hammer.off(t,this._callbacks[t]?e:null)},t.prototype.listen=function(){this.isListening||(this._hammer=vn(this.element,this._options)),this.isListening=!0},t.prototype.unlisten=function(){var t,e;if(this._hammer&&this.isListening){for(t in this._callbacks)for(e=0;e<this._callbacks[t].length;e++)this._hammer.off(t,this._callbacks[t]);this._hammer.destroy()}this._callbacks={},this._hammer=null,this.isListening=!1},t.prototype.destroy=function(){this.unlisten(),this.element=this._options=null},t}(),vf=function(){function t(){this._channels=[]}return t.prototype.subscribe=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._channels[t]||(this._channels[t]=[]),n.forEach(function(n){e._channels[t].push(n)})},t.prototype.unsubscribe=function(t,e){void 0===e&&(e=null);var n=this._channels[t];if(!n)return!1;if(!e)return delete this._channels[t],!0;var r=n.indexOf(e);return!(r<0)&&(n.splice(r,1),n.length||delete this._channels[t],!0)},t.prototype.publish=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this._channels[t];if(!r)return null;var i=[];return r.forEach(function(t){i.push(t.apply(void 0,e))}),i},t}(),yf=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bf=function(t){function e(){return t.call(this)||this}return yf(e,t),e.prototype.handleError=function(e){t.prototype.handleError.call(this,e);try{var n=window,r=void 0;(r=n.IonicDevServer)&&r.handleError&&r.handleError(e),(r=(n.Ionic=n.Ionic||{}).Monitor)&&r.handleError&&r.handleError(e)}catch(t){}},e}(Sn.ErrorHandler),_f={core:{settings:{mode:"md",keyboardHeight:290}},mobile:{},phablet:{isMatch:function(t){var e=Math.min(t.width(),t.height()),n=Math.max(t.width(),t.height());return e>390&&e<520&&n>620&&n<800}},tablet:{isMatch:function(t){var e=Math.min(t.width(),t.height()),n=Math.max(t.width(),t.height());return e>460&&e<820&&n>780&&n<1400}},android:{superset:"mobile",subsets:["phablet","tablet"],settings:{activator:function(t){if(t.testNavigatorPlatform("linux")){var e=t.matchUserAgentVersion(/Chrome\/(\d+).(\d+)?/);if(e)return parseInt(e.major,10)<36||t.version().major<5?"none":"ripple";if(t.version().major<5)return"none"}return"ripple"},autoFocusAssist:"immediate",inputCloning:!0,scrollAssist:!0,hoverCSS:!1,keyboardHeight:300,mode:"md"},isMatch:function(t){return t.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/Android (\d+).(\d+)?/)}},ios:{superset:"mobile",subsets:["ipad","iphone"],settings:{autoFocusAssist:"delay",hideCaretOnScroll:!0,hoverCSS:!1,inputBlurring:Mt,inputCloning:Mt,keyboardHeight:250,mode:"ios",statusbarPadding:At,swipeBackEnabled:Mt,tapPolyfill:Rt,virtualScrollEventAssist:Rt,disableScrollAssist:Mt,scrollAssist:Mt,keyboardResizes:function(t){var e=t.win();return!(!e.Ionic||!0!==e.Ionic.keyboardResizes)}},isMatch:function(t){return t.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}},ipad:{superset:"tablet",settings:{keyboardHeight:500},isMatch:function(t){return t.isPlatformMatch("ipad")}},iphone:{subsets:["phablet"],isMatch:function(t){return t.isPlatformMatch("iphone")}},windows:{superset:"mobile",subsets:["phablet","tablet"],settings:{mode:"wp",autoFocusAssist:"immediate",hoverCSS:!1},isMatch:function(t){return t.isPlatformMatch("windows",["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/Windows Phone (\d+).(\d+)?/)}},cordova:{isEngine:!0,initialize:function(t){t.prepareReady=function(){t.windowLoad(function(e,n){n.addEventListener("deviceready",function(){n.addEventListener("backbutton",function(e){t.zone.run(function(){t.backButton.emit(e)})}),n.addEventListener("pause",function(e){t.zone.run(function(){t.pause.emit(e)})}),n.addEventListener("resume",function(e){t.zone.run(function(){t.resume.emit(e)})}),t.exitApp=function(){e.navigator.app.exitApp()},t.triggerReady("cordova")})})}},isMatch:function(t){return At(t)}},electron:{superset:"core",initialize:function(t){t.prepareReady=function(){t.windowLoad(function(){t.triggerReady("electron")})}},isMatch:function(t){return function(t){return t.testUserAgent("Electron")}(t)}}},wf=new Sn.InjectionToken("PLTCONFIG"),xf={activator:"highlight",actionSheetEnter:"action-sheet-slide-in",actionSheetLeave:"action-sheet-slide-out",alertEnter:"alert-pop-in",alertLeave:"alert-pop-out",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-pop-in",loadingLeave:"loading-pop-out",menuType:"reveal",modalEnter:"modal-slide-in",modalLeave:"modal-slide-out",pageTransition:"ios-transition",pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:-.46,pickerScaleFactor:1,popoverEnter:"popover-pop-in",popoverLeave:"popover-pop-out",spinner:"ios",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,toastEnter:"toast-slide-in",toastLeave:"toast-slide-out"},Ef={activator:"ripple",actionSheetEnter:"action-sheet-md-slide-in",actionSheetLeave:"action-sheet-md-slide-out",alertEnter:"alert-md-pop-in",alertLeave:"alert-md-pop-out",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",loadingEnter:"loading-md-pop-in",loadingLeave:"loading-md-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"md-transition",pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:0,pickerScaleFactor:.81,popoverEnter:"popover-md-pop-in",popoverLeave:"popover-md-pop-out",spinner:"crescent",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,toastEnter:"toast-md-slide-in",toastLeave:"toast-md-slide-out"},Cf={activator:"highlight",actionSheetEnter:"action-sheet-wp-slide-in",actionSheetLeave:"action-sheet-wp-slide-out",alertEnter:"alert-wp-pop-in",alertLeave:"alert-wp-pop-out",backButtonText:"",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-wp-pop-in",loadingLeave:"loading-wp-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"wp-transition",pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:0,pickerScaleFactor:.81,popoverEnter:"popover-md-pop-in",popoverLeave:"popover-md-pop-out",spinner:"circles",tabsHighlight:!1,tabsPlacement:"top",tabsHideOnSubPages:!0,toastEnter:"toast-wp-slide-in",toastLeave:"toast-wp-slide-out"},Sf=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sf(e,t),e.prototype.buildHammer=function(t){var e=new window.Hammer(t);for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},e}(On.HammerGestureConfig),kf=n(16),Tf=function(){function t(){}return t.forRoot=function(e,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),{ngModule:t,providers:[{provide:ai,useValue:e},{provide:Tn,useValue:n},{provide:wr,useValue:r},{provide:kf.APP_BASE_HREF,useValue:"/"},{provide:wf,useFactory:xn},{provide:qn,useFactory:A,deps:[On.DOCUMENT,wf,Sn.NgZone]},{provide:kn,useFactory:x,deps:[Tn,qn]},{provide:Sn.APP_INITIALIZER,useFactory:En,deps:[kn],multi:!0},{provide:Sn.APP_INITIALIZER,useFactory:wn,deps:[qn,Cr],multi:!0},{provide:Sn.APP_INITIALIZER,useFactory:ke,deps:[kn,qn,Cr,cr,jr],multi:!0},{provide:Sn.APP_INITIALIZER,useFactory:at,deps:[kn,wr,Bs,Sn.NgZone],multi:!0},{provide:On.HAMMER_GESTURE_CONFIG,useClass:Of},{provide:Sn.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:e,multi:!0},_i,Ai,cr,Cr,vf,$i,jr,Po,ro,ss,kf.Location,Fn,Js,zs,Fo,_u,fc,Ml,ii,{provide:Bs,useFactory:ot,deps:[zs,Sn.Injector]},{provide:kf.LocationStrategy,useFactory:Cn,deps:[kf.PlatformLocation,[new Sn.Inject(kf.APP_BASE_HREF),new Sn.Optional],kn]},{provide:mr,useFactory:z,deps:[cr,wr]},{provide:xr,useFactory:V,deps:[cr,mr,kf.Location,Bs,Sn.ComponentFactoryResolver]}]}},t}(),Pf=function(){function t(){}return t.forChild=function(e){return{ngModule:t,providers:[{provide:Fs,useValue:e},{provide:Sn.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:e,multi:!0}]}},t}();n.d(e,!1,function(){return si}),n.d(e,!1,function(){return Fn}),n.d(e,!1,function(){return bi}),n.d(e,!1,function(){return _i}),n.d(e,!1,function(){return li}),n.d(e,!1,function(){return Ii}),n.d(e,!1,function(){return Ai}),n.d(e,!1,function(){return wi}),n.d(e,!1,function(){return cr}),n.d(e,!1,function(){return Mi}),n.d(e,!1,function(){return Di}),n.d(e,!1,function(){return ji}),n.d(e,!1,function(){return zi}),n.d(e,!1,function(){return Bi}),n.d(e,!1,function(){return Ui}),n.d(e,!1,function(){return qi}),n.d(e,!1,function(){return Gi}),n.d(e,!1,function(){return Oo}),n.d(e,!1,function(){return To}),n.d(e,!1,function(){return go}),n.d(e,!1,function(){return ga}),n.d(e,!1,function(){return ba}),n.d(e,!1,function(){return wa}),n.d(e,!1,function(){return _a}),n.d(e,!1,function(){return xa}),n.d(e,!1,function(){return Ea}),n.d(e,!1,function(){return Ca}),n.d(e,!1,function(){return hr}),n.d(e,!1,function(){return to}),n.d(e,!1,function(){return Sa}),n.d(e,!1,function(){return Oa}),n.d(e,!1,function(){return Aa}),n.d(e,!1,function(){return Ra}),n.d(e,!1,function(){return Co}),n.d(e,!1,function(){return La}),n.d(e,!1,function(){return Fa}),n.d(e,!1,function(){return Ba}),n.d(e,!1,function(){return Va}),n.d(e,!1,function(){return xo}),n.d(e,!1,function(){return Ga}),n.d(e,!1,function(){return $a}),n.d(e,!1,function(){return no}),n.d(e,!1,function(){return Ha}),n.d(e,!1,function(){return Ka}),n.d(e,!1,function(){return as}),n.d(e,!1,function(){return ss}),n.d(e,!1,function(){return Xa}),n.d(e,!1,function(){return gs}),n.d(e,!1,function(){return vs}),n.d(e,!1,function(){return xs}),n.d(e,!1,function(){return Cs}),n.d(e,!1,function(){return Zs}),n.d(e,!1,function(){return Us}),n.d(e,!1,function(){return Js}),n.d(e,!1,function(){return ms}),n.d(e,!1,function(){return Qs}),n.d(e,!1,function(){return tu}),n.d(e,!1,function(){return eu}),n.d(e,!1,function(){return nu}),n.d(e,!1,function(){return iu}),n.d(e,!1,function(){return ou}),n.d(e,!1,function(){return zo}),n.d(e,!1,function(){return Ao}),n.d(e,!1,function(){return Io}),n.d(e,!1,function(){return Fo}),n.d(e,!1,function(){return bu}),n.d(e,!1,function(){return au}),n.d(e,!1,function(){return _u}),n.d(e,!1,function(){return Cu}),n.d(e,!1,function(){return wu}),n.d(e,!1,function(){return Ou}),n.d(e,!1,function(){return ku}),n.d(e,!1,function(){return Tu}),n.d(e,!1,function(){return Ru}),n.d(e,!1,function(){return ju}),n.d(e,!1,function(){return zu}),n.d(e,!1,function(){return Vu}),n.d(e,!1,function(){return Fu}),n.d(e,!1,function(){return qu}),n.d(e,!1,function(){return Uu}),n.d(e,!1,function(){return $u}),n.d(e,!1,function(){return Hu}),n.d(e,!1,function(){return Ku}),n.d(e,!1,function(){return ol}),n.d(e,!1,function(){return rl}),n.d(e,!1,function(){return sl}),n.d(e,!1,function(){return ds}),n.d(e,!1,function(){return ps}),n.d(e,!1,function(){return hl}),n.d(e,!1,function(){return gl}),n.d(e,!1,function(){return ll}),n.d(e,!1,function(){return fl}),n.d(e,!1,function(){return Pl}),n.d(e,!1,function(){return vl}),n.d(e,!1,function(){return Ml}),n.d(e,!1,function(){return Ll}),n.d(e,!1,function(){return Fl}),n.d(e,!1,function(){return Vl}),n.d(e,!1,function(){return Wl}),n.d(e,!1,function(){return Hl}),n.d(e,!1,function(){return $l}),n.d(e,!1,function(){return ws}),n.d(e,!1,function(){return Yl}),n.d(e,!1,function(){return Xl}),n.d(e,!1,function(){return Zl}),n.d(e,!1,function(){return Jl}),n.d(e,!1,function(){return Ql}),n.d(e,!1,function(){return ic}),n.d(e,!1,function(){return kn}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return Tn}),n.d(e,!1,function(){return Cr}),n.d(e,!1,function(){return qn}),n.d(e,!1,function(){return A}),n.d(e,!1,function(){return Po}),n.d(e,!1,function(){return xr}),n.d(e,!1,function(){return Ee}),n.d(e,!1,function(){return Fr}),n.d(e,!1,function(){return Qr}),n.d(e,!1,function(){return Pn}),n.d(e,!1,function(){return Mn}),n.d(e,!1,function(){}),n.d(e,!1,function(){return fc}),n.d(e,!1,function(){return ke}),n.d(e,!1,function(){return Oe}),n.d(e,!1,function(){return mr}),n.d(e,!1,function(){return wr}),n.d(e,!1,function(){return Nn}),n.d(e,!1,function(){return Hr}),n.d(e,!1,function(){return gf}),n.d(e,!1,function(){return Kr}),n.d(e,!1,function(){return $r}),n.d(e,!1,function(){return Rr}),n.d(e,!1,function(){return Sr}),n.d(e,!1,function(){return Or}),n.d(e,!1,function(){return kr}),n.d(e,!1,function(){return Tr}),n.d(e,!1,function(){return Pr}),n.d(e,!1,function(){return jr}),n.d(e,!1,function(){return Lr}),n.d(e,!1,function(){return zr}),n.d(e,!1,function(){return vf}),n.d(e,!1,function(){return _n}),n.d(e,!1,function(){return wn}),n.d(e,!1,function(){return bf}),n.d(e,!1,function(){return ro}),n.d(e,!1,function(){return $i}),n.d(e,!1,function(){return Ki}),n.d(e,!1,function(){return Yi}),n.d(e,!1,function(){return b}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return Gn}),n.d(e,!1,function(){return tr}),n.d(e,!1,function(){return Jn}),n.d(e,!1,function(){return wf}),n.d(e,!1,function(){return En}),n.d(e,!1,function(){return Of}),n.d(e,!1,function(){return Tf}),n.d(e,!1,function(){return Pf}),n.d(e,!1,function(){return Cn})},function(t,e,n){"use strict";function r(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,r,o,a,s){return i(t+(e&n|~e&r)+o+a|0,s)+e|0}function a(t,e,n,r,o,a,s){return i(t+(e&r|n&~r)+o+a|0,s)+e|0}function s(t,e,n,r,o,a,s){return i(t+(e^n^r)+o+a|0,s)+e|0}function u(t,e,n,r,o,a,s){return i(t+(n^(e|~r))+o+a|0,s)+e|0}var l=n(7),c=n(211),f=n(8).Buffer,p=new Array(16);l(r,c),r.prototype._update=function(){for(var t=p,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,l=this._d;r=u(r=u(r=u(r=u(r=s(r=s(r=s(r=s(r=a(r=a(r=a(r=a(r=o(r=o(r=o(r=o(r,i=o(i,l=o(l,n=o(n,r,i,l,t[0],3614090360,7),r,i,t[1],3905402710,12),n,r,t[2],606105819,17),l,n,t[3],3250441966,22),i=o(i,l=o(l,n=o(n,r,i,l,t[4],4118548399,7),r,i,t[5],1200080426,12),n,r,t[6],2821735955,17),l,n,t[7],4249261313,22),i=o(i,l=o(l,n=o(n,r,i,l,t[8],1770035416,7),r,i,t[9],2336552879,12),n,r,t[10],4294925233,17),l,n,t[11],2304563134,22),i=o(i,l=o(l,n=o(n,r,i,l,t[12],1804603682,7),r,i,t[13],4254626195,12),n,r,t[14],2792965006,17),l,n,t[15],1236535329,22),i=a(i,l=a(l,n=a(n,r,i,l,t[1],4129170786,5),r,i,t[6],3225465664,9),n,r,t[11],643717713,14),l,n,t[0],3921069994,20),i=a(i,l=a(l,n=a(n,r,i,l,t[5],3593408605,5),r,i,t[10],38016083,9),n,r,t[15],3634488961,14),l,n,t[4],3889429448,20),i=a(i,l=a(l,n=a(n,r,i,l,t[9],568446438,5),r,i,t[14],3275163606,9),n,r,t[3],4107603335,14),l,n,t[8],1163531501,20),i=a(i,l=a(l,n=a(n,r,i,l,t[13],2850285829,5),r,i,t[2],4243563512,9),n,r,t[7],1735328473,14),l,n,t[12],2368359562,20),i=s(i,l=s(l,n=s(n,r,i,l,t[5],4294588738,4),r,i,t[8],2272392833,11),n,r,t[11],1839030562,16),l,n,t[14],4259657740,23),i=s(i,l=s(l,n=s(n,r,i,l,t[1],2763975236,4),r,i,t[4],1272893353,11),n,r,t[7],4139469664,16),l,n,t[10],3200236656,23),i=s(i,l=s(l,n=s(n,r,i,l,t[13],681279174,4),r,i,t[0],3936430074,11),n,r,t[3],3572445317,16),l,n,t[6],76029189,23),i=s(i,l=s(l,n=s(n,r,i,l,t[9],3654602809,4),r,i,t[12],3873151461,11),n,r,t[15],530742520,16),l,n,t[2],3299628645,23),i=u(i,l=u(l,n=u(n,r,i,l,t[0],4096336452,6),r,i,t[7],1126891415,10),n,r,t[14],2878612391,15),l,n,t[5],4237533241,21),i=u(i,l=u(l,n=u(n,r,i,l,t[12],1700485571,6),r,i,t[3],2399980690,10),n,r,t[10],4293915773,15),l,n,t[1],2240044497,21),i=u(i,l=u(l,n=u(n,r,i,l,t[8],1873313359,6),r,i,t[15],4264355552,10),n,r,t[6],2734768916,15),l,n,t[13],1309151649,21),i=u(i,l=u(l,n=u(n,r,i,l,t[4],4149444226,6),r,i,t[11],3174756917,10),n,r,t[2],718787259,15),l,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+l|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=f.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=r},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(141).EventEmitter;n(7)(r,i),r.Readable=n(142),r.Writable=n(381),r.Duplex=n(382),r.Transform=n(383),r.PassThrough=n(384),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,t.end())}function a(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){l.removeListener("data",n),t.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),t.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),t.removeListener("close",u)}var l=this;l.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),t.on("error",s),l.on("end",u),l.on("close",u),t.on("close",u),t.emit("pipe",l),t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(e=t.exports=n(212)).Stream=e,e.Readable=e,e.Writable=n(143),e.Duplex=n(52),e.Transform=n(215),e.PassThrough=n(380)},function(t,e,n){"use strict";(function(e,r,i){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function a(){}function s(t,e){v=v||n(52);var r=e instanceof v;this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,a=t.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(g.nextTick(i,r),g.nextTick(m,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),m(t,e))}(t,n,r,e,i);else{var o=d(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||p(t,n),r?y(f,t,n,o,i):f(t,n,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function u(t){if(v=v||n(52),!(S.call(u,this)||this instanceof v))return new u(t);this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),w.call(this)}function l(t,e,n,r,i,o){if(!n){var a=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=x.from(e,n)),e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else c(t,e,!1,s,r,i,o);return u}function c(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function f(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),m(t,e)}function p(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,c(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk;if(c(t,e,!1,e.objectMode?1:l.length,l,n.encoding,n.callback),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function d(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function h(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),m(t,e)})}function m(t,e){var n=d(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,g.nextTick(h,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}var g=n(101);t.exports=u;var v,y=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:g.nextTick;u.WritableState=s;var b=n(79);b.inherits=n(7);var _={deprecate:n(379)},w=n(213),x=n(8).Buffer,E=i.Uint8Array||function(){},C=n(214);b.inherits(u,w),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var S;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(t){return!!S.call(this,t)||this===u&&(t&&t._writableState instanceof s)}})):S=function(t){return t instanceof this},u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},u.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&function(t){return x.isBuffer(t)||t instanceof E}(t);return o&&!x.isBuffer(t)&&(t=function(t){return x.from(t)}(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),g.nextTick(e,n)}(this,n):(o||function(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),g.nextTick(r,o),i=!1),i}(this,r,t,n))&&(r.pendingcb++,i=l(this,r,o,t,e,n)),i},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||p(this,t))},u.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},u.prototype._writev=null,u.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,m(t,e),n&&(e.finished?g.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),u.prototype.destroy=C.destroy,u.prototype._undestroy=C.undestroy,u.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(18),n(208).setImmediate,n(20))},function(t,e,n){"use strict";function r(t){this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(p.isEncoding===d||!d(t)))throw new Error("Unknown encoding: "+t);return e||t}(t);var e;switch(this.encoding){case"utf16le":this.text=a,this.end=s,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=u,this.end=l,e=3;break;default:return this.write=c,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(e)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function a(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function s(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){return e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}var p=n(8).Buffer,d=p.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},r.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=i(e[r]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--r<n||-2===o?0:(o=i(e[r]))>=0?(o>0&&(t.lastNeed=o-2),o):--r<n||-2===o?0:(o=i(e[r]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";function r(){p.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,r,o,a,s,u){return i(t+(e^n^r)+a+s|0,u)+o|0}function a(t,e,n,r,o,a,s,u){return i(t+(e&n|~e&r)+a+s|0,u)+o|0}function s(t,e,n,r,o,a,s,u){return i(t+((e|~n)^r)+a+s|0,u)+o|0}function u(t,e,n,r,o,a,s,u){return i(t+(e&r|n&~r)+a+s|0,u)+o|0}function l(t,e,n,r,o,a,s,u){return i(t+(e^(n|~r))+a+s|0,u)+o|0}var c=n(14).Buffer,f=n(7),p=n(211),d=new Array(16),h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],y=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];f(r,p),r.prototype._update=function(){for(var t=d,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,c=0|this._c,f=0|this._d,p=0|this._e,_=0|this._a,w=0|this._b,x=0|this._c,E=0|this._d,C=0|this._e,S=0;S<80;S+=1){var O,k;S<16?(O=o(n,r,c,f,p,t[h[S]],y[0],g[S]),k=l(_,w,x,E,C,t[m[S]],b[0],v[S])):S<32?(O=a(n,r,c,f,p,t[h[S]],y[1],g[S]),k=u(_,w,x,E,C,t[m[S]],b[1],v[S])):S<48?(O=s(n,r,c,f,p,t[h[S]],y[2],g[S]),k=s(_,w,x,E,C,t[m[S]],b[2],v[S])):S<64?(O=u(n,r,c,f,p,t[h[S]],y[3],g[S]),k=a(_,w,x,E,C,t[m[S]],b[3],v[S])):(O=l(n,r,c,f,p,t[h[S]],y[4],g[S]),k=o(_,w,x,E,C,t[m[S]],b[4],v[S])),n=p,p=f,f=i(c,10),c=r,r=O,_=C,C=E,E=i(x,10),x=w,w=k}var T=this._b+c+E|0;this._b=this._c+f+C|0,this._c=this._d+p+_|0,this._d=this._e+n+w|0,this._e=this._a+r+x|0,this._a=T},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=c.alloc?c.alloc(20):new c(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=r},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(385),e.sha1=n(386),e.sha224=n(387),e.sha256=n(216),e.sha384=n(388),e.sha512=n(217)},function(t,e,n){"use strict";e.utils=n(394),e.Cipher=n(395),e.DES=n(396),e.CBC=n(397),e.EDE=n(398)},function(t,e,n){var r=n(399),i=n(407),o=n(227);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var r={ECB:n(400),CBC:n(401),CFB:n(402),CFB8:n(403),CFB1:n(404),OFB:n(405),CTR:n(225),GCM:n(225)},i=n(227);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){(function(e){function r(t,n){var r=function(t){var e=i(t);return{blinder:e.toRed(o.mont(t.modulus)).redPow(new o(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),a=n.modulus.byteLength(),s=(o.mont(n.modulus),new o(t).mul(r.blinder).umod(n.modulus)),u=s.toRed(o.mont(n.prime1)),l=s.toRed(o.mont(n.prime2)),c=n.coefficient,f=n.prime1,p=n.prime2,d=u.redPow(n.exponent1),h=l.redPow(n.exponent2);d=d.fromRed(),h=h.fromRed();var m=d.isub(h).imul(c).umod(f);return m.imul(p),h.iadd(m),new e(h.imul(r.unblinder).umod(n.modulus).toArray(!1,a))}function i(t){for(var e=t.modulus.byteLength(),n=new o(a(e));n.cmp(t.modulus)>=0||!n.umod(t.prime1)||!n.umod(t.prime2);)n=new o(a(e));return n}var o=n(15),a=n(64);t.exports=r,r.getr=i}).call(e,n(14).Buffer)},function(t,e,n){var r=e;r.utils=n(37),r.common=n(81),r.sha=n(423),r.ripemd=n(427),r.hmac=n(428),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a=I;for(o=arguments.length;o-- >2;)N.push(arguments[o]);for(e&&null!=e.children&&(N.length||N.push(e.children),delete e.children);N.length;)if((r=N.pop())&&void 0!==r.pop)for(o=r.length;o--;)N.push(r[o]);else"boolean"==typeof r&&(r=null),(i="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(i=!1)),i&&n?a[a.length-1]+=r:a===I?a=[r]:a.push(r),n=i;var s=new T;return s.nodeName=t,s.children=a,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,void 0!==P.vnode&&P.vnode(s),s}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function a(t,e){return r(t.nodeName,i(i({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function s(t){!t._dirty&&(t._dirty=!0)&&1==D.push(t)&&(P.debounceRendering||A)(u)}function u(){for(var t;t=D.pop();)t._dirty&&E(t)}function l(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&c(t,e.nodeName):n||t._componentConstructor===e.nodeName}function c(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function f(t){var e=i({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function p(t){var e=t.parentNode;e&&e.removeChild(t)}function d(t,e,n,r,i){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)o(n,null),o(r,t);else if("class"!==e||i)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"==typeof r[a]&&!1===M.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,h,s):t.removeEventListener(e,h,s),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!i&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var u=i&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function h(t){return this._listeners[t.type](P.event&&P.event(t)||t)}function m(){for(var t;t=R.shift();)P.afterMount&&P.afterMount(t),t.componentDidMount&&t.componentDidMount()}function g(t,e,n,r,i,o){j++||(L=null!=i&&void 0!==i.ownerSVGElement,z=null!=t&&!("__preactattr_"in t));var a=v(t,e,n,r,o);return i&&a.parentNode!==i&&i.appendChild(a),--j||(z=!1,o||m()),a}function v(t,e,n,r,i){var o=t,a=L;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||i)?t.nodeValue!=e&&(t.nodeValue=e):(o=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),y(t,!0))),o.__preactattr_=!0,o;var s=e.nodeName;if("function"==typeof s)return function(t,e,n,r){var i=t&&t._component,o=i,a=t,s=i&&t._componentConstructor===e.nodeName,u=s,l=f(e);for(;i&&!u&&(i=i._parentComponent);)u=i.constructor===e.nodeName;i&&u&&(!r||i._component)?(x(i,l,3,n,r),t=i.base):(o&&!s&&(C(o),t=a=null),i=_(e.nodeName,l,n),t&&!i.nextBase&&(i.nextBase=t,a=null),x(i,l,1,n,r),t=i.base,a&&t!==a&&(a._component=null,y(a,!1)));return t}(t,e,n,r);if(L="svg"===s||"foreignObject"!==s&&L,s=String(s),(!t||!c(t,s))&&(o=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(s,L),t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),y(t,!0)}var u=o.firstChild,h=o.__preactattr_,m=e.children;if(null==h){h=o.__preactattr_={};for(var g=o.attributes,b=g.length;b--;)h[g[b].name]=g[b].value}return!z&&m&&1===m.length&&"string"==typeof m[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=m[0]&&(u.nodeValue=m[0]):(m&&m.length||null!=u)&&function(t,e,n,r,i){var o,a,s,u,c,f=t.childNodes,d=[],h={},m=0,g=0,b=f.length,_=0,w=e?e.length:0;if(0!==b)for(var x=0;x<b;x++){var E=f[x],C=E.__preactattr_,S=w&&C?E._component?E._component.__key:C.key:null;null!=S?(m++,h[S]=E):(C||(void 0!==E.splitText?!i||E.nodeValue.trim():i))&&(d[_++]=E)}if(0!==w)for(var x=0;x<w;x++){c=null;var S=(u=e[x]).key;if(null!=S)m&&void 0!==h[S]&&(c=h[S],h[S]=void 0,m--);else if(g<_)for(o=g;o<_;o++)if(void 0!==d[o]&&l(a=d[o],u,i)){c=a,d[o]=void 0,o===_-1&&_--,o===g&&g++;break}c=v(c,u,n,r),s=f[x],c&&c!==t&&c!==s&&(null==s?t.appendChild(c):c===s.nextSibling?p(s):t.insertBefore(c,s))}if(m)for(var x in h)void 0!==h[x]&&y(h[x],!1);for(;g<=_;)void 0!==(c=d[_--])&&y(c,!1)}(o,m,n,r,z||null!=h.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||d(t,r,n[r],n[r]=void 0,L);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||d(t,r,n[r],n[r]=e[r],L)}(o,e.attributes,h),L=a,o}function y(t,e){var n=t._component;n?C(n):(null!=t.__preactattr_&&o(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||p(t),b(t))}function b(t){for(t=t.lastChild;t;){var e=t.previousSibling;y(t,!0),t=e}}function _(t,e,n){var r,i=F.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),S.call(r,e,n)):((r=new S(e,n)).constructor=t,r.render=w);i--;)if(F[i].constructor===t)return r.nextBase=F[i].nextBase,F.splice(i,1),r;return r}function w(t,e,n){return this.constructor(t,n)}function x(t,e,n,r,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===P.syncComponentUpdates&&t.base?s(t):E(t,1,i)),o(t.__ref,t))}function E(t,e,n,r){if(!t._disable){var o,a,s,u=t.props,l=t.state,c=t.context,p=t.prevProps||u,d=t.prevState||l,h=t.prevContext||c,v=t.base,b=t.nextBase,w=v||b,S=t._component,O=!1,k=h;if(t.constructor.getDerivedStateFromProps&&(l=i(i({},l),t.constructor.getDerivedStateFromProps(u,l)),t.state=l),v&&(t.props=p,t.state=d,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(u,l,c)?O=!0:t.componentWillUpdate&&t.componentWillUpdate(u,l,c),t.props=u,t.state=l,t.context=c),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!O){o=t.render(u,l,c),t.getChildContext&&(c=i(i({},c),t.getChildContext())),v&&t.getSnapshotBeforeUpdate&&(k=t.getSnapshotBeforeUpdate(p,d));var T,N,I=o&&o.nodeName;if("function"==typeof I){var A=f(o);(a=S)&&a.constructor===I&&A.key==a.__key?x(a,A,1,c,!1):(T=a,t._component=a=_(I,A,c),a.nextBase=a.nextBase||b,a._parentComponent=t,x(a,A,0,c,!1),E(a,1,n,!0)),N=a.base}else s=w,(T=S)&&(s=t._component=null),(w||1===e)&&(s&&(s._component=null),N=g(s,o,c,n||!v,w&&w.parentNode,!0));if(w&&N!==w&&a!==S){var M=w.parentNode;M&&N!==M&&(M.replaceChild(N,w),T||(w._component=null,y(w,!1)))}if(T&&C(T),t.base=N,N&&!r){for(var D=t,L=t;L=L._parentComponent;)(D=L).base=N;N._component=D,N._componentConstructor=D.constructor}}for(!v||n?R.push(t):O||(t.componentDidUpdate&&t.componentDidUpdate(p,d,k),P.afterUpdate&&P.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);j||r||m()}}function C(t){P.beforeUnmount&&P.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?C(n):e&&(null!=e.__preactattr_&&o(e.__preactattr_.ref,null),t.nextBase=e,p(e),F.push(t),b(e)),o(t.__ref,null)}function S(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function O(t,e,n){return g(n,t,{},!1,e,!1)}function k(){return{}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"h",function(){return r}),n.d(e,"createElement",function(){return r}),n.d(e,"cloneElement",function(){return a}),n.d(e,"createRef",function(){return k}),n.d(e,"Component",function(){return S}),n.d(e,"render",function(){return O}),n.d(e,"rerender",function(){return u}),n.d(e,"options",function(){return P});var T=function(){},P={},N=[],I=[],A="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,M=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,D=[],R=[],j=0,L=!1,z=!1,F=[];i(S.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),s(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),E(this,2)},render:function(){}});e.default={h:r,createElement:r,cloneElement:a,createRef:k,Component:S,render:O,rerender:u,options:P}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(107),o=n(508),a=n(509),s=n(510),u=n(511),l=n(512);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=l,t.exports=r},function(t,e,n){var r=n(54)(n(39),"Map");t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(519),o=n(526),a=n(528),s=n(529),u=n(530);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(265),i=n(552),o=n(68);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){(function(t){var r=n(39),i=n(548),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0;t.exports=(s?s.isBuffer:void 0)||i}).call(e,n(104)(t))},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(549),i=n(550),o=n(551),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(29),i=n(164),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(67),i=n(55),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(565);t.exports=function(t){return null==t?"":r(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(274);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(53),a=i(n(66)),s=n(169),u=n(114),l=n(115),c={maxBins:12,fontSize:11};e.renderHistogram=function(t,e,n={}){return r(this,void 0,void 0,function*(){const r=function(t){if(null==t.length)throw new Error("input data must be an array");if(0===t.length)return[];if("object"==typeof t[0]){if(null==t[0].value)throw new Error("input data must have a value field");return t}{const e=Array(t.length);for(let n=0;n<t.length;n++)e[n]={value:t[n]};return e}}(t),i=Object.assign({},c,n),f=s.subSurface(e,"histogram");if(!1!==n.stats){const t=s.subSurface(e,"stats",{prepend:!0});let a;!function(t,e,n){const r=o.format(",.4~f"),i=o.format(".4~p"),a=[],s=[];if(null!=t.numVals&&(a.push("Num Vals"),s.push(r(t.numVals))),null!=t.min&&(a.push("Min"),s.push(r(t.min))),null!=t.max&&(a.push("Max"),s.push(r(t.max))),null!=t.numZeros){a.push("# Zeros");let e="";t.numVals&&(e=t.numZeros>0?`(${i(t.numZeros/t.numVals)})`:""),s.push(`${r(t.numZeros)} ${e}`)}if(null!=t.numNans){a.push("# NaNs");let e="";t.numVals&&(e=t.numNans>0?`(${i(t.numNans/t.numVals)})`:""),s.push(`${r(t.numNans)} ${e}`)}if(null!=t.numInfs){a.push("# Infinity");let e="";t.numVals&&(e=t.numInfs>0?`(${i(t.numInfs/t.numVals)})`:""),s.push(`${r(t.numInfs)} ${e}`)}l.renderTable({headers:a,values:[s]},e,n)}(a=n.stats?n.stats:u.arrayStats(r.map(t=>t.value)),t,{fontSize:i.fontSize})}const p=[];for(let t=0;t<r.length;t++){const e=r[t].value;null!=e&&isFinite(e)&&p.push(r[t])}return a.default(f,{width:i.width||f.clientWidth,height:i.height||f.clientHeight,padding:5,autosize:{type:"fit",contains:"padding",resize:!0},data:{values:p},mark:"bar",config:{axis:{labelFontSize:i.fontSize,titleFontSize:i.fontSize},text:{fontSize:i.fontSize},legend:{labelFontSize:i.fontSize,titleFontSize:i.fontSize}},encoding:{x:{bin:{maxbins:i.maxBins},field:"value",type:"quantitative"},y:{aggregate:"count",type:"quantitative"},color:{value:"#001B44"}}},{actions:!1,mode:"vega-lite",defaultStyle:!1})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(84),i=n(86),o=n(38),a={prepend:!1};e.subSurface=function(t,e,n={}){const s=o.getDrawArea(t),u=r.css(Object.assign({},i.tachyons("mv2"))),l=r.css(Object.assign({backgroundColor:"white",display:"inline-block",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",padding:"0 10px 0 10px",marginBottom:"20px"},i.tachyons("fw6 tl"))),c=Object.assign({},a,n);let f=s.querySelector(`div[data-name=${e}]`);if(!f){if((f=document.createElement("div")).setAttribute("class",`${u}`),f.dataset.name=e,c.title){const t=document.createElement("div");t.setAttribute("class",`subsurface-title ${l}`),t.innerText=c.title,f.appendChild(t)}c.prepend?s.insertBefore(f,s.firstChild):s.appendChild(f)}return f}},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(24),n(12),n(10),n(171),n(5),n(46)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./app"),i=t("../../config/config"),o=t("../../navigation/deep-linker"),s=t("../../platform/dom-controller"),u=t("../../gestures/gesture-controller"),l=t("../../navigation/nav-controller-base"),c=t("../../platform/platform"),f=t("../../transitions/transition-controller"),p=function(t){function e(e,n,r,i,o,a,s,u,l,c,f,p,d){var h=t.call(this,null,e,n,r,i,o,a,s,u,l,c,p,d)||this;return h._isPortal=!0,h._init=!0,h.setViewport(f),e.viewDidLeave.subscribe(function(t){t.isOverlay||h.dismissPageChangeViews()}),h}return a(e,t),Object.defineProperty(e.prototype,"_overlayPortal",{set:function(t){this._zIndexOffset=t||0},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.getType=function(){return"portal"},e.prototype.getSecondaryIdentifier=function(){return null},e.decorators=[{type:n.Directive,args:[{selector:"[overlay-portal]"}]}],e.ctorParameters=function(){return[{type:r.App,decorators:[{type:n.Inject,args:[n.forwardRef(function(){return r.App})]}]},{type:i.Config},{type:c.Platform},{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer},{type:n.ComponentFactoryResolver},{type:u.GestureController},{type:f.TransitionController},{type:o.DeepLinker,decorators:[{type:n.Optional}]},{type:n.ViewContainerRef},{type:s.DomController},{type:n.ErrorHandler}]},e.propDecorators={_overlayPortal:[{type:n.Input,args:["overlay-portal"]}]},e}(l.NavControllerBase);e.OverlayPortal=p})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(56),n(56),n(4),n(6),n(9),n(31),n(17),n(632)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./nav-util"),i=t("./nav-util"),o=t("../util/util"),s=t("./view-controller"),u=t("../components/ion"),l=t("./nav-controller"),c=t("./nav-params"),f=t("./swipe-back"),p=function(t){function e(e,r,i,o,a,s,u,l,c,f,p,h,m){var g=t.call(this,i,a,u)||this;return g.parent=e,g._app=r,g.config=i,g.plt=o,g._zone=s,g._cfr=l,g._gestureCtrl=c,g._trnsCtrl=f,g._linker=p,g._domCtrl=h,g._errHandler=m,g._ids=-1,g._init=!1,g._queue=[],g._trnsId=null,g._trnsTm=!1,g._views=[],g._zIndexOffset=0,g.viewDidLoad=new n.EventEmitter,g.viewWillEnter=new n.EventEmitter,g.viewDidEnter=new n.EventEmitter,g.viewWillLeave=new n.EventEmitter,g.viewDidLeave=new n.EventEmitter,g.viewWillUnload=new n.EventEmitter,g._sbEnabled=i.getBoolean("swipeBackEnabled"),g._children=[],g.id="n"+ ++d,g._destroyed=!1,g}return a(e,t),Object.defineProperty(e.prototype,"swipeBackEnabled",{get:function(){return this._sbEnabled},set:function(t){this._sbEnabled=o.isTrueProperty(t),this._swipeBackCheck()},enumerable:!0,configurable:!0}),e.prototype.push=function(t,e,n,r){return this._queueTrns({insertStart:-1,insertViews:[{page:t,params:e}],opts:n},r)},e.prototype.insert=function(t,e,n,r,i){return this._queueTrns({insertStart:t,insertViews:[{page:e,params:n}],opts:r},i)},e.prototype.insertPages=function(t,e,n,r){return this._queueTrns({insertStart:t,insertViews:e,opts:n},r)},e.prototype.pop=function(t,e){return this._queueTrns({removeStart:-1,removeCount:1,opts:t},e)},e.prototype.popTo=function(t,e,n){var r={removeStart:-1,removeCount:-1,opts:e};return s.isViewController(t)?(r.removeView=t,r.removeStart=1):o.isNumber(t)&&(r.removeStart=t+1),this._queueTrns(r,n)},e.prototype.popToRoot=function(t,e){return this._queueTrns({removeStart:1,removeCount:-1,opts:t},e)},e.prototype.popAll=function(){for(var t=[],e=this._views.length-1;e>=0;e--)t.push(this.pop(null));return Promise.all(t)},e.prototype.remove=function(t,e,n,r){return void 0===e&&(e=1),this._queueTrns({removeStart:t,removeCount:e,opts:n},r)},e.prototype.removeView=function(t,e,n){return this._queueTrns({removeView:t,removeStart:0,removeCount:1,opts:e},n)},e.prototype.setRoot=function(t,e,n,r){return this.setPages([{page:t,params:e}],n,r)},e.prototype.setPages=function(t,e,n){return o.isBlank(e)&&(e={}),!0!==e.animate&&(e.animate=!1),this._queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:e},n)},e.prototype._queueTrns=function(t,e){var n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.done=e,t.insertViews&&0===t.insertViews.length&&(t.insertViews=void 0),this._queue.push(t),this._nextTrns(),n},e.prototype._success=function(t,e){null!==this._queue?(this._init=!0,this._trnsId=null,this.setTransitioning(!1),this._swipeBackCheck(),this._nextTrns(),e.done&&e.done(t.hasCompleted,t.requiresTransition,t.enteringName,t.leavingName,t.direction),e.resolve(t.hasCompleted)):this._fireError("nav controller was destroyed",e)},e.prototype._failed=function(t,e){null!==this._queue?(this._trnsId=null,this._queue.length=0,this.setTransitioning(!1),this._swipeBackCheck(),this._nextTrns(),this._fireError(t,e)):this._fireError("nav controller was destroyed",e)},e.prototype._fireError=function(t,e){e.done&&e.done(!1,!1,t),e.reject&&!this._destroyed?e.reject(t):e.resolve(!1)},e.prototype._nextTrns=function(){var t=this;if(this.isTransitioning())return!1;var e=this._queue.shift();if(!e)return!1;var n,i;return this._startTI(e).then(function(){return t._loadLazyLoading(e)}).then(function(){if(i=t.getActive(),n=t._getEnteringView(e,i),!i&&!n)throw"no views in the stack to be removed";n&&n._state===r.STATE_NEW&&t._viewInit(n),e.requiresTransition=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&n!==i}).then(function(){return t._viewTest(n,i,e)}).then(function(){return t._postViewInit(n,i,e)}).then(function(){return t._transition(n,i,e)}).then(function(n){return t._success(n,e)}).catch(function(n){return t._failed(n,e)}),!0},e.prototype._startTI=function(t){var e=this._views.length;if(o.isPresent(t.removeView)){var n=this.indexOf(t.removeView);if(n<0)return Promise.reject("removeView was not found");t.removeStart+=n}return o.isPresent(t.removeStart)&&(t.removeStart<0&&(t.removeStart=e-1),t.removeCount<0&&(t.removeCount=e-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===e),t.insertViews&&((t.insertStart<0||t.insertStart>e)&&(t.insertStart=e),t.enteringRequiresTransition=t.insertStart===e),this.setTransitioning(!0),Promise.resolve()},e.prototype._loadLazyLoading=function(t){var e=this,n=t.insertViews;return n?r.convertToViews(this._linker,n).then(function(n){if(0===(n=n.filter(function(t){return null!==t})).length)throw"invalid views to insert";for(var i=0;i<n.length;i++){var o=n[i],a=o._nav;if(a&&a!==e)throw"inserted view was already inserted";if(o._state===r.STATE_DESTROYED)throw"inserted view was already destroyed"}t.insertViews=n}):Promise.resolve()},e.prototype._getEnteringView=function(t,e){var n=t.insertViews;if(n)return n[n.length-1];var r=t.removeStart;if(o.isPresent(r)){var i,a,s=this._views,u=r+t.removeCount;for(i=s.length-1;i>=0;i--)if(a=s[i],(i<r||i>=u)&&a!==e)return a}return null},e.prototype._postViewInit=function(t,e,n){var i,a,s,u=this,l=n.opts||{},c=n.insertViews,f=n.removeStart,p=n.removeCount;if(o.isPresent(f)){for(s=[],a=0;a<p;a++)(i=this._views[a+f])&&i!==t&&i!==e&&s.push(i);l.direction=l.direction||r.DIRECTION_BACK}if(0===this._views.length+(c?c.length:0)-(p||0)&&!this._isPortal)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.getNativeElement()),"navigation stack needs at least one root page";if(c){for(o.isPresent(l.id)&&(t.id=l.id),a=0;a<c.length;a++)this._insertViewAt(i=c[a],n.insertStart+a);n.enteringRequiresTransition&&(l.direction=l.direction||r.DIRECTION_FORWARD)}if(s&&s.length>0)for(this._zone.run(function(){for(a=0;a<s.length;a++)u._willLeave(i=s[a],!0),u._didLeave(i),u._willUnload(i)}),a=0;a<s.length;a++)this._destroyView(s[a]);n.requiresTransition&&!l.animation&&(l.animation=o.isPresent(n.removeStart)?(e||t).getTransitionName(l.direction):(t||e).getTransitionName(l.direction)),n.opts=l},e.prototype._viewInit=function(t){var e=n.ReflectiveInjector.resolve([{provide:l.NavController,useValue:this},{provide:s.ViewController,useValue:t},{provide:c.NavParams,useValue:t.getNavParams()}]),i=this._linker.resolveComponent(t.component),o=n.ReflectiveInjector.fromResolvedProviders(e,this._viewport.parentInjector);t.init(i.create(o,[])),t._state=r.STATE_INITIALIZED,this._preLoad(t)},e.prototype._viewAttachToDOM=function(t,e,n){if(this._willLoad(t),n.insert(e.hostView,n.length),t._state=r.STATE_ATTACHED,t._cssClass){this._renderer.setElementClass(e.location.nativeElement,t._cssClass,!0)}e.changeDetectorRef.detectChanges(),this._zone.run(this._didLoad.bind(this,t))},e.prototype._viewTest=function(t,e,n){if(!n.requiresTransition)return Promise.resolve();var r=[];return e&&r.push(e._lifecycleTest("Leave")),t&&r.push(t._lifecycleTest("Enter")),0===r.length?Promise.resolve():Promise.all(r).then(function(t){if(t.some(function(t){return!1===t}))throw"canEnter/Leave returned false"}).catch(function(t){throw n.reject=null,t})},e.prototype._transition=function(t,e,n){var i=this;if(!n.requiresTransition)return Promise.resolve({hasCompleted:!0,requiresTransition:!1});var o=n.opts;this._trnsId=this._trnsCtrl.getRootTrnsId(this),null===this._trnsId&&(this._trnsId=this._trnsCtrl.nextId());var a=this._trnsCtrl.get(this._trnsId,t,e,{animation:o.animation,direction:o.direction,duration:!1===o.animate?0:o.duration,easing:o.easing,isRTL:this._config.plt.isRTL,ev:o.ev});this._sbTrns&&this._sbTrns.destroy(),this._sbTrns=null,a.isRoot()&&o.progressAnimation&&(this._sbTrns=a);var s=new Promise(function(t){return a.registerStart(t)}).then(function(){return i._transitionStart(a,t,e,o)});return t&&t._state===r.STATE_INITIALIZED&&this._viewAttachToDOM(t,t._cmp,this._viewport),a.hasChildren||a.start(),s},e.prototype._transitionStart=function(t,e,n,r){var o=this;this._trnsId=null,i.setZIndex(this,e,n,r.direction,this._renderer),e&&e._domShow(!0,this._renderer),n&&n._domShow(!0,this._renderer),t.init();var a=!this._init&&1===this._views.length&&!this._isPortal,s=!1===this._config.get("animate");(a||s)&&(r.animate=!1),!1===r.animate&&t.duration(0),t.beforeAddRead(this._viewsWillLifecycles.bind(this,e,n));var u=t.getDuration(),l=new Promise(function(e){t.onFinish(e)});return t.isRoot()&&(u>h&&!1!==r.disableApp&&this._app.setEnabled(!1,u+g,r.minClickBlockDuration),r.progressAnimation?t.progressStart():t.play()),l.then(function(){return o._zone.run(function(){return o._transitionFinish(t,r)})})},e.prototype._transitionFinish=function(t,e){var n,r,i=t.hasCompleted,o=t.enteringView,a=t.leavingView;return i?(o&&(n=o.name,this._didEnter(o)),a&&(r=a.name,this._didLeave(a)),this._cleanup(o)):this._cleanup(a),t.isRoot()&&(this._trnsCtrl.destroy(t.trnsId),this._app.setEnabled(!0),this.setTransitioning(!1),this.hasChildren()||!1===e.updateUrl||this._linker.navChange(e.direction),!1!==e.keyboardClose&&this.plt.focusOutActiveElement()),{hasCompleted:i,requiresTransition:!0,enteringName:n,leavingName:r,direction:e.direction}},e.prototype._viewsWillLifecycles=function(t,e){var n=this;(t||e)&&this._zone.run(function(){if(e){n._willLeave(e,!t||e.index>t.index)}t&&n._willEnter(t)})},e.prototype._insertViewAt=function(t,e){var n=this._views.indexOf(t);n>-1?this._views.splice(e,0,this._views.splice(n,1)[0]):(t._setNav(this),this._ids++,t.id||(t.id=this.id+"-"+this._ids),this._views.splice(e,0,t))},e.prototype._removeView=function(t){var e=this._views,n=e.indexOf(t);n>=0&&e.splice(n,1)},e.prototype._destroyView=function(t){t._destroy(this._renderer),this._removeView(t)},e.prototype._cleanup=function(t){if(!this._destroyed){var e=this._views.indexOf(t),n=this._views,i=!1,o=void 0,a=void 0;for(a=n.length-1;a>=0;a--)o=n[a],a>e?(this._willUnload(o),this._destroyView(o)):a<e&&!this._isPortal&&o._domShow(!1,this._renderer),o._zIndex<=0&&(i=!0);if(!this._isPortal&&i)for(a=0;a<n.length;a++)(o=n[a])._setZIndex(o._zIndex+r.INIT_ZINDEX+1,this._renderer)}},e.prototype._preLoad=function(t){t._preLoad()},e.prototype._willLoad=function(t){try{t._willLoad()}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._didLoad=function(t){try{t._didLoad(),this.viewDidLoad.emit(t),this._app.viewDidLoad.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._willEnter=function(t){try{t._willEnter(),this.viewWillEnter.emit(t),this._app.viewWillEnter.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._didEnter=function(t){try{t._didEnter(),this.viewDidEnter.emit(t),this._app.viewDidEnter.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._willLeave=function(t,e){try{t._willLeave(e),this.viewWillLeave.emit(t),this._app.viewWillLeave.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._didLeave=function(t){try{t._didLeave(),this.viewDidLeave.emit(t),this._app.viewDidLeave.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype._willUnload=function(t){try{t._willUnload(),this.viewWillUnload.emit(t),this._app.viewWillUnload.emit(t)}catch(t){this._errHandler&&this._errHandler.handleError(t)}},e.prototype.hasChildren=function(){return this._children&&this._children.length>0},e.prototype.getActiveChildNavs=function(){return this._children},e.prototype.getAllChildNavs=function(){return this._children},e.prototype.registerChildNav=function(t){this._children.push(t)},e.prototype.unregisterChildNav=function(t){this._children=this._children.filter(function(e){return e!==t})},e.prototype.destroy=function(){for(var t,e=this._views,n=0;n<e.length;n++)(t=e[n])._willUnload(),t._destroy(this._renderer);this._sbGesture&&this._sbGesture.destroy(),this._sbTrns&&this._sbTrns.destroy(),this._queue=this._views=this._sbGesture=this._sbTrns=null,this.parent&&this.parent.unregisterChildNav?this.parent.unregisterChildNav(this):this._app&&this._app.unregisterRootNav(this),this._destroyed=!0},e.prototype.swipeBackStart=function(){if(!(this.isTransitioning()||this._queue.length>0)){this._queueTrns({removeStart:-1,removeCount:1,opts:{direction:r.DIRECTION_BACK,progressAnimation:!0}},null)}},e.prototype.swipeBackProgress=function(t){this._sbTrns&&this._sbGesture&&(this._app.setEnabled(!1,m),this.setTransitioning(!0),this._sbTrns.progressStep(t))},e.prototype.swipeBackEnd=function(t,e,n){if(this._sbTrns&&this._sbGesture){var r=this._sbTrns.getDuration()/(Math.abs(n)+1);this._sbTrns.progressEnd(t,e,r)}},e.prototype._swipeBackCheck=function(){this.canSwipeBack()?(this._sbGesture||(this._sbGesture=new f.SwipeBackGesture(this.plt,this,this._gestureCtrl,this._domCtrl)),this._sbGesture.listen()):this._sbGesture&&this._sbGesture.unlisten()},e.prototype.canSwipeBack=function(){return this._sbEnabled&&!this._isPortal&&!this._children.length&&!this.isTransitioning()&&this._app.isEnabled()&&this.canGoBack()},e.prototype.canGoBack=function(){var t=this.getActive();return!(!t||!t.enableBack())},e.prototype.isTransitioning=function(){return this._trnsTm},e.prototype.setTransitioning=function(t){this._trnsTm=t},e.prototype.getActive=function(){return this._views[this._views.length-1]},e.prototype.isActive=function(t){return t===this.getActive()},e.prototype.getByIndex=function(t){return this._views[t]},e.prototype.getPrevious=function(t){t||(t=this.getActive());var e=this._views,n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.first=function(){return this._views[0]},e.prototype.last=function(){var t=this._views;return t[t.length-1]},e.prototype.indexOf=function(t){return this._views.indexOf(t)},e.prototype.length=function(){return this._views.length},e.prototype.getViews=function(){return this._views},e.prototype.getViewById=function(t){for(var e=0,n=this._views;e<n.length;e++){var r=n[e];if(r&&r.id===t)return r}return null},e.prototype.isSwipeBackEnabled=function(){return this._sbEnabled},e.prototype.dismissPageChangeViews=function(){for(var t=0,e=this._views;t<e.length;t++){var n=e[t];n.data&&n.data.dismissOnPageChange&&n.dismiss().catch(function(){})}},e.prototype.setViewport=function(t){this._viewport=t},e.prototype.resize=function(){var t=this.getActive();if(t){var e=t.getIONContent();e&&e.resize()}},e.prototype.goToRoot=function(t){return Promise.reject(new Error("goToRoot needs to be implemented by child class"))},e.prototype.getType=function(){return"nav"},e.prototype.getSecondaryIdentifier=function(){return null},e.prototype.getActiveChildNav=function(){return console.warn("(getActiveChildNav) is deprecated and will be removed in the next major release. Use getActiveChildNavs instead."),this._children[this._children.length-1]},e.propDecorators={swipeBackEnabled:[{type:n.Input}]},e}(u.Ion);e.NavControllerBase=p;var d=-1,h=64,m=5e3,g=2e3})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(634),n(19),n(45)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../util/util"),r=t("./recognizers"),i=t("../util/dom"),o=t("./ui-event-manager"),a=function(){function t(t,e,i){void 0===i&&(i={}),this.plt=t,this.element=e,n.defaults(i,{threshold:20,maxAngle:40,direction:"x",zone:!0,capture:!1,passive:!1}),this.events=new o.UIEventManager(t),i.domController&&(this.debouncer=i.domController.debouncer()),this.gestute=i.gesture,this.direction=i.direction,this.eventsConfig={element:this.element,pointerDown:this.pointerDown.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerUp.bind(this),zone:i.zone,capture:i.capture,passive:i.passive},i.threshold>0&&(this.detector=new r.PanRecognizer(i.direction,i.threshold,i.maxAngle))}return t.prototype.listen=function(){this.isListening||(this.pointerEvents=this.events.pointerEvents(this.eventsConfig),this.isListening=!0)},t.prototype.unlisten=function(){this.isListening&&(this.gestute&&this.gestute.release(),this.events.unlistenAll(),this.isListening=!1)},t.prototype.destroy=function(){this.gestute&&this.gestute.destroy(),this.gestute=null,this.unlisten(),this.events.destroy(),this.events=this.element=this.gestute=null},t.prototype.pointerDown=function(t){if(!this.started){if(!this.canStart(t))return!1;if(this.gestute&&(this.gestute.release(),!this.gestute.start()))return!1;this.started=!0,this.captured=!1;var e=i.pointerCoord(t);if(this.detector)this.detector.start(e);else if(!this.tryToCapture(t))return this.started=!1,this.captured=!1,this.gestute.release(),!1;return!0}},t.prototype.pointerMove=function(t){var e=this;if(this.captured)this.debouncer.write(function(){e.onDragMove(t)});else{var n=i.pointerCoord(t);this.detector.detect(n)&&0!==this.detector.pan()&&(this.tryToCapture(t)||this.abort(t))}},t.prototype.pointerUp=function(t){this.debouncer.cancel(),this.gestute&&this.gestute.release(),this.captured?this.onDragEnd(t):this.notCaptured(t),this.captured=!1,this.started=!1},t.prototype.tryToCapture=function(t){return!(this.gestute&&!this.gestute.capture())&&(this.onDragStart(t),this.captured=!0,!0)},t.prototype.abort=function(t){this.started=!1,this.captured=!1,this.gestute.release(),this.pointerEvents.stop(),this.notCaptured(t)},t.prototype.getNativeElement=function(){return this.element},t.prototype.canStart=function(t){return!0},t.prototype.onDragStart=function(t){},t.prototype.onDragMove=function(t){},t.prototype.onDragEnd=function(t){},t.prototype.notCaptured=function(t){},t}();e.PanGesture=a})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(10),n(3),n(42),n(17),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../gestures/gesture-controller"),i=t("../../config/config"),o=t("../../platform/key"),a=t("../../navigation/nav-params"),s=t("../../navigation/view-controller"),u=function(){function t(t,e,n,i,o,a){this._viewCtrl=t,this._elementRef=n,this.gestureBlocker=i.createBlocker(r.BLOCK_ALL),this.d=o.data,this.mode=e.get("mode"),a.setElementClass(n.nativeElement,"action-sheet-"+this.mode,!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&a.setElementClass(n.nativeElement,t,!0)}),this.id=++l,this.d.title&&(this.hdrId="acst-hdr-"+this.id),this.d.subTitle&&(this.descId="acst-subhdr-"+this.id)}return t.prototype.ionViewDidLoad=function(){var t=this;this.d.buttons=this.d.buttons.map(function(e){switch("string"==typeof e&&(e={text:e}),e.cssClass||(e.cssClass=""),e.role){case"cancel":return t.cancelButton=e,null;case"destructive":e.cssClass=(e.cssClass+" "||"")+"action-sheet-destructive";break;case"selected":e.cssClass=(e.cssClass+" "||"")+"action-sheet-selected"}return e}).filter(function(t){return null!==t})},t.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this.gestureBlocker.unblock()},t.prototype.ionViewDidEnter=function(){var t=this._elementRef.nativeElement.querySelector("button");t&&t.focus(),this.enabled=!0},t.prototype.keyUp=function(t){this.enabled&&t.keyCode===o.KEY_ESCAPE&&this._viewCtrl.isLast()&&this.bdClick()},t.prototype.click=function(t){if(this.enabled){var e=!0;t.handler&&!1===t.handler()&&(e=!1),e&&this.dismiss(t.role)}},t.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&(this.cancelButton?this.click(this.cancelButton):this.dismiss("backdrop"))},t.prototype.dismiss=function(t){return this._viewCtrl.dismiss(null,t,{minClickBlockDuration:400})},t.prototype.ngOnDestroy=function(){this.d=this.cancelButton=null,this.gestureBlocker.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-action-sheet",template:'<ion-backdrop (click)="bdClick()" [class.backdrop-no-tappable]="!d.enableBackdropDismiss"></ion-backdrop><div class="action-sheet-wrapper"><div class="action-sheet-container"><div class="action-sheet-group"><div class="action-sheet-title" id="{{hdrId}}" *ngIf="d.title">{{d.title}}</div><div class="action-sheet-sub-title" id="{{descId}}" *ngIf="d.subTitle">{{d.subTitle}}</div><button ion-button="action-sheet-button" (click)="click(b)" *ngFor="let b of d.buttons" class="disable-hover" [attr.icon-start]="b.icon ? \'\' : null" [ngClass]="b.cssClass"><ion-icon [name]="b.icon" *ngIf="b.icon" class="action-sheet-icon"></ion-icon>{{b.text}}</button></div><div class="action-sheet-group action-sheet-group-cancel" *ngIf="cancelButton"><button ion-button="action-sheet-button" (click)="click(cancelButton)" class="action-sheet-cancel disable-hover" [attr.icon-start]="cancelButton.icon ? \'\' : null" [ngClass]="cancelButton.cssClass"><ion-icon [name]="cancelButton.icon" *ngIf="cancelButton.icon" class="action-sheet-icon"></ion-icon>{{cancelButton.text}}</button></div></div></div>',host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:s.ViewController},{type:i.Config},{type:n.ElementRef},{type:r.GestureController},{type:a.NavParams},{type:n.Renderer}]},t.propDecorators={keyUp:[{type:n.HostListener,args:["body:keyup",["$event"]]}]},t}();e.ActionSheetCmp=u;var l=-1})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(19),n(10),n(4),n(42),n(17),n(5),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../util/dom"),o=t("../../gestures/gesture-controller"),a=t("../../util/util"),s=t("../../platform/key"),u=t("../../navigation/nav-params"),l=t("../../platform/platform"),c=t("../../navigation/view-controller"),f=function(){function t(t,e,n,r,i,a,s){this._viewCtrl=t,this._elementRef=e,this._renderer=a,this._plt=s,this.gestureBlocker=r.createBlocker(o.BLOCK_ALL),this.d=i.data,this.mode=this.d.mode||n.get("mode"),this.keyboardResizes=n.getBoolean("keyboardResizes",!1),a.setElementClass(e.nativeElement,"alert-"+this.mode,!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&a.setElementClass(e.nativeElement,t,!0)}),this.id=++p,this.descId="",this.hdrId="alert-hdr-"+this.id,this.subHdrId="alert-subhdr-"+this.id,this.msgId="alert-msg-"+this.id,this.activeId="",this.lastClick=0,this.d.message?this.descId=this.msgId:this.d.subTitle&&(this.descId=this.subHdrId),this.d.message||(this.d.message="")}return t.prototype.ionViewDidLoad=function(){var t=this,e=this.d;e.buttons=e.buttons.map(function(t){return"string"==typeof t?{text:t}:t}),e.inputs=e.inputs.map(function(e,n){return{type:e.type||"text",name:a.isPresent(e.name)?e.name:n+"",placeholder:a.isPresent(e.placeholder)?e.placeholder:"",value:a.isPresent(e.value)?e.value:"",label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:a.isPresent(e.id)?e.id:"alert-input-"+t.id+"-"+n,handler:a.isPresent(e.handler)?e.handler:null,min:a.isPresent(e.min)?e.min:null,max:a.isPresent(e.max)?e.max:null}});var n=[];e.inputs.forEach(function(t){n.indexOf(t.type)<0&&n.push(t.type)}),n.length>1&&(n.indexOf("checkbox")>-1||n.indexOf("radio")>-1)&&console.warn("Alert cannot mix input types: "+n.join("/")+". Please see alert docs for more info."),this.inputType=n.length?n[0]:null;var r=this.d.inputs.find(function(t){return t.checked});r&&(this.activeId=r.id);var o=this.d.inputs.length&&this.d.inputs.some(function(t){return!i.NON_TEXT_INPUT_REGEX.test(t.type)});!this.keyboardResizes&&o&&this._plt.is("mobile")&&this._renderer.setElementClass(this._elementRef.nativeElement,"alert-top",!0)},t.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this.gestureBlocker.unblock()},t.prototype.ionViewDidEnter=function(){var t=this._elementRef.nativeElement.querySelector("input,button");t&&setTimeout(function(){return t.focus()}),this.enabled=!0},t.prototype.keyUp=function(t){if(this.enabled&&this._viewCtrl.isLast())if(t.keyCode===s.KEY_ENTER){if(this.lastClick+1e3<Date.now()){this.btnClick(this.d.buttons[this.d.buttons.length-1])}}else t.keyCode===s.KEY_ESCAPE&&this.bdClick()},t.prototype.btnClick=function(t){if(this.enabled){this.lastClick=Date.now();var e=!0;t.handler&&!1===t.handler(this.getValues())&&(e=!1),e&&this.dismiss(t.role)}},t.prototype.rbClick=function(t){this.enabled&&(this.d.inputs.forEach(function(e){e.checked=t===e}),this.activeId=t.id,t.handler&&t.handler(t))},t.prototype.cbClick=function(t){this.enabled&&(t.checked=!t.checked,t.handler&&t.handler(t))},t.prototype.bdClick=function(){if(this.enabled&&this.d.enableBackdropDismiss){var t=this.d.buttons.find(function(t){return"cancel"===t.role});t?this.btnClick(t):this.dismiss("backdrop")}},t.prototype.dismiss=function(t){return this._viewCtrl.dismiss(this.getValues(),t,{minClickBlockDuration:400})},t.prototype.getValues=function(){if("radio"===this.inputType){var t=this.d.inputs.find(function(t){return t.checked});return t?t.value:void 0}if("checkbox"===this.inputType)return this.d.inputs.filter(function(t){return t.checked}).map(function(t){return t.value});if(0!==this.d.inputs.length){var e={};return this.d.inputs.forEach(function(t){e[t.name]=t.value}),e}},t.prototype.ngOnDestroy=function(){this.gestureBlocker.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-alert",template:'<ion-backdrop (click)="bdClick()" [class.backdrop-no-tappable]="!d.enableBackdropDismiss"></ion-backdrop><div class="alert-wrapper"><div class="alert-head"><h2 id="{{hdrId}}" class="alert-title" *ngIf="d.title" [innerHTML]="d.title"></h2><h3 id="{{subHdrId}}" class="alert-sub-title" *ngIf="d.subTitle" [innerHTML]="d.subTitle"></h3></div><div id="{{msgId}}" class="alert-message" [innerHTML]="d.message"></div><div *ngIf="d.inputs.length" [ngSwitch]="inputType"><ng-template ngSwitchCase="radio"><div class="alert-radio-group" role="radiogroup" [attr.aria-labelledby]="hdrId" [attr.aria-activedescendant]="activeId"><button ion-button="alert-radio-button" *ngFor="let i of d.inputs" (click)="rbClick(i)" [attr.aria-checked]="i.checked" [disabled]="i.disabled" [attr.id]="i.id" class="alert-tappable alert-radio" role="radio"><div class="alert-radio-icon"><div class="alert-radio-inner"></div></div><div class="alert-radio-label">{{i.label}}</div></button></div></ng-template><ng-template ngSwitchCase="checkbox"><div class="alert-checkbox-group"><button ion-button="alert-checkbox-button" *ngFor="let i of d.inputs" (click)="cbClick(i)" [attr.aria-checked]="i.checked" [attr.id]="i.id" [disabled]="i.disabled" class="alert-tappable alert-checkbox" role="checkbox"><div class="alert-checkbox-icon"><div class="alert-checkbox-inner"></div></div><div class="alert-checkbox-label">{{i.label}}</div></button></div></ng-template><ng-template ngSwitchDefault><div class="alert-input-group"><div *ngFor="let i of d.inputs" class="alert-input-wrapper"><input [placeholder]="i.placeholder" [(ngModel)]="i.value" [type]="i.type" dir="auto" [min]="i.min" [max]="i.max" [attr.id]="i.id" class="alert-input"></div></div></ng-template></div><div class="alert-button-group" [ngClass]="{\'alert-button-group-vertical\':d.buttons.length>2}"><button ion-button="alert-button" *ngFor="let b of d.buttons" (click)="btnClick(b)" [ngClass]="b.cssClass">{{b.text}}</button></div></div>',host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:c.ViewController},{type:n.ElementRef},{type:r.Config},{type:o.GestureController},{type:u.NavParams},{type:n.Renderer},{type:l.Platform}]},t.propDecorators={keyUp:[{type:n.HostListener,args:["body:keyup",["$event"]]}]},t}();e.AlertCmp=f;var p=-1})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../ion"),o=t("../../util/util"),s=function(t){function e(e,n,r){var i=t.call(this,e,n,r,"spinner")||this;return i._dur=null,i._paused=!1,i}return a(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,this.load()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._dur},set:function(t){this._dur=t,this.load()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=o.isTrueProperty(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._init=!0,this.load()},e.prototype.load=function(){if(this._init){this._l=[],this._c=[];var t=this._name||this._config.get("spinner","ios"),e=u[t];if(e){if(e.lines)for(var n=0,r=e.lines;n<r;n++)this._l.push(this._loadEle(e,n,r));else if(e.circles)for(n=0,r=e.circles;n<r;n++)this._c.push(this._loadEle(e,n,r));this.setElementClass("spinner-"+t,!0),this.setElementClass("spinner-"+this._mode+"-"+t,!0)}}},e.prototype._loadEle=function(t,e,n){var r=this._dur||t.dur,i=t.fn(r,e,n);return i.style.animationDuration=r+"ms",i},e.decorators=[{type:n.Component,args:[{selector:"ion-spinner",template:'<svg viewBox="0 0 64 64" *ngFor="let i of _c" [ngStyle]="i.style"><circle [attr.r]="i.r" transform="translate(32,32)"></circle></svg><svg viewBox="0 0 64 64" *ngFor="let i of _l" [ngStyle]="i.style"><line [attr.y1]="i.y1" [attr.y2]="i.y2" transform="translate(32,32)"></line></svg>',host:{"[class.spinner-paused]":"_paused"},changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={name:[{type:n.Input}],duration:[{type:n.Input}],paused:[{type:n.Input}]},e}(i.Ion);e.Spinner=s;var u={ios:{dur:1e3,lines:12,fn:function(t,e,n){var r="rotate("+(30*e+(e<6?180:-180))+"deg)",i=-(t-t/n*e)+"ms";return{y1:17,y2:29,style:{transform:r,webkitTransform:r,animationDelay:i,webkitAnimationDelay:i}}}},"ios-small":{dur:1e3,lines:12,fn:function(t,e,n){var r="rotate("+(30*e+(e<6?180:-180))+"deg)",i=-(t-t/n*e)+"ms";return{y1:12,y2:20,style:{transform:r,webkitTransform:r,animationDelay:i,webkitAnimationDelay:i}}}},bubbles:{dur:1e3,circles:9,fn:function(t,e,n){var r=-(t-t/n*e)+"ms";return{r:5,style:{top:9*Math.sin(2*Math.PI*e/n)+"px",left:9*Math.cos(2*Math.PI*e/n)+"px",animationDelay:r,webkitAnimationDelay:r}}}},circles:{dur:1e3,circles:8,fn:function(t,e,n){var r=-(t-t/n*e)+"ms";return{r:5,style:{top:9*Math.sin(2*Math.PI*e/n)+"px",left:9*Math.cos(2*Math.PI*e/n)+"px",animationDelay:r,webkitAnimationDelay:r}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(t,e){var n=-110*e+"ms";return{r:6,style:{left:9-9*e+"px",animationDelay:n,webkitAnimationDelay:n}}}}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(10),n(4),n(42),n(17),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../gestures/gesture-controller"),o=t("../../util/util"),a=t("../../platform/key"),s=t("../../navigation/nav-params"),u=t("../../navigation/view-controller"),l=function(){function t(t,e,n,r,o,a){this._viewCtrl=t,this._config=e,this.gestureBlocker=r.createBlocker(i.BLOCK_ALL),this.d=o.data,a.setElementClass(n.nativeElement,"loading-"+e.get("mode"),!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&a.setElementClass(n.nativeElement,t,!0)}),this.id=++c}return t.prototype.ngOnInit=function(){o.isUndefined(this.d.spinner)&&(this.d.spinner=this._config.get("loadingSpinner",this._config.get("spinner","ios"))),this.showSpinner=o.isDefined(this.d.spinner)&&"hide"!==this.d.spinner},t.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this.gestureBlocker.unblock()},t.prototype.ionViewDidEnter=function(){var t=this;this.d&&this.d.duration&&(this.durationTimeout=setTimeout(function(){return t.dismiss("backdrop")},this.d.duration))},t.prototype.keyUp=function(t){this._viewCtrl.isLast()&&t.keyCode===a.KEY_ESCAPE&&this.bdClick()},t.prototype.bdClick=function(){this.d.enableBackdropDismiss&&this.dismiss("backdrop")},t.prototype.dismiss=function(t){return this.durationTimeout&&clearTimeout(this.durationTimeout),this._viewCtrl.dismiss(null,t)},t.prototype.ngOnDestroy=function(){this.gestureBlocker.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-loading",template:'<ion-backdrop [hidden]="!d.showBackdrop" (click)="bdClick()" [class.backdrop-no-tappable]="!d.enableBackdropDismiss"></ion-backdrop><div class="loading-wrapper"><div *ngIf="showSpinner" class="loading-spinner"><ion-spinner [name]="d.spinner"></ion-spinner></div><div *ngIf="d.content" [innerHTML]="d.content" class="loading-content"></div></div>',host:{role:"dialog"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:u.ViewController},{type:r.Config},{type:n.ElementRef},{type:i.GestureController},{type:s.NavParams},{type:n.Renderer}]},t.propDecorators={keyUp:[{type:n.HostListener,args:["body:keyup",["$event"]]}]},t}();e.LoadingCmp=l;var c=-1})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(42),n(17),n(6),n(10),n(73)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../platform/key"),i=t("../../navigation/nav-params"),o=t("../../navigation/view-controller"),a=t("../../gestures/gesture-controller"),s=t("../../util/module-loader"),u=function(){function t(t,e,n,r,i,o,s){this._cfr=t,this._renderer=e,this._elementRef=n,this._navParams=r,this._viewCtrl=i,this.moduleLoader=s;var u=r.get("opts");this._gestureBlocker=o.createBlocker({disable:[a.GESTURE_MENU_SWIPE,a.GESTURE_GO_BACK_SWIPE]}),this._bdDismiss=u.enableBackdropDismiss,u.cssClass&&u.cssClass.split(" ").forEach(function(t){""!==t.trim()&&e.setElementClass(n.nativeElement,t,!0)})}return t.prototype.ionViewPreLoad=function(){var t=this._navParams.data.component;if(t){var e=this.moduleLoader.getComponentFactoryResolver(t);e||(e=this._cfr);var n=e.resolveComponentFactory(t),r=this._viewport.createComponent(n,this._viewport.length,this._viewport.parentInjector,[]);this._setCssClass(r,"ion-page"),this._setCssClass(r,"show-page"),this._viewCtrl._setInstance(r.instance),this._viewCtrl.willEnter.subscribe(this._viewWillEnter.bind(this)),this._viewCtrl.didLeave.subscribe(this._viewDidLeave.bind(this)),this._enabled=!0}else console.warn("modal's page was not defined")},t.prototype._viewWillEnter=function(){this._gestureBlocker.block()},t.prototype._viewDidLeave=function(){this._gestureBlocker.unblock()},t.prototype._setCssClass=function(t,e){this._renderer.setElementClass(t.location.nativeElement,e,!0)},t.prototype._bdClick=function(){if(this._enabled&&this._bdDismiss){return this._viewCtrl.dismiss(null,"backdrop",{minClickBlockDuration:400})}},t.prototype._keyUp=function(t){this._enabled&&this._viewCtrl.isLast()&&t.keyCode===r.KEY_ESCAPE&&this._bdClick()},t.prototype.ngOnDestroy=function(){this._gestureBlocker.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-modal",template:'<ion-backdrop (click)="_bdClick()" [class.backdrop-no-tappable]="!_bdDismiss"></ion-backdrop><div class="modal-wrapper"><div #viewport nav-viewport></div></div>'}]}],t.ctorParameters=function(){return[{type:n.ComponentFactoryResolver},{type:n.Renderer},{type:n.ElementRef},{type:i.NavParams},{type:o.ViewController},{type:a.GestureController},{type:s.ModuleLoader}]},t.propDecorators={_viewport:[{type:n.ViewChild,args:["viewport",{read:n.ViewContainerRef}]}],_keyUp:[{type:n.HostListener,args:["body:keyup",["$event"]]}]},t}();e.ModalCmp=u})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("@angular/core"),i=function(){function t(t){this._compiler=t}return t.prototype.load=function(t,e){return this._compiler instanceof r.Compiler?function(t,e){return n(287)(t).then(function(n){var r=n[e];if(!r)throw new Error("Module "+t+" does not export "+e);return r})}(t,e):function(t,e,r){return r||(r="default"),n(287)(e).then(function(n){var i=n[r];if(!i)throw new Error("Module "+e+" does not export "+r);return t.compileModuleAsync(i)})}(this._compiler,t,e)},t.decorators=[{type:r.Injectable}],t.ctorParameters=function(){return[{type:r.Compiler}]},t}();e.NgModuleLoader=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(3),n(10),n(42),n(17),n(6),n(121)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=t("../../config/config"),o=t("../../gestures/gesture-controller"),a=t("../../platform/key"),s=t("../../navigation/nav-params"),u=t("../../navigation/view-controller"),l=t("./picker-column"),c=function(){function t(t,e,n,r,i,a){this._viewCtrl=t,this._elementRef=e,this._gestureBlocker=r.createBlocker(o.BLOCK_ALL),this.d=i.data,this.mode=n.get("mode"),a.setElementClass(e.nativeElement,"picker-"+this.mode,!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){a.setElementClass(e.nativeElement,t,!0)}),this.id=++f,this.lastClick=0}return t.prototype.ionViewWillLoad=function(){var t=this.d;t.buttons=t.buttons.map(function(t){return r.isString(t)?{text:t}:(t.role&&(t.cssRole="picker-toolbar-"+t.role),t)}),t.columns=t.columns.map(function(t){return r.isPresent(t.options)||(t.options=[]),t.selectedIndex=t.selectedIndex||0,t.options=t.options.map(function(t){var e={text:"",value:"",disabled:t.disabled};return r.isPresent(t)&&(r.isString(t)||r.isNumber(t)?(e.text=t.toString(),e.value=t):(e.text=r.isPresent(t.text)?t.text:t.value,e.value=r.isPresent(t.value)?t.value:t.text)),e}),t})},t.prototype.ionViewDidLoad=function(){this.refresh()},t.prototype.ionViewWillEnter=function(){this._gestureBlocker.block()},t.prototype.ionViewDidLeave=function(){this._gestureBlocker.unblock()},t.prototype.refresh=function(){this._cols.forEach(function(t){return t.refresh()})},t.prototype._colChange=function(){this._viewCtrl.ionChange.emit(this.getSelected())},t.prototype._keyUp=function(t){if(this.enabled&&this._viewCtrl.isLast())if(t.keyCode===a.KEY_ENTER){if(this.lastClick+1e3<Date.now()){this.btnClick(this.d.buttons[this.d.buttons.length-1])}}else t.keyCode===a.KEY_ESCAPE&&this.bdClick()},t.prototype.ionViewDidEnter=function(){var t=this._elementRef.nativeElement.querySelector("button");t&&t.focus(),this.enabled=!0},t.prototype.btnClick=function(t){if(this.enabled){this.lastClick=Date.now();var e=!0;t.handler&&!1===t.handler(this.getSelected())&&(e=!1),e&&this.dismiss(t.role)}},t.prototype.bdClick=function(){if(this.enabled&&this.d.enableBackdropDismiss){var t=this.d.buttons.find(function(t){return"cancel"===t.role});t?this.btnClick(t):this.dismiss("backdrop")}},t.prototype.dismiss=function(t){return this._viewCtrl.dismiss(this.getSelected(),t)},t.prototype.getSelected=function(){var t={};return this.d.columns.forEach(function(e,n){var r=e.options[e.selectedIndex];t[e.name]={text:r?r.text:null,value:r?r.value:null,columnIndex:n}}),t},t.prototype.ngOnDestroy=function(){this._gestureBlocker.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-picker-cmp",template:'\n    <ion-backdrop (click)="bdClick()"></ion-backdrop>\n    <div class="picker-wrapper">\n      <div class="picker-toolbar">\n        <div *ngFor="let b of d.buttons" class="picker-toolbar-button" [ngClass]="b.cssRole">\n          <button ion-button (click)="btnClick(b)" [ngClass]="b.cssClass" class="picker-button" clear>\n            {{b.text}}\n          </button>\n        </div>\n      </div>\n      <div class="picker-columns">\n        <div class="picker-above-highlight"></div>\n        <div *ngFor="let c of d.columns" [col]="c" class="picker-col" (ionChange)="_colChange($event)"></div>\n        <div class="picker-below-highlight"></div>\n      </div>\n    </div>\n  ',host:{role:"dialog"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:u.ViewController},{type:n.ElementRef},{type:i.Config},{type:o.GestureController},{type:s.NavParams},{type:n.Renderer}]},t.propDecorators={_cols:[{type:n.ViewChildren,args:[l.PickerColumnCmp]}],_keyUp:[{type:n.HostListener,args:["body:keyup",["$event"]]}]},t}();e.PickerCmp=c;var f=-1})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(42),n(17),n(6),n(10),n(73)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../platform/key"),o=t("../../navigation/nav-params"),a=t("../../navigation/view-controller"),s=t("../../gestures/gesture-controller"),u=t("../../util/module-loader"),l=function(){function t(t,e,n,r,i,o,a,u){this._cfr=t,this._elementRef=e,this._renderer=n,this._config=r,this._navParams=i,this._viewCtrl=o,this.moduleLoader=u,this._gestureBlocker=a.createBlocker(s.BLOCK_ALL),this.d=i.data.opts,n.setElementClass(e.nativeElement,"popover-"+r.get("mode"),!0),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&n.setElementClass(e.nativeElement,t,!0)}),this.id=++c}return t.prototype.ionViewPreLoad=function(){this._load(this._navParams.data.component)},t.prototype._load=function(t){if(t){var e=this.moduleLoader.getComponentFactoryResolver(t);e||(e=this._cfr);var n=e.resolveComponentFactory(t),r=this._viewport.createComponent(n,this._viewport.length,this._viewport.parentInjector,[]);this._viewCtrl._setInstance(r.instance),this._enabled=!0,this._viewCtrl.willEnter.subscribe(this._viewWillEnter.bind(this)),this._viewCtrl.didLeave.subscribe(this._viewDidLeave.bind(this))}},t.prototype._viewWillEnter=function(){this._gestureBlocker.block()},t.prototype._viewDidLeave=function(){this._gestureBlocker.unblock()},t.prototype._setCssClass=function(t,e){this._renderer.setElementClass(t.location.nativeElement,e,!0)},t.prototype._bdClick=function(){if(this._enabled&&this.d.enableBackdropDismiss)return this._viewCtrl.dismiss(null,"backdrop")},t.prototype._keyUp=function(t){this._enabled&&t.keyCode===i.KEY_ESCAPE&&this._viewCtrl.isLast()&&this._bdClick()},t.prototype.ngOnDestroy=function(){this._gestureBlocker.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-popover",template:'<ion-backdrop (click)="_bdClick()" [hidden]="!d.showBackdrop"></ion-backdrop><div class="popover-wrapper"><div class="popover-arrow"></div><div class="popover-content"><div class="popover-viewport"><div #viewport nav-viewport></div></div></div></div>'}]}],t.ctorParameters=function(){return[{type:n.ComponentFactoryResolver},{type:n.ElementRef},{type:n.Renderer},{type:r.Config},{type:o.NavParams},{type:a.ViewController},{type:s.GestureController},{type:u.ModuleLoader}]},t.propDecorators={_viewport:[{type:n.ViewChild,args:["viewport",{read:n.ViewContainerRef}]}],_keyUp:[{type:n.HostListener,args:["body:keyup",["$event"]]}]},t}();e.PopoverCmp=l;var c=-1})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(288)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./item-reorder-util"),i=function(){function t(t){this.elementRef=t,t.nativeElement.$ionComponent=this}return t.prototype.getReorderNode=function(){return r.findReorderItem(this.elementRef.nativeElement,null)},t.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation()},t.decorators=[{type:n.Component,args:[{selector:"ion-reorder",template:'<ion-icon name="reorder"></ion-icon>'}]}],t.ctorParameters=function(){return[{type:n.ElementRef}]},t.propDecorators={onClick:[{type:n.HostListener,args:["click",["$event"]]}]},t}();e.Reorder=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(22),n(9),n(4),n(25),n(124)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../util/form"),o=t("../ion"),s=t("../../util/util"),u=t("../item/item"),l=t("./radio-group"),c=function(t){function e(e,r,i,o,a,s){var u=t.call(this,r,i,o,"radio")||this;return u._form=e,u._item=a,u._group=s,u._checked=!1,u._disabled=!1,u._value=null,u.ionSelect=new n.EventEmitter,e.register(u),s&&(u.id="rb-"+s.add(u)),a&&(u.id="rb-"+a.registerInput("radio"),u._labelId="lbl-"+a.id,u._item.setElementClass("item-radio",!0)),u}return a(e,t),Object.defineProperty(e.prototype,"color",{set:function(t){this._setColor(t),this._item&&this._item._updateColor(t,"item-radio")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return s.isBlank(this._value)?this.id:this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=s.isTrueProperty(t),this._item&&this._item.setElementClass("item-radio-checked",this._checked)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled||null!=this._group&&this._group.disabled},set:function(t){this._disabled=s.isTrueProperty(t),this._item&&this._item.setElementClass("item-radio-disabled",this._disabled)},enumerable:!0,configurable:!0}),e.prototype.initFocus=function(){this._elementRef.nativeElement.querySelector("button").focus()},e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.checked=!0,this.ionSelect.emit(this.value)},e.prototype.ngOnInit=function(){this._group&&s.isPresent(this._group.value)&&(this.checked=s.isCheckedProperty(this._group.value,this.value)),this._group&&this._group.disabled&&(this.disabled=this._group.disabled)},e.prototype.ngOnDestroy=function(){this._form.deregister(this),this._group&&this._group.remove(this)},e.decorators=[{type:n.Component,args:[{selector:"ion-radio",template:'<div class="radio-icon" [class.radio-checked]="_checked"> <div class="radio-inner"></div> </div> <button role="radio" type="button" ion-button="item-cover" [id]="id" [attr.aria-checked]="_checked" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"> </button>',host:{"[class.radio-disabled]":"_disabled"},encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:i.Form},{type:r.Config},{type:n.ElementRef},{type:n.Renderer},{type:u.Item,decorators:[{type:n.Optional}]},{type:l.RadioGroup,decorators:[{type:n.Optional}]}]},e.propDecorators={color:[{type:n.Input}],ionSelect:[{type:n.Output}],value:[{type:n.Input}],checked:[{type:n.Input}],disabled:[{type:n.Input}],_click:[{type:n.HostListener,args:["click",["$event"]]}]},e}(o.Ion);e.RadioButton=c})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(12),n(10),n(9),n(4),n(651),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../platform/dom-controller"),o=t("../../gestures/gesture-controller"),s=t("../ion"),u=t("../../util/util"),l=t("../item/item-sliding-gesture"),c=t("../../platform/platform"),f=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,"list")||this;return s._plt=i,s._gestureCtrl=o,s._domCtrl=a,s._enableSliding=!0,s._containsSlidingItems=!1,s}return a(e,t),Object.defineProperty(e.prototype,"sliding",{get:function(){return this._enableSliding},set:function(t){this._enableSliding=u.isTrueProperty(t),this._updateSlidingState()},enumerable:!0,configurable:!0}),e.prototype.containsSlidingItem=function(t){this._containsSlidingItems=t,this._updateSlidingState()},e.prototype._updateSlidingState=function(){this._enableSliding&&this._containsSlidingItems?this._slidingGesture||(this._slidingGesture=new l.ItemSlidingGesture(this._plt,this,this._gestureCtrl,this._domCtrl),this._slidingGesture.listen()):(this._slidingGesture&&this._slidingGesture.destroy(),this._slidingGesture=null)},e.prototype.closeSlidingItems=function(){this._slidingGesture&&this._slidingGesture.closeOpened()},e.prototype.destroy=function(){this._slidingGesture&&this._slidingGesture.destroy()},e.decorators=[{type:n.Directive,args:[{selector:"ion-list"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer},{type:c.Platform},{type:o.GestureController},{type:i.DomController}]},e.propDecorators={sliding:[{type:n.Input}]},e}(s.Ion);e.List=f})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(17),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../navigation/nav-params"),i=t("../../navigation/view-controller"),o=function(){function t(t,e){this.navParams=t,this.viewController=e}return Object.defineProperty(t.prototype,"value",{get:function(){var t=this.options.find(function(t){return t.checked});return t?t.value:void 0},set:function(t){var e=this.options.find(function(e){return e.value===t});e&&e.handler&&e.handler(),this.viewController.dismiss(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.options=this.navParams.data.options},t.decorators=[{type:n.Component,args:[{template:'\n    <ion-list radio-group [(ngModel)]="value">\n      <ion-item *ngFor="let option of options">\n        <ion-label>{{option.text}}</ion-label>\n        <ion-radio [checked]="option.checked" [value]="option.value" [disabled]="option.disabled"></ion-radio>\n      </ion-item>\n    </ion-list>\n  '}]}],t.ctorParameters=function(){return[{type:r.NavParams},{type:i.ViewController}]},t}();e.SelectPopover=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(17),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../navigation/nav-params"),o=t("../../navigation/view-controller"),a=function(){function t(t,e,n,r,i){this._viewCtrl=t,this._config=e,this._elementRef=n,this.dismissTimeout=void 0,i.setElementClass(n.nativeElement,"toast-"+e.get("mode"),!0),this.d=r.data,this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(t){""!==t.trim()&&i.setElementClass(n.nativeElement,t,!0)}),this.id=++s,this.d.message&&(this.hdrId="toast-hdr-"+this.id)}return t.prototype.ngAfterViewInit=function(){var t=this;this.d.duration&&(this.dismissTimeout=setTimeout(function(){t.dismiss("backdrop")},this.d.duration)),this.enabled=!0},t.prototype.ionViewDidEnter=function(){var t=document.activeElement;t&&t.blur();var e=this._elementRef.nativeElement.querySelector("button");e&&e.focus()},t.prototype.cbClick=function(){this.enabled&&this.dismiss("close")},t.prototype.dismiss=function(t){return clearTimeout(this.dismissTimeout),this.dismissTimeout=void 0,this._viewCtrl.dismiss(null,t,{disableApp:!1})},t.decorators=[{type:n.Component,args:[{selector:"ion-toast",template:'<div class="toast-wrapper" [class.toast-bottom]="d.position === \'bottom\'" [class.toast-middle]="d.position === \'middle\'" [class.toast-top]="d.position === \'top\'"> <div class="toast-container"> <div class="toast-message" id="{{hdrId}}" *ngIf="d.message">{{d.message}}</div> <button ion-button clear class="toast-button" *ngIf="d.showCloseButton" (click)="cbClick()"> {{ d.closeButtonText || \'Close\' }} </button> </div> </div>',host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"}}]}],t.ctorParameters=function(){return[{type:o.ViewController},{type:r.Config},{type:n.ElementRef},{type:i.NavParams},{type:n.Renderer}]},t}();e.ToastCmp=a;var s=-1})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9),n(61),n(76)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../ion"),o=t("./navbar"),s=t("./toolbar"),u=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,"title")||this;return i&&i._setTitle(a),o&&o._setTitle(a),a}return a(e,t),e.prototype.getTitleText=function(){return this._elementRef.nativeElement.textContent},e.decorators=[{type:n.Component,args:[{selector:"ion-title",template:'<div class="toolbar-title" [ngClass]="\'toolbar-title-\' + _mode"><ng-content></ng-content></div>',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer},{type:s.Toolbar,decorators:[{type:n.Optional}]},{type:o.Navbar,decorators:[{type:n.Optional},{type:n.Inject,args:[n.forwardRef(function(){return o.Navbar})]}]}]},e}(i.Ion);e.ToolbarTitle=u})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(51),n(97),n(11),n(3),n(35),n(19),n(12),n(22),n(49),n(4),n(25),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n,r,i){var o=t+n.contentTop-n.scrollTop,a=o+e,s=n.contentTop,u=(i-r-s)/2,l=s+u,c=o>=s&&o<=l,f=o<s,p=o>l,d=a>=s&&a<=l,h=a>l,m={scrollAmount:0,scrollTo:0,scrollPadding:0,scrollDuration:0,inputSafeY:0};if(m.scrollPadding=r,c&&d)return m;(p||h||f)&&(m.scrollAmount=u>e?Math.round(l-a):Math.round(s-o),m.inputSafeY=4-(o-s),f&&m.scrollAmount>e&&(m.scrollAmount=e)),m.scrollTo=n.scrollTop-m.scrollAmount;var g=Math.abs(m.scrollAmount)/y;return m.scrollDuration=Math.min(400,Math.max(150,g)),m}Object.defineProperty(e,"__esModule",{value:!0});var r=t("@angular/core"),i=t("@angular/forms"),o=t("rxjs/Subject");t("rxjs/add/operator/takeUntil");var s=t("../app/app"),u=t("../../config/config"),l=t("../content/content"),c=t("../../util/dom"),f=t("../../platform/dom-controller"),p=t("../../util/form"),d=t("../../util/base-input"),h=t("../../util/util"),m=t("../item/item"),g=t("../../platform/platform"),v=function(t){function e(e,n,i,a,s,u,l,c,f,p){var d=t.call(this,e,s,u,"input","",i,c,f)||this;if(d._plt=n,d._app=a,d._content=l,d.ngControl=f,d._dom=p,d._clearInput=!1,d._readonly=!1,d._type="text",d._isTextarea=!1,d._onDestroy=new o.Subject,d._useAssist=!1,d._relocated=!1,d.autocomplete="",d.autocorrect="",d.placeholder="",d.min=null,d.max=null,d.step=null,d.input=new r.EventEmitter,d.blur=new r.EventEmitter,d.focus=new r.EventEmitter,d.autocomplete=e.get("autocomplete","off"),d.autocorrect=e.get("autocorrect","off"),d._autoFocusAssist=e.get("autoFocusAssist","delay"),d._keyboardHeight=e.getNumber("keyboardHeight"),d._isTextarea=!("ION-TEXTAREA"!==s.nativeElement.tagName),d._isTextarea&&c&&c.setElementClass("item-textarea",!0),!l)return d;e.getBoolean("hideCaretOnScroll",!1)&&d._enableHideCaretOnScroll();var h=n.win();if(h.Ionic&&h.Ionic.keyboardPlugin){e.getBoolean("keyboardResizes",!1)?(d._keyboardHeight=e.getNumber("keyboardSafeArea",60),d._enableScrollMove()):(d._enableScrollPadding(),d._enableScrollMove())}else{d._useAssist=e.getBoolean("scrollAssist",!1);e.getBoolean("scrollPadding",d._useAssist)&&d._enableScrollPadding()}return d}return a(e,t),Object.defineProperty(e.prototype,"clearInput",{get:function(){return this._clearInput},set:function(t){this._clearInput=!this._isTextarea&&h.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._isTextarea?"text":this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=h.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearOnEdit",{get:function(){return this._clearOnEdit},set:function(t){this._clearOnEdit=h.isTrueProperty(t)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){},e.prototype.ngAfterViewInit=function(){!1!==this.clearOnEdit&&"password"===this.type&&(this.clearOnEdit=!0);var t=this._elementRef.nativeElement,e=this._native.nativeElement;if(c.copyInputAttributes(t,e),t.hasAttribute("tabIndex")&&t.removeAttribute("tabIndex"),t.hasAttribute("autofocus"))switch(t.removeAttribute("autofocus"),this._autoFocusAssist){case"immediate":e.focus();break;case"delay":this._plt.timeout(function(){return e.focus()},800)}this._initialize(),this.focus.observers.length>0&&console.warn("(focus) is deprecated in ion-input, use (ionFocus) instead"),this.blur.observers.length>0&&console.warn("(blur) is deprecated in ion-input, use (ionBlur) instead")},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._onDestroy.next(),this._onDestroy=null},e.prototype.initFocus=function(){this.setFocus()},e.prototype.setFocus=function(){this.isFocus()||this._native.nativeElement.focus()},e.prototype.setBlur=function(){this.isFocus()&&this._native.nativeElement.blur()},e.prototype.onInput=function(t){this.value=t.target.value,this.input.emit(t)},e.prototype.onBlur=function(t){this._fireBlur(),this.blur.emit(t),this._scrollData=null,this._clearOnEdit&&this.hasValue()&&(this._didBlurAfterEdit=!0)},e.prototype.onFocus=function(t){this._fireFocus(),this.focus.emit(t)},e.prototype.onKeydown=function(t){t&&this._clearOnEdit&&this.checkClearOnEdit(t.target.value)},e.prototype._inputUpdated=function(){t.prototype._inputUpdated.call(this);var e=this._native.nativeElement,n=this._value;e.value!==n&&(e.value=n)},e.prototype.clearTextInput=function(){this.value=""},e.prototype.checkClearOnEdit=function(t){this._clearOnEdit&&(this._didBlurAfterEdit&&this.hasValue()&&this.clearTextInput(),this._didBlurAfterEdit=!1)},e.prototype._getScrollData=function(){if(!this._content)return{scrollAmount:0,scrollTo:0,scrollPadding:0,scrollDuration:0,inputSafeY:0};if(this._scrollData)return this._scrollData;var t=this._elementRef.nativeElement;return t=t.closest("ion-item,[ion-item]")||t,this._scrollData=n(t.offsetTop,t.offsetHeight,this._content.getContentDimensions(),this._keyboardHeight,this._plt.height())},e.prototype._relocateInput=function(t){if(this._relocated!==t){var e=this._plt,n=this.getNativeElement(),r=this._native.nativeElement;if(t){!function(t,e,n){if(e){var r=e.offsetTop,i=e.offsetLeft,o=e.offsetWidth,a=e.offsetHeight,s=e.cloneNode(!1),u=s.style;s.classList.add("cloned-input"),s.setAttribute("aria-hidden","true"),u.pointerEvents="none",u.position="absolute",u.top=r+"px",u.left=i+"px",u.width=o+"px",u.height=a+"px";var l=n.cloneNode(!1);l.value=n.value,l.tabIndex=-1,s.appendChild(l),e.parentNode.appendChild(s),e.style.pointerEvents="none"}n.style[t.Css.transform]="scale(0)"}(e,n,r);var i=this._getScrollData().inputSafeY;r.style[e.Css.transform]="translate3d("+(this._plt.isRTL?9999:-9999)+"px,"+i+"px,0)",r.style.opacity="0"}else!function(t,e,n){if(e&&e.parentElement){for(var r=e.parentElement.querySelectorAll(".cloned-input"),i=0;i<r.length;i++)r[i].parentNode.removeChild(r[i]);e.style.pointerEvents=""}n.style[t.Css.transform]="",n.style.opacity=""}(e,n,r);this._relocated=t}},e.prototype._enableScrollPadding=function(){var t=this;this.ionFocus.subscribe(function(){var e=t._content,n=t._getScrollData().scrollPadding;e.addScrollPadding(n),e.clearScrollPaddingFocusOut()})},e.prototype._enableHideCaretOnScroll=function(){function t(t){r.isFocus()&&r._dom.write(function(){return r._relocateInput(t)})}var e=this,n=this._content;n.ionScrollStart.takeUntil(this._onDestroy).subscribe(function(){return t(!0)}),n.ionScrollEnd.takeUntil(this._onDestroy).subscribe(function(){return t(!1)}),this.ionBlur.subscribe(function(){return e._relocateInput(!1)});var r=this},e.prototype._enableScrollMove=function(){var t=this;this.ionFocus.subscribe(function(){var e=t._getScrollData();Math.abs(e.scrollAmount)>4&&t._content.scrollTo(0,e.scrollTo,e.scrollDuration)})},e.prototype._pointerStart=function(t){"touchstart"===t.type&&(this._isTouch=!0),(this._isTouch||!this._isTouch&&"mousedown"===t.type)&&this._app.isEnabled()&&(this._coord=c.pointerCoord(t))},e.prototype._pointerEnd=function(t){if(this._isTouch&&"mouseup"===t.type||!this._app.isEnabled())t.preventDefault(),t.stopPropagation();else if(this._coord){var e=c.pointerCoord(t);c.hasPointerMoved(8,this._coord,e)||this.isFocus()||(t.preventDefault(),t.stopPropagation(),this._jsSetFocus())}this._coord=null},e.prototype._jsSetFocus=function(){var t=this,e=this._content;e||this.setFocus();var n=this._getScrollData();Math.abs(n.scrollAmount)<4?this.setFocus():(this._relocateInput(!0),this.setFocus(),e.scrollTo(0,n.scrollTo,n.scrollDuration,function(){t._relocateInput(!1),t.setFocus()}))},e.decorators=[{type:r.Component,args:[{selector:"ion-input,ion-textarea",template:'<input #textInput *ngIf="!_isTextarea" class="text-input" [ngClass]="\'text-input-\' + _mode"(input)="onInput($event)" (blur)="onBlur($event)" (focus)="onFocus($event)" (keydown)="onKeydown($event)" [type]="_type" dir="auto" [attr.aria-labelledby]="_labelId" [attr.min]="min" [attr.max]="max" [attr.step]="step" [attr.autocomplete]="autocomplete" [attr.autocorrect]="autocorrect" [placeholder]="placeholder" [disabled]="_disabled" [readonly]="_readonly"><textarea #textInput *ngIf="_isTextarea" class="text-input" [ngClass]="\'text-input-\' + _mode"(input)="onInput($event)" (blur)="onBlur($event)" (focus)="onFocus($event)" (keydown)="onKeydown($event)" [attr.aria-labelledby]="_labelId" [attr.autocomplete]="autocomplete" [attr.autocorrect]="autocorrect" [placeholder]="placeholder" [disabled]="_disabled" [readonly]="_readonly"></textarea><button ion-button *ngIf="_clearInput" clear class="text-input-clear-icon" type="button" (click)="clearTextInput($event)" (mousedown)="clearTextInput($event)" tabindex="-1"></button><div class="input-cover" *ngIf="_useAssist" (touchstart)="_pointerStart($event)" (touchend)="_pointerEnd($event)" (mousedown)="_pointerStart($event)" (mouseup)="_pointerEnd($event)"></div>',encapsulation:r.ViewEncapsulation.None,changeDetection:r.ChangeDetectionStrategy.OnPush,inputs:["value"]}]}],e.ctorParameters=function(){return[{type:u.Config},{type:g.Platform},{type:p.Form},{type:s.App},{type:r.ElementRef},{type:r.Renderer},{type:l.Content,decorators:[{type:r.Optional}]},{type:m.Item,decorators:[{type:r.Optional}]},{type:i.NgControl,decorators:[{type:r.Optional}]},{type:f.DomController}]},e.propDecorators={clearInput:[{type:r.Input}],type:[{type:r.Input}],readonly:[{type:r.Input}],clearOnEdit:[{type:r.Input}],_native:[{type:r.ViewChild,args:["textInput",{read:r.ElementRef}]}],autocomplete:[{type:r.Input}],autocorrect:[{type:r.Input}],placeholder:[{type:r.Input}],min:[{type:r.Input}],max:[{type:r.Input}],step:[{type:r.Input}],input:[{type:r.Output}],blur:[{type:r.Output}],focus:[{type:r.Output}]},e}(d.BaseInput);e.TextInput=v;var y=.3;e.getScrollData=n})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(683)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("./picker"),a=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new o.Picker(this._app,t,this.config)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.App},{type:i.Config}]},t}();e.PickerController=a})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"fab")||this}return a(e,t),e.prototype.setActiveClose=function(t){this.setElementClass("fab-close-active",t)},e.decorators=[{type:n.Component,args:[{selector:"[ion-fab]",template:'<ion-icon name="close" class="fab-close-icon"></ion-icon><span class="button-inner"><ng-content></ng-content></span><div class="button-effect"></div>',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.FabButton=i})},,,,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32),n(331),n(130),n(131),n(723),n(196)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,r,i,f){var p=0,d=0;o.isHorizontal(t)?p=t._rtl?-r:r:d=r,t.roundLengths&&(p=o.round(p),d=o.round(d)),t.virtualTranslate||o.transform(t._wrapper,"translate3d("+p+"px, "+d+"px, 0px)"),t._translate=o.isHorizontal(t)?p:d;var h=o.maxTranslate(t)-o.minTranslate(t);(0===h?0:(r-o.minTranslate(t))/h)!==t.progress&&s.updateProgress(t,r),i&&u.updateActiveIndex(t),"slide"!==t.effect&&c.SWIPER_EFFECTS[t.effect]&&c.SWIPER_EFFECTS[t.effect].setTranslate(t,e),t.parallax&&a.parallaxSetTranslate(t),t.control&&l.SWIPER_CONTROLLER.setTranslate(t,e,t._translate,f,n)}function r(t,e,n,r){var i,o,a,s,u=e.win();return void 0===r&&(r="x"),t.virtualTranslate?t._rtl?-t._translate:t._translate:(a=e.getElementComputedStyle(n),u.WebKitCSSMatrix?((o=a.transform||a.webkitTransform).split(",").length>6&&(o=o.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),s=new u.WebKitCSSMatrix("none"===o?"":o)):i=(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===r&&(o=u.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===r&&(o=u.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),t._rtl&&o&&(o=-o),o||0)}function i(t,e,n,r){o.transition(t._wrapper,n),"slide"!==t.effect&&c.SWIPER_EFFECTS[t.effect]&&c.SWIPER_EFFECTS[t.effect].setTransition(t,e,n),t.parallax&&a.parallaxSetTransition(t,n),t.control&&l.SWIPER_CONTROLLER.setTransition(t,e,n,r,i)}Object.defineProperty(e,"__esModule",{value:!0});var o=t("./swiper-utils"),a=t("./swiper-parallax"),s=t("./swiper-progress"),u=t("./swiper-index"),l=t("./swiper-controller"),c=t("./swiper-effects");e.setWrapperTranslate=n,e.getTranslate=r,e.getWrapperTranslate=function(t,e,n){return void 0===n&&(n=o.isHorizontal(t)?"x":"y"),r(t,e,t._wrapper,n)},e.setWrapperTransition=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(722),n(32),n(195)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./swiper-a11y"),r=t("./swiper-utils"),i=t("./swiper-pagination");e.updateClasses=function(t){var e;r.removeClass(t._slides,[r.CLS.slideActive,r.CLS.slideNext,r.CLS.slidePrev,r.CLS.slideDuplicateActive,r.CLS.slideDuplicateNext,r.CLS.slideDuplicatePrev]);for(var o=0;o<t._slides.length;o++)n.ariaHidden(t._slides[o],!0);var a=t._slides[t._activeIndex];if(a){r.addClass(a,r.CLS.slideActive),n.ariaHidden(a,!1),t.loop&&(e=a.classList.contains(r.CLS.slideDuplicate)?r.queryChildren(t._wrapper,"."+r.CLS.slide+":not(."+r.CLS.slideDuplicate+')[data-swiper-slide-index="'+t.realIndex+'"]'):r.queryChildren(t._wrapper,"."+r.CLS.slide+"."+r.CLS.slideDuplicate+'[data-swiper-slide-index="'+t.realIndex+'"]'),r.addClass(e,r.CLS.slideDuplicateActive));var s=a.nextElementSibling;t.loop&&!s&&(s=t._slides[0]),s&&s.classList.add(r.CLS.slideNext);var u=a.previousElementSibling;t.loop&&!u&&(u=t._slides[t._slides.length-1]),u&&u.classList.add(r.CLS.slidePrev),t.loop&&(e=s.classList.contains(r.CLS.slideDuplicate)?r.queryChildren(t._wrapper,"."+r.CLS.slide+":not(."+r.CLS.slideDuplicate+')[data-swiper-slide-index="'+s.getAttribute("data-swiper-slide-index")+'"]'):r.queryChildren(t._wrapper,"."+r.CLS.slide+"."+r.CLS.slideDuplicate+'[data-swiper-slide-index="'+s.getAttribute("data-swiper-slide-index")+'"]'),r.addClass(e,r.CLS.slideDuplicateNext),e=u.classList.contains(r.CLS.slideDuplicate)?r.queryChildren(t._wrapper,"."+r.CLS.slide+":not(."+r.CLS.slideDuplicate+')[data-swiper-slide-index="'+u.getAttribute("data-swiper-slide-index")+'"]'):r.queryChildren(t._wrapper,"."+r.CLS.slide+"."+r.CLS.slideDuplicate+'[data-swiper-slide-index="'+u.getAttribute("data-swiper-slide-index")+'"]'),r.addClass(e,r.CLS.slideDuplicatePrev)),t._paginationContainer&&i.updatePaginationClasses(t),t.loop||(t.prevButton&&(t._isBeginning?(t.prevButton.classList.add(r.CLS.buttonDisabled),n.ariaDisable(t.prevButton,!0)):(t.prevButton.classList.remove(r.CLS.buttonDisabled),n.ariaDisable(t.prevButton,!1))),t.nextButton&&(t._isEnd?(t.nextButton.classList.add(r.CLS.buttonDisabled),n.ariaDisable(t.nextButton,!0)):(t.nextButton.classList.remove(r.CLS.buttonDisabled),n.ariaDisable(t.nextButton,!1))))}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./swiper-utils");e.updatePagination=function(t){if(t.paginationType&&t._paginationContainer){var e="";if("bullets"===t.paginationType)for(var r=t.loop?Math.ceil((t._slides.length-2*t.loopedSlides)/t.slidesPerGroup):t._snapGrid.length,i=0;i<r;i++)e+=t.paginationBulletRender?t.paginationBulletRender(i,n.CLS.bullet):'<button class="'+n.CLS.bullet+'" aria-label="Go to slide '+(i+1)+'" data-slide-index="'+i+'"></button>';else"fraction"===t.paginationType?e='<span class="'+n.CLS.paginationCurrent+'"></span> / <span class="'+n.CLS.paginationTotal+'"></span>':"progress"===t.paginationType&&(e='<span class="'+n.CLS.paginationProgressbar+'"></span>');t._paginationContainer.innerHTML=e,t._bullets=t._paginationContainer.querySelectorAll("."+n.CLS.bullet)}},e.updatePaginationClasses=function(t){var e,r=t.loop?Math.ceil((t._slides.length-2*t.loopedSlides)/t.slidesPerGroup):t._snapGrid.length;if(t.loop?((e=Math.ceil((t._activeIndex-t.loopedSlides)/t.slidesPerGroup))>t._slides.length-1-2*t.loopedSlides&&(e-=t._slides.length-2*t.loopedSlides),e>r-1&&(e-=r),e<0&&"bullets"!==t.paginationType&&(e=r+e)):e=void 0!==t._snapIndex?t._snapIndex:t._activeIndex||0,"bullets"===t.paginationType&&t._bullets)for(var i=e+(e<0?t._bullets.length:0),o=0;o<t._bullets.length;o++)o===i?n.addClass(t._bullets[o],n.CLS.bulletActive):n.removeClass(t._bullets[o],n.CLS.bulletActive);if("fraction"===t.paginationType&&(n.eachChild(t._paginationContainer,"."+n.CLS.paginationCurrent,function(t){t.textContent=e+1}),n.eachChild(t._paginationContainer,"."+n.CLS.paginationTotal,function(t){t.textContent=r})),"progress"===t.paginationType){var a=(e+1)/r,s=a,u=1;n.isHorizontal(t)||(u=a,s=1),n.eachChild(t._paginationContainer,"."+n.CLS.paginationProgressbar,function(e){n.transform(e,"translate3d(0,0,0) scaleX("+s+") scaleY("+u+")"),n.transition(e,t.speed)})}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32),n(307)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./swiper-utils"),r=t("../../../platform/platform-utils");e.SWIPER_EFFECTS={fade:{setTranslate:function(t){for(var e=0;e<t._slides.length;e++){var r=t._slides[e],i=-r.swiperSlideOffset;t.virtualTranslate||(i-=t._translate);var o=0;n.isHorizontal(t)||(o=i,i=0);var a=t.fade.crossFade?Math.max(1-Math.abs(r.progress),0):1+Math.min(Math.max(r.progress,-1),0);r.style.opacity=a,n.transform(r,"translate3d("+i+"px, "+o+"px, 0px)")}},setTransition:function(t,e,r){for(var i=t._slides,o=0;o<i.length;o++)n.transition(i[o],r);if(t.virtualTranslate&&0!==r)for(var a=!1,s=0;s<i.length;s++)e.transitionEnd(i[s],function(){!a&&t&&(a=!0,t._animating=!1,n.triggerTransitionEnd(e,t._wrapper))})}},flip:{setTranslate:function(t,e){for(var r=0;r<t._slides.length;r++){var i=t._slides[r],o=i.progress;t.flip.limitRotation&&(o=Math.max(Math.min(i.progress,1),-1));var a=-180*o,s=0,u=-i.swiperSlideOffset,l=0;if(n.isHorizontal(t)?t._rtl&&(a=-a):(l=u,u=0,s=-a,a=0),i.style.zIndex=-Math.abs(Math.round(o))+t._slides.length,t.flip.slideShadows){var c=n.isHorizontal(t)?i.querySelector(".swiper-slide-shadow-left"):i.querySelector(".swiper-slide-shadow-top"),f=n.isHorizontal(t)?i.querySelector(".swiper-slide-shadow-right"):i.querySelector(".swiper-slide-shadow-bottom");c||((c=e.doc().createElement("div")).className="swiper-slide-shadow-"+(n.isHorizontal(t)?"left":"top"),i.appendChild(c)),f||((f=e.doc().createElement("div")).className="swiper-slide-shadow-"+(n.isHorizontal(t)?"right":"bottom"),i.appendChild(f)),c&&(c.style.opacity=Math.max(-o,0)),f&&(f.style.opacity=Math.max(o,0))}n.transform(i,"translate3d("+u+"px, "+l+"px, 0px) rotateX("+s+"deg) rotateY("+a+"deg)")}},setTransition:function(t,e,r){for(var i=0;i<t._slides.length;i++){var o=t._slides[i];n.transition(o,r),n.eachChild(o,".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left",function(t){n.transition(t,r)})}if(t.virtualTranslate&&0!==r){var a=!1;e.transitionEnd(t._slides[t._activeIndex],function(r){!a&&t&&r.target.classList.contains(n.CLS.slideActive)&&(a=!0,t._animating=!1,n.triggerTransitionEnd(e,t._wrapper))})}}},cube:{setTranslate:function(t,e){var i,o=0;t.cube.shadow&&(n.isHorizontal(t)?((i=t._wrapper.querySelector(".swiper-cube-shadow"))||((i=e.doc().createElement("div")).className="swiper-cube-shadow",t._wrapper.appendChild(i)),i.style.height=t.renderedWidth+"px"):(i=t.container.querySelector(".swiper-cube-shadow"))||((i=e.doc().createElement("div")).className="swiper-cube-shadow",t._wrapper.appendChild(i)));for(var a=0;a<t._slides.length;a++){var s=t._slides[a],u=90*a,l=Math.floor(u/360);t._rtl&&(u=-u,l=Math.floor(-u/360));var c=Math.max(Math.min(s.progress,1),-1),f=0,p=0,d=0;a%4==0?(f=4*-l*t._renderedSize,d=0):(a-1)%4==0?(f=0,d=4*-l*t._renderedSize):(a-2)%4==0?(f=t._renderedSize+4*l*t._renderedSize,d=t._renderedSize):(a-3)%4==0&&(f=-t._renderedSize,d=3*t._renderedSize+4*t._renderedSize*l),t._rtl&&(f=-f),n.isHorizontal(t)||(p=f,f=0);var h="rotateX("+(n.isHorizontal(t)?0:-u)+"deg) rotateY("+(n.isHorizontal(t)?u:0)+"deg) translate3d("+f+"px, "+p+"px, "+d+"px)";if(c<=1&&c>-1&&(o=90*a+90*c,t._rtl&&(o=90*-a-90*c)),n.transform(s,h),t.cube.slideShadows){var m=n.isHorizontal(t)?s.querySelector(".swiper-slide-shadow-left"):s.querySelector(".swiper-slide-shadow-top"),g=n.isHorizontal(t)?s.querySelector(".swiper-slide-shadow-right"):s.querySelector(".swiper-slide-shadow-bottom");m||((m=e.doc().createElement("div")).className="swiper-slide-shadow-"+(n.isHorizontal(t)?"left":"top"),s.appendChild(m)),g||((g=e.doc().createElement("div")).className="swiper-slide-shadow-"+(n.isHorizontal(t)?"right":"bottom"),s.appendChild(g)),m&&(m.style.opacity=Math.max(-c,0)),g&&(g.style.opacity=Math.max(c,0))}}if(t._wrapper.style.transformOrigin=t._wrapper.style.webkitTransformOrigin="50% 50% -"+t._renderedSize/2+"px",t.cube.shadow)if(n.isHorizontal(t))n.transform(i,"translate3d(0px, "+(t.renderedWidth/2+t.cube.shadowOffset)+"px, "+-t.renderedWidth/2+"px) rotateX(90deg) rotateZ(0deg) scale("+t.cube.shadowScale+")");else{var v=Math.abs(o)-90*Math.floor(Math.abs(o)/90),y=1.5-(Math.sin(2*v*Math.PI/360)/2+Math.cos(2*v*Math.PI/360)/2),b=t.cube.shadowScale/y;n.transform(i,"scale3d("+t.cube.shadowScale+", 1, "+b+") translate3d(0px, "+(t.renderedHeight/2+t.cube.shadowOffset)+"px, "+-t.renderedHeight/2/b+"px) rotateX(-90deg)")}var _=r.isSafari(e)||r.isIosUIWebView(e)?-t._renderedSize/2:0;n.transform(t._wrapper,"translate3d(0px,0,"+_+"px) rotateX("+(n.isHorizontal(t)?0:o)+"deg) rotateY("+(n.isHorizontal(t)?-o:0)+"deg)")},setTransition:function(t,e,r){for(var i=0;i<t._slides.length;i++){var o=t._slides[i];n.transition(o,r),n.eachChild(o,".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left",function(t){n.transition(t,r)})}t.cube.shadow&&!n.isHorizontal(t)&&n.eachChild(t.container,".swiper-cube-shadow",function(t){n.transition(t,r)})}},coverflow:{setTranslate:function(t,e){for(var r=t._translate,i=n.isHorizontal(t)?t.renderedWidth/2-r:t.renderedHeight/2-r,o=n.isHorizontal(t)?t.coverflow.rotate:-t.coverflow.rotate,a=t.coverflow.depth,s=0,u=t._slides.length;s<u;s++){var l=t._slides[s],c=t._slidesSizesGrid[s],f=(i-l.swiperSlideOffset-c/2)/c*t.coverflow.modifier,p=n.isHorizontal(t)?o*f:0,d=n.isHorizontal(t)?0:o*f,h=-a*Math.abs(f),m=n.isHorizontal(t)?0:t.coverflow.stretch*f,g=n.isHorizontal(t)?t.coverflow.stretch*f:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0);if(n.transform(l,"translate3d("+g+"px,"+m+"px,"+h+"px)  rotateX("+d+"deg) rotateY("+p+"deg)"),l.style.zIndex=1-Math.abs(Math.round(f)),t.coverflow.slideShadows){var v=n.isHorizontal(t)?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),y=n.isHorizontal(t)?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");v||((v=e.doc().createElement("div")).className="swiper-slide-shadow-"+(n.isHorizontal(t)?"left":"top"),l.appendChild(v)),y||((y=e.doc().createElement("div")).className="swiper-slide-shadow-"+(n.isHorizontal(t)?"right":"bottom"),l.appendChild(y)),v&&(v.style.opacity=f>0?f:0),y&&(y.style.opacity=-f>0?-f:0)}}},setTransition:function(t,e,r){for(var i=0;i<t._slides.length;i++){var o=t._slides[i];n.transition(o,r),n.eachChild(o,".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left",function(t){n.transition(t,r)})}}}}})},function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";e.isObject=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";function r(){try{return i.apply(this,arguments)}catch(t){return o.errorObject.e=t,o.errorObject}}var i,o=n(134);e.tryCatch=function(t){return i=t,r}},function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=n(62);e.getSymbolObservable=r,e.observable=r(i.root),e.$$observable=e.observable},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21);e.EmptyObservable=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(i.Observable)},function(t,e,n){"use strict";e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},function(t,e,n){"use strict";var r=n(2).__extends,i=n(50);e.refCount=function(){return function(t){return t.lift(new o(t))}};var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),a=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},,,function(t,e,n){"use strict";function r(t,e,n){var r,i,o;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),o=t.constructor.getPluginInstallName()),!(!(i=E(r))||e&&void 0===i[e])||(window.cordova?(C(n,o,e),k):(S(n,e),O))}function i(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}function o(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?r(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var i={};i[e.successName]=n,i[e.errorName]=r,t.push(i)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},a=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(a(),o()):(o(),a())}else t.push(n),t.push(r);return t}function a(t,e,n,i,a,s){void 0===i&&(i={}),n=o(n,i,a,s);var u=r(t,e);if(!0===u){var l=E(t.constructor.getPluginRef());return l[e].apply(l,n)}return u}function s(t,e,n,r,a,s){if(void 0===r&&(r={}),n=o(n,r,a,s),i(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function u(t,e){return void 0===e&&(e=window),Object(_.fromEvent)(e,t)}function l(t,e,n,i){return void 0===i&&(i={}),new b.Observable(function(n){var i=r(t,null,t.constructor.getPluginName());if(!0===i){var o=E(t.constructor.getPluginRef());return o[e]=n.next.bind(n),function(){return o[e]=function(){}}}n.error(i),n.complete()})}function c(t,e,n){return void 0===n&&(n={}),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n.sync)return s(t,e,r,n);if(n.observable)return new b.Observable(function(i){var o;return(o=n.destruct?s(t,e,r,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.error(t)}):s(t,e,r,n,i.next.bind(i),i.error.bind(i)))&&o.error&&(i.error(o.error),i.complete()),function(){try{return n.clearWithArgs?s(t,n.clearFunction,r,n,i.next.bind(i),i.error.bind(i)):s(t,n.clearFunction,[])}catch(n){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(n)}}});if(n.otherPromise)return x(function(i,o){var a;(a=n.destruct?s(t,e,r,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):s(t,e,r,n,i,o))&&a.then?a.then(i,o):o()});var o,a,u=x(function(i,u){o=n.destruct?s(t,e,r,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u(t)}):s(t,e,r,n,i,u),a=u});return o&&o.error&&(u.catch(function(){}),"function"==typeof a&&a(o.error)),u}}function f(t){return void 0===t&&(t={}),function(e,n,r){return{value:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i(this)?r.value.apply(this,e):t.sync?void 0:t.observable?new b.Observable(function(){}):x(function(){})},enumerable:!0}}}function p(t){return void 0===t&&(t={}),function(e,n,i){return{value:function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=r(e);return!0===a?i.value.apply(this,n):t.sync?null:t.observable?Object(P._throw)(new Error(a&&a.error)):Promise.reject(a&&a.error)},enumerable:!0}}}function d(t){return function(e){for(var n in t)e[n]=t[n];return e.installed=function(e){return!!E(t.pluginRef)},e.getPlugin=function(){return E(t.pluginRef)},e.checkInstall=function(){return!0===r(e)},e.getPluginName=function(){return t.pluginName},e.getPluginRef=function(){return t.pluginRef},e.getPluginInstallName=function(){return t.plugin},e.getPluginRepo=function(){return t.repo},e.getSupportedPlatforms=function(){return t.platforms},e}}function h(t){return void 0===t&&(t={}),function(e,n,r){return{value:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return T(this,n,t).apply(this,e)},enumerable:!0}}}function m(t){return void 0===t&&(t={}),function(e,n){return{value:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return c(this,n,t).apply(this,e)},enumerable:!0}}}function g(t,e){Object.defineProperty(t,e,{enumerable:!0,get:function(){return!0===r(t,e)?E(t.constructor.getPluginRef())[e]:null},set:function(n){!0===r(t,e)&&(E(t.constructor.getPluginRef())[e]=n)}})}function v(t,e){Object.defineProperty(t,e,{enumerable:!0,get:function(){return this._objectInstance[e]},set:function(t){this._objectInstance[e]=t}})}function y(t){return void 0===t&&(t={}),function(t,e,n){return{value:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return l(this,e)},enumerable:!0}}}var b=n(21),_=n(369),w=function(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r},x=function(t){return function(){if(window.Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()},E=function(t){return w(window,t)},C=function(t,e,n){n?console.warn("Ionic Native: tried calling "+t+"."+n+", but the "+t+" plugin is not installed."):console.warn("'Ionic Native: tried accessing the "+t+" plugin but it's not installed."),e&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+e+"'")},S=function(t,e){e?console.warn("Ionic Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to a) run in a real device or simulator and b) include cordova.js in your index.html"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to a) run in a real device or simulator and b) include cordova.js in your index.html")};!function(){var t=Date.now(),e=!1;document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),e=!0}),setTimeout(function(){!e&&window.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}();var O={error:"cordova_not_available"},k={error:"plugin_not_installed"},T=function(t,e,n){return void 0===n&&(n={}),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.sync?a(t,e,r,n):n.observable?function(t,e,n,r){return void 0===r&&(r={}),new b.Observable(function(i){var o;return(o=r.destruct?a(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.error(t)}):a(t,e,n,r,i.next.bind(i),i.error.bind(i)))&&o.error&&(i.error(o.error),i.complete()),function(){try{if(r.clearFunction)return r.clearWithArgs?a(t,r.clearFunction,n,r,i.next.bind(i),i.error.bind(i)):a(t,r.clearFunction,[])}catch(n){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(n)}}})}(t,e,r,n):n.eventObservable&&n.event?u(n.event,n.element):n.otherPromise?function(t,e,n,r){return void 0===r&&(r={}),x(function(i,o){var s=a(t,e,n,r);s?s.error?o(s.error):s.then&&s.then(i).catch(o):o({error:"unexpected_error"})})}(t,e,r,n):function(t,e,n,r){void 0===r&&(r={});var i,o,s=x(function(s,u){i=r.destruct?a(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u(t)}):a(t,e,n,r,s,u),o=u});return i&&i.error&&(s.catch(function(){}),"function"==typeof o&&o(i.error)),s}(t,e,r,n)}},P=n(371),N=function(){function t(){}return t.installed=function(){return!1},t.getPlugin=function(){},t.getPluginName=function(){},t.getPluginRef=function(){},t.getPluginInstallName=function(){},t.getSupportedPlatforms=function(){},t}();n.d(e,!1,function(){return O}),n.d(e,!1,function(){return k}),n.d(e,!1,function(){return r}),n.d(e,!1,function(){return i}),n.d(e,!1,function(){return u}),n.d(e,!1,function(){return l}),n.d(e,!1,function(){return T}),n.d(e,!1,function(){return c}),n.d(e,!1,function(){return f}),n.d(e,!1,function(){return p}),n.d(e,"d",function(){return d}),n.d(e,"a",function(){return h}),n.d(e,!1,function(){return m}),n.d(e,"b",function(){return g}),n.d(e,!1,function(){return v}),n.d(e,!1,function(){return y}),n.d(e,!1,function(){return w}),n.d(e,!1,function(){return x}),n.d(e,!1,function(){return E}),n.d(e,!1,function(){return C}),n.d(e,!1,function(){return S}),n.d(e,"c",function(){return N})},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(373),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(20))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(64),e.createHash=e.Hash=n(78),e.createHmac=e.Hmac=n(218);var r=n(390),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var a=n(221);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync;var s=n(392);e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var u=n(409);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var l=n(414);e.createSign=l.createSign,e.Sign=l.Sign,e.createVerify=l.createVerify,e.Verify=l.Verify,e.createECDH=n(452);var c=n(453);e.publicEncrypt=c.publicEncrypt,e.privateEncrypt=c.privateEncrypt,e.publicDecrypt=c.publicDecrypt,e.privateDecrypt=c.privateDecrypt;var f=n(456);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,n){"use strict";function r(t){o.call(this),this._block=i.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var i=n(8).Buffer,o=n(140).Transform;n(7)(r,o),r.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},r.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},r.prototype.update=function(t,e){if(function(t,e){if(!i.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(t)||(t=i.from(t,e));for(var n=this._block,r=0;this._blockOffset+t.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[r++];this._update(),this._blockOffset=0}for(;r<t.length;)n[this._blockOffset++]=t[r++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},r.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=r},function(t,e,n){"use strict";(function(e,r){function i(t,e){var r=e instanceof(w=w||n(52));this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(N||(N=n(144).StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function o(t){if(w=w||n(52),!(this instanceof o))return new o(t);this._readableState=new i(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),C.call(this)}function a(t,e,n,r,i){var o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,l(t)}(t,o);else{var a;i||(a=function(t,e){var n;(function(t){return S.isBuffer(t)||t instanceof O})(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(o,e)),a?t.emit("error",a):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===S.prototype||(e=function(t){return S.from(t)}(e)),r?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):s(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?s(t,o,e,!1):f(t,o)):s(t,o,e,!1))):r||(o.reading=!1)}return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function s(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&l(t)),f(t,e)}function u(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=D?t=D:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(P("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?_.nextTick(c,t):c(t))}function c(t){P("emit readable"),t.emit("readable"),m(t)}function f(t,e){e.readingMore||(e.readingMore=!0,_.nextTick(p,t,e))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(P("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function d(t){P("readable nexttick read 0"),t.read(0)}function h(t,e){e.reading||(P("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;for(P("flow",e.flowing);e.flowing&&null!==t.read(););}function g(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(i+=a===o.length?o:o.slice(0,t),0===(t-=a)){a===o.length?(++r,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=S.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,e.head=r.next?r.next:e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n}function v(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,_.nextTick(y,e,t))}function y(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function b(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var _=n(101);t.exports=o;var w,x=n(209);o.ReadableState=i;n(141);var E=function(t,e){return t.listeners(e).length},C=n(213),S=n(8).Buffer,O=e.Uint8Array||function(){},k=n(79);k.inherits=n(7);var T=n(376),P=void 0;P=T&&T.debuglog?T.debuglog("stream"):function(){};var N,I=n(377),A=n(214);k.inherits(o,C);var M=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),o.prototype.destroy=A.destroy,o.prototype._undestroy=A.undestroy,o.prototype._destroy=function(t,e){this.push(null),e(t)},o.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=S.from(t,e),e=""),n=!0),a(this,t,e,!1,n)},o.prototype.unshift=function(t){return a(this,t,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(t){return N||(N=n(144).StringDecoder),this._readableState.decoder=new N(t),this._readableState.encoding=t,this};var D=8388608;o.prototype.read=function(t){P("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return P("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?v(this):l(this),null;if(0===(t=u(t,e))&&e.ended)return 0===e.length&&v(this),null;var r=e.needReadable;P("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&P("length less than watermark",r=!0),e.ended||e.reading?P("reading or ended",r=!1):r&&(P("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=u(n,e)));var i;return null===(i=t>0?g(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&v(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(t,e){function n(e,r){P("onunpipe"),e===c&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,P("cleanup"),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("drain",d),t.removeListener("error",a),t.removeListener("unpipe",n),c.removeListener("end",i),c.removeListener("end",l),c.removeListener("data",o),h=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||d())}function i(){P("onend"),t.end()}function o(e){P("ondata"),g=!1;!1!==t.write(e)||g||((1===f.pipesCount&&f.pipes===t||f.pipesCount>1&&-1!==b(f.pipes,t))&&!h&&(P("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,g=!0),c.pause())}function a(e){P("onerror",e),l(),t.removeListener("error",a),0===E(t,"error")&&t.emit("error",e)}function s(){t.removeListener("finish",u),l()}function u(){P("onfinish"),t.removeListener("close",s),l()}function l(){P("unpipe"),c.unpipe(t)}var c=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,P("pipe count=%d opts=%j",f.pipesCount,e);var p=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?i:l;f.endEmitted?_.nextTick(p):c.once("end",p),t.on("unpipe",n);var d=function(t){return function(){var e=t._readableState;P("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&E(t,"data")&&(e.flowing=!0,m(t))}}(c);t.on("drain",d);var h=!1,g=!1;return c.on("data",o),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?x(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",a),t.once("close",s),t.once("finish",u),t.emit("pipe",c),f.flowing||(P("pipe resume"),c.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=b(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},o.prototype.addListener=o.prototype.on=function(t,e){var n=C.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l(this):_.nextTick(d,this))}return n},o.prototype.resume=function(){var t=this._readableState;return t.flowing||(P("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,_.nextTick(h,t,e))}(this,t)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;t.on("end",function(){if(P("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){if(P("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){e.push(i)||(r=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<M.length;o++)t.on(M[o],this.emit.bind(this,M[o]));return this._read=function(e){P("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=g}).call(e,n(20),n(18))},function(t,e,n){t.exports=n(141).EventEmitter},function(t,e,n){"use strict";function r(t,e){t.emit("error",e)}var i=n(101);t.exports={destroy:function(t,e){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);a.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){o(t,e,n)}):o(this,null,null)}function o(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=r;var a=n(52),s=n(79);s.inherits=n(7),s.inherits(r,a),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){function r(){this.init(),this._w=h,f.call(this,64,56)}function i(t,e,n){return n^t&(e^n)}function o(t,e,n){return t&e|n&(t|e)}function a(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function s(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function u(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function l(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var c=n(7),f=n(65),p=n(8).Buffer,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=new Array(64);c(r,f),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,c=0|this._c,f=0|this._d,p=0|this._e,h=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)e[v]=t.readInt32BE(4*v);for(;v<64;++v)e[v]=l(e[v-2])+e[v-7]+u(e[v-15])+e[v-16]|0;for(var y=0;y<64;++y){var b=g+s(p)+i(p,h,m)+d[y]+e[y]|0,_=a(n)+o(n,r,c)|0;g=m,m=h,h=p,p=f+b|0,f=c,c=r,r=n,n=b+_|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=c+this._c|0,this._d=f+this._d|0,this._e=p+this._e|0,this._f=h+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},r.prototype._hash=function(){var t=p.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=v,h.call(this,128,112)}function i(t,e,n){return n^t&(e^n)}function o(t,e,n){return t&e|n&(t|e)}function a(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function s(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function u(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function l(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function c(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function f(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function p(t,e){return t>>>0<e>>>0?1:0}var d=n(7),h=n(65),m=n(8).Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);d(r,h),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,d=0|this._ch,h=0|this._dh,m=0|this._eh,v=0|this._fh,y=0|this._gh,b=0|this._hh,_=0|this._al,w=0|this._bl,x=0|this._cl,E=0|this._dl,C=0|this._el,S=0|this._fl,O=0|this._gl,k=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var P=e[T-30],N=e[T-30+1],I=u(P,N),A=l(N,P),M=c(P=e[T-4],N=e[T-4+1]),D=f(N,P),R=e[T-32],j=e[T-32+1],L=A+e[T-14+1]|0,z=I+e[T-14]+p(L,A)|0;z=(z=z+M+p(L=L+D|0,D)|0)+R+p(L=L+j|0,j)|0,e[T]=z,e[T+1]=L}for(var F=0;F<160;F+=2){z=e[F],L=e[F+1];var B=o(n,r,d),V=o(_,w,x),U=a(n,_),W=a(_,n),q=s(m,C),H=s(C,m),G=g[F],$=g[F+1],Y=i(m,v,y),K=i(C,S,O),X=k+H|0,Z=b+q+p(X,k)|0;Z=(Z=(Z=Z+Y+p(X=X+K|0,K)|0)+G+p(X=X+$|0,$)|0)+z+p(X=X+L|0,L)|0;var J=W+V|0,Q=U+B+p(J,W)|0;b=y,k=O,y=v,O=S,v=m,S=C,m=h+Z+p(C=E+X|0,E)|0,h=d,E=x,d=r,x=w,r=n,w=_,n=Z+Q+p(_=X+J|0,X)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+E|0,this._el=this._el+C|0,this._fl=this._fl+S|0,this._gl=this._gl+O|0,this._hl=this._hl+k|0,this._ah=this._ah+n+p(this._al,_)|0,this._bh=this._bh+r+p(this._bl,w)|0,this._ch=this._ch+d+p(this._cl,x)|0,this._dh=this._dh+h+p(this._dl,E)|0,this._eh=this._eh+m+p(this._el,C)|0,this._fh=this._fh+v+p(this._fl,S)|0,this._gh=this._gh+y+p(this._gl,O)|0,this._hh=this._hh+b+p(this._hl,k)|0},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=m.allocUnsafe(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=r},function(t,e,n){"use strict";function r(t,e){a.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var n="sha512"===t||"sha384"===t?128:64;if(this._alg=t,this._key=e,e.length>n){e=("rmd160"===t?new l:c(t)).update(e).digest()}else e.length<n&&(e=s.concat([e,f],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),o=0;o<n;o++)r[o]=54^e[o],i[o]=92^e[o];this._hash="rmd160"===t?new l:c(t),this._hash.update(r)}var i=n(7),o=n(389),a=n(43),s=n(8).Buffer,u=n(219),l=n(145),c=n(146),f=s.alloc(128);i(r,a),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new l:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new r("rmd160",e):"md5"===t?new o(u,e):new r(t,e)}},function(t,e,n){var r=n(139);t.exports=function(t){return(new r).update(t).digest()}},function(t,e){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(t,e,n){e.pbkdf2=n(391),e.pbkdf2Sync=n(224)},function(t,e,n){(function(e){function n(t,n){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(n+" must be a buffer or string")}var r=Math.pow(2,30)-1;t.exports=function(t,e,i,o){if(n(t,"Password"),n(e,"Salt"),"number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!=o)throw new TypeError("Bad key length")}}).call(e,n(14).Buffer)},function(t,e,n){(function(e){var n;if(e.browser)n="utf-8";else{n=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}t.exports=n}).call(e,n(18))},function(t,e,n){function r(t,e,n){var r=function(t){return"rmd160"===t||"ripemd160"===t?function(t){return(new o).update(t).digest()}:"md5"===t?i:function(e){return a(t).update(e).digest()}}(t),s="sha512"===t||"sha384"===t?128:64;e.length>s?e=r(e):e.length<s&&(e=l.concat([e,c],s));for(var u=l.allocUnsafe(s+f[t]),p=l.allocUnsafe(s+f[t]),d=0;d<s;d++)u[d]=54^e[d],p[d]=92^e[d];var h=l.allocUnsafe(s+n+4);u.copy(h,0,0,s),this.ipad1=h,this.ipad2=u,this.opad=p,this.alg=t,this.blocksize=s,this.hash=r,this.size=f[t]}var i=n(219),o=n(145),a=n(146),s=n(222),u=n(223),l=n(8).Buffer,c=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(t,e){t.copy(e,this.blocksize);return this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,i,o){s(t,e,n,i),l.isBuffer(t)||(t=l.from(t,u)),l.isBuffer(e)||(e=l.from(e,u));var a=new r(o=o||"sha1",t,e.length),c=l.allocUnsafe(i),p=l.allocUnsafe(e.length+4);e.copy(p,0,0,e.length);for(var d=0,h=f[o],m=Math.ceil(i/h),g=1;g<=m;g++){p.writeUInt32BE(g,e.length);for(var v=a.run(p,a.ipad1),y=v,b=1;b<n;b++){y=a.run(y,a.ipad2);for(var _=0;_<h;_++)v[_]^=y[_]}v.copy(c,d),d+=h}return c}},function(t,e,n){function r(t){var e=t._cipher.encryptBlockRaw(t._prev);return a(t._prev),e}var i=n(80),o=n(8).Buffer,a=n(226);e.encrypt=function(t,e){var n=Math.ceil(e.length/16),a=t._cache.length;t._cache=o.concat([t._cache,o.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=r(t),l=a+16*s;t._cache.writeUInt32BE(u[0],l+0),t._cache.writeUInt32BE(u[1],l+4),t._cache.writeUInt32BE(u[2],l+8),t._cache.writeUInt32BE(u[3],l+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,c)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){t.writeUInt8(++e,n);break}t.writeUInt8(0,n)}}},function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(t,e,n){function r(t,e,n,r){a.call(this);var s=o.alloc(4,0);this._cipher=new i.AES(e);var l=this._cipher.encryptBlock(s);this._ghash=new u(l),n=function(t,e,n){if(12===e.length)return t._finID=o.concat([e,o.from([0,0,0,1])]),o.concat([e,o.from([0,0,0,2])]);var r=new u(n),i=e.length,a=i%16;r.update(e),a&&r.update(o.alloc(a=16-a,0)),r.update(o.alloc(8,0));var s=8*i,l=o.alloc(8);l.writeUIntBE(s,0,8),r.update(l),t._finID=r.state;var f=o.from(t._finID);return c(f),f}(this,n,l),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}var i=n(102),o=n(8).Buffer,a=n(43),s=n(7),u=n(406),l=n(80),c=n(226);s(r,a),r.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=o.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._ghash.update(this._decrypt?t:n),this._len+=t.length,n},r.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},r.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},r.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},r.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=r},function(t,e,n){function r(t,e,n,r){a.call(this),this._cipher=new i.AES(e),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=t}var i=n(102),o=n(8).Buffer,a=n(43);n(7)(r,a),r.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},t.exports=r},function(t,e,n){function r(t){for(var e=function(){if(null!==v)return v;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!=0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return v=t,t}(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function i(t){var e=s.mont(t);return 0===f.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function o(t,e){if(t<16)return new s(2===e||5===e?[140,123]:[140,39]);e=new s(e);for(var n,o;;){for(n=new s(a(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(c),n.testn(1)||n.iadd(f),e.cmp(f)){if(!e.cmp(p))for(;n.mod(d).cmp(h);)n.iadd(g)}else for(;n.mod(u).cmp(m);)n.iadd(g);if(o=n.shrn(1),r(o)&&r(n)&&i(o)&&i(n)&&l.test(o)&&l.test(n))return n}}var a=n(64);t.exports=o,o.simpleSieve=r,o.fermatTest=i;var s=n(15),u=new s(24),l=new(n(231)),c=new s(1),f=new s(2),p=new s(5),d=(new s(16),new s(8),new s(10)),h=new s(3),m=(new s(7),new s(11)),g=new s(4),v=(new s(12),null)},function(t,e,n){function r(t){this.rand=t||new o.Rand}var i=n(15),o=n(232);t.exports=r,r.create=function(t){return new r(t)},r.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(t)>=0);return r},r.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},r.prototype.test=function(t,e,n){var r=t.bitLength(),o=i.mont(t),a=new i(1).toRed(o);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),u=0;!s.testn(u);u++);for(var l=t.shrn(u),c=s.toRed(o);e>0;e--){var f=this._randrange(new i(2),s);n&&n(f);var p=f.toRed(o).redPow(l);if(0!==p.cmp(a)&&0!==p.cmp(c)){for(var d=1;d<u;d++){if(0===(p=p.redSqr()).cmp(a))return!1;if(0===p.cmp(c))break}if(d===u)return!1}}return!0},r.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),o=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var u=t.shrn(s),l=a.toRed(r);e>0;e--){var c=this._randrange(new i(2),a),f=t.gcd(c);if(0!==f.cmpn(1))return f;var p=c.toRed(r).redPow(u);if(0!==p.cmp(o)&&0!==p.cmp(l)){for(var d=1;d<s;d++){if(0===(p=p.redSqr()).cmp(o))return p.fromRed().subn(1).gcd(t);if(0===p.cmp(l))break}if(d===s)return(p=p.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){function r(t){this.rand=t}var i;if(t.exports=function(t){return i||(i=new r(null)),i.generate(t)},t.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(411);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,n){"use strict";function r(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n].toString(16));return e}var o=e;o.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16));else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},o.zero2=r,o.toHex=i,o.encode=function(t,e){return"hex"===e?i(t):t}},function(t,e,n){"use strict";function r(t,e,n){return t&e^~t&n}function i(t,e,n){return t&e^t&n^e&n}function o(t,e,n){return t^e^n}var a=n(37).rotr32;e.ft_1=function(t,e,n,a){return 0===t?r(e,n,a):1===t||3===t?o(e,n,a):2===t?i(e,n,a):void 0},e.ch32=r,e.maj32=i,e.p32=o,e.s0_256=function(t){return a(t,2)^a(t,13)^a(t,22)},e.s1_256=function(t){return a(t,6)^a(t,11)^a(t,25)},e.g0_256=function(t){return a(t,7)^a(t,18)^t>>>3},e.g1_256=function(t){return a(t,17)^a(t,19)^t>>>10}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}var i=n(37),o=n(81),a=n(234),s=n(28),u=i.sum32,l=i.sum32_4,c=i.sum32_5,f=a.ch32,p=a.maj32,d=a.s0_256,h=a.s1_256,m=a.g0_256,g=a.g1_256,v=o.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i.inherits(r,v),t.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=l(g(n[r-2]),n[r-7],m(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],a=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var x=c(w,h(y),f(y,b,_),this.k[r],n[r]),E=u(d(i),p(i,o,a));w=_,_=b,b=y,y=u(v,x),v=a,a=o,o=i,i=u(x,E)}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],v),this.h[4]=u(this.h[4],y),this.h[5]=u(this.h[5],b),this.h[6]=u(this.h[6],_),this.h[7]=u(this.h[7],w)},r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}var i=n(37),o=n(81),a=n(28),s=i.rotr64_hi,u=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,f=i.sum64,p=i.sum64_hi,d=i.sum64_lo,h=i.sum64_4_hi,m=i.sum64_4_lo,g=i.sum64_5_hi,v=i.sum64_5_lo,y=o.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];i.inherits(r,y),t.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=function(t,e){var n=s(t,e,19)^s(e,t,29)^l(t,e,6);return n<0&&(n+=4294967296),n}(n[r-4],n[r-3]),o=function(t,e){var n=u(t,e,19)^u(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}(n[r-4],n[r-3]),a=n[r-14],f=n[r-13],p=function(t,e){var n=s(t,e,1)^s(t,e,8)^l(t,e,7);return n<0&&(n+=4294967296),n}(n[r-30],n[r-29]),d=function(t,e){var n=u(t,e,1)^u(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}(n[r-30],n[r-29]),g=n[r-32],v=n[r-31];n[r]=h(i,o,a,f,p,d,g,v),n[r+1]=m(i,o,a,f,p,d,g,v)}},r.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],o=this.h[2],l=this.h[3],c=this.h[4],h=this.h[5],m=this.h[6],y=this.h[7],b=this.h[8],_=this.h[9],w=this.h[10],x=this.h[11],E=this.h[12],C=this.h[13],S=this.h[14],O=this.h[15];a(this.k.length===n.length);for(var k=0;k<n.length;k+=2){var T=S,P=O,N=function(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}(b,_),I=function(t,e){var n=u(t,e,14)^u(t,e,18)^u(e,t,9);return n<0&&(n+=4294967296),n}(b,_),A=function(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}(b,0,w,0,E),M=function(t,e,n,r,i,o){var a=e&r^~e&o;return a<0&&(a+=4294967296),a}(0,_,0,x,0,C),D=this.k[k],R=this.k[k+1],j=n[k],L=n[k+1],z=g(T,P,N,I,A,M,D,R,j,L),F=v(T,P,N,I,A,M,D,R,j,L);T=function(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}(r,i),P=function(t,e){var n=u(t,e,28)^u(e,t,2)^u(e,t,7);return n<0&&(n+=4294967296),n}(r,i),N=function(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}(r,0,o,0,c),I=function(t,e,n,r,i,o){var a=e&r^e&o^r&o;return a<0&&(a+=4294967296),a}(0,i,0,l,0,h);var B=p(T,P,N,I),V=d(T,P,N,I);S=E,O=C,E=w,C=x,w=b,x=_,b=p(m,y,z,F),_=d(y,y,z,F),m=c,y=h,c=o,h=l,o=r,l=i,r=p(z,F,B,V),i=d(z,F,B,V)}f(this.h,0,r,i),f(this.h,2,o,l),f(this.h,4,c,h),f(this.h,6,m,y),f(this.h,8,b,_),f(this.h,10,w,x),f(this.h,12,E,C),f(this.h,14,S,O)},r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){function r(t,e){a.call(this,e),s.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function i(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof i||(t=new i(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=s.byteLength(t);else{if(!s.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}var o=n(7),a=n(83).Reporter,s=n(14).Buffer;o(r,a),e.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},r.prototype.restore=function(t){var e=new r(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,a.prototype.restore.call(this,t.reporter),e},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},r.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new r(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},r.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=i,i.prototype.join=function(t,e){return t||(t=new s(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,e),e+=n.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):s.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,n){var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n|=0);e[t[n]]=n}),e},r.der=n(443)},function(t,e,n){function r(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new i,this.tree._init(t.body)}function i(t){l.Node.call(this,"der",t)}function o(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=f.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:f.tag[n]}}function a(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;r|=a}return r}var s=n(7),u=n(82),l=u.base,c=u.bignum,f=u.constants.der;t.exports=r,r.prototype.decode=function(t,e){return t instanceof l.DecoderBuffer||(t=new l.DecoderBuffer(t,e)),this.tree._decode(t,e)},s(i,l.Node),i.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var r=t.save(),i=o(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},i.prototype._decodeTag=function(t,e,n){var r=o(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=a(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var s=t.save(),u=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(u)?u:(i=t.offset-s.offset,t.restore(s),t.skip(i,'Failed to match body of: "'+e+'"'))},i.prototype._skipUntilEnd=function(t,e){for(;;){var n=o(t,e);if(t.isError(n))return n;var r=a(t,n.primitive,e);if(t.isError(r))return r;var i;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(t,e,n,r){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",r);if(t.isError(a)&&o)break;i.push(a)}return i},i.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var r=t.raw();if(r.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},i.prototype._decodeObjid=function(t,e,n){for(var r,i=[],o=0;!t.isEmpty();){var a=t.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);if(r=n?i:[i[0]/40|0,i[0]%40].concat(i.slice(1)),e){var s=e[r.join(" ")];void 0===s&&(s=e[r.join(".")]),void 0!==s&&(r=s)}return r},i.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),u=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,u,0)},i.prototype._decodeNull=function(t){return null},i.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},i.prototype._decodeInt=function(t,e){var n=t.raw(),r=new c(n);return e&&(r=e[r.toString(10)]||r),r},i.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,n){function r(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new i,this.tree._init(t.body)}function i(t){l.Node.call(this,"der",t)}function o(t){return t<10?"0"+t:t}var a=n(7),s=n(14).Buffer,u=n(82),l=u.base,c=u.constants.der;t.exports=r,r.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},a(i,l.Node),i.prototype._encodeComposite=function(t,e,n,r){var i=function(t,e,n,r){var i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),c.tagByName.hasOwnProperty(t))i=c.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}return i>=31?r.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=c.tagClassByName[n||"universal"]<<6)}(t,e,n,this.reporter);if(r.length<128){return(u=new s(2))[0]=i,u[1]=r.length,this._createEncoderBuffer([u,r])}for(var o=1,a=r.length;a>=256;a>>=8)o++;var u;(u=new s(2+o))[0]=i,u[1]=128|o;a=1+o;for(var l=r.length;l>0;a--,l>>=8)u[a]=255&l;return this._createEncoderBuffer([u,r])},i.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=new s(2*t.length),r=0;r<t.length;r++)n.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},i.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var r=0;r<t.length;r++)t[r]|=0}else if(Array.isArray(t)){t=t.slice();for(r=0;r<t.length;r++)t[r]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var i=0;for(r=0;r<t.length;r++){var o=t[r];for(i++;o>=128;o>>=7)i++}var a=new s(i),u=a.length-1;for(r=t.length-1;r>=0;r--){for(a[u--]=127&(o=t[r]);(o>>=7)>0;)a[u--]=128|127&o}return this._createEncoderBuffer(a)},i.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[o(r.getFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[o(r.getFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!s.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=new s(n)}if(s.isBuffer(t)){var r=t.length;0===t.length&&r++;var i=new s(r);return t.copy(i),0===t.length&&(i[0]=0),this._createEncoderBuffer(i)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);r=1;for(var o=t;o>=256;o>>=8)r++;for(o=(i=new Array(r)).length-1;o>=0;o--)i[o]=255&t,t>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new s(i))},i.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},i.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},i.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(t,e){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(t,e,n){var r=n(78),i=n(8).Buffer;t.exports=function(t,e){for(var n,o=i.alloc(0),a=0;o.length<e;)n=function(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}(a++),o=i.concat([o,r("sha1").update(t).update(n).digest()]);return o.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){var r=n(15),i=n(8).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){function __awaiter(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function __generator(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}function asPromise(t,e){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,a){n[r]=function(t){if(o)if(o=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(t){o&&(o=!1,a(t))}})}function EventEmitter(){this._listeners={}}function factory(t){return"undefined"!=typeof Float32Array?function(){function e(t,e,n){o[0]=t,e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3]}function n(t,e,n){o[0]=t,e[n]=a[3],e[n+1]=a[2],e[n+2]=a[1],e[n+3]=a[0]}function r(t,e){return a[0]=t[e],a[1]=t[e+1],a[2]=t[e+2],a[3]=t[e+3],o[0]}function i(t,e){return a[3]=t[e],a[2]=t[e+1],a[1]=t[e+2],a[0]=t[e+3],o[0]}var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),s=128===a[3];t.writeFloatLE=s?e:n,t.writeFloatBE=s?n:e,t.readFloatLE=s?r:i,t.readFloatBE=s?i:r}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>3.4028234663852886e38)t((i<<31|2139095040)>>>0,n,r);else if(e<1.1754943508222875e-38)t((i<<31|Math.round(e/1.401298464324817e-45))>>>0,n,r);else{var o=Math.floor(Math.log(e)/Math.LN2);t((i<<31|o+127<<23|8388607&Math.round(e*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1.401298464324817e-45*i*a:i*Math.pow(2,o-150)*(a+8388608)}t.writeFloatLE=e.bind(null,writeUintLE),t.writeFloatBE=e.bind(null,writeUintBE),t.readFloatLE=n.bind(null,readUintLE),t.readFloatBE=n.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){function e(t,e,n){o[0]=t,e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7]}function n(t,e,n){o[0]=t,e[n]=a[7],e[n+1]=a[6],e[n+2]=a[5],e[n+3]=a[4],e[n+4]=a[3],e[n+5]=a[2],e[n+6]=a[1],e[n+7]=a[0]}function r(t,e){return a[0]=t[e],a[1]=t[e+1],a[2]=t[e+2],a[3]=t[e+3],a[4]=t[e+4],a[5]=t[e+5],a[6]=t[e+6],a[7]=t[e+7],o[0]}function i(t,e){return a[7]=t[e],a[6]=t[e+1],a[5]=t[e+2],a[4]=t[e+3],a[3]=t[e+4],a[2]=t[e+5],a[1]=t[e+6],a[0]=t[e+7],o[0]}var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),s=128===a[7];t.writeDoubleLE=s?e:n,t.writeDoubleBE=s?n:e,t.readDoubleLE=s?r:i,t.readDoubleBE=s?i:r}():function(){function e(t,e,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,i,o+e),t(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))t(0,i,o+e),t(2146959360,i,o+n);else if(r>1.7976931348623157e308)t(0,i,o+e),t((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<2.2250738585072014e-308)t((s=r/5e-324)>>>0,i,o+e),t((a<<31|s/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(s=r*Math.pow(2,-u))>>>0,i,o+e),t((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(t,e,n,r,i){var o=t(r,i+e),a=t(r,i+n),s=2*(a>>31)+1,u=a>>>20&2047,l=4294967296*(1048575&a)+o;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,writeUintLE,0,4),t.writeDoubleBE=e.bind(null,writeUintBE,4,0),t.readDoubleLE=n.bind(null,readUintLE,0,4),t.readDoubleBE=n.bind(null,readUintBE,4,0)}(),t}function writeUintLE(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function writeUintBE(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function readUintLE(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function readUintBE(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function inquire(moduleName){try{var mod$$1=eval("quire".replace(/^/,"re"))(moduleName);if(mod$$1&&(mod$$1.length||Object.keys(mod$$1).length))return mod$$1}catch(t){}return null}function pool(t,e,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return t(n);a+n>r&&(o=t(r),a=0);var s=e.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}function LongBits(t,e){this.lo=t>>>0,this.hi=e>>>0}function Op(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function noop(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}function writeByte(t,e,n){e[n]=255&t}function writeVarint32(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t}function VarintOp(t,e){this.len=t,this.next=void 0,this.val=e}function writeVarint64(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function writeFixed32(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function BufferWriter$1(){writer.call(this)}function writeStringBuffer(t,e,n){t.length<40?minimal.utf8.write(t,e,n):e.utf8Write(t,n)}function indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader(t){this.buf=t,this.pos=0,this.len=t.length}function readLongVarint(){var t=new LongBits$2(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function readFixed32_end(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits$2(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}function BufferReader$1(t){reader.call(this,t)}function Service(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");minimal.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}function getParamValue(t,e,n,r){var i=e.params[t];if(i&&void 0!==i.inputIndex){if("tensor"===i.type)return getTensor(e.inputNames[i.inputIndex],n,r);if("tensors"===i.type)return(0===i.inputIndex?0===i.inputParamLength?e.inputNames:e.inputNames.slice(i.inputIndex,-i.inputParamLength):e.inputNames.splice(i.inputIndex)).map(function(t){return getTensor(t,n,r)});var o=Array.prototype.slice.call(getTensor(e.inputNames.slice(i.inputIndex)[0],n,r).dataSync());return"number"===i.type?o[0]:o}return i&&i.value}function getTensor(t,e,n){var r=parseNodeName(t),i=r[0],o=r[1],a=n.currentContextIds.find(function(t){return!!e[getNodeNameWithContextId(i,t)]});return void 0!==a?e[getNodeNameWithContextId(i,a)][o]:void 0}function getTensorsForCurrentContenxt(t,e,n){return e[getNodeNameWithContextId(t,n.currentContextId)]}function getNodeNameAndIndex(t,e){var n=parseNodeName(t),r=n[1];return[getNodeNameWithContextId(n[0],e&&e.currentContextId),r]}function getNodeNameWithContextId(t,e){return e?t+"-"+e:t}function parseNodeName(t){var e=t.lastIndexOf(":");return-1===e?[t,0]:[t.substring(0,e),Number(t.substring(e+1))]}function split$1(t,e){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}function executeOp$2(t,e,n){return __awaiter(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f,p,d,h,m,g,v,y,b,_,w,x,E,C,S,O,k,T,P,N,I,A,M,D,R,j,L;return __generator(this,function(z){switch(z.label){case 0:switch(t.op){case"loopCond":return[3,1];case"switch":return[3,2];case"merge":return[3,4];case"enter":return[3,5];case"exit":return[3,6];case"nextIteration":return[3,7];case"tensorArray":return[3,8];case"tensorArrayWrite":return[3,9];case"tensorArrayRead":return[3,10];case"tensorArrayGather":return[3,11];case"tensorArrayScatter":return[3,12];case"tensorArrayConcat":return[3,13];case"tensorArraySplit":return[3,14];case"tensorArraySize":return[3,15];case"tensorArrayClose":return[3,16]}return[3,17];case 1:return[2,[getParamValue("pred",t,e,n).clone()]];case 2:return r=getParamValue("pred",t,e,n),i=getParamValue("data",t,e,n),[4,r.data()];case 3:return[2,z.sent()[0]?[void 0,i.clone()]:[i.clone(),void 0]];case 4:return[2,(o=t.inputNames.find(function(t){return void 0!==getTensor(t,e,n)}))?[getTensor(o,e,n).clone()]:void 0];case 5:return a=getParamValue("frameName",t,e,n),s=getParamValue("tensor",t,e,n),n.enterFrame(a),[2,[s.clone()]];case 6:return u=getParamValue("tensor",t,e,n),n.exitFrame(),[2,[u.clone()]];case 7:return l=getParamValue("tensor",t,e,n),n.nextIteration(),[2,[l.clone()]];case 8:return c=getParamValue("size",t,e,n),f=getParamValue("dtype",t,e,n),p=getParamValue("elementShape",t,e,n),d=getParamValue("dynamicSize",t,e,n),h=getParamValue("clearAfterRead",t,e,n),m=getParamValue("identicalElementShapes",t,e,n),g=getParamValue("name",t,e,n),v=new TensorArray(g,f,c,p,m,d,h),n.addTensorArray(v),[2,[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(v.id),Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(1)]];case 9:return y=getParamValue("tensorArrayId",t,e,n),b=getParamValue("index",t,e,n),_=getParamValue("tensor",t,e,n),n.getTensorArray(y).write(b,_),[2,[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(1)]];case 10:return w=getParamValue("tensorArrayId",t,e,n),x=getParamValue("index",t,e,n),[2,[n.getTensorArray(w).read(x)]];case 11:return E=getParamValue("tensorArrayId",t,e,n),C=getParamValue("indices",t,e,n),S=getParamValue("dtype",t,e,n),[2,[n.getTensorArray(E).gather(C,S)]];case 12:return O=getParamValue("tensorArrayId",t,e,n),k=getParamValue("indices",t,e,n),T=getParamValue("tensor",t,e,n),n.getTensorArray(O).scatter(k,T),[2,[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(1)]];case 13:return P=getParamValue("tensorArrayId",t,e,n),N=n.getTensorArray(P),I=getParamValue("dtype",t,e,n),[2,[N.concat(I)]];case 14:return A=getParamValue("tensorArrayId",t,e,n),M=getParamValue("tensor",t,e,n),D=getParamValue("lengths",t,e,n),n.getTensorArray(A).split(D,M),[2,[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(1)]];case 15:return R=getParamValue("tensorArrayId",t,e,n),j=n.getTensorArray(R),[2,[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(j.size(),"int32")]];case 16:return L=getParamValue("tensorArrayId",t,e,n),n.getTensorArray(L).clearAndClose(),[2,[]];case 17:throw TypeError("Node type "+t.op+" is not implemented")}})})}function executeOp$5(t,e,n){return __awaiter(this,void 0,void 0,function(){var r,i,o,a,s;return __generator(this,function(u){switch(u.label){case 0:switch(t.op){case"nonMaxSuppression":return[3,1];case"whereAsync":return[3,3];case"setdiff1dAsync":return[3,5]}return[3,7];case 1:return r=getParamValue("boxes",t,e,n),i=getParamValue("scores",t,e,n),o=getParamValue("maxOutputSize",t,e,n),a=getParamValue("iouThreshold",t,e,n),s=getParamValue("scoreThreshold",t,e,n),[4,__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._39.nonMaxSuppressionAsync(r,i,o,a,s)];case 2:return[2,[u.sent()]];case 3:return[4,Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._179)(getParamValue("condition",t,e,n))];case 4:return[2,[u.sent()]];case 5:return[4,Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._124)(getParamValue("x",t,e,n),getParamValue("y",t,e,n))];case 6:return[2,u.sent()];case 7:throw TypeError("Node type "+t.op+" is not implemented")}})})}function executeOp$16(t,e,n){switch(t.category){case"arithmetic":return executeOp(t,e,n);case"basic_math":return executeOp$1(t,e,n);case"control":return executeOp$2(t,e,n);case"convolution":return executeOp$3(t,e,n);case"creation":return executeOp$4(t,e,n);case"dynamic":return executeOp$5(t,e,n);case"evaluation":return executeOp$6(t,e,n);case"image":return executeOp$8(t,e,n);case"graph":return executeOp$7(t,e,n);case"logical":return executeOp$9(t,e,n);case"matrices":return executeOp$10(t,e,n);case"normalization":return executeOp$11(t,e,n);case"reduction":return executeOp$12(t,e,n);case"slice_join":return executeOp$13(t,e,n);case"spectral":return executeOp$14(t,e,n);case"transformation":return executeOp$15(t,e,n);default:throw TypeError("Node type "+t.op+" is not implemented")}}function loadFrozenModel(t,e,n){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(i){switch(i.label){case 0:return[4,(r=new FrozenModel(t,e,n)).load()];case 1:return i.sent(),[2,r]}})})}function loadTfHubModule(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return t.endsWith("/")||(t+="/"),[2,loadFrozenModel(""+t+DEFAULT_MODEL_NAME+TFHUB_SEARCH_PARAM,""+t+DEFAULT_MANIFEST_NAME+TFHUB_SEARCH_PARAM,e)]})})}__webpack_require__.d(__webpack_exports__,"a",function(){return FrozenModel}),__webpack_require__.d(__webpack_exports__,"b",function(){return loadFrozenModel}),__webpack_require__.d(__webpack_exports__,"c",function(){return loadTfHubModule}),__webpack_require__.d(__webpack_exports__,"d",function(){return version});var __WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__=__webpack_require__(77),__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},commonjsGlobal="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},aspromise=asPromise,base64_1=createCommonjsModule(function(t,e){var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),i=new Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(t,e,n){for(var i,o=null,a=[],s=0,u=0;e<n;){var l=t[e++];switch(u){case 0:a[s++]=r[l>>2],i=(3&l)<<4,u=1;break;case 1:a[s++]=r[i|l>>4],i=(15&l)<<2,u=2;break;case 2:a[s++]=r[i|l>>6],a[s++]=r[63&l],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=r[i],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))},n.decode=function(t,e,n){for(var r,o=n,a=0,s=0;s<t.length;){var u=t.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(a){case 0:r=u,a=1;break;case 1:e[n++]=r<<2|(48&u)>>4,r=u,a=2;break;case 2:e[n++]=(15&r)<<4|(60&u)>>2,r=u,a=3;break;case 3:e[n++]=(3&r)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return n-o},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}}),eventemitter=EventEmitter;EventEmitter.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},EventEmitter.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},EventEmitter.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this};var float_1=factory(factory),inquire_1=inquire,utf8_1=createCommonjsModule(function(t,e){var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,i=null,o=[],a=0;e<n;)(r=t[e++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(t,e,n){for(var r,i,o=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-o}}),pool_1=pool,longbits=LongBits,zero=LongBits.zero=new LongBits(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function(t){if(0===t)return zero;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new LongBits(n,r)},LongBits.from=function(t){if("number"==typeof t)return LongBits.fromNumber(t);if(minimal.isString(t)){if(!minimal.Long)return LongBits.fromNumber(parseInt(t,10));t=minimal.Long.fromString(t)}return t.low||t.high?new LongBits(t.low>>>0,t.high>>>0):zero},LongBits.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function(t){return minimal.Long?new minimal.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var charCodeAt=String.prototype.charCodeAt;LongBits.fromHash=function(t){return t===zeroHash?zero:new LongBits((charCodeAt.call(t,0)|charCodeAt.call(t,1)<<8|charCodeAt.call(t,2)<<16|charCodeAt.call(t,3)<<24)>>>0,(charCodeAt.call(t,4)|charCodeAt.call(t,5)<<8|charCodeAt.call(t,6)<<16|charCodeAt.call(t,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},LongBits.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},LongBits.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10};var minimal=createCommonjsModule(function(t,e){function n(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function r(t){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}var i=e;i.asPromise=aspromise,i.base64=base64_1,i.EventEmitter=eventemitter,i.float=float_1,i.inquire=inquire_1,i.utf8=utf8_1,i.pool=pool_1,i.LongBits=longbits,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=Boolean(commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.isset=i.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var t=i.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(t){return"number"==typeof t?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=commonjsGlobal.dcodeIO&&commonjsGlobal.dcodeIO.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash},i.longFromHash=function(t,e){var n=i.LongBits.fromHash(t);return i.Long?i.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},i.merge=n,i.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},i.newError=r,i.ProtocolError=r("ProtocolError"),i.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},i.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var t=i.Buffer;t?(i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},i._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):i._Buffer_from=i._Buffer_allocUnsafe=null}}),writer=Writer,BufferWriter,LongBits$1=minimal.LongBits,base64=minimal.base64,utf8=minimal.utf8;Writer.create=minimal.Buffer?function(){return(Writer.create=function(){return new BufferWriter})()}:function(){return new Writer},Writer.alloc=function(t){return new minimal.Array(t)},minimal.Array!==Array&&(Writer.alloc=minimal.pool(Writer.alloc,minimal.Array.prototype.subarray)),Writer.prototype._push=function(t,e,n){return this.tail=this.tail.next=new Op(t,e,n),this.len+=e,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new VarintOp((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},Writer.prototype.int32=function(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)},Writer.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},Writer.prototype.uint64=function(t){var e=LongBits$1.from(t);return this._push(writeVarint64,e.length(),e)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function(t){var e=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,e.length(),e)},Writer.prototype.bool=function(t){return this._push(writeByte,1,t?1:0)},Writer.prototype.fixed32=function(t){return this._push(writeFixed32,4,t>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function(t){var e=LongBits$1.from(t);return this._push(writeFixed32,4,e.lo)._push(writeFixed32,4,e.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function(t){return this._push(minimal.float.writeFloatLE,4,t)},Writer.prototype.double=function(t){return this._push(minimal.float.writeDoubleLE,8,t)};var writeBytes=minimal.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};Writer.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(writeByte,1,0);if(minimal.isString(t)){var n=Writer.alloc(e=base64.length(t));base64.decode(t,n,0),t=n}return this.uint32(e)._push(writeBytes,e,t)},Writer.prototype.string=function(t){var e=utf8.length(t);return e?this.uint32(e)._push(utf8.write,e,t):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},Writer.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},Writer._configure=function(t){BufferWriter=t};var writer_buffer=BufferWriter$1;(BufferWriter$1.prototype=Object.create(writer.prototype)).constructor=BufferWriter$1;var Buffer=minimal.Buffer;BufferWriter$1.alloc=function(t){return(BufferWriter$1.alloc=minimal._Buffer_allocUnsafe)(t)};var writeBytesBuffer=Buffer&&Buffer.prototype instanceof Uint8Array&&"set"===Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};BufferWriter$1.prototype.bytes=function(t){minimal.isString(t)&&(t=minimal._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(writeBytesBuffer,e,t),this},BufferWriter$1.prototype.string=function(t){var e=Buffer.byteLength(t);return this.uint32(e),e&&this._push(writeStringBuffer,e,t),this};var reader=Reader,BufferReader,LongBits$2=minimal.LongBits,utf8$1=minimal.utf8,create_array="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Reader(t);throw Error("illegal buffer")};Reader.create=minimal.Buffer?function(t){return(Reader.create=function(t){return minimal.Buffer.isBuffer(t)?new BufferReader(t):create_array(t)})(t)}:create_array,Reader.prototype._slice=minimal.Array.prototype.subarray||minimal.Array.prototype.slice,Reader.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return t}}(),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=minimal.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=minimal.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},Reader.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw indexOutOfRange(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},Reader.prototype.string=function(){var t=this.bytes();return utf8$1.read(t,0,t.length)},Reader.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},Reader._configure=function(t){BufferReader=t;var e=minimal.Long?"toLong":"toNumber";minimal.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader$1;(BufferReader$1.prototype=Object.create(reader.prototype)).constructor=BufferReader$1,minimal.Buffer&&(BufferReader$1.prototype._slice=minimal.Buffer.prototype.slice),BufferReader$1.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))};var service=Service;(Service.prototype=Object.create(minimal.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function t(e,n,r,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return minimal.asPromise(t,a,e,n,r,i);if(a.rpcImpl)try{return a.rpcImpl(e,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(t,n){if(t)return a.emit("error",t,e),o(t);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return a.emit("error",t,e),o(t)}return a.emit("data",n,e),o(null,n)}a.end(!0)})}catch(t){return a.emit("error",t,e),void setTimeout(function(){o(t)},0)}else setTimeout(function(){o(Error("already ended"))},0)},Service.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var rpc_1=createCommonjsModule(function(t,e){e.Service=service}),roots={},indexMinimal=createCommonjsModule(function(t,e){function n(){r.Reader._configure(r.BufferReader),r.util._configure()}var r=e;r.build="minimal",r.Writer=writer,r.BufferWriter=writer_buffer,r.Reader=reader,r.BufferReader=reader_buffer,r.util=minimal,r.rpc=rpc_1,r.roots=roots,r.configure=n,r.Writer._configure(r.BufferWriter),n()}),minimal$1=indexMinimal,minimal_1=minimal$1.roots,minimal_2=minimal$1.Reader,minimal_3=minimal$1.util,$Reader=minimal$1.Reader,$util=minimal$1.util,$root=minimal$1.roots.default||(minimal$1.roots.default={});$root.tensorflow=function(){var t,e,n={};return n.Any=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.typeUrl="",t.prototype.value=$util.newBuffer([]),t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.Any;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.typeUrl=t.string();break;case 2:r.value=t.bytes();break;default:t.skipType(7&i)}}return r},t}(),n.DataType=(t={},(e=Object.create(t))[t[0]="DT_INVALID"]=0,e[t[1]="DT_FLOAT"]=1,e[t[2]="DT_DOUBLE"]=2,e[t[3]="DT_INT32"]=3,e[t[4]="DT_UINT8"]=4,e[t[5]="DT_INT16"]=5,e[t[6]="DT_INT8"]=6,e[t[7]="DT_STRING"]=7,e[t[8]="DT_COMPLEX64"]=8,e[t[9]="DT_INT64"]=9,e[t[10]="DT_BOOL"]=10,e[t[11]="DT_QINT8"]=11,e[t[12]="DT_QUINT8"]=12,e[t[13]="DT_QINT32"]=13,e[t[14]="DT_BFLOAT16"]=14,e[t[101]="DT_FLOAT_REF"]=101,e[t[102]="DT_DOUBLE_REF"]=102,e[t[103]="DT_INT32_REF"]=103,e[t[104]="DT_UINT8_REF"]=104,e[t[105]="DT_INT16_REF"]=105,e[t[106]="DT_INT8_REF"]=106,e[t[107]="DT_STRING_REF"]=107,e[t[108]="DT_COMPLEX64_REF"]=108,e[t[109]="DT_INT64_REF"]=109,e[t[110]="DT_BOOL_REF"]=110,e[t[111]="DT_QINT8_REF"]=111,e[t[112]="DT_QUINT8_REF"]=112,e[t[113]="DT_QINT32_REF"]=113,e[t[114]="DT_BFLOAT16_REF"]=114,e),n.TensorShape=function(){function t(t){if(this.dim=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dim=$util.emptyArray,t.prototype.unknownRank=!1,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.TensorShape;t.pos<n;){var i=t.uint32();switch(i>>>3){case 2:r.dim&&r.dim.length||(r.dim=[]),r.dim.push($root.tensorflow.TensorShape.Dim.decode(t,t.uint32()));break;case 3:r.unknownRank=t.bool();break;default:t.skipType(7&i)}}return r},t.Dim=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.size=$util.Long?$util.Long.fromBits(0,0,!1):0,t.prototype.name="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.TensorShape.Dim;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.size=t.int64();break;case 2:r.name=t.string();break;default:t.skipType(7&i)}}return r},t}(),t}(),n.Tensor=function(){function t(t){if(this.floatVal=[],this.doubleVal=[],this.intVal=[],this.stringVal=[],this.scomplexVal=[],this.int64Val=[],this.boolVal=[],this.uint32Val=[],this.uint64Val=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.dtype=0,t.prototype.tensorShape=null,t.prototype.versionNumber=0,t.prototype.tensorContent=$util.newBuffer([]),t.prototype.floatVal=$util.emptyArray,t.prototype.doubleVal=$util.emptyArray,t.prototype.intVal=$util.emptyArray,t.prototype.stringVal=$util.emptyArray,t.prototype.scomplexVal=$util.emptyArray,t.prototype.int64Val=$util.emptyArray,t.prototype.boolVal=$util.emptyArray,t.prototype.uint32Val=$util.emptyArray,t.prototype.uint64Val=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.Tensor;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.dtype=t.int32();break;case 2:r.tensorShape=$root.tensorflow.TensorShape.decode(t,t.uint32());break;case 3:r.versionNumber=t.int32();break;case 4:r.tensorContent=t.bytes();break;case 5:if(r.floatVal&&r.floatVal.length||(r.floatVal=[]),2==(7&i))for(var o=t.uint32()+t.pos;t.pos<o;)r.floatVal.push(t.float());else r.floatVal.push(t.float());break;case 6:if(r.doubleVal&&r.doubleVal.length||(r.doubleVal=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.doubleVal.push(t.double());else r.doubleVal.push(t.double());break;case 7:if(r.intVal&&r.intVal.length||(r.intVal=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.intVal.push(t.int32());else r.intVal.push(t.int32());break;case 8:r.stringVal&&r.stringVal.length||(r.stringVal=[]),r.stringVal.push(t.bytes());break;case 9:if(r.scomplexVal&&r.scomplexVal.length||(r.scomplexVal=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.scomplexVal.push(t.float());else r.scomplexVal.push(t.float());break;case 10:if(r.int64Val&&r.int64Val.length||(r.int64Val=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.int64Val.push(t.int64());else r.int64Val.push(t.int64());break;case 11:if(r.boolVal&&r.boolVal.length||(r.boolVal=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.boolVal.push(t.bool());else r.boolVal.push(t.bool());break;case 16:if(r.uint32Val&&r.uint32Val.length||(r.uint32Val=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.uint32Val.push(t.uint32());else r.uint32Val.push(t.uint32());break;case 17:if(r.uint64Val&&r.uint64Val.length||(r.uint64Val=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.uint64Val.push(t.uint64());else r.uint64Val.push(t.uint64());break;default:t.skipType(7&i)}}return r},t}(),n.AttrValue=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.list=null,t.prototype.s=$util.newBuffer([]),t.prototype.i=$util.Long?$util.Long.fromBits(0,0,!1):0,t.prototype.f=0,t.prototype.b=!1,t.prototype.type=0,t.prototype.shape=null,t.prototype.tensor=null,t.prototype.placeholder="",t.prototype.func=null,Object.defineProperty(t.prototype,"value",{get:$util.oneOfGetter(e=["list","s","i","f","b","type","shape","tensor","placeholder","func"]),set:$util.oneOfSetter(e)}),t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.AttrValue;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.list=$root.tensorflow.AttrValue.ListValue.decode(t,t.uint32());break;case 2:r.s=t.bytes();break;case 3:r.i=t.int64();break;case 4:r.f=t.float();break;case 5:r.b=t.bool();break;case 6:r.type=t.int32();break;case 7:r.shape=$root.tensorflow.TensorShape.decode(t,t.uint32());break;case 8:r.tensor=$root.tensorflow.Tensor.decode(t,t.uint32());break;case 9:r.placeholder=t.string();break;case 10:r.func=$root.tensorflow.NameAttrList.decode(t,t.uint32());break;default:t.skipType(7&i)}}return r},t.ListValue=function(){function t(t){if(this.s=[],this.i=[],this.f=[],this.b=[],this.type=[],this.shape=[],this.tensor=[],this.func=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.s=$util.emptyArray,t.prototype.i=$util.emptyArray,t.prototype.f=$util.emptyArray,t.prototype.b=$util.emptyArray,t.prototype.type=$util.emptyArray,t.prototype.shape=$util.emptyArray,t.prototype.tensor=$util.emptyArray,t.prototype.func=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.AttrValue.ListValue;t.pos<n;){var i=t.uint32();switch(i>>>3){case 2:r.s&&r.s.length||(r.s=[]),r.s.push(t.bytes());break;case 3:if(r.i&&r.i.length||(r.i=[]),2==(7&i))for(var o=t.uint32()+t.pos;t.pos<o;)r.i.push(t.int64());else r.i.push(t.int64());break;case 4:if(r.f&&r.f.length||(r.f=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.f.push(t.float());else r.f.push(t.float());break;case 5:if(r.b&&r.b.length||(r.b=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.b.push(t.bool());else r.b.push(t.bool());break;case 6:if(r.type&&r.type.length||(r.type=[]),2==(7&i))for(o=t.uint32()+t.pos;t.pos<o;)r.type.push(t.int32());else r.type.push(t.int32());break;case 7:r.shape&&r.shape.length||(r.shape=[]),r.shape.push($root.tensorflow.TensorShape.decode(t,t.uint32()));break;case 8:r.tensor&&r.tensor.length||(r.tensor=[]),r.tensor.push($root.tensorflow.Tensor.decode(t,t.uint32()));break;case 9:r.func&&r.func.length||(r.func=[]),r.func.push($root.tensorflow.NameAttrList.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t}(),t}(),n.NameAttrList=function(){function t(t){if(this.attr={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.attr=$util.emptyObject,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n,r=void 0===e?t.len:t.pos+e,i=new $root.tensorflow.NameAttrList;t.pos<r;){var o=t.uint32();switch(o>>>3){case 1:i.name=t.string();break;case 2:t.skip().pos++,i.attr===$util.emptyObject&&(i.attr={}),n=t.string(),t.pos++,i.attr[n]=$root.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),n.NodeDef=function(){function t(t){if(this.input=[],this.attr={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.op="",t.prototype.input=$util.emptyArray,t.prototype.device="",t.prototype.attr=$util.emptyObject,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n,r=void 0===e?t.len:t.pos+e,i=new $root.tensorflow.NodeDef;t.pos<r;){var o=t.uint32();switch(o>>>3){case 1:i.name=t.string();break;case 2:i.op=t.string();break;case 3:i.input&&i.input.length||(i.input=[]),i.input.push(t.string());break;case 4:i.device=t.string();break;case 5:t.skip().pos++,i.attr===$util.emptyObject&&(i.attr={}),n=t.string(),t.pos++,i.attr[n]=$root.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&o)}}return i},t}(),n.VersionDef=function(){function t(t){if(this.badConsumers=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.producer=0,t.prototype.minConsumer=0,t.prototype.badConsumers=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.VersionDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.producer=t.int32();break;case 2:r.minConsumer=t.int32();break;case 3:if(r.badConsumers&&r.badConsumers.length||(r.badConsumers=[]),2==(7&i))for(var o=t.uint32()+t.pos;t.pos<o;)r.badConsumers.push(t.int32());else r.badConsumers.push(t.int32());break;default:t.skipType(7&i)}}return r},t}(),n.GraphDef=function(){function t(t){if(this.node=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.node=$util.emptyArray,t.prototype.versions=null,t.prototype.library=null,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.GraphDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.node&&r.node.length||(r.node=[]),r.node.push($root.tensorflow.NodeDef.decode(t,t.uint32()));break;case 4:r.versions=$root.tensorflow.VersionDef.decode(t,t.uint32());break;case 2:r.library=$root.tensorflow.FunctionDefLibrary.decode(t,t.uint32());break;default:t.skipType(7&i)}}return r},t}(),n.CollectionDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.nodeList=null,t.prototype.bytesList=null,t.prototype.int64List=null,t.prototype.floatList=null,t.prototype.anyList=null,Object.defineProperty(t.prototype,"kind",{get:$util.oneOfGetter(e=["nodeList","bytesList","int64List","floatList","anyList"]),set:$util.oneOfSetter(e)}),t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.CollectionDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.nodeList=$root.tensorflow.CollectionDef.NodeList.decode(t,t.uint32());break;case 2:r.bytesList=$root.tensorflow.CollectionDef.BytesList.decode(t,t.uint32());break;case 3:r.int64List=$root.tensorflow.CollectionDef.Int64List.decode(t,t.uint32());break;case 4:r.floatList=$root.tensorflow.CollectionDef.FloatList.decode(t,t.uint32());break;case 5:r.anyList=$root.tensorflow.CollectionDef.AnyList.decode(t,t.uint32());break;default:t.skipType(7&i)}}return r},t.NodeList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.CollectionDef.NodeList;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(t.string());break;default:t.skipType(7&i)}}return r},t}(),t.BytesList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.CollectionDef.BytesList;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push(t.bytes());break;default:t.skipType(7&i)}}return r},t}(),t.Int64List=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.CollectionDef.Int64List;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&i))for(var o=t.uint32()+t.pos;t.pos<o;)r.value.push(t.int64());else r.value.push(t.int64());break;default:t.skipType(7&i)}}return r},t}(),t.FloatList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.CollectionDef.FloatList;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:if(r.value&&r.value.length||(r.value=[]),2==(7&i))for(var o=t.uint32()+t.pos;t.pos<o;)r.value.push(t.float());else r.value.push(t.float());break;default:t.skipType(7&i)}}return r},t}(),t.AnyList=function(){function t(t){if(this.value=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.value=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.CollectionDef.AnyList;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.value&&r.value.length||(r.value=[]),r.value.push($root.tensorflow.Any.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t}(),t}(),n.SaverDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.filenameTensorName="",t.prototype.saveTensorName="",t.prototype.restoreOpName="",t.prototype.maxToKeep=0,t.prototype.sharded=!1,t.prototype.keepCheckpointEveryNHours=0,t.prototype.version=0,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.SaverDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.filenameTensorName=t.string();break;case 2:r.saveTensorName=t.string();break;case 3:r.restoreOpName=t.string();break;case 4:r.maxToKeep=t.int32();break;case 5:r.sharded=t.bool();break;case 6:r.keepCheckpointEveryNHours=t.float();break;case 7:r.version=t.int32();break;default:t.skipType(7&i)}}return r},t.CheckpointFormatVersion=(e={},(n=Object.create(e))[e[0]="LEGACY"]=0,n[e[1]="V1"]=1,n[e[2]="V2"]=2,n),t}(),n.TensorInfo=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e;return t.prototype.name="",t.prototype.cooSparse=null,t.prototype.dtype=0,t.prototype.tensorShape=null,Object.defineProperty(t.prototype,"encoding",{get:$util.oneOfGetter(e=["name","cooSparse"]),set:$util.oneOfSetter(e)}),t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.TensorInfo;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.name=t.string();break;case 4:r.cooSparse=$root.tensorflow.TensorInfo.CooSparse.decode(t,t.uint32());break;case 2:r.dtype=t.int32();break;case 3:r.tensorShape=$root.tensorflow.TensorShape.decode(t,t.uint32());break;default:t.skipType(7&i)}}return r},t.CooSparse=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.valuesTensorName="",t.prototype.indicesTensorName="",t.prototype.denseShapeTensorName="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.TensorInfo.CooSparse;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.valuesTensorName=t.string();break;case 2:r.indicesTensorName=t.string();break;case 3:r.denseShapeTensorName=t.string();break;default:t.skipType(7&i)}}return r},t}(),t}(),n.SignatureDef=function(){function t(t){if(this.inputs={},this.outputs={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.inputs=$util.emptyObject,t.prototype.outputs=$util.emptyObject,t.prototype.methodName="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n,r=void 0===e?t.len:t.pos+e,i=new $root.tensorflow.SignatureDef;t.pos<r;){var o=t.uint32();switch(o>>>3){case 1:t.skip().pos++,i.inputs===$util.emptyObject&&(i.inputs={}),n=t.string(),t.pos++,i.inputs[n]=$root.tensorflow.TensorInfo.decode(t,t.uint32());break;case 2:t.skip().pos++,i.outputs===$util.emptyObject&&(i.outputs={}),n=t.string(),t.pos++,i.outputs[n]=$root.tensorflow.TensorInfo.decode(t,t.uint32());break;case 3:i.methodName=t.string();break;default:t.skipType(7&o)}}return i},t}(),n.AssetFileDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tensorInfo=null,t.prototype.filename="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.AssetFileDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.tensorInfo=$root.tensorflow.TensorInfo.decode(t,t.uint32());break;case 2:r.filename=t.string();break;default:t.skipType(7&i)}}return r},t}(),n.OpDef=function(){function t(t){if(this.inputArg=[],this.outputArg=[],this.attr=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.inputArg=$util.emptyArray,t.prototype.outputArg=$util.emptyArray,t.prototype.attr=$util.emptyArray,t.prototype.deprecation=null,t.prototype.summary="",t.prototype.description="",t.prototype.isCommutative=!1,t.prototype.isAggregate=!1,t.prototype.isStateful=!1,t.prototype.allowsUninitializedInput=!1,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.OpDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.name=t.string();break;case 2:r.inputArg&&r.inputArg.length||(r.inputArg=[]),r.inputArg.push($root.tensorflow.OpDef.ArgDef.decode(t,t.uint32()));break;case 3:r.outputArg&&r.outputArg.length||(r.outputArg=[]),r.outputArg.push($root.tensorflow.OpDef.ArgDef.decode(t,t.uint32()));break;case 4:r.attr&&r.attr.length||(r.attr=[]),r.attr.push($root.tensorflow.OpDef.AttrDef.decode(t,t.uint32()));break;case 8:r.deprecation=$root.tensorflow.OpDef.OpDeprecation.decode(t,t.uint32());break;case 5:r.summary=t.string();break;case 6:r.description=t.string();break;case 18:r.isCommutative=t.bool();break;case 16:r.isAggregate=t.bool();break;case 17:r.isStateful=t.bool();break;case 19:r.allowsUninitializedInput=t.bool();break;default:t.skipType(7&i)}}return r},t.ArgDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.description="",t.prototype.type=0,t.prototype.typeAttr="",t.prototype.numberAttr="",t.prototype.typeListAttr="",t.prototype.isRef=!1,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.OpDef.ArgDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.name=t.string();break;case 2:r.description=t.string();break;case 3:r.type=t.int32();break;case 4:r.typeAttr=t.string();break;case 5:r.numberAttr=t.string();break;case 6:r.typeListAttr=t.string();break;case 16:r.isRef=t.bool();break;default:t.skipType(7&i)}}return r},t}(),t.AttrDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.type="",t.prototype.defaultValue=null,t.prototype.description="",t.prototype.hasMinimum=!1,t.prototype.minimum=$util.Long?$util.Long.fromBits(0,0,!1):0,t.prototype.allowedValues=null,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.OpDef.AttrDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.name=t.string();break;case 2:r.type=t.string();break;case 3:r.defaultValue=$root.tensorflow.AttrValue.decode(t,t.uint32());break;case 4:r.description=t.string();break;case 5:r.hasMinimum=t.bool();break;case 6:r.minimum=t.int64();break;case 7:r.allowedValues=$root.tensorflow.AttrValue.decode(t,t.uint32());break;default:t.skipType(7&i)}}return r},t}(),t.OpDeprecation=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.version=0,t.prototype.explanation="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.OpDef.OpDeprecation;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.version=t.int32();break;case 2:r.explanation=t.string();break;default:t.skipType(7&i)}}return r},t}(),t}(),n.OpList=function(){function t(t){if(this.op=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.op=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.OpList;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.op&&r.op.length||(r.op=[]),r.op.push($root.tensorflow.OpDef.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t}(),n.MetaGraphDef=function(){function t(t){if(this.collectionDef={},this.signatureDef={},this.assetFileDef=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.metaInfoDef=null,t.prototype.graphDef=null,t.prototype.saverDef=null,t.prototype.collectionDef=$util.emptyObject,t.prototype.signatureDef=$util.emptyObject,t.prototype.assetFileDef=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n,r=void 0===e?t.len:t.pos+e,i=new $root.tensorflow.MetaGraphDef;t.pos<r;){var o=t.uint32();switch(o>>>3){case 1:i.metaInfoDef=$root.tensorflow.MetaGraphDef.MetaInfoDef.decode(t,t.uint32());break;case 2:i.graphDef=$root.tensorflow.GraphDef.decode(t,t.uint32());break;case 3:i.saverDef=$root.tensorflow.SaverDef.decode(t,t.uint32());break;case 4:t.skip().pos++,i.collectionDef===$util.emptyObject&&(i.collectionDef={}),n=t.string(),t.pos++,i.collectionDef[n]=$root.tensorflow.CollectionDef.decode(t,t.uint32());break;case 5:t.skip().pos++,i.signatureDef===$util.emptyObject&&(i.signatureDef={}),n=t.string(),t.pos++,i.signatureDef[n]=$root.tensorflow.SignatureDef.decode(t,t.uint32());break;case 6:i.assetFileDef&&i.assetFileDef.length||(i.assetFileDef=[]),i.assetFileDef.push($root.tensorflow.AssetFileDef.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return i},t.MetaInfoDef=function(){function t(t){if(this.tags=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.metaGraphVersion="",t.prototype.strippedOpList=null,t.prototype.anyInfo=null,t.prototype.tags=$util.emptyArray,t.prototype.tensorflowVersion="",t.prototype.tensorflowGitVersion="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.MetaGraphDef.MetaInfoDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.metaGraphVersion=t.string();break;case 2:r.strippedOpList=$root.tensorflow.OpList.decode(t,t.uint32());break;case 3:r.anyInfo=$root.tensorflow.Any.decode(t,t.uint32());break;case 4:r.tags&&r.tags.length||(r.tags=[]),r.tags.push(t.string());break;case 5:r.tensorflowVersion=t.string();break;case 6:r.tensorflowGitVersion=t.string();break;default:t.skipType(7&i)}}return r},t}(),t}(),n.SavedModel=function(){function t(t){if(this.metaGraphs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.savedModelSchemaVersion=$util.Long?$util.Long.fromBits(0,0,!1):0,t.prototype.metaGraphs=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.SavedModel;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.savedModelSchemaVersion=t.int64();break;case 2:r.metaGraphs&&r.metaGraphs.length||(r.metaGraphs=[]),r.metaGraphs.push($root.tensorflow.MetaGraphDef.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t}(),n.FunctionDefLibrary=function(){function t(t){if(this.function=[],this.gradient=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.function=$util.emptyArray,t.prototype.gradient=$util.emptyArray,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.FunctionDefLibrary;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.function&&r.function.length||(r.function=[]),r.function.push($root.tensorflow.FunctionDef.decode(t,t.uint32()));break;case 2:r.gradient&&r.gradient.length||(r.gradient=[]),r.gradient.push($root.tensorflow.GradientDef.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t}(),n.FunctionDef=function(){function t(t){if(this.attr={},this.nodeDef=[],this.ret={},t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.signature=null,t.prototype.attr=$util.emptyObject,t.prototype.nodeDef=$util.emptyArray,t.prototype.ret=$util.emptyObject,t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n,r=void 0===e?t.len:t.pos+e,i=new $root.tensorflow.FunctionDef;t.pos<r;){var o=t.uint32();switch(o>>>3){case 1:i.signature=$root.tensorflow.OpDef.decode(t,t.uint32());break;case 5:t.skip().pos++,i.attr===$util.emptyObject&&(i.attr={}),n=t.string(),t.pos++,i.attr[n]=$root.tensorflow.AttrValue.decode(t,t.uint32());break;case 3:i.nodeDef&&i.nodeDef.length||(i.nodeDef=[]),i.nodeDef.push($root.tensorflow.NodeDef.decode(t,t.uint32()));break;case 4:t.skip().pos++,i.ret===$util.emptyObject&&(i.ret={}),n=t.string(),t.pos++,i.ret[n]=t.string();break;default:t.skipType(7&o)}}return i},t}(),n.GradientDef=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.functionName="",t.prototype.gradientFunc="",t.decode=function(t,e){t instanceof $Reader||(t=$Reader.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new $root.tensorflow.GradientDef;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.functionName=t.string();break;case 2:r.gradientFunc=t.string();break;default:t.skipType(7&i)}}return r},t}(),n}();var compiled_api=$root,compiled_api_1=compiled_api.tensorflow,json=[{tfOpName:"Add",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",dlOpName:"addN",category:"arithmetic",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",dlOpName:"add",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",dlOpName:"sub",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",dlOpName:"div",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",dlOpName:"floorDiv",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",dlOpName:"mul",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",dlOpName:"maximum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Minimum",dlOpName:"minimum",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"}]},{tfOpName:"Pow",dlOpName:"pow",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",dlOpName:"squaredDifference",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",dlOpName:"mod",category:"arithmetic",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],arithmetic=Object.freeze({json:json}),json$1=[{tfOpName:"Abs",dlOpName:"abs",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",dlOpName:"acos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",dlOpName:"asin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",dlOpName:"atan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",dlOpName:"atan2",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"y",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",dlOpName:"ceil",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"clip_value_min",dlParamName:"clipValueMin",type:"number"},{tfParamName:"clip_value_max",dlParamName:"clipValueMax",type:"number"}]},{tfOpName:"Cos",dlOpName:"cos",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",dlOpName:"cosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",dlOpName:"elu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",dlOpName:"exp",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",dlOpName:"floor",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",dlOpName:"log",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",dlOpName:"neg",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",dlOpName:"relu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",dlOpName:"clipByValue",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{dlParamName:"clipValueMin",type:"number",defaultValue:0},{dlParamName:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",dlOpName:"selu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",dlOpName:"sigmoid",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",dlOpName:"sin",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",dlOpName:"sinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",dlOpName:"sqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",dlOpName:"rsqrt",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",dlOpName:"square",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",dlOpName:"tan",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",dlOpName:"tanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",dlOpName:"sign",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",dlOpName:"round",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",dlOpName:"expm1",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",dlOpName:"log1p",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",dlOpName:"reciprocal",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",dlOpName:"softplus",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",dlOpName:"asinh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",dlOpName:"acosh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",dlOpName:"atanh",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",dlOpName:"erf",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",dlOpName:"prod",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axes",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",dlOpName:"leakyRelu",category:"basic_math",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:.2},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],basicMath=Object.freeze({json:json$1}),json$2=[{tfOpName:"LoopCond",dlOpName:"loopCond",category:"control",params:[{tfInputIndex:0,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Switch",dlOpName:"switch",category:"control",params:[{tfInputIndex:0,dlParamName:"data",type:"tensor"},{tfInputIndex:1,dlParamName:"pred",type:"tensor"}]},{tfOpName:"Merge",dlOpName:"merge",category:"control",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"}]},{tfOpName:"Enter",dlOpName:"enter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"frame_name",dlParamName:"frameName",type:"string"},{tfParamName:"is_constant",dlParamName:"isConstant",type:"bool"}]},{tfOpName:"Exit",dlOpName:"exit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",dlOpName:"nextIteration",category:"control",params:[{tfInputIndex:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",dlOpName:"tensorArray",category:"control",params:[{tfInputIndex:0,dlParamName:"size",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"},{tfParamName:"dynamic_size",dlParamName:"dynamicSize",type:"bool"},{tfParamName:"clear_after_read",dlParamName:"clearAfterRead",type:"bool"},{tfParamName:"identical_element_shapes",dlParamName:"identicalElementShapes",type:"bool"},{tfParamName:"tensor_array_name",dlParamName:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",dlOpName:"tensorArrayWrite",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",dlOpName:"tensorArrayRead",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"index",type:"number"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",dlOpName:"tensorArrayGather",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape",dlParamName:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",dlOpName:"tensorArrayScatter",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"indices",type:"number[]"},{tfInputIndex:2,dlParamName:"tensor",type:"tensor"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",dlOpName:"tensorArrayConcat",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"element_shape_except0",dlParamName:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",dlOpName:"tensorArraySplit",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"tensor",type:"tensor"},{tfInputIndex:2,dlParamName:"lengths",type:"number[]"},{tfInputIndex:3,dlParamName:"flowIn",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",dlOpName:"tensorArraySize",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"},{tfInputIndex:1,dlParamName:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",dlOpName:"tensorArrayClose",category:"control",params:[{tfInputIndex:0,dlParamName:"tensorArrayId",type:"number"}]}],control=Object.freeze({json:json$2}),json$3=[{tfOpName:"AvgPool",dlOpName:"avgPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",dlOpName:"maxPool",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0},{tfParamName:"ksize",dlParamName:"kernelSize",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",dlOpName:"conv1d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"stride",dlParamName:"stride",type:"number"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NWC"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"dilation",dlParamName:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",dlOpName:"conv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"useCudnnOnGpu",dlParamName:"useCudnnOnGpu",type:"bool"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"Conv2DBackpropInput",dlOpName:"conv2dTranspose",category:"convolution",params:[{tfInputIndex:2,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfInputIndex:0,dlParamName:"outputShape",type:"number[]"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",dlOpName:"depthwiseConv2d",category:"convolution",params:[{tfInputIndex:0,dlParamName:"input",type:"tensor"},{tfInputIndex:1,dlParamName:"filter",type:"tensor"},{tfParamName:"strides",dlParamName:"strides",type:"number[]"},{tfParamName:"padding",dlParamName:"pad",type:"string"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",defaultValue:"NHWC"},{tfParamName:"dilations",dlParamName:"dilations",type:"number[]"}]}],convolution=Object.freeze({json:json$3}),json$4=[{tfOpName:"Fill",dlOpName:"fill",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfInputIndex:1,dlParamName:"value",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",dlOpName:"linspace",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"num",type:"number"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",dlOpName:"oneHot",category:"creation",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"depth",type:"number"},{tfInputIndex:2,dlParamName:"onValue",type:"number",defaultValue:1},{tfInputIndex:3,dlParamName:"offValue",type:"number",defaultValue:0},{tfParamName:"axis",dlParamName:"axis",type:"number",notSupported:!0},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",dlOpName:"ones",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",dlOpName:"onesLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",dlOpName:"randomUniform",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"minval",dlParamName:"minval",type:"number",defaultValue:0},{tfParamName:"maxval",dlParamName:"maxval",type:"number",defaultValue:1},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"seed",dlParamName:"seed",type:"number",defaultValue:0},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",dlOpName:"range",category:"creation",params:[{tfInputIndex:0,dlParamName:"start",type:"number"},{tfInputIndex:1,dlParamName:"stop",type:"number"},{tfInputIndex:2,dlParamName:"step",type:"number",defaultValue:0},{tfParamName:"Tidx",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"truncatedNormal",dlOpName:"truncatedNormal",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"means",dlParamName:"mean",type:"number",defaultValue:0},{tfParamName:"stddev",dlParamName:"stdDev",type:"number",defaultValue:1},{tfParamName:"seed",dlParamName:"seed",type:"number"},{tfParamName:"seed2",dlParamName:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"},{tfParamName:"T",dlParamName:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",dlOpName:"zeros",category:"creation",params:[{tfInputIndex:0,dlParamName:"shape",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",dlOpName:"zerosLike",category:"creation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype"}]}],creation=Object.freeze({json:json$4}),json$5=[{tfOpName:"NonMaxSuppressionV2",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",dlOpName:"nonMaxSuppression",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"boxes",type:"tensor"},{tfInputIndex:1,dlParamName:"scores",type:"tensor"},{tfInputIndex:2,dlParamName:"maxOutputSize",type:"number"},{tfInputIndex:3,dlParamName:"iouThreshold",type:"number"},{tfInputIndex:4,dlParamName:"scoreThreshold",type:"number"}]},{tfOpName:"Where",dlOpName:"whereAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",dlOpName:"setdiff1dAsync",category:"dynamic",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"y",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],dynamic=Object.freeze({json:json$5}),json$6=[{tfOpName:"TopKV2",dlOpName:"topK",category:"evaluation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"k",type:"number"},{tfParamName:"sorted",dlParamName:"sorted",type:"bool"}]}],evaluation=Object.freeze({json:json$6}),json$7=[{tfOpName:"PlaceholderWithDefault",dlOpName:"placeholder",category:"graph",params:[{tfInputIndex:0,dlParamName:"default",type:"tensor"},{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",dlOpName:"placeholder",category:"graph",params:[{tfParamName:"shape",dlParamName:"shape",type:"shape"},{tfParamName:"dtype",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"Const",dlOpName:"const",category:"graph"},{tfOpName:"Identity",dlOpName:"identity",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Snapshot",dlOpName:"snapshot",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Rank",dlOpName:"rank",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Size",dlOpName:"size",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"Shape",dlOpName:"shape",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"ShapeN",dlOpName:"shapeN",category:"graph",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"x",type:"tensors"}]},{tfOpName:"Print",dlOpName:"print",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfInputParamLength:1,dlParamName:"data",type:"tensors"},{tfParamName:"message",dlParamName:"message",type:"string"},{tfParamName:"first_n",dlParamName:"firstN",type:"number",notSupprted:!0},{tfParamName:"summarize",dlParamName:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",dlOpName:"noop",category:"graph",params:[]},{tfOpName:"StopGradient",dlOpName:"stopGradient",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",dlOpName:"fakeQuantWithMinMaxVars",category:"graph",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"min",dlParamName:"min",type:"number"},{tfParamName:"max",dlParamName:"max",type:"number"}]}],graph=Object.freeze({json:json$7}),json$8=[{tfOpName:"ResizeBilinear",dlOpName:"resizeBilinear",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",dlOpName:"resizeNearestNeighbor",category:"image",params:[{tfInputIndex:0,dlParamName:"images",type:"tensor"},{tfInputIndex:1,dlParamName:"size",type:"number[]"},{tfParamName:"align_corners",dlParamName:"alignCorners",type:"bool"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",dlOpName:"cropAndResize",category:"image",params:[{tfInputIndex:0,dlParamName:"image",type:"tensor"},{tfInputIndex:1,dlParamName:"boxes",type:"tensor"},{tfInputIndex:2,dlParamName:"boxInd",type:"tensor"},{tfInputIndex:3,dlParamName:"cropSize",type:"number[]"},{tfParamName:"method",dlParamName:"method",type:"string"},{tfParamName:"extrapolation_value",dlParamName:"extrapolationValue",type:"number"}]}],image$1=Object.freeze({json:json$8}),json$9=[{tfOpName:"Equal",dlOpName:"equal",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",dlOpName:"notEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",dlOpName:"greater",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",dlOpName:"greaterEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",dlOpName:"less",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",dlOpName:"lessEqual",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",dlOpName:"logicalAnd",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",dlOpName:"logicalNot",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",dlOpName:"logicalOr",category:"logical",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",dlOpName:"where",category:"logical",params:[{tfInputIndex:0,dlParamName:"condition",type:"tensor"},{tfInputIndex:1,dlParamName:"a",type:"tensor"},{tfInputIndex:2,dlParamName:"b",type:"tensor"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],logical=Object.freeze({json:json$9}),json$10=[{tfOpName:"MatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"transpose_a",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"transpose_b",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",dlOpName:"matMul",category:"matrices",params:[{tfInputIndex:0,dlParamName:"a",type:"tensor"},{tfInputIndex:1,dlParamName:"b",type:"tensor"},{tfParamName:"adj_x",dlParamName:"transposeA",type:"bool",defaultValue:!1},{tfParamName:"adj_y",dlParamName:"transposeB",type:"bool",defaultValue:!1},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",dlOpName:"transpose",category:"matrices",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"perm",type:"number[]"},{tfParamName:"T",dlParamName:"dtype",type:"dtype",notSupported:!0}]}],matrices=Object.freeze({json:json$10}),json$11=[{tfOpName:"FusedBatchNorm",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",dlOpName:"batchNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"scale",type:"tensor"},{tfInputIndex:2,dlParamName:"offset",type:"tensor"},{tfInputIndex:3,dlParamName:"mean",type:"tensor"},{tfInputIndex:4,dlParamName:"variance",type:"tensor"},{tfParamName:"epsilon",dlParamName:"epsilon",type:"number",defaultValue:.001},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",dlOpName:"localResponseNormalization",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"depth_radius",dlParamName:"radius",type:"number",defaultValue:5},{tfParamName:"bias",dlParamName:"bias",type:"number",defaultValue:1},{tfParamName:"alpha",dlParamName:"alpha",type:"number",defaultValue:1},{tfParamName:"beta",dlParamName:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",dlOpName:"softmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",dlOpName:"logSoftmax",category:"normalization",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"SparseToDense",dlOpName:"sparseToDense",category:"normalization",params:[{tfInputIndex:0,dlParamName:"sparseIndices",type:"tensor"},{tfInputIndex:1,dlParamName:"outputShape",type:"number[]"},{tfInputIndex:2,dlParamName:"sparseValues",type:"tensor"},{tfInputIndex:3,dlParamName:"defaultValue",type:"tensor"},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],normalization=Object.freeze({json:json$11}),json$12=[{tfOpName:"Max",dlOpName:"max",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Mean",dlOpName:"mean",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Min",dlOpName:"min",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Sum",dlOpName:"sum",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"All",dlOpName:"all",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"Any",dlOpName:"any",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",dlOpName:"argMax",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"ArgMin",dlOpName:"argMin",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number"}]},{tfOpName:"Prod",dlOpName:"prod",category:"reduction",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"},{tfParamName:"keep_dims",dlParamName:"keepDims",type:"bool"}]}],reduction=Object.freeze({json:json$12}),json$13=[{tfOpName:"ConcatV2",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:-1,dlParamName:"axis",type:"number"}]},{tfOpName:"Concat",dlOpName:"concat",category:"slice_join",params:[{tfInputIndex:1,tfInputParamLength:1,dlParamName:"tensors",type:"tensors"},{tfInputIndex:0,dlParamName:"axis",type:"number"}]},{tfOpName:"GatherV2",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfInputIndex:2,dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",dlOpName:"gather",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",dlOpName:"reverse",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"axis",type:"number[]"}]},{tfOpName:"Slice",dlOpName:"slice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"size",type:"number[]"}]},{tfOpName:"StridedSlice",dlOpName:"stridedSlice",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"begin",type:"number[]"},{tfInputIndex:2,dlParamName:"end",type:"number[]"},{tfInputIndex:3,dlParamName:"strides",type:"number[]"},{tfParamName:"begin_mask",dlParamName:"beginMask",type:"number",defaultValue:0},{tfParamName:"end_mask",dlParamName:"endMask",type:"number",defaultValue:0},{tfParamName:"new_axis_mask",dlParamName:"newAxisMask",type:"number",defaultValue:0},{tfParamName:"ellipsis_mask",dlParamName:"ellipsisMask",type:"number",defaultValue:0},{tfParamName:"shrink_axis_mask",dlParamName:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",dlOpName:"stack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensors",type:"tensors"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",dlOpName:"unstack",category:"slice_join",params:[{tfInputIndex:0,tfInputParamLength:0,dlParamName:"tensor",type:"tensor"},{tfParamName:"axis",dlParamName:"axis",type:"number",defaultValue:0},{tfParamName:"num",dlParamName:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",dlOpName:"tile",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"reps",type:"number[]"}]},{tfOpName:"Split",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"axis",type:"number",defaultValue:0},{tfInputIndex:1,dlParamName:"x",type:"tensor"},{tfParamName:"num_split",dlParamName:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",dlOpName:"split",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"numOrSizeSplits",type:"number[]"},{tfInputIndex:2,dlParamName:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",dlOpName:"scatterNd",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"indices",type:"tensor"},{tfInputIndex:1,dlParamName:"values",type:"tensor"},{tfInputIndex:2,dlParamName:"shape",type:"number[]"}]},{tfOpName:"GatherNd",dlOpName:"gatherNd",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",dlOpName:"sparseToDense",category:"slice_join",params:[{tfInputIndex:0,dlParamName:"sparseIndices",type:"tensor"},{tfInputIndex:1,dlParamName:"outputShape",type:"number[]"},{tfInputIndex:2,dlParamName:"sparseValues",type:"tensor"},{tfInputIndex:3,dlParamName:"defaultValue",type:"tensor"},{tfParamName:"validate_indices",dlParamName:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],sliceJoin=Object.freeze({json:json$13}),json$14=[{tfOpName:"FFT",dlOpName:"fft",category:"spectral",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"IFFT",dlOpName:"ifft",category:"spectral",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"}]},{tfOpName:"RFFT",dlOpName:"rfft",category:"spectral",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"fft_length",type:"number",unsupported:!0}]},{tfOpName:"IRFFT",dlOpName:"irfft",category:"spectral",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"fft_length",type:"number",unsupported:!0}]}],spectral=Object.freeze({json:json$14}),json$15=[{tfOpName:"Cast",dlOpName:"cast",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"SrcT",dlParamName:"sdtype",type:"dtype",notSupported:!0},{tfParamName:"DstT",dlParamName:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",dlOpName:"expandDims",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,tfParamNameDeprecated:"dim",dlParamName:"axis",type:"number"}]},{tfOpName:"Pad",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfParamName:"constant_value",dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",dlOpName:"pad",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"padding",type:"number[]"},{tfInputIndex:2,dlParamName:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",dlOpName:"reshape",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"shape",type:"number[]"}]},{tfOpName:"Squeeze",dlOpName:"squeeze",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"axis",tfParamNameDeprecated:"squeeze_dims",dlParamName:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",dlOpName:"spaceToBatchND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",dlOpName:"batchToSpaceND",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfInputIndex:1,dlParamName:"blockShape",type:"number[]"},{tfInputIndex:2,dlParamName:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",dlOpName:"depthToSpace",category:"transformation",params:[{tfInputIndex:0,dlParamName:"x",type:"tensor"},{tfParamName:"block_size",dlParamName:"blockSize",type:"number"},{tfParamName:"data_format",dlParamName:"dataFormat",type:"string"}]}],transformation=Object.freeze({json:json$15}),CONTROL_FLOW_OPS=["Switch","Merge","Enter","Exit","NextIteration"],DYNAMIC_SHAPE_OPS=["NonMaxSuppressionV2","NonMaxSuppressionV3","Where"],OperationMapper=function(){function t(){var t=[].concat.apply([],[arithmetic,basicMath,control,convolution,creation,dynamic,evaluation,logical,image$1,graph,matrices,normalization,reduction,sliceJoin,spectral,transformation].map(function(t){return t.json}));this.opMappers=t.reduce(function(t,e){return t[e.tfOpName]=e,t},{})}return Object.defineProperty(t,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),t.prototype.isControlFlow=function(t){return CONTROL_FLOW_OPS.some(function(e){return e===t.op})},t.prototype.isDynamicShape=function(t){return DYNAMIC_SHAPE_OPS.some(function(e){return e===t.op})},t.prototype.transformGraph=function(t){var e=this,n=!1,r=!1,i=[],o=[],a=t.node.reduce(function(t,a){return t[a.name]=e.mapNode(a),e.isControlFlow(a)&&(n=!0),e.isDynamicShape(a)&&(r=!0),"Placeholder"===a.op&&i.push(t[a.name]),"Const"===a.op&&o.push(t[a.name]),t},{}),s=[],u=[];return Object.keys(a).forEach(function(t){var e=a[t];e.inputNames.forEach(function(t){var n=getNodeNameAndIndex(t)[0];e.inputs.push(a[n]),a[n].children.push(e)}),0===e.inputs.length&&s.push(e)}),Object.keys(a).forEach(function(t){var e=a[t];0===e.children.length&&u.push(e)}),{nodes:a,inputs:s,outputs:u,weights:o,placeholders:i,withControlFlow:n,withDynamicShape:r}},t.prototype.mapNode=function(t){var e=this,n=this.opMappers[t.op];if(void 0===n)throw new Error("Tensorflow Op is not supported: "+t.op);var r={name:t.name,op:n.dlOpName,category:n.category,inputNames:(t.input||[]).map(function(t){return t.startsWith("^")?t.substr(1):t}),inputs:[],children:[],params:{}};return n.params&&(r.params=n.params.reduce(function(n,r){var i=r.tfInputIndex,o=r.tfInputParamLength,a=r.type,s=void 0;if(void 0===i)switch(r.type){case"string":void 0===(s=e.getStringParam(t.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=e.getStringParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number":void 0===(s=e.getNumberParam(t.attr,r.tfParamName,r.defaultValue||0))&&r.tfParamNameDeprecated&&(s=e.getNumberParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"number[]":void 0===(s=e.getNumericArrayParam(t.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=e.getNumericArrayParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"bool":void 0===(s=e.getBoolParam(t.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=e.getBoolParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"shape":void 0===(s=e.getTensorShapeParam(t.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=e.getTensorShapeParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"dtype":void 0===(s=e.getDtypeParam(t.attr,r.tfParamName,r.defaultValue))&&r.tfParamNameDeprecated&&(s=e.getDtypeParam(t.attr,r.tfParamNameDeprecated,r.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+r.type+" for op: "+t.op)}return n[r.dlParamName]={value:s,inputIndex:i,type:a,inputParamLength:o},n},{})),r},t.prototype.getStringParam=function(t,e,n,r){void 0===r&&(r=!1);var i=t[e];if(void 0!==i){var o=String.fromCharCode.apply(null,i.s);return r?o:o.toLowerCase()}return n},t.prototype.getBoolParam=function(t,e,n){var r=t[e];return r?r.b:n},t.prototype.getNumberParam=function(t,e,n){var r=t[e],i=r?r[r.value]:n;return"number"==typeof i?i:i.toInt()},t.prototype.getDtypeParam=function(t,e,n){var r=t[e];if(r&&r.type)switch(r.type){case compiled_api_1.DataType.DT_FLOAT:return"float32";case compiled_api_1.DataType.DT_INT32:return"int32";case compiled_api_1.DataType.DT_BOOL:return"bool";default:return n}return n},t.prototype.getTensorShapeParam=function(t,e,n){var r=t[e];return r&&r.shape?r.shape.dim.map(function(t){return"number"==typeof t.size?t.size:t.size.toInt()}):n},t.prototype.getNumericArrayParam=function(t,e,n){var r=t[e];return r?(r.list.f&&r.list.f.length?r.list.f:r.list.i).map(function(t){return"number"==typeof t?t:t.toInt()}):n},t}(),executeOp=function(t,e,n){switch(t.op){case"add":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.u)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"addN":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.v)(getParamValue("tensors",t,e,n))];case"mod":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._72)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"mul":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._76)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"div":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._11)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"floorDiv":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._26)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"sub":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._148)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"minimum":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._70)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"maximum":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._65)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"pow":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._96)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"squaredDifference":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._142)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$1=function(t,e,n){switch(t.op){case"abs":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.r)(getParamValue("x",t,e,n))];case"acos":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.s)(getParamValue("x",t,e,n))];case"acosh":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.t)(getParamValue("x",t,e,n))];case"asin":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.B)(getParamValue("x",t,e,n))];case"asinh":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.C)(getParamValue("x",t,e,n))];case"atan":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.D)(getParamValue("x",t,e,n))];case"atan2":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.E)(getParamValue("x",t,e,n),getParamValue("y",t,e,n))];case"atanh":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.F)(getParamValue("x",t,e,n))];case"ceil":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.P)(getParamValue("x",t,e,n))];case"cos":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._3)(getParamValue("x",t,e,n))];case"cosh":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._4)(getParamValue("x",t,e,n))];case"elu":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._14)(getParamValue("x",t,e,n))];case"erf":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._18)(getParamValue("x",t,e,n))];case"exp":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._19)(getParamValue("x",t,e,n))];case"expm1":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._21)(getParamValue("x",t,e,n))];case"floor":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._25)(getParamValue("x",t,e,n))];case"log":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._51)(getParamValue("x",t,e,n))];case"log1p":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._52)(getParamValue("x",t,e,n))];case"neg":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._80)(getParamValue("x",t,e,n))];case"reciprocal":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._107)(getParamValue("x",t,e,n))];case"relu":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._108)(getParamValue("x",t,e,n))];case"round":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._116)(getParamValue("x",t,e,n))];case"selu":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._120)(getParamValue("x",t,e,n))];case"sigmoid":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._125)(getParamValue("x",t,e,n))];case"sin":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._127)(getParamValue("x",t,e,n))];case"sign":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._126)(getParamValue("x",t,e,n))];case"sinh":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._128)(getParamValue("x",t,e,n))];case"softplus":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._135)(getParamValue("x",t,e,n))];case"sqrt":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._140)(getParamValue("x",t,e,n))];case"square":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._141)(getParamValue("x",t,e,n))];case"tanh":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._152)(getParamValue("x",t,e,n))];case"tan":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._151)(getParamValue("x",t,e,n))];case"clipByValue":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.Q)(getParamValue("x",t,e,n),getParamValue("clipValueMin",t,e,n),getParamValue("clipValueMax",t,e,n))];case"rsqrt":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._11)(Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(1,"float32"),Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._140)(getTensor(t.inputNames[0],e,n)))];case"prod":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._100)(getParamValue("x",t,e,n),getParamValue("axes",t,e,n))];case"leakyRelu":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._43)(getParamValue("x",t,e,n),getParamValue("alpha",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},TensorArray=function(){function t(e,n,r,i,o,a,s){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=o,this.dynamicSize=a,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=t.nextId++}return Object.defineProperty(t.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),t.prototype.clearAndClose=function(){this.tensors.forEach(function(t){return t.tensor.dispose()}),this.tensors=[],this.closed_=!0},t.prototype.size=function(){return this.tensors.length},t.prototype.read=function(t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(t<0||t>=this.tensors.length)throw new Error("Tried to read from index "+t+", but array size is: "+this.tensors.length);var e=this.tensors[t];if(e.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+t+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor},t.prototype.readMany=function(t){var e=this;return t.map(function(t){return e.read(t)})},t.prototype.write=function(t,e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error("Tried to write to index "+t+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+",\n          because the value dtype is "+e.dtype+", but TensorArray dtype is "+this.dtype+".");if(0===this.size()&&0===this.elementShape.length&&(this.elementShape=e.shape),this.assertShapesMatch(this.elementShape,e.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+t+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+t+", because it has already been written.");n.tensor=e,n.written=!0,this.tensors[t]=n},t.prototype.writeMany=function(t,e){var n=this;if(t.length!==e.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+t.length+" is not the same as tensors size: "+e.length+".");t.forEach(function(t,r){return n.write(t,e[r])})},t.prototype.gather=function(t,e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+e);if(!t){t=[];for(var n=0;n<this.size();n++)t.push(n)}if(0===t.length)return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._153)([],[0].concat(this.elementShape));var r=this.readMany(t);return this.assertShapesMatch(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._145)(r,0)},t.prototype.concat=function(t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+t);if(0===this.size())return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._153)([],[0].concat(this.elementShape));for(var e=[],n=0;n<this.size();n++)e.push(n);var r=this.readMany(e);return this.assertShapesMatch(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+r[0].shape+")"),Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.T)(r,0)},t.prototype.scatter=function(t,e){if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+e.dtype);if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+t.length+" vs. "+e.shape[0]);var n=Math.max.apply(Math,t);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(t,Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._170)(e,0))},t.prototype.split=function(t,e){var n=this;if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+e.dtype);var r=0,i=t.map(function(t){return r+=t});if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+r+", and tensor's shape is: "+e.shape);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+t.length+"), and the TensorArray is not marked as dynamically resizeable");var o=0===r?0:e.size/r,a=[];Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._161)(function(){e=e.reshape([1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:i[s-1],0],l=[1,t[s],o];a[s]=Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._129)(e,u,l).reshape(n.elementShape)}return a});for(var s=[],u=0;u<t.length;u++)s[u]=u;this.writeMany(s,a)},t.prototype.assertShapesMatch=function(t,e,n){void 0===n&&(n=""),__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._171.assert(this.arraysEqual(t,e),n+" Shapes "+t+" and "+e+" must match")},t.prototype.arraysEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(-1!==t[n]&&-1!==e[n]&&t[n]!==e[n])return!1;return!0},t.nextId=0,t}(),executeOp$3=function(t,e,n){switch(t.op){case"conv1d":var r=getParamValue("stride",t,e,n),i=getParamValue("pad",t,e,n),o=getParamValue("dataFormat",t,e,n).toUpperCase(),a=getParamValue("dilation",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.Y)(getParamValue("x",t,e,n),getParamValue("filter",t,e,n),r,i,o,a)];case"conv2d":r=getParamValue("strides",t,e,n),i=getParamValue("pad",t,e,n),o=getParamValue("dataFormat",t,e,n).toUpperCase();var s=getParamValue("dilations",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.Z)(getParamValue("x",t,e,n),getParamValue("filter",t,e,n),[r[1],r[2]],i,o,[s[0],s[1]])];case"conv2dTranspose":var u=getParamValue("outputShape",t,e,n);return r=getParamValue("strides",t,e,n),i=getParamValue("pad",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._1)(getParamValue("x",t,e,n),getParamValue("filter",t,e,n),u,[r[1],r[2]],i)];case"depthwiseConv2d":return r=getParamValue("strides",t,e,n),i=getParamValue("pad",t,e,n),s=getParamValue("dilations",t,e,n),o=getParamValue("dataFormat",t,e,n).toUpperCase(),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._8)(getParamValue("input",t,e,n),getParamValue("filter",t,e,n),[r[1],r[2]],i,o,[s[0],s[1]])];case"avgPool":r=getParamValue("strides",t,e,n),i=getParamValue("pad",t,e,n);var l=getParamValue("kernelSize",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.G)(getParamValue("x",t,e,n),[l[1],l[2]],[r[1],r[2]],i)];case"maxPool":return r=getParamValue("strides",t,e,n),i=getParamValue("pad",t,e,n),l=getParamValue("kernelSize",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._64)(getParamValue("x",t,e,n),[l[1],l[2]],[r[1],r[2]],i)];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$4=function(t,e,n){switch(t.op){case"fill":var r=getParamValue("shape",t,e,n),i=getParamValue("dtype",t,e,n),o=getParamValue("value",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._24)(r,o,i)];case"linspace":var a=getParamValue("start",t,e,n),s=getParamValue("stop",t,e,n),u=getParamValue("num",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._49)(a,s,u)];case"oneHot":var l=getParamValue("indices",t,e,n),c=getParamValue("depth",t,e,n),f=getParamValue("onValue",t,e,n),p=getParamValue("offValue",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._85)(l,c,f,p)];case"ones":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._86)(getParamValue("shape",t,e,n),getParamValue("dtype",t,e,n))];case"onesLike":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._87)(getParamValue("x",t,e,n))];case"randomUniform":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._104)(getParamValue("shape",t,e,n),getParamValue("minval",t,e,n),getParamValue("maxval",t,e,n),getParamValue("dtype",t,e,n))];case"range":a=getParamValue("start",t,e,n);var d=getParamValue("stop",t,e,n),h=getParamValue("step",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._105)(a,d,h,getParamValue("dtype",t,e,n))];case"truncatedNormal":r=getParamValue("shape",t,e,n);var m=getParamValue("mean",t,e,n),g=getParamValue("stdDev",t,e,n),v=getParamValue("seed",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._168)(r,m,g,getParamValue("dtype",t,e,n),v)];case"zeros":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._180)(getParamValue("shape",t,e,n),getParamValue("dtype",t,e,n))];case"zerosLike":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._181)(getParamValue("x",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$6=function(t,e,n){switch(t.op){case"topK":var r=getParamValue("x",t,e,n),i=getParamValue("k",t,e,n),o=getParamValue("sorted",t,e,n),a=Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._165)(r,i,o);return[a.values,a.indices];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$7=function(t,e,n){switch(t.op){case"const":return e[t.name];case"placeholder":var r=getParamValue("default",t,e,n);return[getTensor(t.name,e,n)||r];case"identity":case"stopGradient":case"fakeQuantWithMinMaxVars":case"snapshot":return[getParamValue("x",t,e,n).clone()];case"shape":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._154)(getParamValue("x",t,e,n).shape,"int32")];case"shapeN":return getParamValue("x",t,e,n).map(function(t){return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._154)(t.shape)});case"size":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(getParamValue("x",t,e,n).size,"int32")];case"rank":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._118)(getParamValue("x",t,e,n).rank,"int32")];case"noop":return[];case"print":var i=getParamValue("x",t,e,n),o=getParamValue("data",t,e,n),a=getParamValue("message",t,e,n),s=getParamValue("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(a);for(var u=0;u<o.length;u++)console.log(Array.prototype.slice.call(o[0].dataSync()).slice(0,s));return[i];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$8=function(t,e,n){switch(t.op){case"resizeBilinear":var r=getParamValue("images",t,e,n),i=getParamValue("size",t,e,n),o=getParamValue("alignCorners",t,e,n);return[__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._39.resizeBilinear(r,[i[0],i[1]],o)];case"resizeNearestNeighbor":return r=getParamValue("images",t,e,n),i=getParamValue("size",t,e,n),o=getParamValue("alignCorners",t,e,n),[__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._39.resizeNearestNeighbor(r,[i[0],i[1]],o)];case"cropAndResize":var a=getParamValue("image",t,e,n),s=getParamValue("boxes",t,e,n),u=getParamValue("boxInd",t,e,n),l=getParamValue("cropSize",t,e,n),c=getParamValue("method",t,e,n),f=getParamValue("extrapolationValue",t,e,n);return[__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._39.cropAndResize(a,s,u,l,c,f)];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$9=function(t,e,n){switch(t.op){case"equal":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._16)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"notEqual":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._83)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"greater":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._33)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"greaterEqual":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._34)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"less":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._44)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"lessEqual":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._45)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"logicalAnd":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._56)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"logicalNot":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._57)(getParamValue("a",t,e,n))];case"logicalOr":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._58)(getParamValue("a",t,e,n),getParamValue("b",t,e,n))];case"where":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._178)(getParamValue("condition",t,e,n),getParamValue("a",t,e,n),getParamValue("b",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$10=function(t,e,n){switch(t.op){case"matMul":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._61)(getParamValue("a",t,e,n),getParamValue("b",t,e,n),getParamValue("transposeA",t,e,n),getParamValue("transposeB",t,e,n))];case"transpose":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._167)(getParamValue("x",t,e,n),getParamValue("perm",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$11=function(t,e,n){switch(t.op){case"batchNormalization":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.I)(getParamValue("x",t,e,n),getParamValue("mean",t,e,n),getParamValue("variance",t,e,n),getParamValue("epsilon",t,e,n),getParamValue("scale",t,e,n),getParamValue("offset",t,e,n))];case"localResponseNormalization":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._50)(getParamValue("x",t,e,n),getParamValue("radius",t,e,n),getParamValue("bias",t,e,n),getParamValue("alpha",t,e,n),getParamValue("beta",t,e,n))];case"softmax":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._134)(getParamValue("x",t,e,n))];case"logSoftmax":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._54)(getParamValue("x",t,e,n))];case"sparseToDense":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._137)(getParamValue("sparseIndices",t,e,n),getParamValue("outputShape",t,e,n),getParamValue("sparseValues",t,e,n),getParamValue("defaultValue",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$12=function(t,e,n){switch(t.op){case"max":var r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._63)(getParamValue("x",t,e,n),r,i)];case"mean":return r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._67)(getParamValue("x",t,e,n),r,i)];case"min":return r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._69)(getParamValue("x",t,e,n),r,i)];case"sum":return r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._150)(getParamValue("x",t,e,n),r,i)];case"all":return r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.x)(getParamValue("x",t,e,n),r,i)];case"any":return r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.y)(getParamValue("x",t,e,n),r,i)];case"argMax":return r=getParamValue("axis",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.z)(getParamValue("x",t,e,n),r)];case"argMin":return r=getParamValue("axis",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.A)(getParamValue("x",t,e,n),r)];case"prod":return r=getParamValue("axis",t,e,n),i=getParamValue("keepDims",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._100)(getParamValue("x",t,e,n),r,i)];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$13=function(t,e,n){switch(t.op){case"concat":var r=getParamValue("axis",t,e,n),i=getParamValue("tensors",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.T)(i,r)];case"gather":r=getParamValue("axis",t,e,n);var o=getParamValue("x",t,e,n),a=getParamValue("indices",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._28)(o,a,r)];case"reverse":return r=getParamValue("axis",t,e,n),o=getParamValue("x",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._110)(o,r)];case"slice":var s=getParamValue("begin",t,e,n),u=getParamValue("size",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._129)(getParamValue("x",t,e,n),s,u)];case"stridedSlice":s=getParamValue("begin",t,e,n);var l=getParamValue("end",t,e,n),c=getParamValue("strides",t,e,n),f=getParamValue("beginMask",t,e,n),p=getParamValue("endMask",t,e,n),d=getParamValue("ellipsisMask",t,e,n),h=getParamValue("newAxisMask",t,e,n),m=getParamValue("shrinkAxisMask",t,e,n),g=getParamValue("x",t,e,n);if(1===s.length&&g.shape.length>1)for(var v=1;v<g.shape.length;v++)s.push(0),l.push(g.shape[v]),c.push(c[0]);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._147)(g,s,l,c,f,p,d,h,m)];case"stack":return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._161)(function(){var r=getParamValue("axis",t,e,n),i=getParamValue("tensors",t,e,n),o=i[0].shape,a=i[0].squeeze().shape,s=i.map(function(t){var e=__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._171.arraysEqual(t.shape,o);if(!e&&!__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._171.arraysEqual(t.squeeze().shape,a))throw new Error("the input tensors shape does not match");return e?t:t.reshape(o)});return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._145)(s,r)]});case"unstack":return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._161)(function(){var r=getParamValue("axis",t,e,n),i=getParamValue("tensor",t,e,n);return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._170)(i,r)});case"tile":var y=getParamValue("reps",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._162)(getParamValue("x",t,e,n),y)];case"split":r=getParamValue("axis",t,e,n);var b=getParamValue("numOrSizeSplits",t,e,n);return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._139)(getParamValue("x",t,e,n),b,r);case"scatterNd":a=getParamValue("indices",t,e,n);var _=getParamValue("values",t,e,n),w=getParamValue("shape",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._119)(a,_,w)];case"gatherNd":var x=getParamValue("x",t,e,n);return a=getParamValue("indices",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._29)(x,a)];case"sparseToDense":a=getParamValue("sparseIndices",t,e,n),w=getParamValue("outputShape",t,e,n);var E=getParamValue("sparseValues",t,e,n),C=getParamValue("defaultValue",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._137)(a,E,w,C)];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$14=function(t,e,n){switch(t.op){case"fft":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._23)(getParamValue("x",t,e,n))];case"ifft":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._37)(getParamValue("x",t,e,n))];case"rfft":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._115)(getParamValue("x",t,e,n))];case"irfft":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._41)(getParamValue("x",t,e,n))];default:throw TypeError("Node type "+t.op+" is not implemented")}},executeOp$15=function(t,e,n){switch(t.op){case"cast":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.O)(getParamValue("x",t,e,n),getParamValue("dtype",t,e,n))];case"expandDims":var r=getParamValue("axis",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._20)(getParamValue("x",t,e,n),r)];case"squeeze":return r=getParamValue("axis",t,e,n),[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._144)(getParamValue("x",t,e,n),r)];case"reshape":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._109)(getParamValue("x",t,e,n),getParamValue("shape",t,e,n))];case"pad":return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._90)(getParamValue("x",t,e,n),split$1(getParamValue("padding",t,e,n),2),getParamValue("constantValue",t,e,n))];case"spaceToBatchND":var i=getParamValue("blockShape",t,e,n),o=split$1(getParamValue("paddings",t,e,n),2);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._136)(getParamValue("x",t,e,n),i,o)];case"batchToSpaceND":i=getParamValue("blockShape",t,e,n);var a=split$1(getParamValue("crops",t,e,n),2);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.M)(getParamValue("x",t,e,n),i,a)];case"depthToSpace":var s=getParamValue("blockSize",t,e,n),u=getParamValue("dataFormat",t,e,n);return[Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._7)(getParamValue("x",t,e,n),s,u)];default:throw TypeError("Node type "+t.op+" is not implemented")}},ExecutionContext=function(){function t(t,e){this.weightMap=t,this.tensorArrayMap=e,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return t.prototype.newFrame=function(t,e){return{id:t,frameName:e,iterationId:0}},Object.defineProperty(t.prototype,"currentContext",{get:function(){return this.contexts},set:function(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),t.prototype.generateCurrentContextIds=function(){for(var t=[],e=0;e<this.contexts.length-1;e++){var n=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(n))}t.push(""),this._currentContextIds=t},t.prototype.contextIdforContexts=function(t){return t?t.map(function(t){return 0===t.id&&0===t.iterationId?"":t.frameName+"-"+t.iterationId}).join("/"):""},t.prototype.enterFrame=function(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},t.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},t.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},t.prototype.getWeight=function(t){return this.weightMap[t]},t.prototype.addTensorArray=function(t){this.tensorArrayMap[t.id]=t},t.prototype.getTensorArray=function(t){return this.tensorArrayMap[t]},t}(),GraphExecutor=function(){function t(t){this.graph=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this.placeholders=t.placeholders,this._outputs=t.outputs,this.compile()}return Object.defineProperty(t.prototype,"weightMap",{get:function(){return this._weightMap},set:function(t){var e=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})});this.weightIds=[].concat.apply([],e),this._weightMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.placeholders.map(function(t){return{name:t.name,shape:t.params.shape?t.params.shape.value:void 0,dtype:t.params.dtype?t.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs.map(function(t){return{name:t.name,shape:t.params.shape?t.params.shape.value:void 0,dtype:t.params.dtype?t.params.dtype.value:void 0}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.placeholders.map(function(t){return t.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.outputs.map(function(t){return t.name})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isControlFlowModel",{get:function(){return this.graph.withControlFlow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamicShapeModel",{get:function(){return this.graph.withDynamicShape},enumerable:!0,configurable:!0}),t.prototype.compile=function(t){if(!this.graph.withControlFlow&&!this.graph.withDynamicShape){var e=[],n=t||this.graph.placeholders,r=n.map(function(t){return t.name}).sort().join(this.SEPERATOR);if(!this.compiledMap.get(r)){for(var i=n.concat(this.graph.weights),o={};i.length>0;){var a=i.pop();o[a.name]=!0,e.push(a),a.children.forEach(function(t){!o[t.name]&&t.inputNames.every(function(t){var e=getNodeNameAndIndex(t)[0];return o[e]})&&i.push(t)})}this.compiledMap.set(r,e)}}},t.prototype.execute=function(t,e,n){var r=this;void 0===e&&(e=!0);var i=Object.keys(t).sort();this.checkInput(t,e),this.checkInputShapeAndType(t,e),this.compile(i.map(function(t){return r.graph.nodes[t]}));var o=this.calculateOutputs(n);this.checkOutput(this.compiledMap.get(i.join(this.SEPERATOR)),o);var a={};return Object(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._161)(function(){for(var e=new ExecutionContext(r._weightMap,a),n=__assign({},r.weightMap,t),s=r.getFrozenTensorIds(n),u={},l=r.compiledMap.get(i.join(r.SEPERATOR)),c=0;c<l.length;c++){var f=l[c];if(n[f.name]||(n[f.name]=executeOp$16(f,n,e),r.checkTensorForDisposal(f.name,f,n,e,s,o,u)),o.every(function(t){return!!n[t]}))break}return r.findOutputs(n,e,o)})},t.prototype.getFrozenTensorIds=function(t){var e=[].concat.apply([],Object.keys(t).map(function(e){return t[e]}).map(function(t){return t.map(function(t){return t.id})}));return new Set(e)},t.prototype.checkTensorForDisposal=function(t,e,n,r,i,o,a){"control"!==e.category&&-1===o.indexOf(t)&&(n[t].forEach(function(t){null!=t&&(a[t.id]=(a[t.id]||0)+e.children.length)}),e.inputs.forEach(function(t){if("control"!==t.category){var e=getTensorsForCurrentContenxt(t.name,n,r);null!=e&&e.forEach(function(t){if(t&&!i.has(t.id)){var e=a[t.id];1===e?(t.dispose(),delete a[t.id]):null!=e&&a[t.id]--}})}}))},t.prototype.executeAsync=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,c=this;return __generator(this,function(f){switch(f.label){case 0:return this.checkInput(t,!1),this.checkInputShapeAndType(t,!1),n={},r=new ExecutionContext(this._weightMap,n),i=this.calculateOutputs(e),[4,this.executeWithControlFlow(t,r,i)];case 1:return o=f.sent(),a=this.findOutputs(o,r,e),s=Object.keys(a).map(function(t){return a[t].id}),u=Object.keys(t).map(function(e){return t[e].map(function(t){return t.id})}),l=[].concat.apply([],u),Object.keys(o).forEach(function(t){o[t].forEach(function(t){t&&-1===s.indexOf(t.id)&&-1===l.indexOf(t.id)&&-1===c.weightIds.indexOf(t.id)&&t.dispose()})}),[2,a]}})})},t.prototype.executeWithControlFlow=function(t,e,n){return __awaiter(this,void 0,void 0,function(){var r,i,o,a,s,u,l,c,f=this;return __generator(this,function(p){switch(p.label){case 0:r=Object.keys(t),i=r.map(function(t){return f.graph.nodes[t]}),o=i.concat(this.graph.weights).map(function(t){return{node:t,contexts:e.currentContext}}),a=__assign({},this.weightMap,t),s={},u=this.getFrozenTensorIds(a),l={},p.label=1;case 1:return o.length>0?(c=this.processStack(i,o,e,a,l,u,n,s),[4,Promise.all(c)]):[3,3];case 2:return p.sent(),[3,1];case 3:return[2,a]}})})},t.prototype.processStack=function(t,e,n,r,i,o,a,s){for(var u=this,l=[],c=function(){var c=e.pop();n.currentContext=c.contexts;var p="";if("enter"===c.node.op&&getParamValue("isConstant",c.node,r,n)&&(p=getNodeNameAndIndex(c.node.name,n)[0]),-1===t.indexOf(c.node)){var d=executeOp$16(c.node,r,n);p||(p=getNodeNameAndIndex(c.node.name,n)[0]);var h=n.currentContext;d instanceof Promise?l.push(d.then(function(t){return r[p]=t,n.currentContext=h,u.checkTensorForDisposal(p,c.node,r,n,o,a,s),u.processChildNodes(c.node,e,n,r,i),t})):(r[p]=d,f.checkTensorForDisposal(p,c.node,r,n,o,a,s),f.processChildNodes(c.node,e,n,r,i))}else f.processChildNodes(c.node,e,n,r,i)},f=this;e.length>0;)c();return l},t.prototype.processChildNodes=function(t,e,n,r,i){t.children.forEach(function(t){var o=getNodeNameAndIndex(t.name,n)[0];i[o]||("merge"===t.op?t.inputNames.some(function(t){return!!getTensor(t,r,n)})&&(i[o]=!0,e.push({contexts:n.currentContext,node:t})):t.inputNames.every(function(t){return!!getTensor(t,r,n)})&&(i[o]=!0,e.push({contexts:n.currentContext,node:t})))})},t.prototype.calculateOutputs=function(t){return!t||t instanceof Array||(t=[t]),t||this.graph.outputs.map(function(t){return t.name})},t.prototype.findOutputs=function(t,e,n){return this.calculateOutputs(n).reduce(function(n,r){return n[r]=getTensor(r,t,e),n},{})},t.prototype.dispose=function(){var t=this;Object.keys(this.weightMap).forEach(function(e){return t.weightMap[e].forEach(function(t){return t.dispose()})})},t.prototype.checkInputShapeAndType=function(t,e){void 0===e&&(e=!0),this.placeholders.forEach(function(n){var r=t[n.name];if(e||r){var i=r[0];if(n.params.shape&&n.params.shape.value){var o=n.params.shape.value,a=o.length===i.shape.length&&i.shape.every(function(t,e){return-1===o[e]||o[e]===t});__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._171.assert(a,"The shape of dict['"+n.name+"'] provided in model.execute(dict) must be ["+o+"], but was ["+i.shape+"]")}n.params.dtype&&n.params.dtype.value&&__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._171.assert(i.dtype===n.params.dtype.value,"The dtype of dict['"+n.name+"'] provided in model.execute(dict) must be "+n.params.dtype.value+", but was "+i.dtype)}})},t.prototype.checkInput=function(t,e){var n=this;void 0===e&&(e=!0);var r=Object.keys(t),i=[],o=[];this.inputNodes.forEach(function(t){-1===r.indexOf(t)&&i.push(t)}),r.forEach(function(t){-1===n.inputNodes.indexOf(t)&&o.push(t)});var a=o.filter(function(t){return!n.graph.nodes[t]});if(i.length>0&&e)throw new Error("The dict provided in model.execute(dict) has the keys ["+r+"], but is missing the required keys: ["+i+"].");if(o.length>0&&e)throw new Error("The dict provided in model.execute(dict) has unused keys: ["+o+"]. Please provide only the following keys: ["+this.inputNodes+"].");if(a.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+a+"] not part of model graph.")},t.prototype.checkOutput=function(t,e){var n=t.map(function(t){return t.name}),r=[];if(e.forEach(function(t){-1===n.indexOf(t)&&r.push(t)}),r.length>0)throw new Error("The following outputs are not generated by the execution: ["+r+"].")},t}(),TFHUB_SEARCH_PARAM="?tfjs-format=file",DEFAULT_MODEL_NAME="tensorflowjs_model.pb",DEFAULT_MANIFEST_NAME="weights_manifest.json",FrozenModel=function(){function t(t,e,n,r){this.modelUrl=t,this.weightManifestUrl=e,this.requestOption=n,this.weightPrefix=r,this.version="n/a"}return Object.defineProperty(t.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),t.prototype.findIOHandler=function(){var t=[this.modelUrl,this.weightManifestUrl];if(this.requestOption)this.handler=__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._40.browserHTTPRequest(t,this.requestOption,this.weightPrefix);else{var e=__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._40.getLoadHandlers(t);if(0===e.length)e.push(__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._40.browserHTTPRequest(t,this.requestOption));else if(e.length>1)throw new Error("Found more than one ("+e.length+") load handlers for URL '"+[t]+"'");this.handler=e[0]}},t.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n;return __generator(this,function(r){switch(r.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,this.handler.load()];case 1:return t=r.sent(),e=compiled_api_1.GraphDef.decode(new Uint8Array(t.modelTopology)),this.version=e.versions.producer+"."+e.versions.minConsumer,n=__WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__._40.decodeWeights(t.weightData,t.weightSpecs),this.executor=new GraphExecutor(OperationMapper.Instance.transformGraph(e)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),[2,!0]}})})},t.prototype.predict=function(t,e){return this.execute_(t,!0,this.outputNodes)},t.prototype.constructTensorMap=function(t){var e=t instanceof __WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.o?[t]:t;if(e.length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the frozen model has "+this.inputNodes.length+" placeholders, while there are "+e.length+" input tensors.");return this.inputNodes.reduce(function(t,n,r){return t[n]=e[r],t},{})},t.prototype.execute=function(t,e){return this.execute_(t,!1,e)},t.prototype.execute_=function(t,e,n){if(void 0===e&&(e=!0),n=n||this.outputNodes,(t instanceof __WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.o||Array.isArray(t))&&(t=this.constructTensorMap(t)),this.executor.isControlFlowModel||this.executor.isDynamicShapeModel)throw new Error("The model contains control flow or dynamic shape ops, please use executeAsync method");var r=this.executor.execute(this.convertTensorMapToTensorsMap(t),e,n),i=Object.keys(r);return Array.isArray(n)&&n.length>1?n.map(function(t){return r[t]}):r[i[0]]},t.prototype.executeAsync=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,r;return __generator(this,function(i){switch(i.label){case 0:if(!this.executor.isControlFlowModel&&!this.executor.isDynamicShapeModel)throw new Error("The model does not contain control flow or dynamic shape ops, please use execute method for better performance.");return e=e||this.outputNodes,(t instanceof __WEBPACK_IMPORTED_MODULE_0__tensorflow_tfjs_core__.o||Array.isArray(t))&&(t=this.constructTensorMap(t)),[4,this.executor.executeAsync(this.convertTensorMapToTensorsMap(t),e)];case 1:return n=i.sent(),r=Object.keys(n),[2,Array.isArray(e)&&e.length>1?e.map(function(t){return n[t]}):n[r[0]]]}})})},t.prototype.convertTensorMapToTensorsMap=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=[t[n]],e},{})},t.prototype.dispose=function(){this.executor.dispose()},t}(),version="0.7.1"}).call(__webpack_exports__,__webpack_require__(20))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){function i(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function a(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u(t,e){return t(e={exports:{}},e.exports),e.exports}function l(t,e,n,r){if(void 0===n&&(n=new Map),void 0===r&&(r=new Set),null==t)return null;if(r.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);var i=e(t);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(d(t)){var o=Array.isArray(t)?[]:{};for(var a in r.add(t),t){var s=l(t[a],e,n,r);o[a]=s}return r.delete(t),o}throw new Error("Can't recurse into non-iterable type: "+t)}return n.set(t,i.value),i.value}function c(t,e,n){void 0===n&&(n=new Set);var r=t[0];if(n.has(r))throw new Error("Circular references are not supported.");var i=e(t);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(d(r)){var o=Array.isArray(r)?[]:{};n.add(r);var a=function(r){var i=c(t.map(function(t){return t[r]}),e,n);o[r]=i};for(var s in r)a(s);return n.delete(r),o}throw new Error("Can't recurse into non-iterable type: "+r)}return i.value}function f(t){return null===t?null:d(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}function p(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s,u;return a(this,function(a){switch(a.label){case 0:n=new Map,l(t,e,n),r=0,i=Array.from(n.keys()),a.label=1;case 1:return r<i.length?(o=i[r],(s=n.get(o))instanceof Promise?[4,s]:[3,3]):[3,4];case 2:u=a.sent(),n.set(o,u),a.label=3;case 3:return r++,[3,1];case 4:return[2,l(t,e,n)]}})})}function d(t){return null!=t&&(Array.isArray(t)||"object"==typeof t&&!(t instanceof x.o))}function h(t){return new q(t)}function m(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.iterator=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return[2,t()]})})},n}(at))}function g(t){var e=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){return[2,h(t)]})})})}function v(t){var e=this;if(!d(t))throw new Error("The argument to zip() must be an object or array.");return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,p(t,function(t){if(t instanceof at)return{value:t.iterator(),recurse:!1};if(d(t))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")})];case 1:return[2,function(t,e){return void 0===e&&(e=z.FAIL),new rt(t,e)}(e.sent(),z.SHORTEST)]}})})})}function y(t){if(null===t)return null;var e=t[0];return"string"==typeof e?{value:t,recurse:!1}:d(e)?function(t){if(null==t)return!1;if(!Array.isArray(t))return!1;for(var e in t)if("number"!=typeof t[e])return!1;return!0}(e)?{value:b(t),recurse:!1}:{value:null,recurse:!0}:{value:b(t),recurse:!1}}function b(t){for(var e=_(t[0])[0],n=[t.length].concat(e),r=new Float32Array(n.reduce(function(t,e){return t*e})),i=0,o=0,a=t;o<a.length;o++){var s=_(a[o]),u=s[1];if(!x._171.arraysEqual(s[0],e))throw new Error("Elements must have the same shape to be batched");r.set(u,i),i+=u.length}return x.o.make(n,{values:r})}function _(t){return t instanceof x.o?[t.shape,t.dataSync()]:Array.isArray(t)?[[t.length],t]:[[],[t]]}function w(t,e){return void 0===e&&(e={}),new dt(new Et(t),e)}n.d(e,"array",function(){return g}),n.d(e,"Dataset",function(){return at}),n.d(e,"datasetFromIteratorFn",function(){return m}),n.d(e,"zip",function(){return v}),n.d(e,"CSVDataset",function(){return dt}),n.d(e,"TextLineDataset",function(){return st}),n.d(e,"csv",function(){return w}),n.d(e,"FileDataSource",function(){return Ct}),n.d(e,"URLDataSource",function(){return Et}),n.d(e,"version_data",function(){return St});var x=n(77),E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},C="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},S=u(function(t){!function(e,n,r){function i(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function o(t,e){var n=new function(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}(t),r=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.alea=o}()}),O=u(function(t){!function(e,n,r){function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function o(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xor128=o}()}),k=u(function(t){!function(e,n,r){function i(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function o(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xorwow=o}()}),T=u(function(t){!function(e,n,r){function i(t,e){return e.x=t.x.slice(),e.i=t.i,e}function o(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xorshift7=o}()}),P=u(function(t){!function(e,n,r){function i(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function o(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.xor4096=o}()}),N=u(function(t){!function(e,n,r){function i(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function o(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=o:this.tychei=o}()}),I=u(function(t){!function(e,r){function i(t,n,i){var v=[],y=a(function t(e,n){var r,i=[],o=typeof e;if(n&&"object"==o)for(r in e)try{i.push(t(e[r],n-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,s(e)]:null==t?function(){try{var t;return u&&(t=u.randomBytes)?t=t(c):(t=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(t)),s(t)}catch(t){var n=l.navigator,r=n&&n.plugins;return[+new Date,l,r,l.screen,s(e)]}}():t,3),v),b=new function(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<c;)a[i]=i++;for(i=0;i<c;i++)a[i]=a[o=g&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=g&i+1],n=n*c+a[g&(a[i]=a[o=g&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(c)}(v),_=function(){for(var t=b.g(f),e=d,n=0;t<h;)t=(t+n)*c,e*=c,n=b.g(1);for(;t>=m;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|b.g(4)},_.quick=function(){return b.g(4)/4294967296},_.double=_,a(s(b.S),e),(n.pass||i||function(t,e,n,i){return i&&(i.S&&o(i,b),t.state=function(){return o(b,{})}),n?(r[p]=t,e):t})(_,y,"global"in n?n.global:this==r,n.state)}function o(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function a(t,e){for(var n,r=t+"",i=0;i<r.length;)e[g&i]=g&(n^=19*e[g&i])+r.charCodeAt(i++);return s(e)}function s(t){return String.fromCharCode.apply(0,t)}var u,l=(0,eval)("this"),c=256,f=6,p="random",d=r.pow(c,f),h=r.pow(2,52),m=2*h,g=c-1;if(r["seed"+p]=i,a(r.random(),e),t.exports){t.exports=i;try{u=n(210)}catch(t){}}}([],Math)});I.alea=S,I.xor128=O,I.xorwow=k,I.xorshift7=T,I.xor4096=P,I.tychei=N;var A=I.alea,M=u(function(t,e){function n(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function i(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function o(t,e){if(void 0===e&&(e=[]),Array.isArray(t)||u(t))for(var n=0;n<t.length;++n)o(t[n],e);else e.push(t);return e}function a(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function s(t,e){if("float32"!==e)for(var n=0;n<t.length;n++)if(isNaN(t[n]))throw Error("NaN is not a valid value for dtype: '"+e+"'.")}function u(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function l(t){return"string"==typeof t||t instanceof String}function c(t){return"boolean"==typeof t}function f(t){return"number"==typeof t}function p(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type "+e)}Object.defineProperty(e,"__esModule",{value:!0}),e.shuffle=n,e.clamp=function(t,e,n){return Math.max(t,Math.min(e,n))},e.nearestLargerEven=function(t){return t%2==0?t:t+1},e.sum=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e},e.randUniform=function(t,e){var n=Math.random();return e*n+(1-n)*t},e.distSquared=function(t,e){for(var n=0,r=0;r<t.length;r++){var i=Number(t[r])-Number(e[r]);n+=i*i}return n},e.assert=i,e.assertShapesMatch=function(t,e,n){void 0===n&&(n=""),i(a(t,e),n+" Shapes "+t+" and "+e+" must match")},e.assertNonNull=function(t){i(null!=t,"The input to the tensor constructor must be a non-null value.")},e.flatten=o,e.sizeFromShape=function(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e},e.isScalarShape=function(t){return 0===t.length},e.arraysEqual=a,e.isInt=function(t){return t%1==0},e.tanh=function(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)},e.sizeToSquarishShape=function(t){for(var e=Math.floor(Math.sqrt(t));e>1;--e)if(t%e==0)return[e,t/e];return[1,t]},e.createShuffledIndices=function(t){for(var e=new Uint32Array(t),r=0;r<t;++r)e[r]=r;return n(e),e},e.rightPad=function(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)},e.repeatedTry=function(t,e,n){return void 0===e&&(e=function(t){return 0}),new Promise(function(r,i){var o=0,a=function(){if(t())r();else{var s=e(++o);null!=n&&o>=n?i():setTimeout(a,s)}};a()})},e.inferFromImplicitShape=function(t,e){for(var n=1,r=-1,i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(-1===t[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(t[i]<0)throw Error("Shapes can not be < 0. Found "+t[i]+" at dim "+i);if(-1===r){if(e>0&&e!==n)throw Error("Size("+e+") must match the product of shape "+t);return t}if(0===n)throw Error("Cannot infer the missing size in ["+t+"] when there are 0 elements");if(e%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+n);var o=t.slice();return o[r]=e/n,o},e.squeezeShape=function(t,e){for(var n=[],r=[],i=0,o=0;o<t.length;++o){if(null!=e){if(e[i]===o&&1!==t[o])throw new Error("Can't squeeze axis "+o+" since its dim '"+t[o]+"' is not 1");(null==e[i]||e[i]>o)&&1===t[o]&&(n.push(t[o]),r.push(o)),e[i]<=o&&i++}1!==t[o]&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}},e.getTypedArrayFromDType=function(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type "+t);n=new Uint8Array(e)}return n},e.getArrayFromDType=function(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type "+t);n=new Array(e)}return n},e.checkComputationForNaN=function(t,e,n){if("float32"===e)for(var r=0;r<t.length;r++)if(isNaN(t[r]))throw Error("The result of the '"+n+"' has NaNs.")},e.checkConversionForNaN=s,e.hasEncodingLoss=function(t,e){return!("complex64"===e||"float32"===e&&"complex64"!==t||"int32"===e&&"float32"!==t&&"complex64"!==t||"bool"===e&&"bool"===t)},e.isTypedArray=u,e.bytesPerElement=function(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype "+t)},e.bytesFromStringArray=function(t){if(null==t)return 0;var e=0;return t.forEach(function(t){return e+=2*t.length}),e},e.isString=l,e.isBoolean=c,e.isNumber=f,e.inferDtype=function t(e){return e instanceof Array?t(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":f(e)?"float32":l(e)?"string":c(e)?"bool":"float32"},e.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},e.nearestDivisor=function(t,e){for(var n=e;n<t;++n)if(t%n==0)return n;return t},e.computeStrides=function(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n},e.toTypedArray=function(t,e,n){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(Array.isArray(t)&&(t=o(t)),null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return n&&s(t,e),new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),i=0;i<r.length;++i)0!==Math.round(t[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+e)},e.makeOnesTypedArray=function(t,e){for(var n=p(t,e),r=0;r<n.length;r++)n[r]=1;return n},e.makeZerosTypedArray=p,e.now=function(){if("undefined"!=typeof performance)return performance.now();if(void 0!==r){var t=r.hrtime();return 1e3*t[0]+t[1]/1e6}throw new Error("Cannot measure time in this environment. You should run tf.js in the browser or in Node.js")}});s(M);var D=u(function(t,e){function n(t,e){var n;return n=Array.isArray(t)?parseFloat(t[0].toFixed(i))+" + "+parseFloat(t[1].toFixed(i))+"j":M.isString(t)?"'"+t+"'":parseFloat(t.toFixed(i)).toString(),M.rightPad(n,e)}function r(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}Object.defineProperty(e,"__esModule",{value:!0});var i=7;e.tensorToString=function(t,e,i,o){var a=M.computeStrides(e),s=function(t,e,i,o){var a=M.sizeFromShape(e),s=o[o.length-1],u=new Array(s).fill(0),l=e.length,c="complex64"===i?r(t):t;if(l>1)for(var f=0;f<a/s;f++)for(var p=f*s,d=0;d<s;d++)u[d]=Math.max(u[d],n(c[p+d],0).length);return u}(t,e,i,a),u=e.length,l=function t(e,i,o,a,s,u){void 0===u&&(u=!0);var l="complex64"===o?2:1,c=i[0],f=i.length;if(0===f){if("complex64"===o){return[n(r(e)[0],0)]}return[e[0].toString()]}if(1===f){if(c>20){var p=3*l,d=Array.from(e.slice(0,p)),h=Array.from(e.slice(c-3*l,c));return"complex64"===o&&(d=r(d),h=r(h)),["["+d.map(function(t,e){return n(t,s[e])}).join(", ")+", ..., "+h.map(function(t,e){return n(t,s[c-3+e])}).join(", ")+"]"]}return["["+("complex64"===o?r(e):Array.from(e)).map(function(t,e){return n(t,s[e])}).join(", ")+"]"]}var m=i.slice(1),g=a.slice(1),v=a[0]*l,y=[];if(c>20){for(var b=0;b<3;b++){y.push.apply(y,t(e.slice(_=b*v,_+v),m,o,g,s,!1))}y.push("...");for(b=c-3;b<c;b++){y.push.apply(y,t(e.slice(_=b*v,_+v),m,o,g,s,b===c-1))}}else for(b=0;b<c;b++){var _;y.push.apply(y,t(e.slice(_=b*v,_+v),m,o,g,s,b===c-1))}var w=2===f?",":"";y[0]="["+y[0]+w;for(b=1;b<y.length-1;b++)y[b]=" "+y[b]+w;var x=",\n";for(b=2;b<f;b++)x+="\n";return y[y.length-1]=" "+y[y.length-1]+"]"+(u?"":x),y}(t,e,i,a,s),c=["Tensor"];return o&&(c.push("  dtype: "+i),c.push("  rank: "+u),c.push("  shape: ["+e+"]"),c.push("  values:")),c.push(l.map(function(t){return"    "+t}).join("\n")),c.join("\n")}});s(D);var R=u(function(t,e){var n,r=C&&C.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=C&&C.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=C&&C.__generator||function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var a=M,s=function(){function t(t,e,n){if(this.dtype=e,this.shape=t.slice(),this.size=M.sizeFromShape(t),null!=n){var r=n.length;M.assert(r===this.size,"Length of values '"+r+"' does not match the size inferred by the shape '"+this.size+"'.")}if("complex64"===e)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||M.getArrayFromDType(e,M.sizeFromShape(this.shape)),this.strides=a.computeStrides(t)}return t.prototype.set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];0===e.length&&(e=[0]),M.assert(e.length===this.rank,"The number of provided coordinates ("+e.length+") must match the rank ("+this.rank+")");var r=this.locToIndex(e);this.values[r]=t},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.values[n]},t.prototype.locToIndex=function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e},t.prototype.indexToLoc=function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.toTensor=function(){return c.make(this.shape,{values:this.values},this.dtype)},t}();e.TensorBuffer=s;var u=null,l=null;e.setTensorTracker=function(t){u=t},e.setOpHandler=function(t){l=t};var c=function(){function t(t,e,n,r){this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=M.sizeFromShape(t),this.strides=a.computeStrides(t),this.dataId=null!=r?r:{},this.id=u().nextTensorId(),this.rankType=this.rank<5?this.rank.toString():"higher",u().registerTensor(this),null!=n&&u().write(this.dataId,n)}return t.make=function(e,n,r){return new t(e,r,n.values,n.dataId)},t.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},t.prototype.asScalar=function(){return this.throwIfDisposed(),M.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},t.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},t.prototype.as2D=function(t,e){return this.throwIfDisposed(),this.reshape([t,e])},t.prototype.as3D=function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])},t.prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])},t.prototype.as5D=function(t,e,n,r,i){return this.throwIfDisposed(),this.reshape([t,e,n,r,i])},t.prototype.asType=function(t){return this.throwIfDisposed(),l.cast(this,t)},Object.defineProperty(t.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];M.assert(t.length===this.rank,"Number of coordinates in get() must match the rank of the tensor"),M.assert("complex64"!==this.dtype,"Tensor.get() is not supported for complex64 tensors yet."),this.throwIfDisposed(),0===t.length&&(t=[0]);for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.dataSync()[n]},t.prototype.buffer=function(){return l.buffer(this.shape,this.dtype,this.dataSync())},t.prototype.data=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return this.throwIfDisposed(),[2,u().read(this.dataId)]})})},t.prototype.dataSync=function(){return this.throwIfDisposed(),u().readSync(this.dataId)},t.prototype.dispose=function(){this.isDisposed||(u().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),t.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},t.prototype.toFloat=function(){return this.asType("float32")},t.prototype.toInt=function(){return this.asType("int32")},t.prototype.toBool=function(){return this.asType("bool")},t.prototype.print=function(t){return void 0===t&&(t=!1),l.print(this,t)},t.prototype.reshape=function(t){return this.throwIfDisposed(),l.reshape(this,t)},t.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},t.prototype.expandDims=function(t){return void 0===t&&(t=0),l.expandDims(this,t)},t.prototype.cumsum=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=!1),void 0===n&&(n=!1),l.cumsum(this,t,e,n)},t.prototype.squeeze=function(t){return this.throwIfDisposed(),l.squeeze(this,t)},t.prototype.clone=function(){return this.throwIfDisposed(),l.clone(this)},t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this.dataSync();return D.tensorToString(e,this.shape,this.dtype,t)},t.prototype.tile=function(t){return this.throwIfDisposed(),l.tile(this,t)},t.prototype.gather=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),l.gather(this,t,e)},t.prototype.matMul=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),this.throwIfDisposed(),l.matMul(this,t,e,n)},t.prototype.dot=function(t){return this.throwIfDisposed(),l.dot(this,t)},t.prototype.norm=function(t,e,n){return void 0===t&&(t="euclidean"),void 0===e&&(e=null),void 0===n&&(n=!1),this.throwIfDisposed(),l.norm(this,t,e,n)},t.prototype.slice=function(t,e){return this.throwIfDisposed(),l.slice(this,t,e)},t.prototype.reverse=function(t){return this.throwIfDisposed(),l.reverse(this,t)},t.prototype.concat=function(e,n){return void 0===n&&(n=0),this.throwIfDisposed(),e instanceof t&&(e=[e]),l.concat([this].concat(e),n)},t.prototype.split=function(t,e){return void 0===e&&(e=0),this.throwIfDisposed(),l.split(this,t,e)},t.prototype.stack=function(t,e){return void 0===e&&(e=0),l.stack([this,t],e)},t.prototype.unstack=function(t,e){return void 0===e&&(e=0),l.unstack(this,e)},t.prototype.pad=function(t,e){return void 0===e&&(e=0),l.pad(this,t,e)},t.prototype.batchNormalization=function(t,e,n,r,i){return void 0===n&&(n=.001),this.throwIfDisposed(),l.batchNormalization(this,t,e,n,r,i)},t.prototype.all=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.all(this,t,e)},t.prototype.any=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.any(this,t,e)},t.prototype.logSumExp=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.logSumExp(this,t,e)},t.prototype.sum=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.sum(this,t,e)},t.prototype.prod=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.prod(this,t,e)},t.prototype.mean=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.mean(this,t,e)},t.prototype.min=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.min(this,t,e)},t.prototype.max=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=!1),this.throwIfDisposed(),l.max(this,t,e)},t.prototype.argMin=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),l.argMin(this,t)},t.prototype.argMax=function(t){return void 0===t&&(t=null),this.throwIfDisposed(),l.argMax(this,t)},t.prototype.cast=function(t){return this.throwIfDisposed(),l.cast(this,t)},t.prototype.add=function(t){return this.throwIfDisposed(),l.add(this,t)},t.prototype.addStrict=function(t){return this.throwIfDisposed(),l.addStrict(this,t)},t.prototype.atan2=function(t){return this.throwIfDisposed(),l.atan2(this,t)},t.prototype.sub=function(t){return this.throwIfDisposed(),l.sub(this,t)},t.prototype.subStrict=function(t){return this.throwIfDisposed(),l.subStrict(this,t)},t.prototype.pow=function(t){return this.throwIfDisposed(),l.pow(this,t)},t.prototype.powStrict=function(t){return this.throwIfDisposed(),l.powStrict(this,t)},t.prototype.mul=function(t){return this.throwIfDisposed(),l.mul(this,t)},t.prototype.mulStrict=function(t){return this.throwIfDisposed(),l.mulStrict(this,t)},t.prototype.div=function(t){return this.throwIfDisposed(),l.div(this,t)},t.prototype.floorDiv=function(t){return this.throwIfDisposed(),l.floorDiv(this,t)},t.prototype.divStrict=function(t){return this.throwIfDisposed(),l.divStrict(this,t)},t.prototype.minimum=function(t){return this.throwIfDisposed(),l.minimum(this,t)},t.prototype.minimumStrict=function(t){return this.throwIfDisposed(),l.minimumStrict(this,t)},t.prototype.maximum=function(t){return this.throwIfDisposed(),l.maximum(this,t)},t.prototype.maximumStrict=function(t){return this.throwIfDisposed(),l.maximumStrict(this,t)},t.prototype.mod=function(t){return this.throwIfDisposed(),l.mod(this,t)},t.prototype.modStrict=function(t){return this.throwIfDisposed(),l.modStrict(this,t)},t.prototype.squaredDifference=function(t){return this.throwIfDisposed(),l.squaredDifference(this,t)},t.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),l.squaredDifferenceStrict(this,t)},t.prototype.transpose=function(t){return this.throwIfDisposed(),l.transpose(this,t)},t.prototype.notEqual=function(t){return this.throwIfDisposed(),l.notEqual(this,t)},t.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),l.notEqualStrict(this,t)},t.prototype.less=function(t){return this.throwIfDisposed(),l.less(this,t)},t.prototype.lessStrict=function(t){return this.throwIfDisposed(),l.lessStrict(this,t)},t.prototype.equal=function(t){return this.throwIfDisposed(),l.equal(this,t)},t.prototype.equalStrict=function(t){return this.throwIfDisposed(),l.equalStrict(this,t)},t.prototype.lessEqual=function(t){return this.throwIfDisposed(),l.lessEqual(this,t)},t.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),l.lessEqualStrict(this,t)},t.prototype.greater=function(t){return this.throwIfDisposed(),l.greater(this,t)},t.prototype.greaterStrict=function(t){return this.throwIfDisposed(),l.greaterStrict(this,t)},t.prototype.greaterEqual=function(t){return this.throwIfDisposed(),l.greaterEqual(this,t)},t.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),l.greaterEqualStrict(this,t)},t.prototype.logicalAnd=function(t){return this.throwIfDisposed(),l.logicalAnd(this,t)},t.prototype.logicalOr=function(t){return this.throwIfDisposed(),l.logicalOr(this,t)},t.prototype.logicalNot=function(){return this.throwIfDisposed(),l.logicalNot(this)},t.prototype.logicalXor=function(t){return this.throwIfDisposed(),l.logicalXor(this,t)},t.prototype.where=function(t,e){return this.throwIfDisposed(),l.where(t,this,e)},t.prototype.neg=function(){return this.throwIfDisposed(),l.neg(this)},t.prototype.ceil=function(){return this.throwIfDisposed(),l.ceil(this)},t.prototype.floor=function(){return this.throwIfDisposed(),l.floor(this)},t.prototype.sign=function(){return this.throwIfDisposed(),l.sign(this)},t.prototype.exp=function(){return this.throwIfDisposed(),l.exp(this)},t.prototype.expm1=function(){return this.throwIfDisposed(),l.expm1(this)},t.prototype.log=function(){return this.throwIfDisposed(),l.log(this)},t.prototype.log1p=function(){return this.throwIfDisposed(),l.log1p(this)},t.prototype.sqrt=function(){return this.throwIfDisposed(),l.sqrt(this)},t.prototype.rsqrt=function(){return this.throwIfDisposed(),l.rsqrt(this)},t.prototype.square=function(){return this.throwIfDisposed(),l.square(this)},t.prototype.reciprocal=function(){return this.throwIfDisposed(),l.reciprocal(this)},t.prototype.abs=function(){return this.throwIfDisposed(),l.abs(this)},t.prototype.clipByValue=function(t,e){return this.throwIfDisposed(),l.clipByValue(this,t,e)},t.prototype.relu=function(){return this.throwIfDisposed(),l.relu(this)},t.prototype.elu=function(){return this.throwIfDisposed(),l.elu(this)},t.prototype.selu=function(){return this.throwIfDisposed(),l.selu(this)},t.prototype.leakyRelu=function(t){return void 0===t&&(t=.2),this.throwIfDisposed(),l.leakyRelu(this,t)},t.prototype.prelu=function(t){return this.throwIfDisposed(),l.prelu(this,t)},t.prototype.sigmoid=function(){return this.throwIfDisposed(),l.sigmoid(this)},t.prototype.logSigmoid=function(){return this.throwIfDisposed(),l.logSigmoid(this)},t.prototype.softplus=function(){return this.throwIfDisposed(),l.softplus(this)},t.prototype.zerosLike=function(){return this.throwIfDisposed(),l.zerosLike(this)},t.prototype.onesLike=function(){return this.throwIfDisposed(),l.onesLike(this)},t.prototype.sin=function(){return this.throwIfDisposed(),l.sin(this)},t.prototype.cos=function(){return this.throwIfDisposed(),l.cos(this)},t.prototype.tan=function(){return this.throwIfDisposed(),l.tan(this)},t.prototype.asin=function(){return this.throwIfDisposed(),l.asin(this)},t.prototype.acos=function(){return this.throwIfDisposed(),l.acos(this)},t.prototype.atan=function(){return this.throwIfDisposed(),l.atan(this)},t.prototype.sinh=function(){return this.throwIfDisposed(),l.sinh(this)},t.prototype.cosh=function(){return this.throwIfDisposed(),l.cosh(this)},t.prototype.tanh=function(){return this.throwIfDisposed(),l.tanh(this)},t.prototype.asinh=function(){return this.throwIfDisposed(),l.asinh(this)},t.prototype.acosh=function(){return this.throwIfDisposed(),l.acosh(this)},t.prototype.atanh=function(){return this.throwIfDisposed(),l.atanh(this)},t.prototype.erf=function(){return this.throwIfDisposed(),l.erf(this)},t.prototype.round=function(){return this.throwIfDisposed(),l.round(this)},t.prototype.step=function(t){return void 0===t&&(t=0),this.throwIfDisposed(),l.step(this,t)},t.prototype.softmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),l.softmax(this,t)},t.prototype.logSoftmax=function(t){return void 0===t&&(t=-1),this.throwIfDisposed(),l.logSoftmax(this,t)},t.prototype.resizeBilinear=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),l.image.resizeBilinear(this,t,e)},t.prototype.resizeNearestNeighbor=function(t,e){return void 0===e&&(e=!1),this.throwIfDisposed(),l.image.resizeNearestNeighbor(this,t,e)},t.prototype.conv1d=function(t,e,n,r,i,o){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),l.conv1d(this,t,e,n,r,i,o)},t.prototype.conv2d=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),l.conv2d(this,t,e,n,r,i,o)},t.prototype.conv2dTranspose=function(t,e,n,r,i){return this.throwIfDisposed(),l.conv2dTranspose(this,t,e,n,r,i)},t.prototype.depthwiseConv2D=function(t,e,n,r,i,o){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),l.depthwiseConv2d(this,t,e,n,r,i,o)},t.prototype.separableConv2d=function(t,e,n,r,i,o){return void 0===i&&(i=[1,1]),void 0===o&&(o="NHWC"),this.throwIfDisposed(),l.separableConv2d(this,t,e,n,r,i,o)},t.prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),l.avgPool(this,t,e,n,r)},t.prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),l.maxPool(this,t,e,n,r)},t.prototype.localResponseNormalization=function(t,e,n,r){return void 0===t&&(t=5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=.5),l.localResponseNormalization(this,t,e,n,r)},t.prototype.pool=function(t,e,n,r,i){return this.throwIfDisposed(),l.pool(this,t,e,n,r,i)},t.prototype.variable=function(t,e,n){return void 0===t&&(t=!0),this.throwIfDisposed(),f.variable(this,t,e,n)},t.prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),l.unsortedSegmentSum(this,t,e)},t.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),l.batchToSpaceND(this,t,e)},t.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),l.spaceToBatchND(this,t,e)},t.prototype.topk=function(t,e){return void 0===t&&(t=1),void 0===e&&(e=!0),this.throwIfDisposed(),l.topk(this,t,e)},t.prototype.stridedSlice=function(t,e,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),this.throwIfDisposed(),l.stridedSlice(this,t,e,n,r,i)},t.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),l.depthToSpace(this,t,e)},t.prototype.fft=function(){return this.throwIfDisposed(),l.spectral.fft(this)},t.prototype.ifft=function(){return this.throwIfDisposed(),l.spectral.ifft(this)},t}();e.Tensor=c,Object.defineProperty(c,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.shape&&null!=t.dtype}});var f=function(t){function e(e,n,r){void 0===n&&(n=!0);var i=t.call(this,e.shape,e.dtype,null,e.dataId)||this;i.trainable=n,i.name=r,null==i.name&&(i.name=u().nextVariableId().toString());try{u().registerVariable(i)}catch(t){throw u().disposeTensor(i),t}return i}return r(e,t),e.variable=function(t,n,r,i){return void 0===n&&(n=!0),null!=i&&i!==t.dtype&&(t=t.asType(i)),new e(t,n,r)},e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!M.arraysEqual(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");u().disposeTensor(this),this.dataId=t.dataId,u().registerTensor(this)},e}(c);e.Variable=f,Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return t instanceof c&&null!=t.assign&&t.assign instanceof Function}});e.variable=f.variable});s(R);var j=u(function(t,e){function n(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error("Can not upcast "+t+" with "+e)}return s[t][e]}var r,i,o,a;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(e.Rank||(e.Rank={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(r||(r={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(i||(i={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(o||(o={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(a||(a={}));var s={float32:o,int32:r,bool:i,complex64:a};e.upcastType=n,e.sumOutType=function(t){return n(t,"int32")}});s(j);var L=u(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeTypesMatch=function(t,e){if(t.dtype===e.dtype)return[t,e];var n=j.upcastType(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]},e.assertTypesMatch=function(t,e){M.assert(t.dtype===e.dtype,"The dtypes of the first("+t.dtype+") and second("+e.dtype+") input must match")},e.isTensorInList=function(t,e){for(var n=0;n<e.length;n++)if(e[n].id===t.id)return!0;return!1},e.flattenNameArrayMap=function(t,e){var n=[];if(t instanceof R.Tensor)n.push(t);else for(var r=t,i=0;i<e.length;i++)n.push(r[e[i]]);return n},e.unflattenToNameArrayMap=function(t,e){if(t.length!==e.length)throw new Error("Cannot unflatten Tensor[], keys and arrays are not of same length.");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n},e.getTensorsInContainer=function(t){var e=[];return function t(e,n,r){if(null!=e)if(e instanceof R.Tensor)n.push(e);else if(i=e,Array.isArray(i)||"object"==typeof i){var i,o=e;for(var a in o){var s=o[a];r.has(s)||(r.add(s),t(s,n,r))}}}(t,e,new Set),e}});s(L);var z,F=L.isTensorInList,B=L.getTensorsInContainer,V=function(){function t(t){if(this.capacity=t,this.begin=0,this.end=0,t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return t.prototype.wrap=function(t){for(;t<0;)t+=this.doubledCapacity;return t%this.doubledCapacity},t.prototype.get=function(t){if(t<0)throw new RangeError("Can't get item at a negative index.");return this.data[t%this.capacity]},t.prototype.set=function(t,e){if(t<0)throw new RangeError("Can't set item at a negative index.");this.data[t%this.capacity]=e},t.prototype.length=function(){var t=this.end-this.begin;return t<0&&(t=this.doubledCapacity+t),t},t.prototype.isFull=function(){return this.length()===this.capacity},t.prototype.isEmpty=function(){return 0===this.length()},t.prototype.push=function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,t),this.end=this.wrap(this.end+1)},t.prototype.pushAll=function(t){for(var e=0,n=t;e<n.length;e++){this.push(n[e])}},t.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var t=this.get(this.end);return this.set(this.end,void 0),t},t.prototype.unshift=function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,t)},t.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),t},t.prototype.shuffleExcise=function(t){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.wrap(this.begin+t),n=this.get(e);return this.set(e,this.pop()),n},t}(),U=function(t){function e(){return t.call(this,e.INITIAL_CAPACITY)||this}return i(e,t),e.prototype.isFull=function(){return!1},e.prototype.push=function(e){t.prototype.isFull.call(this)&&this.expand(),t.prototype.push.call(this,e)},e.prototype.unshift=function(e){t.prototype.isFull.call(this)&&this.expand(),t.prototype.unshift.call(this,e)},e.prototype.expand=function(){for(var t=2*this.capacity,e=new Array(t),n=this.length(),r=0;r<n;r++)e[r]=this.get(this.wrap(this.begin+r));this.data=e,this.capacity=t,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n},e.INITIAL_CAPACITY=32,e}(V),W=function(){function t(){}return t.prototype.collect=function(t,e){return void 0===t&&(t=1e3),void 0===e&&(e=100),o(this,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:return n=e>0?this.prefetch(e):this,r=[],i=0,[4,n.next()];case 1:o=a.sent(),a.label=2;case 2:return o.done?[3,4]:(r.push(o.value),++i>=t?[2,r]:[4,n.next()]);case 3:return o=a.sent(),[3,2];case 4:return[2,r]}})})},t.prototype.resolveFully=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,this.next()];case 1:t=e.sent(),e.label=2;case 2:return t.done?[3,4]:[4,this.next()];case 3:return t=e.sent(),[3,2];case 4:return[2]}})})},t.prototype.resolveWhile=function(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,this.next()];case 1:e=r.sent(),n=t(e.value),r.label=2;case 2:return e.done||!n?[3,4]:[4,this.next()];case 3:return e=r.sent(),n=t(e.value),[3,2];case 4:return[2]}})})},t.prototype.handleErrors=function(t){return new J(this,t)},t.prototype.filter=function(t){return new X(this,t)},t.prototype.map=function(t){return new Z(this,t)},t.prototype.mapAsync=function(t){return new Q(this,t)},t.prototype.serialMapAsync=function(t){return new Q(this,t).serial()},t.prototype.flatmap=function(t){return new et(this,t)},t.prototype.forEach=function(t){return o(this,void 0,void 0,function(){return a(this,function(e){return[2,this.map(t).resolveFully()]})})},t.prototype.serialForEach=function(t){return o(this,void 0,void 0,function(){return a(this,function(e){return[2,this.serialMapAsync(t).resolveWhile(function(t){return!0===t})]})})},t.prototype.rowMajorBatch=function(t,e){return void 0===e&&(e=!0),new K(this,t,e)},t.prototype.columnMajorBatch=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=f),this.rowMajorBatch(t,e).map(function(t){return function(t,e){return void 0===e&&(e=f),c(t,e)}(t,n)})},t.prototype.concatenate=function(t,e){return new nt(h([this,t]),e)},t.prototype.take=function(t){return t<0||null==t?this:new Y(this,t)},t.prototype.skip=function(t){return t<0||null==t?this:new $(this,t)},t.prototype.prefetch=function(t){return new it(this,t)},t.prototype.shuffle=function(t,e){return new ot(this,t,e)},t.prototype.serial=function(){return new G(this)},t}(),q=function(t){function e(e){var n=t.call(this)||this;return n.items=e,n.trav=0,n}return i(e,t),e.prototype.summary=function(){return"Array of "+this.items.length+" items"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(t=this.items[this.trav],this.trav++,[2,{value:t,done:!1}])})})},e}(W),H=function(t){function e(e){var n=t.call(this)||this;return n.nextFn=e,n}return i(e,t),e.prototype.summary=function(){return"Function call"},e.prototype.next=function(){return o(this,void 0,void 0,function(){return a(this,function(t){try{return[2,this.nextFn()]}catch(t){throw t.message="Error thrown while iterating through a dataset: "+t.message,t}return[2]})})},e}(W),G=function(t){function e(e){var n=t.call(this)||this;return n.upstream=e,n.lastRead=Promise.resolve({value:null,done:!1}),n}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,this.upstream.next()]})})},e}(W),$=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.maxCount=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(t=e.sent()).done?[2,t]:(Object(x._9)(t.value),[3,0]);case 2:return[2,this.upstream.next()]}})})},e}(W),Y=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.maxCount=n,r.count=0,r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Take"},e.prototype.next=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]})})},e}(W),K=function(t){function e(e,n,r){void 0===r&&(r=!0);var i=t.call(this)||this;return i.upstream=e,i.batchSize=n,i.enableSmallLastBatch=r,i.lastRead=Promise.resolve({value:null,done:!1}),i}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:t=[],n.label=1;case 1:return t.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(e=n.sent()).done?this.enableSmallLastBatch&&t.length>0?[2,{value:t,done:!1}]:[2,{value:null,done:!0}]:(t.push(e.value),[3,1]);case 3:return[2,{value:t,done:!1}]}})})},e}(W),X=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.predicate=n,r.lastRead=Promise.resolve({value:null,done:!1}),r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,this.upstream.next()];case 1:return(t=e.sent()).done||this.predicate(t.value)?[2,t]:(Object(x._9)(t.value),[3,0]);case 2:return[2]}})})},e}(W),Z=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.transform=n,r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Map"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:if((t=a.sent()).done)return[2,{value:null,done:!0}];for(e=B(t.value),n=this.transform(t.value),r=B(n),i=0,o=e;i<o.length;i++)s=o[i],F(s,r)||s.dispose();return[2,{value:n,done:!1}]}})})},e}(W),J=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.handler=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,e.sent()];case 3:return t=e.sent(),this.handler(t)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}})})},e}(W),Q=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.transform=n,r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:return(t=a.sent()).done?[2,{value:null,done:!0}]:(e=B(t.value),[4,this.transform(t.value)]);case 2:for(n=a.sent(),r=B(n),i=0,o=e;i<o.length;i++)s=o[i],F(s,r)||s.dispose();return[2,{value:n,done:!1}]}})})},e}(W),tt=function(t){function e(){var e=t.call(this)||this;return e.outputQueue=new U,e.lastRead=Promise.resolve({value:null,done:!1}),e}return i(e,t),e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return t.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}})})},e}(W),et=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.transform=n,r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},e.prototype.pump=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:if((t=a.sent()).done)return[2,!1];for(e=B(t.value),n=this.transform(t.value),r=B(n),this.outputQueue.pushAll(n),i=0,o=e;i<o.length;i++)s=o[i],F(s,r)||s.dispose();return[2,!0]}})})},e}(tt),nt=function(t){function e(e,n){var r=t.call(this)||this;return r.baseErrorHandler=n,r.lastRead=null,r.iterator=null,r.moreIterators=e,r}return i(e,t),e.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},e.prototype.next=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]})})},e.prototype.readFromChain=function(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,t];case 1:return r.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((e=r.sent()).done)return[2,{value:null,done:!0}];this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),r.label=3;case 3:return[4,this.iterator.next()];case 4:return(n=r.sent()).done?(this.iterator=null,[2,this.readFromChain(t)]):[2,n]}})})},e}(W);!function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"}(z||(z={}));var rt=function(t){function e(e,n){void 0===n&&(n=z.FAIL);var r=t.call(this)||this;return r.iterators=e,r.mismatchMode=n,r.count=0,r.currentPromise=null,r}return i(e,t),e.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},e.prototype.nextState=function(t){return o(this,void 0,void 0,function(){function e(t){return t instanceof W?{value:t.next().then(function(t){return n++,t.done&&r++,t.value}),recurse:!1}:{value:null,recurse:!0}}var n,r,i;return a(this,function(o){switch(o.label){case 0:return[4,t];case 1:return o.sent(),n=0,r=0,[4,p(this.iterators,e)];case 2:if(i=o.sent(),n===r)return[2,{value:null,done:!0}];if(r>0)switch(this.mismatchMode){case z.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case z.SHORTEST:return[2,{value:null,done:!0}]}return this.count++,[2,{value:i,done:!1}]}})})},e.prototype.next=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.currentPromise=this.nextState(this.currentPromise),[4,this.currentPromise];case 1:return[2,t.sent()]}})})},e}(W),it=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.bufferSize=n,r.buffer=new V(n),r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},e.prototype.refill=function(){for(;!this.buffer.isFull();){var t=this.upstream.next();this.buffer.push(t)}},e.prototype.next=function(){return this.refill(),this.buffer.shift()},e}(W),ot=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.upstream=e,i.windowSize=n,i.upstreamExhausted=!1,i.random=A(r||x._171.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return i(e,t),e.prototype.next=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){return this.lastRead=this.lastRead.then(function(){return t.serialNext()}),[2,this.lastRead]})})},e.prototype.randomInt=function(t){return Math.floor(this.random()*t)},e.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},e.prototype.serialNext=function(){return o(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:this.upstreamExhausted||this.refill(),n.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(t=this.chooseIndex(),[4,this.buffer.shuffleExcise(t)]);case 2:return(e=n.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,e]);case 3:return[2,{value:null,done:!0}]}})})},e}(it),at=function(){function t(){}return t.prototype.filter=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().filter(function(e){return Object(x._161)(function(){return t(e)})})]}})})})},t.prototype.map=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().map(function(e){return Object(x._161)(function(){return t(e)})})]}})})})},t.prototype.mapAsync=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().mapAsync(t)]}})})})},t.prototype.batch=function(t,e){var n=this;void 0===e&&(e=!0);var r=this;return m(function(){return o(n,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,r.iterator()];case 1:return[2,n.sent().columnMajorBatch(t,e,y)]}})})})},t.prototype.concatenate=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){var e,r;return a(this,function(i){switch(i.label){case 0:return[4,n.iterator()];case 1:return r=(e=i.sent()).concatenate,[4,t.iterator()];case 2:return[2,r.apply(e,[i.sent()])]}})})})},t.prototype.repeat=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){var e=this;return a(this,function(r){return[2,function(t,e){return new nt(t,e)}(function(t){return new H(t)}(function(){return o(e,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t={},[4,n.iterator()];case 1:return[2,(t.value=e.sent(),t.done=!1,t)]}})})}).take(t))]})})})},t.prototype.take=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().take(t)]}})})})},t.prototype.skip=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().skip(t)]}})})})},t.prototype.shuffle=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this,s=A(e||x._171.now().toString());return m(function(){return o(r,void 0,void 0,function(){var e;return a(this,function(r){switch(r.label){case 0:return e=s.int32(),n&&(e+=s.int32()),[4,i.iterator()];case 1:return[2,r.sent().shuffle(t,e.toString())]}})})})},t.prototype.prefetch=function(t){var e=this,n=this;return m(function(){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,n.iterator()];case 1:return[2,e.sent().prefetch(t)]}})})})},t.prototype.collectAll=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.iterator()];case 1:return[2,t.sent().collect()]}})})},t.prototype.forEach=function(t){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.iterator()];case 1:return[2,e.sent().forEach(t)]}})})},t}(),st=function(t){function e(e){var n=t.call(this)||this;return n.input=e,n}return i(e,t),e.prototype.iterator=function(){return o(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return[4,this.input.iterator()];case 1:return t=n.sent(),e=t.decodeUTF8(),[2,e.split("\n")]}})})},e}(at),ut=Symbol("out"),lt=Symbol("field"),ct=Symbol("quote"),ft=Symbol("quoteafterquote"),pt=Symbol("quoteinquote"),dt=function(t){function e(e,n){var r=t.call(this)||this;return r.input=e,r.hasHeader=!0,r.fullColumnNames=null,r.columnNamesValidated=!1,r.columnConfigs=null,r.configuredColumnsOnly=!1,r.delimiter=",",r.base=new st(e),n||(n={}),r.hasHeader=!1!==n.hasHeader,r.fullColumnNames=n.columnNames,r.columnConfigs=n.columnConfigs,r.configuredColumnsOnly=n.configuredColumnsOnly,r.delimiter=n.delimiter?n.delimiter:",",r}return i(e,t),e.prototype.columnNames=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:t.sent(),t.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}})})},e.prototype.setColumnNames=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o;return a(this,function(a){switch(a.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(t=a.sent(),!this.fullColumnNames&&!t)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&t&&x._171.assert(t.length===this.fullColumnNames.length,"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."),this.fullColumnNames||(this.fullColumnNames=t),e=this.fullColumnNames.reduce(function(t,e){return t[e]=t[e]+1||1,t},{}),n=Object.keys(e).filter(function(t){return e[t]>1}),x._171.assert(0===n.length,"Duplicate column names found: "+n.toString()),this.columnConfigs)for(r=0,i=Object.keys(this.columnConfigs);r<i.length;r++)if(o=i[r],-1===this.fullColumnNames.indexOf(o))throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}})})},e.prototype.maybeReadHeaderLine=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,e.sent().next()];case 2:if((t=e.sent()).done)throw new Error("No data was found for CSV parsing.");return[2,t.value.split(this.delimiter)];case 3:return[2,null]}})})},e.prototype.iterator=function(){return o(this,void 0,void 0,function(){var t,e=this;return a(this,function(n){switch(n.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:n.sent(),n.label=2;case 2:return[4,this.base.iterator()];case 3:return t=n.sent(),this.hasHeader&&(t=t.skip(1)),[2,t.map(function(t){return e.makeDataElement(t)})]}})})},e.prototype.makeDataElement=function(t){for(var e=this.parseRow(t),n={},r={},i=0;i<this.fullColumnNames.length;i++){var o=this.fullColumnNames[i],a=this.columnConfigs?this.columnConfigs[o]:null;if(!this.configuredColumnsOnly||a){var s=e[i],u=null;if(""===s)if(a&&void 0!==a.default)u=a.default;else{if(a&&(a.required||a.isLabel))throw new Error("Required column "+o+" is empty in this line: "+t);u=void 0}else{var l=Number(s);if(isNaN(l))u=a&&"bool"===a.dtype?this.getBoolean(s):s;else if(a&&a.dtype)switch(a.dtype){case"float32":u=l;break;case"int32":u=Math.floor(l);break;case"bool":u=this.getBoolean(s);break;default:u=l}else u=l}a&&a.isLabel?r[o]=u:n[o]=u}}return 0===Object.keys(r).length?n:[n,r]},e.prototype.getBoolean=function(t){return"1"===t||"true"===t.toLowerCase()?1:0},e.prototype.parseRow=function(t){for(var e=[],n=0,r=t.length,i=lt,o=0;o<r;o++)switch(i){case ut:switch(t.charAt(o)){case'"':n=o+1,i=ct;break;case this.delimiter:e.push(""),i=ut,n=o+1;break;default:i=lt,n=o}break;case lt:switch(t.charAt(o)){case this.delimiter:e.push(t.substring(n,o)),i=ut,n=o+1}break;case ct:switch(t.charAt(o)){case'"':i=ft}break;case ft:switch(t.charAt(o)){case this.delimiter:e.push(t.substring(n,o-1)),i=ut,n=o+1;break;case'"':i=ct;break;default:i=pt}break;case pt:switch(t.charAt(o)){case'"':i=ct}}return e.push(i===ft?t.substring(n,r-1):t.substring(n)),e},e}(at),ht=function(){},mt=u(function(t,e){!function(n){function r(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function i(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function o(t,e){return m(t>>e&63|128)}function a(t){if(0==(4294967168&t))return m(t);var e="";return 0==(4294965248&t)?e=m(t>>6&31|192):0==(4294901760&t)?(i(t),e=m(t>>12&15|224),e+=o(t,6)):0==(4292870144&t)&&(e=m(t>>18&7|240),e+=o(t,12),e+=o(t,6)),e+=m(63&t|128)}function s(){if(h>=d)throw Error("Invalid byte index");var t=255&p[h];if(h++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function u(){var t,e;if(h>d)throw Error("Invalid byte index");if(h==d)return!1;if(t=255&p[h],h++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|s())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|s()<<6|s())>=2048)return i(e),e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(7&t)<<18|s()<<12|s()<<6|s())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var l=e,c=t&&t.exports==l&&t,f="object"==typeof C&&C;f.global!==f&&f.window!==f||(n=f);var p,d,h,m=String.fromCharCode,g={version:"2.1.2",encode:function(t){for(var e=r(t),n=e.length,i=-1,o="";++i<n;)o+=a(e[i]);return o},decode:function(t){p=r(t),d=p.length,h=0;for(var e,n=[];!1!==(e=u());)n.push(e);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=m(e);return i}(n)}};if(l&&!l.nodeType)if(c)c.exports=g;else{var v={}.hasOwnProperty;for(var y in g)v.call(g,y)&&(l[y]=g[y])}else n.utf8=g}(C)}).decode,gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.split=function(t){return new vt(this,t)},e}(W),vt=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.impl=new yt(e,n),r}return i(e,t),e.prototype.summary=function(){return this.impl.summary()},e.prototype.next=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,this.impl.next()]})})},e}(gt),yt=function(t){function e(e,n){var r=t.call(this)||this;return r.upstream=e,r.separator=n,r.carryover="",r}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},e.prototype.pump=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i;return a(this,function(o){switch(o.label){case 0:return[4,this.upstream.next()];case 1:if((t=o.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((e=t.value.split(this.separator))[0]=this.carryover+e[0],n=0,r=e.slice(0,-1);n<r.length;n++)i=r[n],this.outputQueue.push(i);return this.carryover=e[e.length-1],[2,!0]}})})},e}(tt),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.decodeUTF8=function(){return new _t(this)},e}(W),_t=function(t){function e(e){var n=t.call(this)||this;return n.upstream=e,n.impl=new wt(e),n}return i(e,t),e.prototype.summary=function(){return this.impl.summary()},e.prototype.next=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,this.impl.next()]})})},e}(gt),wt=function(t){function e(e){var n=t.call(this)||this;return n.upstream=e,n.partial=new Uint8Array([]),n.partialBytesValid=0,n}return i(e,t),e.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},e.prototype.pump=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u;return a(this,function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:if((t=a.sent()).done){if(0===this.partial.length)return[2,!1];e=new Uint8Array([])}else e=t.value;for(i=r=n=this.partial.length-this.partialBytesValid,o=0;r<e.length;)i=r,o=function(t){return t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1}(e[r]),r=i+o;return r===e.length&&(i=r),s=mt(String.fromCharCode.apply(null,e.slice(n,i))),n>0?(this.partial.set(e.slice(0,n),this.partialBytesValid),u=mt(String.fromCharCode.apply(null,this.partial)),this.outputQueue.push(u+s)):this.outputQueue.push(s),i===e.length?(this.partial=new Uint8Array([]),this.partialBytesValid=0):(this.partial=new Uint8Array(new ArrayBuffer(o)),this.partial.set(e.slice(i),0),this.partialBytesValid=e.length-i),[2,!0]}})})},e}(tt),xt=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.file=e,r.options=n,x._171.assert(e instanceof Uint8Array||!!x.f.get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),"FileChunkIterator only supports File, Blob and Uint8Array right now."),r.offset=n.offset||0,r.chunkSize=n.chunkSize||1048576,r}return i(e,t),e.prototype.summary=function(){return"FileChunks "+this.file},e.prototype.next=function(){return o(this,void 0,void 0,function(){var t,e,n=this;return a(this,function(r){switch(r.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(t=new Promise(function(t,e){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)t(new Uint8Array(n.file.slice(n.offset,r)));else{var i=new FileReader;i.onload=function(n){var r=i.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return e(new TypeError("FileReader returned unknown type."));t(r)},i.onabort=function(t){return e(new Error("Aborted"))},i.onerror=function(t){return e(new Error(t.type))};var o=n.file.slice(n.offset,r);i.readAsArrayBuffer(o)}n.offset=r}),e={},[4,t]);case 1:return[2,(e.value=r.sent(),e.done=!1,e)]}})})},e}(bt),Et=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.url=e,r.fileOptions=n,r}return i(e,t),e.prototype.iterator=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,function(t,e){return void 0===e&&(e={}),o(this,void 0,void 0,function(){var r,i,o,s;return a(this,function(a){switch(a.label){case 0:return x.f.get("IS_BROWSER")?[4,fetch(t)]:[3,5];case 1:return(r=a.sent()).ok?[4,r.blob()]:[3,3];case 2:return i=a.sent(),[2,new xt(i,e)];case 3:throw new Error(r.statusText);case 4:return[3,9];case 5:if(o=n(457),"string"!=typeof t)throw new Error("URL must be a string. Request objects are not supported in the node.js environment yet.");return[4,o(t)];case 6:return(r=a.sent()).ok?[4,r.buffer()]:[3,8];case 7:return s=a.sent(),[2,new xt(s,e)];case 8:throw new Error(r.statusText);case 9:return[2]}})})}(this.url,this.fileOptions)]})})},e}(ht),Ct=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.input=e,r.options=n,r}return i(e,t),e.prototype.iterator=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,new xt(this.input,this.options)]})})},e}(ht),St="0.1.4"}.call(e,n(20),n(18))},function(t,e,n){"use strict";function r(){}function i(){return[]}function o(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function a(t,e,n,r,i,a){for(var s,u=0,l=e.length,c=a.length;u<c;++u)(s=e[u])?(s.__data__=a[u],r[u]=s):n[u]=new o(t,a[u]);for(;u<l;++u)(s=e[u])&&(i[u]=s)}function s(t,e,n,r,i,a,s){var u,l,c,f={},p=e.length,d=a.length,h=new Array(p);for(u=0;u<p;++u)(l=e[u])&&(h[u]=c=q+s.call(l,l.__data__,u,e),c in f?i[u]=l:f[c]=l);for(u=0;u<d;++u)(l=f[c=q+s.call(t,a[u],u,a)])?(r[u]=l,l.__data__=a[u],f[c]=null):n[u]=new o(t,a[u]);for(u=0;u<p;++u)(l=e[u])&&f[h[u]]===l&&(i[u]=l)}function u(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function l(t,e){return t.style.getPropertyValue(e)||H(t).getComputedStyle(t,null).getPropertyValue(e)}function c(t){return t.trim().split(/^|\s+/)}function f(t){return t.classList||new p(t)}function p(t){this._node=t,this._names=c(t.getAttribute("class")||"")}function d(t,e){for(var n=f(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function h(t,e){for(var n=f(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function m(){this.textContent=""}function g(){this.innerHTML=""}function v(){this.nextSibling&&this.parentNode.appendChild(this)}function y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function b(){return null}function _(){var t=this.parentNode;t&&t.removeChild(this)}function w(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function x(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function E(t,e,n){return t=C(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function C(t,e,n){return function(r){var i=$;$=r;try{t.call(this,this.__data__,e,n)}finally{$=i}}}function S(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function O(t,e,n){var r=G.hasOwnProperty(t.type)?E:C;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function k(t,e,n,r){var i=$;t.sourceEvent=$,$=t;try{return e.apply(n,r)}finally{$=i}}function T(t,e,n){var r=H(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function P(t,e){this._groups=t,this._parents=e}function N(){return new P([[document.documentElement]],Y)}function I(){return new A}function A(){this._="@"+(++J).toString(36)}Object.defineProperty(e,"__esModule",{value:!0});var M="http://www.w3.org/1999/xhtml",D={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},R=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),D.hasOwnProperty(e)?{space:D[e],local:t}:t},j=function(t){var e=R(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===M&&e.documentElement.namespaceURI===M?e.createElement(t):e.createElementNS(n,t)}})(e)},L=function(t){return null==t?r:function(){return this.querySelector(t)}},z=function(t){return null==t?i:function(){return this.querySelectorAll(t)}},F=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var B=document.documentElement;if(!B.matches){var V=B.webkitMatchesSelector||B.msMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector;F=function(t){return function(){return V.call(this,t)}}}}var U=F,W=function(t){return new Array(t.length)};o.prototype={constructor:o,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var q="$",H=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};p.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var G={},$=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(G={mouseenter:"mouseover",mouseleave:"mouseout"})}var Y=[null];P.prototype=N.prototype={constructor:P,select:function(t){"function"!=typeof t&&(t=L(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new P(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=z(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new P(r,i)},filter:function(t){"function"!=typeof t&&(t=U(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new P(r,this._parents)},data:function(t,e){if(!t)return m=new Array(this.size()),f=-1,this.each(function(t){m[++f]=t}),m;var n=e?s:a,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),l=new Array(o),c=new Array(o),f=0;f<o;++f){var p=r[f],d=i[f],h=d.length,m=t.call(p,p&&p.__data__,f,r),g=m.length,v=l[f]=new Array(g),y=u[f]=new Array(g);n(p,d,v,y,c[f]=new Array(h),m,e);for(var b,_,w=0,x=0;w<g;++w)if(b=v[w]){for(w>=x&&(x=w+1);!(_=y[x])&&++x<g;);b._next=_||null}}return u=new P(u,r),u._enter=l,u._exit=c,u},enter:function(){return new P(this._enter||this._groups.map(W),this._parents)},exit:function(){return new P(this._exit||this._groups.map(W),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,p=a[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(p[d]=u);for(;s<r;++s)a[s]=e[s];return new P(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=u);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),f=0;f<l;++f)(a=s[f])&&(c[f]=a);c.sort(e)}return new P(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=R(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):l(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=c(t+"");if(arguments.length<2){for(var r=f(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?d:h)(this,t)}}:e?function(t){return function(){d(this,t)}}:function(t){return function(){h(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?m:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?g:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(v)},lower:function(){return this.each(y)},append:function(t){var e="function"==typeof t?t:j(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:j(t),r=null==e?b:"function"==typeof e?e:L(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(_)},clone:function(t){return this.select(t?x:w)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?O:S,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return T(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return T(this,t,e)}})(t,e))}};var K=N,X=function(t){return"string"==typeof t?new P([[document.querySelector(t)]],[document.documentElement]):new P([[t]],Y)},Z=function(t){return X(j(t).call(document.documentElement))},J=0;A.prototype=I.prototype={constructor:A,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Q=function(){for(var t,e=$;t=e.sourceEvent;)e=t;return e},tt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},et=function(t){var e=Q();return e.changedTouches&&(e=e.changedTouches[0]),tt(t,e)},nt=function(t){return"string"==typeof t?new P([document.querySelectorAll(t)],[document.documentElement]):new P([null==t?[]:t],Y)},rt=function(t,e,n){arguments.length<3&&(n=e,e=Q().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return tt(t,r);return null},it=function(t,e){null==e&&(e=Q().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=tt(t,e[n]);return i};n.d(e,"create",function(){return Z}),n.d(e,"creator",function(){return j}),n.d(e,"local",function(){return I}),n.d(e,"matcher",function(){return U}),n.d(e,"mouse",function(){return et}),n.d(e,"namespace",function(){return R}),n.d(e,"namespaces",function(){return D}),n.d(e,"clientPoint",function(){return tt}),n.d(e,"select",function(){return X}),n.d(e,"selectAll",function(){return nt}),n.d(e,"selection",function(){return K}),n.d(e,"selector",function(){return L}),n.d(e,"selectorAll",function(){return z}),n.d(e,"style",function(){return l}),n.d(e,"touch",function(){return rt}),n.d(e,"touches",function(){return it}),n.d(e,"window",function(){return H}),n.d(e,"event",function(){return $}),n.d(e,"customEvent",function(){return k})},function(t,e,n){"use strict";(function(t){var r=n(1);e.a=function(e,n){var i=n&&n.property?Object(r.r)(n.property):r.t;return Object(r.A)(e)&&!function(e){return!("function"!=typeof t||!Object(r.y)(t.isBuffer))&&t.isBuffer(e)}(e)?function(t,e){return e&&e.copy?JSON.parse(JSON.stringify(t)):t}(i(e)):i(JSON.parse(e))}}).call(e,n(14).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSurfaceInfo=function(t){return null!=t.name},e.isSurface=function(t){return t.drawArea instanceof HTMLElement}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(472);let i;const o="Visor",a="tfjs-visor-container";e.visor=function(){function t(t,e){let i;return n=r.VisorComponent.render(t,n,{ref:t=>i=t,surfaceList:Array.from(e.values())}),i}if("undefined"==typeof document)throw new Error("No document defined. This library needs a browser/dom to work");if(document.getElementById(a)&&null!=i)return i;let e=document.getElementById(a);null==e&&((e=document.createElement("div")).id=a,document.body.appendChild(e));let n;const s=new Map,u=t(e,s);return i={el:e,surface:n=>{const{name:r}=n,i=null==n.tab?o:n.tab;if(null==r||!("string"==typeof r||r instanceof String))throw new Error("You must pass a config object with a 'name' property to create or retrieve a surface");const a=Object.assign({},n,{tab:i}),l=`${r}-${i}`;return s.has(l)||s.set(l,a),t(e,s),u.getSurface(r,i)},isFullscreen:()=>u.isFullscreen(),isOpen:()=>u.isOpen(),close:()=>u.close(),open:()=>u.open(),toggle:()=>u.toggle(),toggleFullScreen:()=>u.toggleFullScreen(),bindKeys:()=>u.bindKeys(),unbindKeys:()=>u.unbindKeys(),setActiveTab:t=>{if(!u.state.tabs.has(t))throw new Error(`Tab '${t}' does not exist`);u.setState({activeTab:t})}}}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.processStyleName=void 0,e.createMarkupForStyles=function(e,n){var r="";for(var i in e){var a=0===i.indexOf("--");if(e.hasOwnProperty(i)&&"label"!==i){var s=e[i];"production"===t.env.NODE_ENV||a||g(i,s,n),null!=s&&(a?r+=i+":"+s+";":(r+=l(i)+":",r+=(0,o.default)(i,s,n)+";"))}}return r||null};var i=r(n(474)),o=r(n(476)),a=r(n(479)),s=r(n(481)),u=r(n(252)),l=e.processStyleName=(0,s.default)(a.default);if("production"!==t.env.NODE_ENV)var c=/^(?:webkit|moz|o)[A-Z]/,f=/;\s*$/,p={},d={},h=!1,m=function(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""},g=function(e,n,r){var o=void 0;r&&(o=r._currentElement._owner),e.indexOf("-")>-1?function(e,n){p.hasOwnProperty(e)&&p[e]||(p[e]=!0,"production"!==t.env.NODE_ENV&&(0,u.default)(!1,"Unsupported style property %s. Did you mean %s?%s",e,(0,i.default)(e),m(n)))}(e,o):c.test(e)?function(e,n){p.hasOwnProperty(e)&&p[e]||(p[e]=!0,"production"!==t.env.NODE_ENV&&(0,u.default)(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),m(n)))}(e,o):f.test(n)&&function(e,n,r){d.hasOwnProperty(n)&&d[n]||(d[n]=!0,"production"!==t.env.NODE_ENV&&(0,u.default)(!1,'Style property values shouldn\'t contain a semicolon.%s Try "%s: %s" instead.',m(r),e,n.replace(f,"")))}(e,n,o),"number"==typeof n&&isNaN(n)&&function(e,n,r){h||(h=!0,"production"!==t.env.NODE_ENV&&(0,u.default)(!1,"`NaN` is an invalid value for the `%s` css style property.%s",e,m(r)))}(e,0,o)}}).call(e,n(18))},function(t,e,n){"use strict";(function(e){var r=n(478);if("production"!==e.env.NODE_ENV){r=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];(function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(t){}}).apply(void 0,[e].concat(r))}}}t.exports=r}).call(e,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports=e.default},function(t,e,n){"use strict";var r=n(255),i=n(256),o=n(576),a=n(278);t.exports=function(t){var e;return e="string"==typeof t?t.split(" "):t,i(e,function(t){var e=a[t];if("string"==typeof e){var n=e;(e={})[a[r.getAtRuleSize(t)]]=a[n]}return e||(console.error(t+" is not in the list of available Tachyons classes"),null)}).reduce(function(t,e){return o(t,e)},{})}},function(t,e,n){"use strict";e.hasClass=function(t){return/^\.\S+/.test(t)},e.isClassSelector=function(t){return/^\.[^.# ]+$/.test(t)};var r=/^\.?(.*)-([nsml]{1,2})$/;e.getAtRuleSize=function(t){return t.replace(r,"$2")},e.stripAtRuleSize=function(t){return t.replace(r,"$1")},e.getPseudos=function(t){return t.replace(/^[^:]*(.*)$/,"$1")}},function(t,e,n){var r=n(257),i=n(258),o=n(572),a=n(29);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(501),i=n(560),o=n(166),a=n(29),s=n(569);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(20))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!=t&&e!=e:i(t,e,n,a,r,s))}var i=n(531),o=n(55);t.exports=r},function(t,e,n){var r=n(532),i=n(535),o=n(536),a=1,s=2;t.exports=function(t,e,n,u,l,c){var f=n&a,p=t.length,d=e.length;if(p!=d&&!(f&&d>p))return!1;var h=c.get(t);if(h&&c.get(e))return h==e;var m=-1,g=!0,v=n&s?new r:void 0;for(c.set(t,e),c.set(e,t);++m<p;){var y=t[m],b=e[m];if(u)var _=f?u(b,y,m,e,t,c):u(y,b,m,t,e,c);if(void 0!==_){if(_)continue;g=!1;break}if(v){if(!i(e,function(t,e){if(!o(v,e)&&(y===t||l(y,t,n,u,c)))return v.push(e)})){g=!1;break}}else if(y!==b&&!l(y,b,n,u,c)){g=!1;break}}return c.delete(t),c.delete(e),g}},function(t,e,n){var r=n(39);t.exports=r.Uint8Array},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(546),i=n(112),o=n(29),a=n(158),s=n(159),u=n(160),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),f=!n&&!c&&a(t),p=!n&&!c&&!f&&u(t),d=n||c||f||p,h=d?r(t.length,String):[],m=h.length;for(var g in t)!e&&!l.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(40);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(270),i=n(113);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(29),i=n(163),o=n(562),a=n(165);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(573),i=n(575)(r);t.exports=i},function(t,e,n){var r=n(574)();t.exports=r},function(t,e,n){var r=n(167),i=n(87);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(54),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var r=n(266)(Object.getPrototypeOf,Object);t.exports=r},function(t,e){t.exports=function(t,e){if("__proto__"!=e)return t[e]}},function(t,e,n){var r=n(265),i=n(590),o=n(68);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){"use strict";t.exports={"border-box":{boxSizing:"border-box"},"aspect-ratio":{height:"0",position:"relative"},"aspect-ratio--16x9":{paddingBottom:"56.25%"},"aspect-ratio--9x16":{paddingBottom:"177.77%"},"aspect-ratio--4x3":{paddingBottom:"75%"},"aspect-ratio--3x4":{paddingBottom:"133.33%"},"aspect-ratio--6x4":{paddingBottom:"66.6%"},"aspect-ratio--4x6":{paddingBottom:"150%"},"aspect-ratio--8x5":{paddingBottom:"62.5%"},"aspect-ratio--5x8":{paddingBottom:"160%"},"aspect-ratio--7x5":{paddingBottom:"71.42%"},"aspect-ratio--5x7":{paddingBottom:"140%"},"aspect-ratio--1x1":{paddingBottom:"100%"},"aspect-ratio--object":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",width:"100%",height:"100%",zIndex:"100"},cover:{backgroundSize:"cover"},contain:{backgroundSize:"contain"},"bg-center":{backgroundRepeat:"no-repeat",backgroundPosition:"center center"},"bg-top":{backgroundRepeat:"no-repeat",backgroundPosition:"top center"},"bg-right":{backgroundRepeat:"no-repeat",backgroundPosition:"center right"},"bg-bottom":{backgroundRepeat:"no-repeat",backgroundPosition:"bottom center"},"bg-left":{backgroundRepeat:"no-repeat",backgroundPosition:"center left"},outline:{outline:"1px solid"},"outline-transparent":{outline:"1px solid transparent"},"outline-0":{outline:"0"},ba:{borderStyle:"solid",borderWidth:"1px"},bt:{borderTopStyle:"solid",borderTopWidth:"1px"},br:{borderRightStyle:"solid",borderRightWidth:"1px"},bb:{borderBottomStyle:"solid",borderBottomWidth:"1px"},bl:{borderLeftStyle:"solid",borderLeftWidth:"1px"},bn:{borderStyle:"none",borderWidth:"0"},"b--black":{borderColor:"#000"},"b--near-black":{borderColor:"#111"},"b--dark-gray":{borderColor:"#333"},"b--mid-gray":{borderColor:"#555"},"b--gray":{borderColor:"#777"},"b--silver":{borderColor:"#999"},"b--light-silver":{borderColor:"#aaa"},"b--moon-gray":{borderColor:"#ccc"},"b--light-gray":{borderColor:"#eee"},"b--near-white":{borderColor:"#f4f4f4"},"b--white":{borderColor:"#fff"},"b--white-90":{borderColor:"rgba( 255, 255, 255, .9 )"},"b--white-80":{borderColor:"rgba( 255, 255, 255, .8 )"},"b--white-70":{borderColor:"rgba( 255, 255, 255, .7 )"},"b--white-60":{borderColor:"rgba( 255, 255, 255, .6 )"},"b--white-50":{borderColor:"rgba( 255, 255, 255, .5 )"},"b--white-40":{borderColor:"rgba( 255, 255, 255, .4 )"},"b--white-30":{borderColor:"rgba( 255, 255, 255, .3 )"},"b--white-20":{borderColor:"rgba( 255, 255, 255, .2 )"},"b--white-10":{borderColor:"rgba( 255, 255, 255, .1 )"},"b--white-05":{borderColor:"rgba( 255, 255, 255, .05 )"},"b--white-025":{borderColor:"rgba( 255, 255, 255, .025 )"},"b--white-0125":{borderColor:"rgba( 255, 255, 255, .0125 )"},"b--black-90":{borderColor:"rgba( 0, 0, 0, .9 )"},"b--black-80":{borderColor:"rgba( 0, 0, 0, .8 )"},"b--black-70":{borderColor:"rgba( 0, 0, 0, .7 )"},"b--black-60":{borderColor:"rgba( 0, 0, 0, .6 )"},"b--black-50":{borderColor:"rgba( 0, 0, 0, .5 )"},"b--black-40":{borderColor:"rgba( 0, 0, 0, .4 )"},"b--black-30":{borderColor:"rgba( 0, 0, 0, .3 )"},"b--black-20":{borderColor:"rgba( 0, 0, 0, .2 )"},"b--black-10":{borderColor:"rgba( 0, 0, 0, .1 )"},"b--black-05":{borderColor:"rgba( 0, 0, 0, .05 )"},"b--black-025":{borderColor:"rgba( 0, 0, 0, .025 )"},"b--black-0125":{borderColor:"rgba( 0, 0, 0, .0125 )"},"b--dark-red":{borderColor:"#e7040f"},"b--red":{borderColor:"#ff4136"},"b--light-red":{borderColor:"#ff725c"},"b--orange":{borderColor:"#ff6300"},"b--gold":{borderColor:"#ffb700"},"b--yellow":{borderColor:"#ffd700"},"b--light-yellow":{borderColor:"#fbf1a9"},"b--purple":{borderColor:"#5e2ca5"},"b--light-purple":{borderColor:"#a463f2"},"b--dark-pink":{borderColor:"#d5008f"},"b--hot-pink":{borderColor:"#ff41b4"},"b--pink":{borderColor:"#ff80cc"},"b--light-pink":{borderColor:"#ffa3d7"},"b--dark-green":{borderColor:"#137752"},"b--green":{borderColor:"#19a974"},"b--light-green":{borderColor:"#9eebcf"},"b--navy":{borderColor:"#001b44"},"b--dark-blue":{borderColor:"#00449e"},"b--blue":{borderColor:"#357edd"},"b--light-blue":{borderColor:"#96ccff"},"b--lightest-blue":{borderColor:"#cdecff"},"b--washed-blue":{borderColor:"#f6fffe"},"b--washed-green":{borderColor:"#e8fdf5"},"b--washed-yellow":{borderColor:"#fffceb"},"b--washed-red":{borderColor:"#ffdfdf"},"b--transparent":{borderColor:"transparent"},"b--inherit":{borderColor:"inherit"},br0:{borderRadius:"0"},br1:{borderRadius:".125rem"},br2:{borderRadius:".25rem"},br3:{borderRadius:".5rem"},br4:{borderRadius:"1rem"},"br-100":{borderRadius:"100%"},"br-pill":{borderRadius:"9999px"},"br--bottom":{borderTopLeftRadius:"0",borderTopRightRadius:"0"},"br--top":{borderBottomLeftRadius:"0",borderBottomRightRadius:"0"},"br--right":{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},"br--left":{borderTopRightRadius:"0",borderBottomRightRadius:"0"},"b--dotted":{borderStyle:"dotted"},"b--dashed":{borderStyle:"dashed"},"b--solid":{borderStyle:"solid"},"b--none":{borderStyle:"none"},bw0:{borderWidth:"0"},bw1:{borderWidth:".125rem"},bw2:{borderWidth:".25rem"},bw3:{borderWidth:".5rem"},bw4:{borderWidth:"1rem"},bw5:{borderWidth:"2rem"},"bt-0":{borderTopWidth:"0"},"br-0":{borderRightWidth:"0"},"bb-0":{borderBottomWidth:"0"},"bl-0":{borderLeftWidth:"0"},"shadow-1":{boxShadow:"0 0 4px 2px rgba( 0, 0, 0, .2 )"},"shadow-2":{boxShadow:"0 0 8px 2px rgba( 0, 0, 0, .2 )"},"shadow-3":{boxShadow:"2px 2px 4px 2px rgba( 0, 0, 0, .2 )"},"shadow-4":{boxShadow:"2px 2px 8px 0 rgba( 0, 0, 0, .2 )"},"shadow-5":{boxShadow:"4px 4px 8px 0 rgba( 0, 0, 0, .2 )"},pre:{whiteSpace:"pre",overflowX:"auto",overflowY:"hidden",overflow:"scroll"},"top-0":{top:"0"},"right-0":{right:"0"},"bottom-0":{bottom:"0"},"left-0":{left:"0"},"top-1":{top:"1rem"},"right-1":{right:"1rem"},"bottom-1":{bottom:"1rem"},"left-1":{left:"1rem"},"top-2":{top:"2rem"},"right-2":{right:"2rem"},"bottom-2":{bottom:"2rem"},"left-2":{left:"2rem"},"top--1":{top:"-1rem"},"right--1":{right:"-1rem"},"bottom--1":{bottom:"-1rem"},"left--1":{left:"-1rem"},"top--2":{top:"-2rem"},"right--2":{right:"-2rem"},"bottom--2":{bottom:"-2rem"},"left--2":{left:"-2rem"},"absolute--fill":{top:"0",right:"0",bottom:"0",left:"0"},cf:{zoom:"1",":after":{content:'" "',display:"table"},":before":{content:'" "',display:"table"}},cl:{clear:"left"},cr:{clear:"right"},cb:{clear:"both"},cn:{clear:"none"},dn:{display:"none"},di:{display:"inline"},db:{display:"block"},dib:{display:"inline-block"},dit:{display:"inline-table"},dt:{display:"table"},dtc:{display:"table-cell"},"dt-row":{display:"table-row"},"dt-row-group":{display:"table-row-group"},"dt-column":{display:"table-column"},"dt-column-group":{display:"table-column-group"},"dt--fixed":{tableLayout:"fixed",width:"100%"},flex:{display:"flex"},"inline-flex":{display:"inline-flex"},"flex-auto":{webkitBoxFlex:"1",msFlex:"1 1 auto",flex:"1 1 auto",minWidth:"0",minHeight:"0"},"flex-none":{webkitBoxFlex:"0",msFlex:"none",flex:"none"},"flex-column":{webkitBoxOrient:"vertical",webkitBoxDirection:"normal",msFlexDirection:"column",flexDirection:"column"},"flex-row":{webkitBoxOrient:"horizontal",webkitBoxDirection:"normal",msFlexDirection:"row",flexDirection:"row"},"flex-wrap":{msFlexWrap:"wrap",flexWrap:"wrap"},"flex-nowrap":{msFlexWrap:"nowrap",flexWrap:"nowrap"},"flex-wrap-reverse":{msFlexWrap:"wrap-reverse",flexWrap:"wrap-reverse"},"flex-column-reverse":{webkitBoxOrient:"vertical",webkitBoxDirection:"reverse",msFlexDirection:"column-reverse",flexDirection:"column-reverse"},"flex-row-reverse":{webkitBoxOrient:"horizontal",webkitBoxDirection:"reverse",msFlexDirection:"row-reverse",flexDirection:"row-reverse"},"items-start":{webkitBoxAlign:"start",msFlexAlign:"start",alignItems:"flex-start"},"items-end":{webkitBoxAlign:"end",msFlexAlign:"end",alignItems:"flex-end"},"items-center":{webkitBoxAlign:"center",msFlexAlign:"center",alignItems:"center"},"items-baseline":{webkitBoxAlign:"baseline",msFlexAlign:"baseline",alignItems:"baseline"},"items-stretch":{webkitBoxAlign:"stretch",msFlexAlign:"stretch",alignItems:"stretch"},"self-start":{msFlexItemAlign:"start",alignSelf:"flex-start"},"self-end":{msFlexItemAlign:"end",alignSelf:"flex-end"},"self-center":{msFlexItemAlign:"center",msGridRowAlign:"center",alignSelf:"center"},"self-baseline":{msFlexItemAlign:"baseline",alignSelf:"baseline"},"self-stretch":{msFlexItemAlign:"stretch",msGridRowAlign:"stretch",alignSelf:"stretch"},"justify-start":{webkitBoxPack:"start",msFlexPack:"start",justifyContent:"flex-start"},"justify-end":{webkitBoxPack:"end",msFlexPack:"end",justifyContent:"flex-end"},"justify-center":{webkitBoxPack:"center",msFlexPack:"center",justifyContent:"center"},"justify-between":{webkitBoxPack:"justify",msFlexPack:"justify",justifyContent:"space-between"},"justify-around":{msFlexPack:"distribute",justifyContent:"space-around"},"content-start":{msFlexLinePack:"start",alignContent:"flex-start"},"content-end":{msFlexLinePack:"end",alignContent:"flex-end"},"content-center":{msFlexLinePack:"center",alignContent:"center"},"content-between":{msFlexLinePack:"justify",alignContent:"space-between"},"content-around":{msFlexLinePack:"distribute",alignContent:"space-around"},"content-stretch":{msFlexLinePack:"stretch",alignContent:"stretch"},"order-0":{webkitBoxOrdinalGroup:"1",msFlexOrder:"0",order:"0"},"order-1":{webkitBoxOrdinalGroup:"2",msFlexOrder:"1",order:"1"},"order-2":{webkitBoxOrdinalGroup:"3",msFlexOrder:"2",order:"2"},"order-3":{webkitBoxOrdinalGroup:"4",msFlexOrder:"3",order:"3"},"order-4":{webkitBoxOrdinalGroup:"5",msFlexOrder:"4",order:"4"},"order-5":{webkitBoxOrdinalGroup:"6",msFlexOrder:"5",order:"5"},"order-6":{webkitBoxOrdinalGroup:"7",msFlexOrder:"6",order:"6"},"order-7":{webkitBoxOrdinalGroup:"8",msFlexOrder:"7",order:"7"},"order-8":{webkitBoxOrdinalGroup:"9",msFlexOrder:"8",order:"8"},"order-last":{webkitBoxOrdinalGroup:"100000",msFlexOrder:"99999",order:"99999"},fl:{float:"left",display:"inline"},fr:{float:"right",display:"inline"},fn:{float:"none"},"sans-serif":{fontFamily:"-apple-system, BlinkMacSystemFont, 'avenir next', avenir, 'helvetica neue', helvetica, ubuntu, roboto, noto, 'segoe ui', arial, sans-serif"},serif:{fontFamily:"georgia, times, serif"},"system-sans-serif":{fontFamily:"sans-serif"},"system-serif":{fontFamily:"serif"},code:{fontFamily:"Consolas, monaco, monospace"},courier:{fontFamily:"'Courier Next', courier, monospace"},helvetica:{fontFamily:"'helvetica neue', helvetica, sans-serif"},avenir:{fontFamily:"'avenir next', avenir, sans-serif"},athelas:{fontFamily:"athelas, georgia, serif"},georgia:{fontFamily:"georgia, serif"},times:{fontFamily:"times, serif"},bodoni:{fontFamily:'"Bodoni MT", serif'},calisto:{fontFamily:'"Calisto MT", serif'},garamond:{fontFamily:"garamond, serif"},baskerville:{fontFamily:"baskerville, serif"},i:{fontStyle:"italic"},"fs-normal":{fontStyle:"normal"},normal:{fontWeight:"normal"},b:{fontWeight:"bold"},fw1:{fontWeight:"100"},fw2:{fontWeight:"200"},fw3:{fontWeight:"300"},fw4:{fontWeight:"400"},fw5:{fontWeight:"500"},fw6:{fontWeight:"600"},fw7:{fontWeight:"700"},fw8:{fontWeight:"800"},fw9:{fontWeight:"900"},"input-reset":{"::-moz-focus-inner":{border:"0",padding:"0"},webkitAppearance:"none",mozAppearance:"none"},"button-reset":{"::-moz-focus-inner":{border:"0",padding:"0"}},h1:{height:"1rem"},h2:{height:"2rem"},h3:{height:"4rem"},h4:{height:"8rem"},h5:{height:"16rem"},"h-25":{height:"25%"},"h-50":{height:"50%"},"h-75":{height:"75%"},"h-100":{height:"100%"},"min-h-100":{minHeight:"100%"},"vh-25":{height:"25vh"},"vh-50":{height:"50vh"},"vh-75":{height:"75vh"},"vh-100":{height:"100vh"},"min-vh-100":{minHeight:"100vh"},"h-auto":{height:"auto"},"h-inherit":{height:"inherit"},tracked:{letterSpacing:".1em"},"tracked-tight":{letterSpacing:"-.05em"},"tracked-mega":{letterSpacing:".25em"},"lh-solid":{lineHeight:"1"},"lh-title":{lineHeight:"1.25"},"lh-copy":{lineHeight:"1.5"},link:{":focus":{transition:"color .15s ease-in",outline:"1px dotted currentColor"},":active":{transition:"color .15s ease-in"},":hover":{transition:"color .15s ease-in"},":visited":{transition:"color .15s ease-in"},":link":{transition:"color .15s ease-in"},textDecoration:"none",transition:"color .15s ease-in"},list:{listStyleType:"none"},"mw-100":{maxWidth:"100%"},mw1:{maxWidth:"1rem"},mw2:{maxWidth:"2rem"},mw3:{maxWidth:"4rem"},mw4:{maxWidth:"8rem"},mw5:{maxWidth:"16rem"},mw6:{maxWidth:"32rem"},mw7:{maxWidth:"48rem"},mw8:{maxWidth:"64rem"},mw9:{maxWidth:"96rem"},"mw-none":{maxWidth:"none"},w1:{width:"1rem"},w2:{width:"2rem"},w3:{width:"4rem"},w4:{width:"8rem"},w5:{width:"16rem"},"w-10":{width:"10%"},"w-20":{width:"20%"},"w-25":{width:"25%"},"w-30":{width:"30%"},"w-33":{width:"33%"},"w-34":{width:"34%"},"w-40":{width:"40%"},"w-50":{width:"50%"},"w-60":{width:"60%"},"w-70":{width:"70%"},"w-75":{width:"75%"},"w-80":{width:"80%"},"w-90":{width:"90%"},"w-100":{width:"100%"},"w-third":{width:"calc( 100% / 3 )"},"w-two-thirds":{width:"calc( 100% / 1.5 )"},"w-auto":{width:"auto"},"overflow-visible":{overflow:"visible"},"overflow-hidden":{overflow:"hidden"},"overflow-scroll":{overflow:"scroll"},"overflow-auto":{overflow:"auto"},"overflow-x-visible":{overflowX:"visible"},"overflow-x-hidden":{overflowX:"hidden"},"overflow-x-scroll":{overflowX:"scroll"},"overflow-x-auto":{overflowX:"auto"},"overflow-y-visible":{overflowY:"visible"},"overflow-y-hidden":{overflowY:"hidden"},"overflow-y-scroll":{overflowY:"scroll"},"overflow-y-auto":{overflowY:"auto"},static:{position:"static"},relative:{position:"relative"},absolute:{position:"absolute"},fixed:{position:"fixed"},"o-100":{opacity:"1"},"o-90":{opacity:".9"},"o-80":{opacity:".8"},"o-70":{opacity:".7"},"o-60":{opacity:".6"},"o-50":{opacity:".5"},"o-40":{opacity:".4"},"o-30":{opacity:".3"},"o-20":{opacity:".2"},"o-10":{opacity:".1"},"o-05":{opacity:".05"},"o-025":{opacity:".025"},"o-0":{opacity:"0"},"rotate-45":{webkitTransform:"rotate( 45deg )",transform:"rotate( 45deg )"},"rotate-90":{webkitTransform:"rotate( 90deg )",transform:"rotate( 90deg )"},"rotate-135":{webkitTransform:"rotate( 135deg )",transform:"rotate( 135deg )"},"rotate-180":{webkitTransform:"rotate( 180deg )",transform:"rotate( 180deg )"},"rotate-225":{webkitTransform:"rotate( 225deg )",transform:"rotate( 225deg )"},"rotate-270":{webkitTransform:"rotate( 270deg )",transform:"rotate( 270deg )"},"rotate-315":{webkitTransform:"rotate( 315deg )",transform:"rotate( 315deg )"},"black-90":{color:"rgba( 0, 0, 0, .9 )"},"black-80":{color:"rgba( 0, 0, 0, .8 )"},"black-70":{color:"rgba( 0, 0, 0, .7 )"},"black-60":{color:"rgba( 0, 0, 0, .6 )"},"black-50":{color:"rgba( 0, 0, 0, .5 )"},"black-40":{color:"rgba( 0, 0, 0, .4 )"},"black-30":{color:"rgba( 0, 0, 0, .3 )"},"black-20":{color:"rgba( 0, 0, 0, .2 )"},"black-10":{color:"rgba( 0, 0, 0, .1 )"},"black-05":{color:"rgba( 0, 0, 0, .05 )"},"white-90":{color:"rgba( 255, 255, 255, .9 )"},"white-80":{color:"rgba( 255, 255, 255, .8 )"},"white-70":{color:"rgba( 255, 255, 255, .7 )"},"white-60":{color:"rgba( 255, 255, 255, .6 )"},"white-50":{color:"rgba( 255, 255, 255, .5 )"},"white-40":{color:"rgba( 255, 255, 255, .4 )"},"white-30":{color:"rgba( 255, 255, 255, .3 )"},"white-20":{color:"rgba( 255, 255, 255, .2 )"},"white-10":{color:"rgba( 255, 255, 255, .1 )"},black:{color:"#000"},"near-black":{color:"#111"},"dark-gray":{color:"#333"},"mid-gray":{color:"#555"},gray:{color:"#777"},silver:{color:"#999"},"light-silver":{color:"#aaa"},"moon-gray":{color:"#ccc"},"light-gray":{color:"#eee"},"near-white":{color:"#f4f4f4"},white:{color:"#fff"},"dark-red":{color:"#e7040f"},red:{color:"#ff4136"},"light-red":{color:"#ff725c"},orange:{color:"#ff6300"},gold:{color:"#ffb700"},yellow:{color:"#ffd700"},"light-yellow":{color:"#fbf1a9"},purple:{color:"#5e2ca5"},"light-purple":{color:"#a463f2"},"dark-pink":{color:"#d5008f"},"hot-pink":{color:"#ff41b4"},pink:{color:"#ff80cc"},"light-pink":{color:"#ffa3d7"},"dark-green":{color:"#137752"},green:{color:"#19a974"},"light-green":{color:"#9eebcf"},navy:{color:"#001b44"},"dark-blue":{color:"#00449e"},blue:{color:"#357edd"},"light-blue":{color:"#96ccff"},"lightest-blue":{color:"#cdecff"},"washed-blue":{color:"#f6fffe"},"washed-green":{color:"#e8fdf5"},"washed-yellow":{color:"#fffceb"},"washed-red":{color:"#ffdfdf"},"color-inherit":{color:"inherit"},"bg-black-90":{backgroundColor:"rgba( 0, 0, 0, .9 )"},"bg-black-80":{backgroundColor:"rgba( 0, 0, 0, .8 )"},"bg-black-70":{backgroundColor:"rgba( 0, 0, 0, .7 )"},"bg-black-60":{backgroundColor:"rgba( 0, 0, 0, .6 )"},"bg-black-50":{backgroundColor:"rgba( 0, 0, 0, .5 )"},"bg-black-40":{backgroundColor:"rgba( 0, 0, 0, .4 )"},"bg-black-30":{backgroundColor:"rgba( 0, 0, 0, .3 )"},"bg-black-20":{backgroundColor:"rgba( 0, 0, 0, .2 )"},"bg-black-10":{backgroundColor:"rgba( 0, 0, 0, .1 )"},"bg-black-05":{backgroundColor:"rgba( 0, 0, 0, .05 )"},"bg-white-90":{backgroundColor:"rgba( 255, 255, 255, .9 )"},"bg-white-80":{backgroundColor:"rgba( 255, 255, 255, .8 )"},"bg-white-70":{backgroundColor:"rgba( 255, 255, 255, .7 )"},"bg-white-60":{backgroundColor:"rgba( 255, 255, 255, .6 )"},"bg-white-50":{backgroundColor:"rgba( 255, 255, 255, .5 )"},"bg-white-40":{backgroundColor:"rgba( 255, 255, 255, .4 )"},"bg-white-30":{backgroundColor:"rgba( 255, 255, 255, .3 )"},"bg-white-20":{backgroundColor:"rgba( 255, 255, 255, .2 )"},"bg-white-10":{backgroundColor:"rgba( 255, 255, 255, .1 )"},"bg-black":{backgroundColor:"#000"},"bg-near-black":{backgroundColor:"#111"},"bg-dark-gray":{backgroundColor:"#333"},"bg-mid-gray":{backgroundColor:"#555"},"bg-gray":{backgroundColor:"#777"},"bg-silver":{backgroundColor:"#999"},"bg-light-silver":{backgroundColor:"#aaa"},"bg-moon-gray":{backgroundColor:"#ccc"},"bg-light-gray":{backgroundColor:"#eee"},"bg-near-white":{backgroundColor:"#f4f4f4"},"bg-white":{backgroundColor:"#fff"},"bg-transparent":{backgroundColor:"transparent"},"bg-dark-red":{backgroundColor:"#e7040f"},"bg-red":{backgroundColor:"#ff4136"},"bg-light-red":{backgroundColor:"#ff725c"},"bg-orange":{backgroundColor:"#ff6300"},"bg-gold":{backgroundColor:"#ffb700"},"bg-yellow":{backgroundColor:"#ffd700"},"bg-light-yellow":{backgroundColor:"#fbf1a9"},"bg-purple":{backgroundColor:"#5e2ca5"},"bg-light-purple":{backgroundColor:"#a463f2"},"bg-dark-pink":{backgroundColor:"#d5008f"},"bg-hot-pink":{backgroundColor:"#ff41b4"},"bg-pink":{backgroundColor:"#ff80cc"},"bg-light-pink":{backgroundColor:"#ffa3d7"},"bg-dark-green":{backgroundColor:"#137752"},"bg-green":{backgroundColor:"#19a974"},"bg-light-green":{backgroundColor:"#9eebcf"},"bg-navy":{backgroundColor:"#001b44"},"bg-dark-blue":{backgroundColor:"#00449e"},"bg-blue":{backgroundColor:"#357edd"},"bg-light-blue":{backgroundColor:"#96ccff"},"bg-lightest-blue":{backgroundColor:"#cdecff"},"bg-washed-blue":{backgroundColor:"#f6fffe"},"bg-washed-green":{backgroundColor:"#e8fdf5"},"bg-washed-yellow":{backgroundColor:"#fffceb"},"bg-washed-red":{backgroundColor:"#ffdfdf"},"bg-inherit":{backgroundColor:"inherit"},"hover-black":{":focus":{color:"#000"},":hover":{color:"#000"}},"hover-near-black":{":focus":{color:"#111"},":hover":{color:"#111"}},"hover-dark-gray":{":focus":{color:"#333"},":hover":{color:"#333"}},"hover-mid-gray":{":focus":{color:"#555"},":hover":{color:"#555"}},"hover-gray":{":focus":{color:"#777"},":hover":{color:"#777"}},"hover-silver":{":focus":{color:"#999"},":hover":{color:"#999"}},"hover-light-silver":{":focus":{color:"#aaa"},":hover":{color:"#aaa"}},"hover-moon-gray":{":focus":{color:"#ccc"},":hover":{color:"#ccc"}},"hover-light-gray":{":focus":{color:"#eee"},":hover":{color:"#eee"}},"hover-near-white":{":focus":{color:"#f4f4f4"},":hover":{color:"#f4f4f4"}},"hover-white":{":focus":{color:"#fff"},":hover":{color:"#fff"}},"hover-black-90":{":focus":{color:"rgba( 0, 0, 0, .9 )"},":hover":{color:"rgba( 0, 0, 0, .9 )"}},"hover-black-80":{":focus":{color:"rgba( 0, 0, 0, .8 )"},":hover":{color:"rgba( 0, 0, 0, .8 )"}},"hover-black-70":{":focus":{color:"rgba( 0, 0, 0, .7 )"},":hover":{color:"rgba( 0, 0, 0, .7 )"}},"hover-black-60":{":focus":{color:"rgba( 0, 0, 0, .6 )"},":hover":{color:"rgba( 0, 0, 0, .6 )"}},"hover-black-50":{":focus":{color:"rgba( 0, 0, 0, .5 )"},":hover":{color:"rgba( 0, 0, 0, .5 )"}},"hover-black-40":{":focus":{color:"rgba( 0, 0, 0, .4 )"},":hover":{color:"rgba( 0, 0, 0, .4 )"}},"hover-black-30":{":focus":{color:"rgba( 0, 0, 0, .3 )"},":hover":{color:"rgba( 0, 0, 0, .3 )"}},"hover-black-20":{":focus":{color:"rgba( 0, 0, 0, .2 )"},":hover":{color:"rgba( 0, 0, 0, .2 )"}},"hover-black-10":{":focus":{color:"rgba( 0, 0, 0, .1 )"},":hover":{color:"rgba( 0, 0, 0, .1 )"}},"hover-white-90":{":focus":{color:"rgba( 255, 255, 255, .9 )"},":hover":{color:"rgba( 255, 255, 255, .9 )"}},"hover-white-80":{":focus":{color:"rgba( 255, 255, 255, .8 )"},":hover":{color:"rgba( 255, 255, 255, .8 )"}},"hover-white-70":{":focus":{color:"rgba( 255, 255, 255, .7 )"},":hover":{color:"rgba( 255, 255, 255, .7 )"}},"hover-white-60":{":focus":{color:"rgba( 255, 255, 255, .6 )"},":hover":{color:"rgba( 255, 255, 255, .6 )"}},"hover-white-50":{":focus":{color:"rgba( 255, 255, 255, .5 )"},":hover":{color:"rgba( 255, 255, 255, .5 )"}},"hover-white-40":{":focus":{color:"rgba( 255, 255, 255, .4 )"},":hover":{color:"rgba( 255, 255, 255, .4 )"}},"hover-white-30":{":focus":{color:"rgba( 255, 255, 255, .3 )"},":hover":{color:"rgba( 255, 255, 255, .3 )"}},"hover-white-20":{":focus":{color:"rgba( 255, 255, 255, .2 )"},":hover":{color:"rgba( 255, 255, 255, .2 )"}},"hover-white-10":{":focus":{color:"rgba( 255, 255, 255, .1 )"},":hover":{color:"rgba( 255, 255, 255, .1 )"}},"hover-inherit":{":focus":{color:"inherit"},":hover":{color:"inherit"}},"hover-bg-black":{":focus":{backgroundColor:"#000"},":hover":{backgroundColor:"#000"}},"hover-bg-near-black":{":focus":{backgroundColor:"#111"},":hover":{backgroundColor:"#111"}},"hover-bg-dark-gray":{":focus":{backgroundColor:"#333"},":hover":{backgroundColor:"#333"}},"hover-bg-mid-gray":{":focus":{backgroundColor:"#555"},":hover":{backgroundColor:"#555"}},"hover-bg-gray":{":focus":{backgroundColor:"#777"},":hover":{backgroundColor:"#777"}},"hover-bg-silver":{":focus":{backgroundColor:"#999"},":hover":{backgroundColor:"#999"}},"hover-bg-light-silver":{":focus":{backgroundColor:"#aaa"},":hover":{backgroundColor:"#aaa"}},"hover-bg-moon-gray":{":focus":{backgroundColor:"#ccc"},":hover":{backgroundColor:"#ccc"}},"hover-bg-light-gray":{":focus":{backgroundColor:"#eee"},":hover":{backgroundColor:"#eee"}},"hover-bg-near-white":{":focus":{backgroundColor:"#f4f4f4"},":hover":{backgroundColor:"#f4f4f4"}},"hover-bg-white":{":focus":{backgroundColor:"#fff"},":hover":{backgroundColor:"#fff"}},"hover-bg-transparent":{":focus":{backgroundColor:"transparent"},":hover":{backgroundColor:"transparent"}},"hover-bg-black-90":{":focus":{backgroundColor:"rgba( 0, 0, 0, .9 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .9 )"}},"hover-bg-black-80":{":focus":{backgroundColor:"rgba( 0, 0, 0, .8 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .8 )"}},"hover-bg-black-70":{":focus":{backgroundColor:"rgba( 0, 0, 0, .7 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .7 )"}},"hover-bg-black-60":{":focus":{backgroundColor:"rgba( 0, 0, 0, .6 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .6 )"}},"hover-bg-black-50":{":focus":{backgroundColor:"rgba( 0, 0, 0, .5 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .5 )"}},"hover-bg-black-40":{":focus":{backgroundColor:"rgba( 0, 0, 0, .4 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .4 )"}},"hover-bg-black-30":{":focus":{backgroundColor:"rgba( 0, 0, 0, .3 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .3 )"}},"hover-bg-black-20":{":focus":{backgroundColor:"rgba( 0, 0, 0, .2 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .2 )"}},"hover-bg-black-10":{":focus":{backgroundColor:"rgba( 0, 0, 0, .1 )"},":hover":{backgroundColor:"rgba( 0, 0, 0, .1 )"}},"hover-bg-white-90":{":focus":{backgroundColor:"rgba( 255, 255, 255, .9 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .9 )"}},"hover-bg-white-80":{":focus":{backgroundColor:"rgba( 255, 255, 255, .8 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .8 )"}},"hover-bg-white-70":{":focus":{backgroundColor:"rgba( 255, 255, 255, .7 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .7 )"}},"hover-bg-white-60":{":focus":{backgroundColor:"rgba( 255, 255, 255, .6 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .6 )"}},"hover-bg-white-50":{":focus":{backgroundColor:"rgba( 255, 255, 255, .5 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .5 )"}},"hover-bg-white-40":{":focus":{backgroundColor:"rgba( 255, 255, 255, .4 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .4 )"}},"hover-bg-white-30":{":focus":{backgroundColor:"rgba( 255, 255, 255, .3 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .3 )"}},"hover-bg-white-20":{":focus":{backgroundColor:"rgba( 255, 255, 255, .2 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .2 )"}},"hover-bg-white-10":{":focus":{backgroundColor:"rgba( 255, 255, 255, .1 )"},":hover":{backgroundColor:"rgba( 255, 255, 255, .1 )"}},"hover-dark-red":{":focus":{color:"#e7040f"},":hover":{color:"#e7040f"}},"hover-red":{":focus":{color:"#ff4136"},":hover":{color:"#ff4136"}},"hover-light-red":{":focus":{color:"#ff725c"},":hover":{color:"#ff725c"}},"hover-orange":{":focus":{color:"#ff6300"},":hover":{color:"#ff6300"}},"hover-gold":{":focus":{color:"#ffb700"},":hover":{color:"#ffb700"}},"hover-yellow":{":focus":{color:"#ffd700"},":hover":{color:"#ffd700"}},"hover-light-yellow":{":focus":{color:"#fbf1a9"},":hover":{color:"#fbf1a9"}},"hover-purple":{":focus":{color:"#5e2ca5"},":hover":{color:"#5e2ca5"}},"hover-light-purple":{":focus":{color:"#a463f2"},":hover":{color:"#a463f2"}},"hover-dark-pink":{":focus":{color:"#d5008f"},":hover":{color:"#d5008f"}},"hover-hot-pink":{":focus":{color:"#ff41b4"},":hover":{color:"#ff41b4"}},"hover-pink":{":focus":{color:"#ff80cc"},":hover":{color:"#ff80cc"}},"hover-light-pink":{":focus":{color:"#ffa3d7"},":hover":{color:"#ffa3d7"}},"hover-dark-green":{":focus":{color:"#137752"},":hover":{color:"#137752"}},"hover-green":{":focus":{color:"#19a974"},":hover":{color:"#19a974"}},"hover-light-green":{":focus":{color:"#9eebcf"},":hover":{color:"#9eebcf"}},"hover-navy":{":focus":{color:"#001b44"},":hover":{color:"#001b44"}},"hover-dark-blue":{":focus":{color:"#00449e"},":hover":{color:"#00449e"}},"hover-blue":{":focus":{color:"#357edd"},":hover":{color:"#357edd"}},"hover-light-blue":{":focus":{color:"#96ccff"},":hover":{color:"#96ccff"}},"hover-lightest-blue":{":focus":{color:"#cdecff"},":hover":{color:"#cdecff"}},"hover-washed-blue":{":focus":{color:"#f6fffe"},":hover":{color:"#f6fffe"}},"hover-washed-green":{":focus":{color:"#e8fdf5"},":hover":{color:"#e8fdf5"}},"hover-washed-yellow":{":focus":{color:"#fffceb"},":hover":{color:"#fffceb"}},"hover-washed-red":{":focus":{color:"#ffdfdf"},":hover":{color:"#ffdfdf"}},"hover-bg-dark-red":{":focus":{backgroundColor:"#e7040f"},":hover":{backgroundColor:"#e7040f"}},"hover-bg-red":{":focus":{backgroundColor:"#ff4136"},":hover":{backgroundColor:"#ff4136"}},"hover-bg-light-red":{":focus":{backgroundColor:"#ff725c"},":hover":{backgroundColor:"#ff725c"}},"hover-bg-orange":{":focus":{backgroundColor:"#ff6300"},":hover":{backgroundColor:"#ff6300"}},"hover-bg-gold":{":focus":{backgroundColor:"#ffb700"},":hover":{backgroundColor:"#ffb700"}},"hover-bg-yellow":{":focus":{backgroundColor:"#ffd700"},":hover":{backgroundColor:"#ffd700"}},"hover-bg-light-yellow":{":focus":{backgroundColor:"#fbf1a9"},":hover":{backgroundColor:"#fbf1a9"}},"hover-bg-purple":{":focus":{backgroundColor:"#5e2ca5"},":hover":{backgroundColor:"#5e2ca5"}},"hover-bg-light-purple":{":focus":{backgroundColor:"#a463f2"},":hover":{backgroundColor:"#a463f2"}},"hover-bg-dark-pink":{":focus":{backgroundColor:"#d5008f"},":hover":{backgroundColor:"#d5008f"}},"hover-bg-hot-pink":{":focus":{backgroundColor:"#ff41b4"},":hover":{backgroundColor:"#ff41b4"}},"hover-bg-pink":{":focus":{backgroundColor:"#ff80cc"},":hover":{backgroundColor:"#ff80cc"}},"hover-bg-light-pink":{":focus":{backgroundColor:"#ffa3d7"},":hover":{backgroundColor:"#ffa3d7"}},"hover-bg-dark-green":{":focus":{backgroundColor:"#137752"},":hover":{backgroundColor:"#137752"}},"hover-bg-green":{":focus":{backgroundColor:"#19a974"},":hover":{backgroundColor:"#19a974"}},"hover-bg-light-green":{":focus":{backgroundColor:"#9eebcf"},":hover":{backgroundColor:"#9eebcf"}},"hover-bg-navy":{":focus":{backgroundColor:"#001b44"},":hover":{backgroundColor:"#001b44"}},"hover-bg-dark-blue":{":focus":{backgroundColor:"#00449e"},":hover":{backgroundColor:"#00449e"}},"hover-bg-blue":{":focus":{backgroundColor:"#357edd"},":hover":{backgroundColor:"#357edd"}},"hover-bg-light-blue":{":focus":{backgroundColor:"#96ccff"},":hover":{backgroundColor:"#96ccff"}},"hover-bg-lightest-blue":{":focus":{backgroundColor:"#cdecff"},":hover":{backgroundColor:"#cdecff"}},"hover-bg-washed-blue":{":focus":{backgroundColor:"#f6fffe"},":hover":{backgroundColor:"#f6fffe"}},"hover-bg-washed-green":{":focus":{backgroundColor:"#e8fdf5"},":hover":{backgroundColor:"#e8fdf5"}},"hover-bg-washed-yellow":{":focus":{backgroundColor:"#fffceb"},":hover":{backgroundColor:"#fffceb"}},"hover-bg-washed-red":{":focus":{backgroundColor:"#ffdfdf"},":hover":{backgroundColor:"#ffdfdf"}},"hover-bg-inherit":{":focus":{backgroundColor:"inherit"},":hover":{backgroundColor:"inherit"}},pa0:{padding:"0"},pa1:{padding:".25rem"},pa2:{padding:".5rem"},pa3:{padding:"1rem"},pa4:{padding:"2rem"},pa5:{padding:"4rem"},pa6:{padding:"8rem"},pa7:{padding:"16rem"},pl0:{paddingLeft:"0"},pl1:{paddingLeft:".25rem"},pl2:{paddingLeft:".5rem"},pl3:{paddingLeft:"1rem"},pl4:{paddingLeft:"2rem"},pl5:{paddingLeft:"4rem"},pl6:{paddingLeft:"8rem"},pl7:{paddingLeft:"16rem"},pr0:{paddingRight:"0"},pr1:{paddingRight:".25rem"},pr2:{paddingRight:".5rem"},pr3:{paddingRight:"1rem"},pr4:{paddingRight:"2rem"},pr5:{paddingRight:"4rem"},pr6:{paddingRight:"8rem"},pr7:{paddingRight:"16rem"},pb0:{paddingBottom:"0"},pb1:{paddingBottom:".25rem"},pb2:{paddingBottom:".5rem"},pb3:{paddingBottom:"1rem"},pb4:{paddingBottom:"2rem"},pb5:{paddingBottom:"4rem"},pb6:{paddingBottom:"8rem"},pb7:{paddingBottom:"16rem"},pt0:{paddingTop:"0"},pt1:{paddingTop:".25rem"},pt2:{paddingTop:".5rem"},pt3:{paddingTop:"1rem"},pt4:{paddingTop:"2rem"},pt5:{paddingTop:"4rem"},pt6:{paddingTop:"8rem"},pt7:{paddingTop:"16rem"},pv0:{paddingTop:"0",paddingBottom:"0"},pv1:{paddingTop:".25rem",paddingBottom:".25rem"},pv2:{paddingTop:".5rem",paddingBottom:".5rem"},pv3:{paddingTop:"1rem",paddingBottom:"1rem"},pv4:{paddingTop:"2rem",paddingBottom:"2rem"},pv5:{paddingTop:"4rem",paddingBottom:"4rem"},pv6:{paddingTop:"8rem",paddingBottom:"8rem"},pv7:{paddingTop:"16rem",paddingBottom:"16rem"},ph0:{paddingLeft:"0",paddingRight:"0"},ph1:{paddingLeft:".25rem",paddingRight:".25rem"},ph2:{paddingLeft:".5rem",paddingRight:".5rem"},ph3:{paddingLeft:"1rem",paddingRight:"1rem"},ph4:{paddingLeft:"2rem",paddingRight:"2rem"},ph5:{paddingLeft:"4rem",paddingRight:"4rem"},ph6:{paddingLeft:"8rem",paddingRight:"8rem"},ph7:{paddingLeft:"16rem",paddingRight:"16rem"},ma0:{margin:"0"},ma1:{margin:".25rem"},ma2:{margin:".5rem"},ma3:{margin:"1rem"},ma4:{margin:"2rem"},ma5:{margin:"4rem"},ma6:{margin:"8rem"},ma7:{margin:"16rem"},ml0:{marginLeft:"0"},ml1:{marginLeft:".25rem"},ml2:{marginLeft:".5rem"},ml3:{marginLeft:"1rem"},ml4:{marginLeft:"2rem"},ml5:{marginLeft:"4rem"},ml6:{marginLeft:"8rem"},ml7:{marginLeft:"16rem"},mr0:{marginRight:"0"},mr1:{marginRight:".25rem"},mr2:{marginRight:".5rem"},mr3:{marginRight:"1rem"},mr4:{marginRight:"2rem"},mr5:{marginRight:"4rem"},mr6:{marginRight:"8rem"},mr7:{marginRight:"16rem"},mb0:{marginBottom:"0"},mb1:{marginBottom:".25rem"},mb2:{marginBottom:".5rem"},mb3:{marginBottom:"1rem"},mb4:{marginBottom:"2rem"},mb5:{marginBottom:"4rem"},mb6:{marginBottom:"8rem"},mb7:{marginBottom:"16rem"},mt0:{marginTop:"0"},mt1:{marginTop:".25rem"},mt2:{marginTop:".5rem"},mt3:{marginTop:"1rem"},mt4:{marginTop:"2rem"},mt5:{marginTop:"4rem"},mt6:{marginTop:"8rem"},mt7:{marginTop:"16rem"},mv0:{marginTop:"0",marginBottom:"0"},mv1:{marginTop:".25rem",marginBottom:".25rem"},mv2:{marginTop:".5rem",marginBottom:".5rem"},mv3:{marginTop:"1rem",marginBottom:"1rem"},mv4:{marginTop:"2rem",marginBottom:"2rem"},mv5:{marginTop:"4rem",marginBottom:"4rem"},mv6:{marginTop:"8rem",marginBottom:"8rem"},mv7:{marginTop:"16rem",marginBottom:"16rem"},mh0:{marginLeft:"0",marginRight:"0"},mh1:{marginLeft:".25rem",marginRight:".25rem"},mh2:{marginLeft:".5rem",marginRight:".5rem"},mh3:{marginLeft:"1rem",marginRight:"1rem"},mh4:{marginLeft:"2rem",marginRight:"2rem"},mh5:{marginLeft:"4rem",marginRight:"4rem"},mh6:{marginLeft:"8rem",marginRight:"8rem"},mh7:{marginLeft:"16rem",marginRight:"16rem"},na1:{margin:"-.25rem"},na2:{margin:"-.5rem"},na3:{margin:"-1rem"},na4:{margin:"-2rem"},na5:{margin:"-4rem"},na6:{margin:"-8rem"},na7:{margin:"-16rem"},nl1:{marginLeft:"-.25rem"},nl2:{marginLeft:"-.5rem"},nl3:{marginLeft:"-1rem"},nl4:{marginLeft:"-2rem"},nl5:{marginLeft:"-4rem"},nl6:{marginLeft:"-8rem"},nl7:{marginLeft:"-16rem"},nr1:{marginRight:"-.25rem"},nr2:{marginRight:"-.5rem"},nr3:{marginRight:"-1rem"},nr4:{marginRight:"-2rem"},nr5:{marginRight:"-4rem"},nr6:{marginRight:"-8rem"},nr7:{marginRight:"-16rem"},nb1:{marginBottom:"-.25rem"},nb2:{marginBottom:"-.5rem"},nb3:{marginBottom:"-1rem"},nb4:{marginBottom:"-2rem"},nb5:{marginBottom:"-4rem"},nb6:{marginBottom:"-8rem"},nb7:{marginBottom:"-16rem"},nt1:{marginTop:"-.25rem"},nt2:{marginTop:"-.5rem"},nt3:{marginTop:"-1rem"},nt4:{marginTop:"-2rem"},nt5:{marginTop:"-4rem"},nt6:{marginTop:"-8rem"},nt7:{marginTop:"-16rem"},collapse:{borderCollapse:"collapse",borderSpacing:"0"},"striped--light-silver":{":nth-child(odd)":{backgroundColor:"#aaa"}},"striped--moon-gray":{":nth-child(odd)":{backgroundColor:"#ccc"}},"striped--light-gray":{":nth-child(odd)":{backgroundColor:"#eee"}},"striped--near-white":{":nth-child(odd)":{backgroundColor:"#f4f4f4"}},"stripe-light":{":nth-child(odd)":{backgroundColor:"rgba( 255, 255, 255, .1 )"}},"stripe-dark":{":nth-child(odd)":{backgroundColor:"rgba( 0, 0, 0, .1 )"}},strike:{textDecoration:"line-through"},underline:{textDecoration:"underline"},"no-underline":{textDecoration:"none"},tl:{textAlign:"left"},tr:{textAlign:"right"},tc:{textAlign:"center"},tj:{textAlign:"justify"},ttc:{textTransform:"capitalize"},ttl:{textTransform:"lowercase"},ttu:{textTransform:"uppercase"},ttn:{textTransform:"none"},"f-6":{fontSize:"6rem"},"f-headline":{fontSize:"6rem"},"f-5":{fontSize:"5rem"},"f-subheadline":{fontSize:"5rem"},f1:{fontSize:"3rem"},f2:{fontSize:"2.25rem"},f3:{fontSize:"1.5rem"},f4:{fontSize:"1.25rem"},f5:{fontSize:"1rem"},f6:{fontSize:".875rem"},f7:{fontSize:".75rem"},measure:{maxWidth:"30em"},"measure-wide":{maxWidth:"34em"},"measure-narrow":{maxWidth:"20em"},indent:{textIndent:"1em",marginTop:"0",marginBottom:"0"},"small-caps":{fontVariant:"small-caps"},truncate:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"overflow-container":{overflowY:"scroll"},center:{marginRight:"auto",marginLeft:"auto"},"mr-auto":{marginRight:"auto"},"ml-auto":{marginLeft:"auto"},clip:{position:"absolute",clip:"rect( 1px, 1px, 1px, 1px )"},"ws-normal":{whiteSpace:"normal"},nowrap:{whiteSpace:"nowrap"},"v-base":{verticalAlign:"baseline"},"v-mid":{verticalAlign:"middle"},"v-top":{verticalAlign:"top"},"v-btm":{verticalAlign:"bottom"},dim:{":active":{opacity:".8",transition:"opacity .15s ease-out"},":focus":{opacity:".5",transition:"opacity .15s ease-in"},":hover":{opacity:".5",transition:"opacity .15s ease-in"},opacity:"1",transition:"opacity .15s ease-in"},glow:{":focus":{opacity:"1",transition:"opacity .15s ease-in"},":hover":{opacity:"1",transition:"opacity .15s ease-in"},transition:"opacity .15s ease-in"},"underline-hover":{":focus":{textDecoration:"underline"},":hover":{textDecoration:"underline"}},grow:{":active":{webkitTransform:"scale( .90 )",transform:"scale( .90 )"},":focus":{webkitTransform:"scale( 1.05 )",transform:"scale( 1.05 )"},":hover":{webkitTransform:"scale( 1.05 )",transform:"scale( 1.05 )"},mozOsxFontSmoothing:"grayscale",webkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",webkitTransform:"translateZ( 0 )",transform:"translateZ( 0 )",transition:"transform .25s ease-out, -webkit-transform .25s ease-out"},"grow-large":{":active":{webkitTransform:"scale( .95 )",transform:"scale( .95 )"},":focus":{webkitTransform:"scale( 1.2 )",transform:"scale( 1.2 )"},":hover":{webkitTransform:"scale( 1.2 )",transform:"scale( 1.2 )"},mozOsxFontSmoothing:"grayscale",webkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",webkitTransform:"translateZ( 0 )",transform:"translateZ( 0 )",transition:"transform .25s ease-in-out, -webkit-transform .25s ease-in-out"},pointer:{":hover":{cursor:"pointer"}},"shadow-hover":{":focus::after":{opacity:"1"},":hover::after":{opacity:"1"},"::after":{content:"''",boxShadow:"0 0 16px 2px rgba( 0, 0, 0, .2 )",borderRadius:"inherit",opacity:"0",position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"-1",transition:"opacity .5s cubic-bezier( .165, .84, .44, 1 )"},cursor:"pointer",position:"relative",transition:"all .5s cubic-bezier( .165, .84, .44, 1 )"},"bg-animate":{":focus":{transition:"background-color .15s ease-in-out"},":hover":{transition:"background-color .15s ease-in-out"},transition:"background-color .15s ease-in-out"},"z-0":{zIndex:"0"},"z-1":{zIndex:"1"},"z-2":{zIndex:"2"},"z-3":{zIndex:"3"},"z-4":{zIndex:"4"},"z-5":{zIndex:"5"},"z-999":{zIndex:"999"},"z-9999":{zIndex:"9999"},"z-max":{zIndex:"2147483647"},"z-inherit":{zIndex:"inherit"},"z-initial":{zIndex:"initial"},"z-unset":{zIndex:"unset"},"debug-grid":{background:"transparent url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAFElEQVR4AWPAC97/9x0eCsAEPgwAVLshdpENIxcAAAAASUVORK5CYII= ) repeat top left"},"debug-grid-16":{background:"transparent url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMklEQVR4AWOgCLz/b0epAa6UGuBOqQHOQHLUgFEDnAbcBZ4UGwDOkiCnkIhdgNgNxAYAiYlD+8sEuo8AAAAASUVORK5CYII= ) repeat top left"},"debug-grid-8-solid":{background:"white url( data:image/gif;base64,R0lGODdhCAAIAPEAAADw/wDx/////wAAACwAAAAACAAIAAACDZQvgaeb/lxbAIKA8y0AOw== ) repeat top left"},"debug-grid-16-solid":{background:"white url( data:image/gif;base64,R0lGODdhEAAQAPEAAADw/wDx/xXy/////ywAAAAAEAAQAAACIZyPKckYDQFsb6ZqD85jZ2+BkwiRFKehhqQCQgDHcgwEBQA7 ) repeat top left"},"aspect-ratio-ns":"aspect-ratio","aspect-ratio--16x9-ns":"aspect-ratio--16x9","aspect-ratio--9x16-ns":"aspect-ratio--9x16","aspect-ratio--4x3-ns":"aspect-ratio--4x3","aspect-ratio--3x4-ns":"aspect-ratio--3x4","aspect-ratio--6x4-ns":"aspect-ratio--6x4","aspect-ratio--4x6-ns":"aspect-ratio--4x6","aspect-ratio--8x5-ns":"aspect-ratio--8x5","aspect-ratio--5x8-ns":"aspect-ratio--5x8","aspect-ratio--7x5-ns":"aspect-ratio--7x5","aspect-ratio--5x7-ns":"aspect-ratio--5x7","aspect-ratio--1x1-ns":"aspect-ratio--1x1","aspect-ratio--object-ns":"aspect-ratio--object","cover-ns":"cover","contain-ns":"contain","bg-center-ns":"bg-center","bg-top-ns":"bg-top","bg-right-ns":"bg-right","bg-bottom-ns":"bg-bottom","bg-left-ns":"bg-left","outline-ns":"outline","outline-transparent-ns":"outline-transparent","outline-0-ns":"outline-0","ba-ns":"ba","bt-ns":"bt","br-ns":"br","bb-ns":"bb","bl-ns":"bl","bn-ns":"bn","br0-ns":"br0","br1-ns":"br1","br2-ns":"br2","br3-ns":"br3","br4-ns":"br4","br-100-ns":"br-100","br-pill-ns":"br-pill","br--bottom-ns":"br--bottom","br--top-ns":"br--top","br--right-ns":"br--right","br--left-ns":"br--left","b--dotted-ns":"b--dotted","b--dashed-ns":"b--dashed","b--solid-ns":"b--solid","b--none-ns":"b--none","bw0-ns":"bw0","bw1-ns":"bw1","bw2-ns":"bw2","bw3-ns":"bw3","bw4-ns":"bw4","bw5-ns":"bw5","bt-0-ns":"bt-0","br-0-ns":"br-0","bb-0-ns":"bb-0","bl-0-ns":"bl-0","shadow-1-ns":"shadow-1","shadow-2-ns":"shadow-2","shadow-3-ns":"shadow-3","shadow-4-ns":"shadow-4","shadow-5-ns":"shadow-5","top-0-ns":"top-0","left-0-ns":"left-0","right-0-ns":"right-0","bottom-0-ns":"bottom-0","top-1-ns":"top-1","left-1-ns":"left-1","right-1-ns":"right-1","bottom-1-ns":"bottom-1","top-2-ns":"top-2","left-2-ns":"left-2","right-2-ns":"right-2","bottom-2-ns":"bottom-2","top--1-ns":"top--1","right--1-ns":"right--1","bottom--1-ns":"bottom--1","left--1-ns":"left--1","top--2-ns":"top--2","right--2-ns":"right--2","bottom--2-ns":"bottom--2","left--2-ns":"left--2","absolute--fill-ns":"absolute--fill","cl-ns":"cl","cr-ns":"cr","cb-ns":"cb","cn-ns":"cn","dn-ns":"dn","di-ns":"di","db-ns":"db","dib-ns":"dib","dit-ns":"dit","dt-ns":"dt","dtc-ns":"dtc","dt-row-ns":"dt-row","dt-row-group-ns":"dt-row-group","dt-column-ns":"dt-column","dt-column-group-ns":"dt-column-group","dt--fixed-ns":"dt--fixed","flex-ns":"flex","inline-flex-ns":"inline-flex","flex-auto-ns":"flex-auto","flex-none-ns":"flex-none","flex-column-ns":"flex-column","flex-row-ns":"flex-row","flex-wrap-ns":"flex-wrap","flex-nowrap-ns":"flex-nowrap","flex-wrap-reverse-ns":"flex-wrap-reverse","flex-column-reverse-ns":"flex-column-reverse","flex-row-reverse-ns":"flex-row-reverse","items-start-ns":"items-start","items-end-ns":"items-end","items-center-ns":"items-center","items-baseline-ns":"items-baseline","items-stretch-ns":"items-stretch","self-start-ns":"self-start","self-end-ns":"self-end","self-center-ns":"self-center","self-baseline-ns":"self-baseline","self-stretch-ns":"self-stretch","justify-start-ns":"justify-start","justify-end-ns":"justify-end","justify-center-ns":"justify-center","justify-between-ns":"justify-between","justify-around-ns":"justify-around","content-start-ns":"content-start","content-end-ns":"content-end","content-center-ns":"content-center","content-between-ns":"content-between","content-around-ns":"content-around","content-stretch-ns":"content-stretch","order-0-ns":"order-0","order-1-ns":"order-1","order-2-ns":"order-2","order-3-ns":"order-3","order-4-ns":"order-4","order-5-ns":"order-5","order-6-ns":"order-6","order-7-ns":"order-7","order-8-ns":"order-8","order-last-ns":"order-last","fl-ns":"fl","fr-ns":"fr","fn-ns":"fn","i-ns":"i","fs-normal-ns":"fs-normal","normal-ns":"normal","b-ns":"b","fw1-ns":"fw1","fw2-ns":"fw2","fw3-ns":"fw3","fw4-ns":"fw4","fw5-ns":"fw5","fw6-ns":"fw6","fw7-ns":"fw7","fw8-ns":"fw8","fw9-ns":"fw9","h1-ns":"h1","h2-ns":"h2","h3-ns":"h3","h4-ns":"h4","h5-ns":"h5","h-25-ns":"h-25","h-50-ns":"h-50","h-75-ns":"h-75","h-100-ns":"h-100","min-h-100-ns":"min-h-100","vh-25-ns":"vh-25","vh-50-ns":"vh-50","vh-75-ns":"vh-75","vh-100-ns":"vh-100","min-vh-100-ns":"min-vh-100","h-auto-ns":"h-auto","h-inherit-ns":"h-inherit","tracked-ns":"tracked","tracked-tight-ns":"tracked-tight","tracked-mega-ns":"tracked-mega","lh-solid-ns":"lh-solid","lh-title-ns":"lh-title","lh-copy-ns":"lh-copy","mw-100-ns":"mw-100","mw1-ns":"mw1","mw2-ns":"mw2","mw3-ns":"mw3","mw4-ns":"mw4","mw5-ns":"mw5","mw6-ns":"mw6","mw7-ns":"mw7","mw8-ns":"mw8","mw9-ns":"mw9","mw-none-ns":"mw-none","w1-ns":"w1","w2-ns":"w2","w3-ns":"w3","w4-ns":"w4","w5-ns":"w5","w-10-ns":"w-10","w-20-ns":"w-20","w-25-ns":"w-25","w-30-ns":"w-30","w-33-ns":"w-33","w-34-ns":"w-34","w-40-ns":"w-40","w-50-ns":"w-50","w-60-ns":"w-60","w-70-ns":"w-70","w-75-ns":"w-75","w-80-ns":"w-80","w-90-ns":"w-90","w-100-ns":"w-100","w-third-ns":"w-third","w-two-thirds-ns":"w-two-thirds","w-auto-ns":"w-auto","overflow-visible-ns":"overflow-visible","overflow-hidden-ns":"overflow-hidden","overflow-scroll-ns":"overflow-scroll","overflow-auto-ns":"overflow-auto","overflow-x-visible-ns":"overflow-x-visible","overflow-x-hidden-ns":"overflow-x-hidden","overflow-x-scroll-ns":"overflow-x-scroll","overflow-x-auto-ns":"overflow-x-auto","overflow-y-visible-ns":"overflow-y-visible","overflow-y-hidden-ns":"overflow-y-hidden","overflow-y-scroll-ns":"overflow-y-scroll","overflow-y-auto-ns":"overflow-y-auto","static-ns":"static","relative-ns":"relative","absolute-ns":"absolute","fixed-ns":"fixed","rotate-45-ns":"rotate-45","rotate-90-ns":"rotate-90","rotate-135-ns":"rotate-135","rotate-180-ns":"rotate-180","rotate-225-ns":"rotate-225","rotate-270-ns":"rotate-270","rotate-315-ns":"rotate-315","pa0-ns":"pa0","pa1-ns":"pa1","pa2-ns":"pa2","pa3-ns":"pa3","pa4-ns":"pa4","pa5-ns":"pa5","pa6-ns":"pa6","pa7-ns":"pa7","pl0-ns":"pl0","pl1-ns":"pl1","pl2-ns":"pl2","pl3-ns":"pl3","pl4-ns":"pl4","pl5-ns":"pl5","pl6-ns":"pl6","pl7-ns":"pl7","pr0-ns":"pr0","pr1-ns":"pr1","pr2-ns":"pr2","pr3-ns":"pr3","pr4-ns":"pr4","pr5-ns":"pr5","pr6-ns":"pr6","pr7-ns":"pr7","pb0-ns":"pb0","pb1-ns":"pb1","pb2-ns":"pb2","pb3-ns":"pb3","pb4-ns":"pb4","pb5-ns":"pb5","pb6-ns":"pb6","pb7-ns":"pb7","pt0-ns":"pt0","pt1-ns":"pt1","pt2-ns":"pt2","pt3-ns":"pt3","pt4-ns":"pt4","pt5-ns":"pt5","pt6-ns":"pt6","pt7-ns":"pt7","pv0-ns":"pv0","pv1-ns":"pv1","pv2-ns":"pv2","pv3-ns":"pv3","pv4-ns":"pv4","pv5-ns":"pv5","pv6-ns":"pv6","pv7-ns":"pv7","ph0-ns":"ph0","ph1-ns":"ph1","ph2-ns":"ph2","ph3-ns":"ph3","ph4-ns":"ph4","ph5-ns":"ph5","ph6-ns":"ph6","ph7-ns":"ph7","ma0-ns":"ma0","ma1-ns":"ma1","ma2-ns":"ma2","ma3-ns":"ma3","ma4-ns":"ma4","ma5-ns":"ma5","ma6-ns":"ma6","ma7-ns":"ma7","ml0-ns":"ml0","ml1-ns":"ml1","ml2-ns":"ml2","ml3-ns":"ml3","ml4-ns":"ml4","ml5-ns":"ml5","ml6-ns":"ml6","ml7-ns":"ml7","mr0-ns":"mr0","mr1-ns":"mr1","mr2-ns":"mr2","mr3-ns":"mr3","mr4-ns":"mr4","mr5-ns":"mr5","mr6-ns":"mr6","mr7-ns":"mr7","mb0-ns":"mb0","mb1-ns":"mb1","mb2-ns":"mb2","mb3-ns":"mb3","mb4-ns":"mb4","mb5-ns":"mb5","mb6-ns":"mb6","mb7-ns":"mb7","mt0-ns":"mt0","mt1-ns":"mt1","mt2-ns":"mt2","mt3-ns":"mt3","mt4-ns":"mt4","mt5-ns":"mt5","mt6-ns":"mt6","mt7-ns":"mt7","mv0-ns":"mv0","mv1-ns":"mv1","mv2-ns":"mv2","mv3-ns":"mv3","mv4-ns":"mv4","mv5-ns":"mv5","mv6-ns":"mv6","mv7-ns":"mv7","mh0-ns":"mh0","mh1-ns":"mh1","mh2-ns":"mh2","mh3-ns":"mh3","mh4-ns":"mh4","mh5-ns":"mh5","mh6-ns":"mh6","mh7-ns":"mh7","na1-ns":"na1","na2-ns":"na2","na3-ns":"na3","na4-ns":"na4","na5-ns":"na5","na6-ns":"na6","na7-ns":"na7","nl1-ns":"nl1","nl2-ns":"nl2","nl3-ns":"nl3","nl4-ns":"nl4","nl5-ns":"nl5","nl6-ns":"nl6","nl7-ns":"nl7","nr1-ns":"nr1","nr2-ns":"nr2","nr3-ns":"nr3","nr4-ns":"nr4","nr5-ns":"nr5","nr6-ns":"nr6","nr7-ns":"nr7","nb1-ns":"nb1","nb2-ns":"nb2","nb3-ns":"nb3","nb4-ns":"nb4","nb5-ns":"nb5","nb6-ns":"nb6","nb7-ns":"nb7","nt1-ns":"nt1","nt2-ns":"nt2","nt3-ns":"nt3","nt4-ns":"nt4","nt5-ns":"nt5","nt6-ns":"nt6","nt7-ns":"nt7","strike-ns":"strike","underline-ns":"underline","no-underline-ns":"no-underline","tl-ns":"tl","tr-ns":"tr","tc-ns":"tc","tj-ns":"tj","ttc-ns":"ttc","ttl-ns":"ttl","ttu-ns":"ttu","ttn-ns":"ttn","f-6-ns":"f-6","f-headline-ns":"f-headline","f-5-ns":"f-5","f-subheadline-ns":"f-subheadline","f1-ns":"f1","f2-ns":"f2","f3-ns":"f3","f4-ns":"f4","f5-ns":"f5","f6-ns":"f6","f7-ns":"f7","measure-ns":"measure","measure-wide-ns":"measure-wide","measure-narrow-ns":"measure-narrow","indent-ns":"indent","small-caps-ns":"small-caps","truncate-ns":"truncate","center-ns":"center","mr-auto-ns":"mr-auto","ml-auto-ns":"ml-auto","clip-ns":"clip","ws-normal-ns":"ws-normal","nowrap-ns":"nowrap","pre-ns":{"@media screen and (min-width: 30em)":{whiteSpace:"pre"}},"v-base-ns":"v-base","v-mid-ns":"v-mid","v-top-ns":"v-top","v-btm-ns":"v-btm","aspect-ratio-m":"aspect-ratio","aspect-ratio--16x9-m":"aspect-ratio--16x9","aspect-ratio--9x16-m":"aspect-ratio--9x16","aspect-ratio--4x3-m":"aspect-ratio--4x3","aspect-ratio--3x4-m":"aspect-ratio--3x4","aspect-ratio--6x4-m":"aspect-ratio--6x4","aspect-ratio--4x6-m":"aspect-ratio--4x6","aspect-ratio--8x5-m":"aspect-ratio--8x5","aspect-ratio--5x8-m":"aspect-ratio--5x8","aspect-ratio--7x5-m":"aspect-ratio--7x5","aspect-ratio--5x7-m":"aspect-ratio--5x7","aspect-ratio--1x1-m":"aspect-ratio--1x1","aspect-ratio--object-m":"aspect-ratio--object","cover-m":"cover","contain-m":"contain","bg-center-m":"bg-center","bg-top-m":"bg-top","bg-right-m":"bg-right","bg-bottom-m":"bg-bottom","bg-left-m":"bg-left","outline-m":"outline","outline-transparent-m":"outline-transparent","outline-0-m":"outline-0","ba-m":"ba","bt-m":"bt","br-m":"br","bb-m":"bb","bl-m":"bl","bn-m":"bn","br0-m":"br0","br1-m":"br1","br2-m":"br2","br3-m":"br3","br4-m":"br4","br-100-m":"br-100","br-pill-m":"br-pill","br--bottom-m":"br--bottom","br--top-m":"br--top","br--right-m":"br--right","br--left-m":"br--left","b--dotted-m":"b--dotted","b--dashed-m":"b--dashed","b--solid-m":"b--solid","b--none-m":"b--none","bw0-m":"bw0","bw1-m":"bw1","bw2-m":"bw2","bw3-m":"bw3","bw4-m":"bw4","bw5-m":"bw5","bt-0-m":"bt-0","br-0-m":"br-0","bb-0-m":"bb-0","bl-0-m":"bl-0","shadow-1-m":"shadow-1","shadow-2-m":"shadow-2","shadow-3-m":"shadow-3","shadow-4-m":"shadow-4","shadow-5-m":"shadow-5","top-0-m":"top-0","left-0-m":"left-0","right-0-m":"right-0","bottom-0-m":"bottom-0","top-1-m":"top-1","left-1-m":"left-1","right-1-m":"right-1","bottom-1-m":"bottom-1","top-2-m":"top-2","left-2-m":"left-2","right-2-m":"right-2","bottom-2-m":"bottom-2","top--1-m":"top--1","right--1-m":"right--1","bottom--1-m":"bottom--1","left--1-m":"left--1","top--2-m":"top--2","right--2-m":"right--2","bottom--2-m":"bottom--2","left--2-m":"left--2","absolute--fill-m":"absolute--fill","cl-m":"cl","cr-m":"cr","cb-m":"cb","cn-m":"cn","dn-m":"dn","di-m":"di","db-m":"db","dib-m":"dib","dit-m":"dit","dt-m":"dt","dtc-m":"dtc","dt-row-m":"dt-row","dt-row-group-m":"dt-row-group","dt-column-m":"dt-column","dt-column-group-m":"dt-column-group","dt--fixed-m":"dt--fixed","flex-m":"flex","inline-flex-m":"inline-flex","flex-auto-m":"flex-auto","flex-none-m":"flex-none","flex-column-m":"flex-column","flex-row-m":"flex-row","flex-wrap-m":"flex-wrap","flex-nowrap-m":"flex-nowrap","flex-wrap-reverse-m":"flex-wrap-reverse","flex-column-reverse-m":"flex-column-reverse","flex-row-reverse-m":"flex-row-reverse","items-start-m":"items-start","items-end-m":"items-end","items-center-m":"items-center","items-baseline-m":"items-baseline","items-stretch-m":"items-stretch","self-start-m":"self-start","self-end-m":"self-end","self-center-m":"self-center","self-baseline-m":"self-baseline","self-stretch-m":"self-stretch","justify-start-m":"justify-start","justify-end-m":"justify-end","justify-center-m":"justify-center","justify-between-m":"justify-between","justify-around-m":"justify-around","content-start-m":"content-start","content-end-m":"content-end","content-center-m":"content-center","content-between-m":"content-between","content-around-m":"content-around","content-stretch-m":"content-stretch","order-0-m":"order-0","order-1-m":"order-1","order-2-m":"order-2","order-3-m":"order-3","order-4-m":"order-4","order-5-m":"order-5","order-6-m":"order-6","order-7-m":"order-7","order-8-m":"order-8","order-last-m":"order-last","fl-m":"fl","fr-m":"fr","fn-m":"fn","i-m":"i","fs-normal-m":"fs-normal","normal-m":"normal","b-m":"b","fw1-m":"fw1","fw2-m":"fw2","fw3-m":"fw3","fw4-m":"fw4","fw5-m":"fw5","fw6-m":"fw6","fw7-m":"fw7","fw8-m":"fw8","fw9-m":"fw9","h1-m":"h1","h2-m":"h2","h3-m":"h3","h4-m":"h4","h5-m":"h5","h-25-m":"h-25","h-50-m":"h-50","h-75-m":"h-75","h-100-m":"h-100","min-h-100-m":"min-h-100","vh-25-m":"vh-25","vh-50-m":"vh-50","vh-75-m":"vh-75","vh-100-m":"vh-100","min-vh-100-m":"min-vh-100","h-auto-m":"h-auto","h-inherit-m":"h-inherit","tracked-m":"tracked","tracked-tight-m":"tracked-tight","tracked-mega-m":"tracked-mega","lh-solid-m":"lh-solid","lh-title-m":"lh-title","lh-copy-m":"lh-copy","mw-100-m":"mw-100","mw1-m":"mw1","mw2-m":"mw2","mw3-m":"mw3","mw4-m":"mw4","mw5-m":"mw5","mw6-m":"mw6","mw7-m":"mw7","mw8-m":"mw8","mw9-m":"mw9","mw-none-m":"mw-none","w1-m":"w1","w2-m":"w2","w3-m":"w3","w4-m":"w4","w5-m":"w5","w-10-m":"w-10","w-20-m":"w-20","w-25-m":"w-25","w-30-m":"w-30","w-33-m":"w-33","w-34-m":"w-34","w-40-m":"w-40","w-50-m":"w-50","w-60-m":"w-60","w-70-m":"w-70","w-75-m":"w-75","w-80-m":"w-80","w-90-m":"w-90","w-100-m":"w-100","w-third-m":"w-third","w-two-thirds-m":"w-two-thirds","w-auto-m":"w-auto","overflow-visible-m":"overflow-visible","overflow-hidden-m":"overflow-hidden","overflow-scroll-m":"overflow-scroll","overflow-auto-m":"overflow-auto","overflow-x-visible-m":"overflow-x-visible","overflow-x-hidden-m":"overflow-x-hidden","overflow-x-scroll-m":"overflow-x-scroll","overflow-x-auto-m":"overflow-x-auto","overflow-y-visible-m":"overflow-y-visible","overflow-y-hidden-m":"overflow-y-hidden","overflow-y-scroll-m":"overflow-y-scroll","overflow-y-auto-m":"overflow-y-auto","static-m":"static","relative-m":"relative","absolute-m":"absolute","fixed-m":"fixed","rotate-45-m":"rotate-45","rotate-90-m":"rotate-90","rotate-135-m":"rotate-135","rotate-180-m":"rotate-180","rotate-225-m":"rotate-225","rotate-270-m":"rotate-270","rotate-315-m":"rotate-315","pa0-m":"pa0","pa1-m":"pa1","pa2-m":"pa2","pa3-m":"pa3","pa4-m":"pa4","pa5-m":"pa5","pa6-m":"pa6","pa7-m":"pa7","pl0-m":"pl0","pl1-m":"pl1","pl2-m":"pl2","pl3-m":"pl3","pl4-m":"pl4","pl5-m":"pl5","pl6-m":"pl6","pl7-m":"pl7","pr0-m":"pr0","pr1-m":"pr1","pr2-m":"pr2","pr3-m":"pr3","pr4-m":"pr4","pr5-m":"pr5","pr6-m":"pr6","pr7-m":"pr7","pb0-m":"pb0","pb1-m":"pb1","pb2-m":"pb2","pb3-m":"pb3","pb4-m":"pb4","pb5-m":"pb5","pb6-m":"pb6","pb7-m":"pb7","pt0-m":"pt0","pt1-m":"pt1","pt2-m":"pt2","pt3-m":"pt3","pt4-m":"pt4","pt5-m":"pt5","pt6-m":"pt6","pt7-m":"pt7","pv0-m":"pv0","pv1-m":"pv1","pv2-m":"pv2","pv3-m":"pv3","pv4-m":"pv4","pv5-m":"pv5","pv6-m":"pv6","pv7-m":"pv7","ph0-m":"ph0","ph1-m":"ph1","ph2-m":"ph2","ph3-m":"ph3","ph4-m":"ph4","ph5-m":"ph5","ph6-m":"ph6","ph7-m":"ph7","ma0-m":"ma0","ma1-m":"ma1","ma2-m":"ma2","ma3-m":"ma3","ma4-m":"ma4","ma5-m":"ma5","ma6-m":"ma6","ma7-m":"ma7","ml0-m":"ml0","ml1-m":"ml1","ml2-m":"ml2","ml3-m":"ml3","ml4-m":"ml4","ml5-m":"ml5","ml6-m":"ml6","ml7-m":"ml7","mr0-m":"mr0","mr1-m":"mr1","mr2-m":"mr2","mr3-m":"mr3","mr4-m":"mr4","mr5-m":"mr5","mr6-m":"mr6","mr7-m":"mr7","mb0-m":"mb0","mb1-m":"mb1","mb2-m":"mb2","mb3-m":"mb3","mb4-m":"mb4","mb5-m":"mb5","mb6-m":"mb6","mb7-m":"mb7","mt0-m":"mt0","mt1-m":"mt1","mt2-m":"mt2","mt3-m":"mt3","mt4-m":"mt4","mt5-m":"mt5","mt6-m":"mt6","mt7-m":"mt7","mv0-m":"mv0","mv1-m":"mv1","mv2-m":"mv2","mv3-m":"mv3","mv4-m":"mv4","mv5-m":"mv5","mv6-m":"mv6","mv7-m":"mv7","mh0-m":"mh0","mh1-m":"mh1","mh2-m":"mh2","mh3-m":"mh3","mh4-m":"mh4","mh5-m":"mh5","mh6-m":"mh6","mh7-m":"mh7","na1-m":"na1","na2-m":"na2","na3-m":"na3","na4-m":"na4","na5-m":"na5","na6-m":"na6","na7-m":"na7","nl1-m":"nl1","nl2-m":"nl2","nl3-m":"nl3","nl4-m":"nl4","nl5-m":"nl5","nl6-m":"nl6","nl7-m":"nl7","nr1-m":"nr1","nr2-m":"nr2","nr3-m":"nr3","nr4-m":"nr4","nr5-m":"nr5","nr6-m":"nr6","nr7-m":"nr7","nb1-m":"nb1","nb2-m":"nb2","nb3-m":"nb3","nb4-m":"nb4","nb5-m":"nb5","nb6-m":"nb6","nb7-m":"nb7","nt1-m":"nt1","nt2-m":"nt2","nt3-m":"nt3","nt4-m":"nt4","nt5-m":"nt5","nt6-m":"nt6","nt7-m":"nt7","strike-m":"strike","underline-m":"underline","no-underline-m":"no-underline","tl-m":"tl","tr-m":"tr","tc-m":"tc","tj-m":"tj","ttc-m":"ttc","ttl-m":"ttl","ttu-m":"ttu","ttn-m":"ttn","f-6-m":"f-6","f-headline-m":"f-headline","f-5-m":"f-5","f-subheadline-m":"f-subheadline","f1-m":"f1","f2-m":"f2","f3-m":"f3","f4-m":"f4","f5-m":"f5","f6-m":"f6","f7-m":"f7","measure-m":"measure","measure-wide-m":"measure-wide","measure-narrow-m":"measure-narrow","indent-m":"indent","small-caps-m":"small-caps","truncate-m":"truncate","center-m":"center","mr-auto-m":"mr-auto","ml-auto-m":"ml-auto","clip-m":"clip","ws-normal-m":"ws-normal","nowrap-m":"nowrap","pre-m":{"@media screen and (min-width: 30em) and (max-width: 60em)":{whiteSpace:"pre"}},"v-base-m":"v-base","v-mid-m":"v-mid","v-top-m":"v-top","v-btm-m":"v-btm","aspect-ratio-l":"aspect-ratio","aspect-ratio--16x9-l":"aspect-ratio--16x9","aspect-ratio--9x16-l":"aspect-ratio--9x16","aspect-ratio--4x3-l":"aspect-ratio--4x3","aspect-ratio--3x4-l":"aspect-ratio--3x4","aspect-ratio--6x4-l":"aspect-ratio--6x4","aspect-ratio--4x6-l":"aspect-ratio--4x6","aspect-ratio--8x5-l":"aspect-ratio--8x5","aspect-ratio--5x8-l":"aspect-ratio--5x8","aspect-ratio--7x5-l":"aspect-ratio--7x5","aspect-ratio--5x7-l":"aspect-ratio--5x7","aspect-ratio--1x1-l":"aspect-ratio--1x1","aspect-ratio--object-l":"aspect-ratio--object","cover-l":"cover","contain-l":"contain","bg-center-l":"bg-center","bg-top-l":"bg-top","bg-right-l":"bg-right","bg-bottom-l":"bg-bottom","bg-left-l":"bg-left","outline-l":"outline","outline-transparent-l":"outline-transparent","outline-0-l":"outline-0","ba-l":"ba","bt-l":"bt","br-l":"br","bb-l":"bb","bl-l":"bl","bn-l":"bn","br0-l":"br0","br1-l":"br1","br2-l":"br2","br3-l":"br3","br4-l":"br4","br-100-l":"br-100","br-pill-l":"br-pill","br--bottom-l":"br--bottom","br--top-l":"br--top","br--right-l":"br--right","br--left-l":"br--left","b--dotted-l":"b--dotted","b--dashed-l":"b--dashed","b--solid-l":"b--solid","b--none-l":"b--none","bw0-l":"bw0","bw1-l":"bw1","bw2-l":"bw2","bw3-l":"bw3","bw4-l":"bw4","bw5-l":"bw5","bt-0-l":"bt-0","br-0-l":"br-0","bb-0-l":"bb-0","bl-0-l":"bl-0","shadow-1-l":"shadow-1","shadow-2-l":"shadow-2","shadow-3-l":"shadow-3","shadow-4-l":"shadow-4","shadow-5-l":"shadow-5","top-0-l":"top-0","left-0-l":"left-0","right-0-l":"right-0","bottom-0-l":"bottom-0","top-1-l":"top-1","left-1-l":"left-1","right-1-l":"right-1","bottom-1-l":"bottom-1","top-2-l":"top-2","left-2-l":"left-2","right-2-l":"right-2","bottom-2-l":"bottom-2","top--1-l":"top--1","right--1-l":"right--1","bottom--1-l":"bottom--1","left--1-l":"left--1","top--2-l":"top--2","right--2-l":"right--2","bottom--2-l":"bottom--2","left--2-l":"left--2","absolute--fill-l":"absolute--fill","cl-l":"cl","cr-l":"cr","cb-l":"cb","cn-l":"cn","dn-l":"dn","di-l":"di","db-l":"db","dib-l":"dib","dit-l":"dit","dt-l":"dt","dtc-l":"dtc","dt-row-l":"dt-row","dt-row-group-l":"dt-row-group","dt-column-l":"dt-column","dt-column-group-l":"dt-column-group","dt--fixed-l":"dt--fixed","flex-l":"flex","inline-flex-l":"inline-flex","flex-auto-l":"flex-auto","flex-none-l":"flex-none","flex-column-l":"flex-column","flex-row-l":"flex-row","flex-wrap-l":"flex-wrap","flex-nowrap-l":"flex-nowrap","flex-wrap-reverse-l":"flex-wrap-reverse","flex-column-reverse-l":"flex-column-reverse","flex-row-reverse-l":"flex-row-reverse","items-start-l":"items-start","items-end-l":"items-end","items-center-l":"items-center","items-baseline-l":"items-baseline","items-stretch-l":"items-stretch","self-start-l":"self-start","self-end-l":"self-end","self-center-l":"self-center","self-baseline-l":"self-baseline","self-stretch-l":"self-stretch","justify-start-l":"justify-start","justify-end-l":"justify-end","justify-center-l":"justify-center","justify-between-l":"justify-between","justify-around-l":"justify-around","content-start-l":"content-start","content-end-l":"content-end","content-center-l":"content-center","content-between-l":"content-between","content-around-l":"content-around","content-stretch-l":"content-stretch","order-0-l":"order-0","order-1-l":"order-1","order-2-l":"order-2","order-3-l":"order-3","order-4-l":"order-4","order-5-l":"order-5","order-6-l":"order-6","order-7-l":"order-7","order-8-l":"order-8","order-last-l":"order-last","fl-l":"fl","fr-l":"fr","fn-l":"fn","i-l":"i","fs-normal-l":"fs-normal","normal-l":"normal","b-l":"b","fw1-l":"fw1","fw2-l":"fw2","fw3-l":"fw3","fw4-l":"fw4","fw5-l":"fw5","fw6-l":"fw6","fw7-l":"fw7","fw8-l":"fw8","fw9-l":"fw9","h1-l":"h1","h2-l":"h2","h3-l":"h3","h4-l":"h4","h5-l":"h5","h-25-l":"h-25","h-50-l":"h-50","h-75-l":"h-75","h-100-l":"h-100","min-h-100-l":"min-h-100","vh-25-l":"vh-25","vh-50-l":"vh-50","vh-75-l":"vh-75","vh-100-l":"vh-100","min-vh-100-l":"min-vh-100","h-auto-l":"h-auto","h-inherit-l":"h-inherit","tracked-l":"tracked","tracked-tight-l":"tracked-tight","tracked-mega-l":"tracked-mega","lh-solid-l":"lh-solid","lh-title-l":"lh-title","lh-copy-l":"lh-copy","mw-100-l":"mw-100","mw1-l":"mw1","mw2-l":"mw2","mw3-l":"mw3","mw4-l":"mw4","mw5-l":"mw5","mw6-l":"mw6","mw7-l":"mw7","mw8-l":"mw8","mw9-l":"mw9","mw-none-l":"mw-none","w1-l":"w1","w2-l":"w2","w3-l":"w3","w4-l":"w4","w5-l":"w5","w-10-l":"w-10","w-20-l":"w-20","w-25-l":"w-25","w-30-l":"w-30","w-33-l":"w-33","w-34-l":"w-34","w-40-l":"w-40","w-50-l":"w-50","w-60-l":"w-60","w-70-l":"w-70","w-75-l":"w-75","w-80-l":"w-80","w-90-l":"w-90","w-100-l":"w-100","w-third-l":"w-third","w-two-thirds-l":"w-two-thirds","w-auto-l":"w-auto","overflow-visible-l":"overflow-visible","overflow-hidden-l":"overflow-hidden","overflow-scroll-l":"overflow-scroll","overflow-auto-l":"overflow-auto","overflow-x-visible-l":"overflow-x-visible","overflow-x-hidden-l":"overflow-x-hidden","overflow-x-scroll-l":"overflow-x-scroll","overflow-x-auto-l":"overflow-x-auto","overflow-y-visible-l":"overflow-y-visible","overflow-y-hidden-l":"overflow-y-hidden","overflow-y-scroll-l":"overflow-y-scroll","overflow-y-auto-l":"overflow-y-auto","static-l":"static","relative-l":"relative","absolute-l":"absolute","fixed-l":"fixed","rotate-45-l":"rotate-45","rotate-90-l":"rotate-90","rotate-135-l":"rotate-135","rotate-180-l":"rotate-180","rotate-225-l":"rotate-225","rotate-270-l":"rotate-270","rotate-315-l":"rotate-315","pa0-l":"pa0","pa1-l":"pa1","pa2-l":"pa2","pa3-l":"pa3","pa4-l":"pa4","pa5-l":"pa5","pa6-l":"pa6","pa7-l":"pa7","pl0-l":"pl0","pl1-l":"pl1","pl2-l":"pl2","pl3-l":"pl3","pl4-l":"pl4","pl5-l":"pl5","pl6-l":"pl6","pl7-l":"pl7","pr0-l":"pr0","pr1-l":"pr1","pr2-l":"pr2","pr3-l":"pr3","pr4-l":"pr4","pr5-l":"pr5","pr6-l":"pr6","pr7-l":"pr7","pb0-l":"pb0","pb1-l":"pb1","pb2-l":"pb2","pb3-l":"pb3","pb4-l":"pb4","pb5-l":"pb5","pb6-l":"pb6","pb7-l":"pb7","pt0-l":"pt0","pt1-l":"pt1","pt2-l":"pt2","pt3-l":"pt3","pt4-l":"pt4","pt5-l":"pt5","pt6-l":"pt6","pt7-l":"pt7","pv0-l":"pv0","pv1-l":"pv1","pv2-l":"pv2","pv3-l":"pv3","pv4-l":"pv4","pv5-l":"pv5","pv6-l":"pv6","pv7-l":"pv7","ph0-l":"ph0","ph1-l":"ph1","ph2-l":"ph2","ph3-l":"ph3","ph4-l":"ph4","ph5-l":"ph5","ph6-l":"ph6","ph7-l":"ph7","ma0-l":"ma0","ma1-l":"ma1","ma2-l":"ma2","ma3-l":"ma3","ma4-l":"ma4","ma5-l":"ma5","ma6-l":"ma6","ma7-l":"ma7","ml0-l":"ml0","ml1-l":"ml1","ml2-l":"ml2","ml3-l":"ml3","ml4-l":"ml4","ml5-l":"ml5","ml6-l":"ml6","ml7-l":"ml7","mr0-l":"mr0","mr1-l":"mr1","mr2-l":"mr2","mr3-l":"mr3","mr4-l":"mr4","mr5-l":"mr5","mr6-l":"mr6","mr7-l":"mr7","mb0-l":"mb0","mb1-l":"mb1","mb2-l":"mb2","mb3-l":"mb3","mb4-l":"mb4","mb5-l":"mb5","mb6-l":"mb6","mb7-l":"mb7","mt0-l":"mt0","mt1-l":"mt1","mt2-l":"mt2","mt3-l":"mt3","mt4-l":"mt4","mt5-l":"mt5","mt6-l":"mt6","mt7-l":"mt7","mv0-l":"mv0","mv1-l":"mv1","mv2-l":"mv2","mv3-l":"mv3","mv4-l":"mv4","mv5-l":"mv5","mv6-l":"mv6","mv7-l":"mv7","mh0-l":"mh0","mh1-l":"mh1","mh2-l":"mh2","mh3-l":"mh3","mh4-l":"mh4","mh5-l":"mh5","mh6-l":"mh6","mh7-l":"mh7","na1-l":"na1","na2-l":"na2","na3-l":"na3","na4-l":"na4","na5-l":"na5","na6-l":"na6","na7-l":"na7","nl1-l":"nl1","nl2-l":"nl2","nl3-l":"nl3","nl4-l":"nl4","nl5-l":"nl5","nl6-l":"nl6","nl7-l":"nl7","nr1-l":"nr1","nr2-l":"nr2","nr3-l":"nr3","nr4-l":"nr4","nr5-l":"nr5","nr6-l":"nr6","nr7-l":"nr7","nb1-l":"nb1","nb2-l":"nb2","nb3-l":"nb3","nb4-l":"nb4","nb5-l":"nb5","nb6-l":"nb6","nb7-l":"nb7","nt1-l":"nt1","nt2-l":"nt2","nt3-l":"nt3","nt4-l":"nt4","nt5-l":"nt5","nt6-l":"nt6","nt7-l":"nt7","strike-l":"strike","underline-l":"underline","no-underline-l":"no-underline","tl-l":"tl","tr-l":"tr","tc-l":"tc","tj-l":"tj","ttc-l":"ttc","ttl-l":"ttl","ttu-l":"ttu","ttn-l":"ttn","f-6-l":"f-6","f-headline-l":"f-headline","f-5-l":"f-5","f-subheadline-l":"f-subheadline","f1-l":"f1","f2-l":"f2","f3-l":"f3","f4-l":"f4","f5-l":"f5","f6-l":"f6","f7-l":"f7","measure-l":"measure","measure-wide-l":"measure-wide","measure-narrow-l":"measure-narrow","indent-l":"indent","small-caps-l":"small-caps","truncate-l":"truncate","center-l":"center","mr-auto-l":"mr-auto","ml-auto-l":"ml-auto","clip-l":"clip","ws-normal-l":"ws-normal","nowrap-l":"nowrap","pre-l":{"@media screen and (min-width: 60em)":{whiteSpace:"pre"}},"v-base-l":"v-base","v-mid-l":"v-mid","v-top-l":"v-top","v-btm-l":"v-btm",ns:"@media screen and (min-width: 30em)",m:"@media screen and (min-width: 30em) and (max-width: 60em)",l:"@media screen and (min-width: 60em)"}},function(t,e,n){var r=n(280),i=n(271),o=n(258),a=n(604),s=n(29);t.exports=function(t,e,n){var u=s(t)?r:a,l=arguments.length<3;return u(t,o(e,4),n,l,i)}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(66)),a=n(38);e.renderConfusionMatrix=function(t,e,n={}){return r(this,void 0,void 0,function*(){const r=Object.assign({},s,n),i=a.getDrawArea(e),u=[],l=t.values,c=t.labels;let f=!0;for(let t=0;t<l.length;t++)for(let e=0;e<l[t].length;e++){const n=c?c[t]:`Class ${t}`,i=c?c[e]:`Class ${e}`,o=l[t][e];t!==e||r.shadeDiagonal?(u.push({label:n,prediction:i,count:o}),0!==o&&(f=!1)):u.push({label:n,prediction:i,diagCount:o,noFill:!0})}if(!r.shadeDiagonal&&f)for(const t of u)!0===t.noFill&&(t.noFill=!1,t.count=t.diagCount);return yield o.default(i,{width:r.width||i.clientWidth,height:r.height||i.clientHeight,padding:5,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:r.fontSize,titleFontSize:r.fontSize},text:{fontSize:r.fontSize},legend:{labelFontSize:r.fontSize,titleFontSize:r.fontSize}},data:{values:u},encoding:{x:{field:"prediction",type:"ordinal",scale:{domain:c}},y:{field:"label",type:"ordinal",scale:{domain:c}}},layer:[{mark:{type:"rect"},encoding:{fill:{condition:{test:'datum["noFill"] == true',value:"white"},field:"count",type:"quantitative",scale:{range:["#f7fbff","#4292c6"]}},tooltip:{condition:{test:'datum["noFill"] == true',field:"diagCount",type:"nominal"},field:"count",type:"nominal"}}},{mark:{type:"text",baseline:"middle"},encoding:{text:{condition:{test:'datum["noFill"] == true',field:"diagCount",type:"nominal"},field:"count",type:"nominal"}}}]},{actions:!1,mode:"vega-lite",defaultStyle:!1}),Promise.resolve()})};const s={xLabel:null,yLabel:null,xType:"nominal",yType:"nominal",shadeDiagonal:!0,fontSize:12}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(66)),a=n(38);e.renderLinechart=function(t,e,n={}){return r(this,void 0,void 0,function*(){let r=t.values;const i=null==t.series?[]:t.series,u=[];(r=Array.isArray(r[0])?r:[r]).forEach((t,e)=>{const n=null!=i[e]?i[e]:`Series ${e+1}`,r=t.map(t=>Object.assign({},t,{series:n}));u.push(...r)});const l=a.getDrawArea(e),c=Object.assign({},s,n),f={x:{field:"x",type:c.xType,title:c.xLabel},y:{field:"y",type:c.yType,title:c.yLabel,scale:c.zoomToFit?{zero:!1}:null!=c.yAxisDomain?{domain:c.yAxisDomain}:void 0},color:{field:"series",type:"nominal"}};let p;null!=c.yAxisDomain&&(p={filter:{field:"y",range:c.yAxisDomain}});const d={width:c.width||l.clientWidth,height:c.height||l.clientHeight,padding:5,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:c.fontSize,titleFontSize:c.fontSize},text:{fontSize:c.fontSize},legend:{labelFontSize:c.fontSize,titleFontSize:c.fontSize}},data:{values:u},layer:[{mark:{type:"line",clip:!0},encoding:f},{mark:{type:"point"},transform:c.yAxisDomain?[p]:void 0,selection:{nearestPoint:{type:"single",on:"mouseover",nearest:!0,empty:"none",encodings:["x"]}},encoding:Object.assign({},f,{opacity:{value:0,condition:{selection:"nearestPoint",value:1}}})},{transform:[{filter:{selection:"nearestPoint"}},p].filter(Boolean),mark:{type:"text",align:"left",dx:5,dy:-5,color:"black"},encoding:Object.assign({},f,{text:{type:c.xType,field:"y",format:".6f"},color:void 0})},{transform:[{filter:{selection:"nearestPoint"}}],mark:{type:"rule",color:"gray"},encoding:{x:{type:c.xType,field:"x"}}}]};return yield o.default(l,d,{actions:!1,mode:"vega-lite",defaultStyle:!1}),Promise.resolve()})};const s={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(633),n(4),n(19)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./slide-gesture"),r=t("../util/util"),i=t("../util/dom"),o=function(t){function e(e,n,i){void 0===i&&(i={});var o=this;return r.defaults(i,{edge:"start",maxEdgeStart:50}),(o=t.call(this,e,n,i)||this).setEdges(i.edge),o.maxEdgeStart=i.maxEdgeStart,o}return a(e,t),e.prototype.setEdges=function(t){var e=this.plt.isRTL;this.edges=t.split(" ").map(function(t){switch(t){case"start":return e?"right":"left";case"end":return e?"left":"right";default:return t}})},e.prototype.canStart=function(t){var e=this,n=i.pointerCoord(t);return this._d=this.getContainerDimensions(),this.edges.every(function(t){return e._checkEdge(t,n)})},e.prototype.getContainerDimensions=function(){var t=this.plt;return{left:0,top:0,width:t.width(),height:t.height()}},e.prototype._checkEdge=function(t,e){var n=this._d,r=this.maxEdgeStart;switch(t){case"left":return e.x<=n.left+r;case"right":return e.x>=n.width-r;case"top":return e.y<=n.top+r;case"bottom":return e.y>=n.height-r}return!1},e}(n.SlideGesture);e.SlideEdgeGesture=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n,r,i,o){this.plt=t,this.ele=e,this.pointerDown=n,this.pointerMove=r,this.pointerUp=i,this.option=o,this.rmTouchStart=null,this.rmTouchMove=null,this.rmTouchEnd=null,this.rmTouchCancel=null,this.rmMouseStart=null,this.rmMouseMove=null,this.rmMouseUp=null,this.lastTouchEvent=0,this.mouseWait=2e3,this.bindTouchEnd=this.handleTouchEnd.bind(this),this.bindMouseUp=this.handleMouseUp.bind(this),this.rmTouchStart=this.plt.registerListener(e,"touchstart",this.handleTouchStart.bind(this),o),this.rmMouseStart=this.plt.registerListener(e,"mousedown",this.handleMouseDown.bind(this),o)}return t.prototype.handleTouchStart=function(t){this.lastTouchEvent=Date.now()+this.mouseWait,this.lastEventType=e.POINTER_EVENT_TYPE_TOUCH,this.pointerDown(t,e.POINTER_EVENT_TYPE_TOUCH)&&(!this.rmTouchMove&&this.pointerMove&&(this.rmTouchMove=this.plt.registerListener(this.ele,"touchmove",this.pointerMove,this.option)),this.rmTouchEnd||(this.rmTouchEnd=this.plt.registerListener(this.ele,"touchend",this.bindTouchEnd,this.option)),this.rmTouchCancel||(this.rmTouchCancel=this.plt.registerListener(this.ele,"touchcancel",this.bindTouchEnd,this.option)))},t.prototype.handleMouseDown=function(t){this.lastTouchEvent>Date.now()||(this.lastEventType=e.POINTER_EVENT_TYPE_MOUSE,this.pointerDown(t,e.POINTER_EVENT_TYPE_MOUSE)&&(!this.rmMouseMove&&this.pointerMove&&(this.rmMouseMove=this.plt.registerListener(this.plt.doc(),"mousemove",this.pointerMove,this.option)),this.rmMouseUp||(this.rmMouseUp=this.plt.registerListener(this.plt.doc(),"mouseup",this.bindMouseUp,this.option))))},t.prototype.handleTouchEnd=function(t){this.stopTouch(),this.pointerUp&&this.pointerUp(t,e.POINTER_EVENT_TYPE_TOUCH)},t.prototype.handleMouseUp=function(t){this.stopMouse(),this.pointerUp&&this.pointerUp(t,e.POINTER_EVENT_TYPE_MOUSE)},t.prototype.stopTouch=function(){this.rmTouchMove&&this.rmTouchMove(),this.rmTouchEnd&&this.rmTouchEnd(),this.rmTouchCancel&&this.rmTouchCancel(),this.rmTouchMove=this.rmTouchEnd=this.rmTouchCancel=null},t.prototype.stopMouse=function(){this.rmMouseMove&&this.rmMouseMove(),this.rmMouseUp&&this.rmMouseUp(),this.rmMouseMove=this.rmMouseUp=null},t.prototype.stop=function(){this.stopTouch(),this.stopMouse()},t.prototype.destroy=function(){this.rmTouchStart&&this.rmTouchStart(),this.rmMouseStart&&this.rmMouseStart(),this.stop(),this.ele=this.pointerUp=this.pointerMove=this.pointerDown=this.rmTouchStart=this.rmMouseStart=null},t}();e.PointerEvents=n,e.POINTER_EVENT_TYPE_MOUSE=1,e.POINTER_EVENT_TYPE_TOUCH=2})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("../../platform/platform"),a=function(){function t(t,e,n,r,i){this.plt=n,this.elementRef=r,this.renderer=i,this._showing=!1,t._clickBlock=this;(this.isEnabled=e.getBoolean("clickBlock",!0))&&this._setElementClass("click-block-enabled",!0)}return t.prototype.activate=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=0),this.isEnabled&&(this.plt.cancelTimeout(this._tmr),t&&(this._start=Date.now(),this._minEnd=this._start+(n||0),this._activate(!0)),this._tmr=this.plt.timeout(this._activate.bind(this,!1),e))},t.prototype._activate=function(t){if(this._showing!==t){if(!t){var e=Date.now();if(e<this._minEnd)return void(this._tmr=this.plt.timeout(this._activate.bind(this,!1),this._minEnd-e))}this._setElementClass("click-block-active",t),this._showing=t}},t.prototype._setElementClass=function(t,e){this.renderer.setElementClass(this.elementRef.nativeElement,t,e)},t.decorators=[{type:n.Directive,args:[{selector:".click-block"}]}],t.ctorParameters=function(){return[{type:r.App,decorators:[{type:n.Inject,args:[n.forwardRef(function(){return r.App})]}]},{type:i.Config},{type:o.Platform},{type:n.ElementRef},{type:n.Renderer}]},t}();e.ClickBlock=a})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){return t.$ionIndex}Object.defineProperty(e,"__esModule",{value:!0}),e.indexForItem=n,e.reorderListForItem=function(t){return t.$ionReorderList},e.findReorderItem=function(t,e){for(var r=0;t&&r<4;){if(void 0!==n(t))return e&&t.parentNode!==e?null:t;t=t.parentNode,r++}return null}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(19)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./dom"),r=function(){function t(t,e,n){this._app=t,this._plt=e,this._dom=n,this.isScrolling=!1,this.initialized=!1,this._eventsEnabled=!1,this._t=0,this._l=0,this.ev={timeStamp:0,scrollTop:0,scrollLeft:0,scrollHeight:0,scrollWidth:0,contentHeight:0,contentWidth:0,contentTop:0,contentBottom:0,startY:0,startX:0,deltaY:0,deltaX:0,velocityY:0,velocityX:0,directionY:"down",directionX:null,domWrite:n.write.bind(n)}}return t.prototype.init=function(t,e,n){this._el=t,this.initialized||(this.initialized=!0,this._js?this.enableJsScroll(e,n):this.enableNativeScrolling())},t.prototype.enableEvents=function(){this._eventsEnabled=!0},t.prototype.setScrolling=function(t,e){this.isScrolling?t?this.onScroll&&this.onScroll(e):(this.isScrolling=!1,this.onScrollEnd&&this.onScrollEnd(e)):t&&(this.isScrolling=!0,this.onScrollStart&&this.onScrollStart(e))},t.prototype.enableNativeScrolling=function(){if(this._js=!1,this._el){var t=this,e=t.ev,n=[];t._lsn&&t._lsn(),t._lsn=t._plt.registerListener(t._el,"scroll",function(r){if(t._app.setScrolling(),t._eventsEnabled){if(e.timeStamp=r.timeStamp,e.timeStamp||(e.timeStamp=Date.now()),e.scrollTop=t.getTop(),e.scrollLeft=t.getLeft(),t.isScrolling||(e.startY=e.scrollTop,e.startX=e.scrollLeft,e.velocityY=e.velocityX=0,e.deltaY=e.deltaX=0,n.length=0),n.push(e.scrollTop,e.scrollLeft,e.timeStamp),n.length>3){e.deltaY=e.scrollTop-e.startY,e.deltaX=e.scrollLeft-e.startX;for(var o=n.length-1,a=o,s=e.timeStamp-100,l=o;l>0&&n[l]>s;l-=3)a=l;if(a!==o){var c=n[a-2]-n[o-2],f=n[a-1]-n[o-1],p=u/(n[o]-n[a]);e.velocityY=c*p,e.velocityX=f*p,e.directionY=c>0?"up":"down",e.directionX=f>0?"left":"right"}}t.setScrolling(!0,e),t._dom.cancel(t._endTmr),t._endTmr=t._dom.read(function(){e.velocityY=e.velocityX=0,t.setScrolling(!1,e),t._endTmr=null},i)}},l)}},t.prototype.enableJsScroll=function(t,e){function r(){d||(d=f.scrollHeight-f.parentElement.offsetHeight+t+e)}function i(t){h.timeStamp=t,h.velocityY&&(h.velocityY*=s,r(),c._t=Math.min(Math.max(c._t+h.velocityY,0),d),h.scrollTop=c._t,c.onScroll(h),c._dom.write(function(){c.setTop(c._t),c._t>0&&c._t<d&&Math.abs(h.velocityY)>a?p=c._dom.read(function(t){i(t)}):(c.isScrolling=!1,h.velocityY=h.velocityX=0,c.onScrollEnd(h))}))}var c=this;c._js=!0;var f=c._el;if(f){var p,d,h=c.ev,m=[],g=c._plt,v=g.registerListener(f,"touchstart",function(t){m.length=0,d=null,c._dom.cancel(p),m.push(n.pointerCoord(t).y,t.timeStamp)},l),y=g.registerListener(f,"touchmove",function(t){if(m.length){h.timeStamp=t.timeStamp;var e=n.pointerCoord(t).y;r(),c._t-=e-m[m.length-2],c._t=Math.min(Math.max(c._t,0),d),m.push(e,h.timeStamp),c.isScrolling||(h.startY=c._t,h.velocityY=h.deltaY=0,c.isScrolling=!0,c.onScrollStart(h)),c._dom.write(function(){c.setTop(c._t)})}},l),b=g.registerListener(f,"touchend",function(t){if(c._dom.cancel(p),!m.length&&c.isScrolling)return c.isScrolling=!1,h.velocityY=h.velocityX=0,void c.onScrollEnd(h);var e=n.pointerCoord(t).y;m.push(e,t.timeStamp);for(var a=m.length-1,s=a,l=t.timeStamp-100,f=a;f>0&&m[f]>l;f-=2)s=f;s!==a?(h.velocityY=(m[s-1]-m[a-1])/(m[a]-m[s])*u,Math.abs(h.velocityY)>o&&(r(),p=c._dom.read(function(t){i(t)}))):(c.isScrolling=!1,h.velocityY=0,c.onScrollEnd(h));m.length=0},l);f.parentElement.classList.add("js-scroll"),c._lsn&&c._lsn(),c._lsn=function(){v(),y(),b(),f.parentElement.classList.remove("js-scroll")}}},t.prototype.getTop=function(){return this._js?this._t:this._t=this._el.scrollTop},t.prototype.getLeft=function(){return this._js?0:this._l=this._el.scrollLeft},t.prototype.setTop=function(t){this._t=t,this._js?this._el.style[this._plt.Css.transform]="translate3d("+-1*this._l+"px,"+-1*t+"px,0px)":this._el.scrollTop=t},t.prototype.setLeft=function(t){this._l=t,this._js?this._el.style[this._plt.Css.transform]="translate3d("+-1*t+"px,"+-1*this._t+"px,0px)":this._el.scrollLeft=t},t.prototype.scrollTo=function(t,e,n,r){function i(o){if(d++,!a._el||h||d>f)return a.setScrolling(!1,null),s.style[p]="",void r();var m=Math.min(1,(o-u)/n),g=--m*m*m+1;l!==e&&a.setTop(g*(e-l)+l),c!==t&&a.setLeft(Math.floor(g*(t-c)+c)),g<1?a._plt.raf(i):(h=!0,a.setScrolling(!1,null),s.style[p]="",r())}var o;void 0===r&&(o=new Promise(function(t){r=t}));var a=this,s=a._el;if(!s)return r(),o;if(n<32)return a.setTop(e),a.setLeft(t),r(),o;var u,l=s.scrollTop,c=s.scrollLeft,f=n/16+100,p=a._plt.Css.transform,d=0,h=!1;return a.setScrolling(!0,null),a.isScrolling=!0,a._dom.write(function(t){u=t,i(t)},16),o},t.prototype.scrollToTop=function(t){return this.scrollTo(0,0,t)},t.prototype.scrollToBottom=function(t){var e=0;return this._el&&(e=this._el.scrollHeight-this._el.clientHeight),this.scrollTo(0,e,t)},t.prototype.stop=function(){this.setScrolling(!1,null)},t.prototype.destroy=function(){this.stop(),this._endTmr&&this._dom.cancel(this._endTmr),this._lsn&&this._lsn();var t=this.ev;t.domWrite=t.contentElement=t.fixedElement=t.scrollElement=t.headerElement=null,this._lsn=this._el=this._dom=this.ev=t=null,this.onScrollStart=this.onScroll=this.onScrollEnd=null},t}();e.ScrollView=r;var i=80,o=4,a=.12,s=.97,u=1e3/60,l={passive:!0,zone:!1}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-item,[ion-item]",host:{class:"item-block"}}]}],t.ctorParameters=function(){return[]},t}();e.ItemContent=r})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r,i){var o=t.call(this,e,r,n,"list-header")||this;return o._id=i,o}return a(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.setElementAttribute("id",t)},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Directive,args:[{selector:"ion-list-header"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.Renderer},{type:n.ElementRef},{type:void 0,decorators:[{type:n.Attribute,args:["id"]}]}]},e}(t("../ion").Ion);e.ListHeader=i})},,,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../ion"),o=t("../../navigation/view-controller"),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,"header")||this;return i&&i._setHeader(o),o}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-header"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer},{type:o.ViewController,decorators:[{type:n.Optional}]}]},e}(i.Ion);e.Header=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,n,r){return t.call(this,e,n,r,"toolbar")||this}return a(e,t),e.prototype._setTitle=function(t){this._title=t},e.prototype.getTitleText=function(){return this._title&&this._title.getTitleText()||""},e}(t("../ion").Ion);e.ToolbarBase=n})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(27),n(3),n(9),n(61),n(76)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../button/button"),i=t("../../config/config"),o=t("../ion"),s=t("./navbar"),u=t("./toolbar"),l=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,"bar-buttons")||this;return a.inToolbar=!(!i&&!o),a}return a(e,t),Object.defineProperty(e.prototype,"_buttons",{set:function(t){this.inToolbar&&t.forEach(function(t){t.setRole("bar-button")})},enumerable:!0,configurable:!0}),e.decorators=[{type:n.Directive,args:[{selector:"ion-buttons,[menuToggle]"}]}],e.ctorParameters=function(){return[{type:i.Config},{type:n.ElementRef},{type:n.Renderer},{type:u.Toolbar,decorators:[{type:n.Optional}]},{type:s.Navbar,decorators:[{type:n.Optional},{type:n.Inject,args:[n.forwardRef(function(){return s.Navbar})]}]}]},e.propDecorators={_buttons:[{type:n.ContentChildren,args:[r.Button]}]},e}(o.Ion);e.ToolbarItem=l})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.wait=t,this.timer=null}return t.prototype.debounce=function(t){this.callback=t,this.schedule()},t.prototype.schedule=function(){this.cancel(),this.wait<=0?this.callback():this.timer=setTimeout(this.callback,this.wait)},t.prototype.cancel=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t}();e.TimeoutDebouncer=n})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(36)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.buildHammer=function(t){var e=new window.Hammer(t);for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},e.decorators=[{type:n.Injectable}],e.ctorParameters=function(){return[]},e}(t("@angular/platform-browser").HammerGestureConfig);e.IonicGestureConfig=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(301),n(11),n(3)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./action-sheet"),i=t("../app/app"),o=t("../../config/config"),a=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new r.ActionSheet(this._app,t,this.config)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:i.App},{type:o.Config}]},t}();e.ActionSheetController=a})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(173),n(661),n(4),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./action-sheet-component"),r=t("./action-sheet-transitions"),i=t("../../util/util"),o=function(t){function e(e,o,a){var s=this;return o.buttons=o.buttons||[],o.enableBackdropDismiss=!i.isPresent(o.enableBackdropDismiss)||!!o.enableBackdropDismiss,s=t.call(this,n.ActionSheetCmp,o,null)||this,s._app=e,s.isOverlay=!0,a.setTransition("action-sheet-slide-in",r.ActionSheetSlideIn),a.setTransition("action-sheet-slide-out",r.ActionSheetSlideOut),a.setTransition("action-sheet-md-slide-in",r.ActionSheetMdSlideIn),a.setTransition("action-sheet-md-slide-out",r.ActionSheetMdSlideOut),a.setTransition("action-sheet-wp-slide-in",r.ActionSheetWpSlideIn),a.setTransition("action-sheet-wp-slide-out",r.ActionSheetWpSlideOut),s}return a(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("actionSheet"+("back"===t?"Leave":"Enter"))},e.prototype.setTitle=function(t){return this.data.title=t,this},e.prototype.setSubTitle=function(t){return this.data.subTitle=t,this},e.prototype.addButton=function(t){return this.data.buttons.push(t),this},e.prototype.present=function(t){return void 0===t&&(t={}),t.minClickBlockDuration=t.minClickBlockDuration||400,this._app.present(this,t)},e}(t("../../navigation/view-controller").ViewController);e.ActionSheet=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(303),n(11),n(3)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./alert"),i=t("../app/app"),o=t("../../config/config"),a=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new r.Alert(this._app,t,this.config)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:i.App},{type:o.Config}]},t}();e.AlertController=a})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(174),n(662),n(4),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./alert-component"),r=t("./alert-transitions"),i=t("../../util/util"),o=function(t){function e(e,o,a){void 0===o&&(o={});var s=this;return o.inputs=o.inputs||[],o.buttons=o.buttons||[],o.enableBackdropDismiss=!i.isPresent(o.enableBackdropDismiss)||!!o.enableBackdropDismiss,s=t.call(this,n.AlertCmp,o,null)||this,s._app=e,s.isOverlay=!0,a.setTransition("alert-pop-in",r.AlertPopIn),a.setTransition("alert-pop-out",r.AlertPopOut),a.setTransition("alert-md-pop-in",r.AlertMdPopIn),a.setTransition("alert-md-pop-out",r.AlertMdPopOut),a.setTransition("alert-wp-pop-in",r.AlertWpPopIn),a.setTransition("alert-wp-pop-out",r.AlertWpPopOut),s}return a(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"alertLeave":"alertEnter")},e.prototype.setTitle=function(t){return this.data.title=t,this},e.prototype.setSubTitle=function(t){return this.data.subTitle=t,this},e.prototype.setMessage=function(t){return this.data.message=t,this},e.prototype.addInput=function(t){return this.data.inputs.push(t),this},e.prototype.addButton=function(t){return this.data.buttons.push(t),this},e.prototype.setCssClass=function(t){return this.data.cssClass=t,this},e.prototype.setMode=function(t){this.data.mode=t},e.prototype.present=function(t){return void 0===t&&(t={}),t.minClickBlockDuration=t.minClickBlockDuration||400,this._app.present(this,t)},e}(t("../../navigation/view-controller").ViewController);e.Alert=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(289)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){var n=new i,o=t.win(),a=t.doc();return t.timeout(function(){o.addEventListener("online",function(t){n.publish("app:online",t)},!1),o.addEventListener("offline",function(t){n.publish("app:offline",t)},!1),o.addEventListener("orientationchange",function(t){n.publish("app:rotated",t)}),o.addEventListener("statusTap",function(){var n=a.elementFromPoint(t.width()/2,t.height()/2);if(n){var i=n.closest(".scroll-content");if(i){var o=i.style,s=new r.ScrollView(null,t,e);s._el=i,o.WebkitBackfaceVisibility="hidden",o.WebkitTransform="translate3d(0,0,0)",e.write(function(){function e(){o.overflow="",o.WebkitBackfaceVisibility="",o.WebkitTransform=""}o.overflow="hidden";var n=t.timeout(function(){e()},400);s.scrollTo(0,0,300).then(function(){t.cancelTimeout(n),e()})})}}})},2e3),n}Object.defineProperty(e,"__esModule",{value:!0});var r=t("./scroll-view"),i=function(){function t(){this._channels=[]}return t.prototype.subscribe=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._channels[t]||(this._channels[t]=[]),n.forEach(function(n){e._channels[t].push(n)})},t.prototype.unsubscribe=function(t,e){void 0===e&&(e=null);var n=this._channels[t];if(!n)return!1;if(!e)return delete this._channels[t],!0;var r=n.indexOf(e);return!(r<0)&&(n.splice(r,1),n.length||delete this._channels[t],!0)},t.prototype.publish=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this._channels[t];if(!r)return null;var i=[];return r.forEach(function(t){i.push(t.apply(void 0,e))}),i},t}();e.Events=i,e.setupEvents=n,e.setupProvideEvents=function(t,e){return function(){return n(t,e)}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(663)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("./loading"),a=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new o.Loading(this._app,t,this.config)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.App},{type:i.Config}]},t}();e.LoadingController=a})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(307)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./platform-utils");e.PLATFORM_CONFIGS={core:{settings:{mode:"md",keyboardHeight:290}},mobile:{},phablet:{isMatch:function(t){var e=Math.min(t.width(),t.height()),n=Math.max(t.width(),t.height());return e>390&&e<520&&n>620&&n<800}},tablet:{isMatch:function(t){var e=Math.min(t.width(),t.height()),n=Math.max(t.width(),t.height());return e>460&&e<820&&n>780&&n<1400}},android:{superset:"mobile",subsets:["phablet","tablet"],settings:{activator:function(t){if(t.testNavigatorPlatform("linux")){var e=t.matchUserAgentVersion(/Chrome\/(\d+).(\d+)?/);if(e)return parseInt(e.major,10)<36||t.version().major<5?"none":"ripple";if(t.version().major<5)return"none"}return"ripple"},autoFocusAssist:"immediate",inputCloning:!0,scrollAssist:!0,hoverCSS:!1,keyboardHeight:300,mode:"md"},isMatch:function(t){return t.isPlatformMatch("android",["android","silk"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/Android (\d+).(\d+)?/)}},ios:{superset:"mobile",subsets:["ipad","iphone"],settings:{autoFocusAssist:"delay",hideCaretOnScroll:!0,hoverCSS:!1,inputBlurring:r.isIos,inputCloning:r.isIos,keyboardHeight:250,mode:"ios",statusbarPadding:r.isCordova,swipeBackEnabled:r.isIos,tapPolyfill:r.isIosUIWebView,virtualScrollEventAssist:r.isIosUIWebView,disableScrollAssist:r.isIos,scrollAssist:r.isIos,keyboardResizes:function(t){var e=t.win();return!(!e.Ionic||!0!==e.Ionic.keyboardResizes)}},isMatch:function(t){return t.isPlatformMatch("ios",["iphone","ipad","ipod"],["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/OS (\d+)_(\d+)?/)}},ipad:{superset:"tablet",settings:{keyboardHeight:500},isMatch:function(t){return t.isPlatformMatch("ipad")}},iphone:{subsets:["phablet"],isMatch:function(t){return t.isPlatformMatch("iphone")}},windows:{superset:"mobile",subsets:["phablet","tablet"],settings:{mode:"wp",autoFocusAssist:"immediate",hoverCSS:!1},isMatch:function(t){return t.isPlatformMatch("windows",["windows phone"])},versionParser:function(t){return t.matchUserAgentVersion(/Windows Phone (\d+).(\d+)?/)}},cordova:{isEngine:!0,initialize:function(t){t.prepareReady=function(){t.windowLoad(function(e,n){n.addEventListener("deviceready",function(){n.addEventListener("backbutton",function(e){t.zone.run(function(){t.backButton.emit(e)})}),n.addEventListener("pause",function(e){t.zone.run(function(){t.pause.emit(e)})}),n.addEventListener("resume",function(e){t.zone.run(function(){t.resume.emit(e)})}),t.exitApp=function(){e.navigator.app.exitApp()},t.triggerReady("cordova")})})}},isMatch:function(t){return r.isCordova(t)}},electron:{superset:"core",initialize:function(t){t.prepareReady=function(){t.windowLoad(function(){t.triggerReady("electron")})}},isMatch:function(t){return r.isElectron(t)}}},e.PlatformConfigToken=new n.InjectionToken("PLTCONFIG"),e.providePlatformConfigs=function(){return e.PLATFORM_CONFIGS}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){return t.testNavigatorPlatform("iphone|ipad|ipod")}function r(t){return t.testUserAgent("Safari")}function i(t){return n(t)&&!!t.win().webkit}Object.defineProperty(e,"__esModule",{value:!0}),e.isCordova=function(t){var e=t.win();return!!(e.cordova||e.PhoneGap||e.phonegap)},e.isElectron=function(t){return t.testUserAgent("Electron")},e.isIos=n,e.isSafari=r,e.isWKWebView=i,e.isIosUIWebView=function(t){return n(t)&&!i(t)&&!r(t)}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(309),n(11),n(3),n(12),n(10),n(5),n(19),n(285),n(667),n(45)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){for(var e=t,n=0;n<10&&e;n++){if(r(e))return e;e=e.parentElement}return null}function r(t){if(g.indexOf(t.tagName)>-1)return!0;for(var e=0,n=v.length;e<n;e++)if(t.hasAttribute&&t.hasAttribute(v[e]))return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0});var i=t("@angular/core"),o=t("./activator"),a=t("../components/app/app"),s=t("../config/config"),u=t("../platform/dom-controller"),l=t("../gestures/gesture-controller"),c=t("../platform/platform"),f=t("../util/dom"),p=t("../gestures/pointer-events"),d=t("./ripple"),h=t("../gestures/ui-event-manager"),m=function(){function t(t,e,n,r,i){this.plt=e,this.app=r,this.gestureCtrl=i,this.disableClick=0,this.events=new h.UIEventManager(e);var a=t.get("activator");"ripple"===a?this.activator=new d.RippleActivator(r,t,n):"highlight"===a&&(this.activator=new o.Activator(r,t,n)),this.usePolyfill=t.getBoolean("tapPolyfill");var s=e.doc();this.events.listen(s,"click",this.click.bind(this),{passive:!1,capture:!0}),this.pointerEvents=this.events.pointerEvents({element:s,pointerDown:this.pointerStart.bind(this),pointerMove:this.pointerMove.bind(this),pointerUp:this.pointerEnd.bind(this),passive:!0}),this.pointerEvents.mouseWait=b}return t.prototype.pointerStart=function(t){return!this.startCoord&&(!!this.app.isEnabled()&&(this.lastTouchEnd=0,this.dispatchClick=!0,this.plt.doc()===t.target?(this.startCoord=f.pointerCoord(t),!0):(this.activatableEle=n(t.target),this.activatableEle?(this.startCoord=f.pointerCoord(t),this.activator&&this.activator.downAction(t,this.activatableEle,this.startCoord),!0):(this.startCoord=null,!1))))},t.prototype.pointerMove=function(t){this.startCoord&&this.shouldCancelEvent(t)&&this.pointerCancel(t)},t.prototype.pointerEnd=function(t,e){if(this.dispatchClick&&this.startCoord){if(this.activator&&t.target!==this.plt.doc()){var r=n(t.target)||this.activatableEle;r&&this.activator.upAction(t,r,this.startCoord)}this.usePolyfill&&e===p.POINTER_EVENT_TYPE_TOUCH&&this.app.isEnabled()&&this.handleTapPolyfill(t),this.startCoord=null,this.activatableEle=null}},t.prototype.pointerCancel=function(t){this.startCoord=null,this.activatableEle=null,this.dispatchClick=!1,this.activator&&this.activator.clearState(!1),this.pointerEvents.stop()},t.prototype.shouldCancelEvent=function(t){return this.app.isScrolling()||this.gestureCtrl.isCaptured()||f.hasPointerMoved(y,this.startCoord,f.pointerCoord(t))},t.prototype.click=function(t){if(this.shouldCancelClick(t))return t.preventDefault(),void t.stopPropagation();if(this.activator&&this.plt.doc()!==t.target){var e=n(t.target);e&&this.activator.clickAction(t,e,this.startCoord)}},t.prototype.shouldCancelClick=function(t){if(this.usePolyfill){if(!t.isIonicTap&&this.isDisabledNativeClick())return!0}else if(!this.dispatchClick)return!0;return!this.app.isEnabled()||!!this.gestureCtrl.isCaptured()},t.prototype.profileClickDelay=function(t){if(this.lastTouchEnd){var e=Date.now()-this.lastTouchEnd;e<100||console.warn("SLOW click dispatched. Delay(ms):",e,t),this.lastTouchEnd=null}},t.prototype.handleTapPolyfill=function(t){var e=f.pointerCoord(t);if(!f.hasPointerMoved(y,this.startCoord,e))if(this.disableClick=Date.now()+b,this.app.isScrolling());else{var n=this.plt.doc().createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,this.plt.win(),1,0,0,e.x,e.y,!1,!1,!1,!1,0,null),n.isIonicTap=!0,t.target.dispatchEvent(n)}},t.prototype.isDisabledNativeClick=function(){return this.disableClick>Date.now()},t.decorators=[{type:i.Injectable}],t.ctorParameters=function(){return[{type:s.Config},{type:c.Platform},{type:u.DomController},{type:a.App},{type:l.GestureController}]},t}();e.TapClick=m,e.isActivatable=r;var g=["A","BUTTON"],v=["tappable","ion-button"],y=100,b=2500;e.setupTapClick=function(t,e,n,r,i){return function(){return new m(t,e,n,r,i)}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(310)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./activator-base"),r=function(){function t(t,e,n){this.app=t,this.dom=n,this._queue=[],this._active=[],this.activatedDelay=i,this.clearDelay=o,this._css=e.get("activatedClass","activated")}return t.prototype.clickAction=function(t,e,r){if(!n.isActivatedDisabled(t,e)){this._scheduleClear(),this._queue.length=0;for(var i=0;i<this._active.length;i++)this._active[i].classList.remove(this._css);this._active.length=0,e&&e.parentNode&&(this._active.push(e),e.classList.add(this._css))}},t.prototype.downAction=function(t,e,r){var i=this;n.isActivatedDisabled(t,e)||(this.unscheduleClear(),this.deactivate(!0),this._queue.push(e),this._activeDefer=this.dom.write(function(){i._activeDefer=null;for(var t,e=0;e<i._queue.length;e++)i._active.push(t=i._queue[e]),t.classList.add(i._css);i._queue.length=0},this.activatedDelay))},t.prototype.upAction=function(t,e,n){this._scheduleClear()},t.prototype._scheduleClear=function(){var t=this;this._clearDefer||(this._clearDefer=this.dom.write(function(){t.clearState(!0),t._clearDefer=null},this.clearDelay))},t.prototype.unscheduleClear=function(){this._clearDefer&&(this._clearDefer(),this._clearDefer=null)},t.prototype.clearState=function(t){var e=this;this.app.isEnabled()?this.deactivate(t):this.dom.write(function(){e.clearState(t)},600)},t.prototype.deactivate=function(t){this._clearDeferred(),this._queue.length=0;for(var e,n=0;n<this._active.length;n++)(e=this._active[n]).style[this.dom.plt.Css.transition]=t?"":"none",e.classList.remove(this._css);this._active.length=0},t.prototype._clearDeferred=function(){this._activeDefer&&(this._activeDefer(),this._activeDefer=null)},t}();e.Activator=r;var i=80,o=80})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(){}}();e.ActivatorBase=n,e.isActivatedDisabled=function(t,e){if(!e||!e.parentNode)return!0;if(!t)return!1;if(t.defaultPrevented)return!0;for(var n=t.target,r=0;r<4&&n;r++){if(n.hasAttribute("disable-activated"))return!0;n=n.parentElement}return!1}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MODE_IOS={activator:"highlight",actionSheetEnter:"action-sheet-slide-in",actionSheetLeave:"action-sheet-slide-out",alertEnter:"alert-pop-in",alertLeave:"alert-pop-out",backButtonText:"Back",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-pop-in",loadingLeave:"loading-pop-out",menuType:"reveal",modalEnter:"modal-slide-in",modalLeave:"modal-slide-out",pageTransition:"ios-transition",pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:-.46,pickerScaleFactor:1,popoverEnter:"popover-pop-in",popoverLeave:"popover-pop-out",spinner:"ios",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,toastEnter:"toast-slide-in",toastLeave:"toast-slide-out"},e.MODE_MD={activator:"ripple",actionSheetEnter:"action-sheet-md-slide-in",actionSheetLeave:"action-sheet-md-slide-out",alertEnter:"alert-md-pop-in",alertLeave:"alert-md-pop-out",backButtonText:"",backButtonIcon:"md-arrow-back",iconMode:"md",loadingEnter:"loading-md-pop-in",loadingLeave:"loading-md-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"md-transition",pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:0,pickerScaleFactor:.81,popoverEnter:"popover-md-pop-in",popoverLeave:"popover-md-pop-out",spinner:"crescent",tabsHighlight:!1,tabsPlacement:"bottom",tabsHideOnSubPages:!1,toastEnter:"toast-md-slide-in",toastLeave:"toast-md-slide-out"},e.MODE_WP={activator:"highlight",actionSheetEnter:"action-sheet-wp-slide-in",actionSheetLeave:"action-sheet-wp-slide-out",alertEnter:"alert-wp-pop-in",alertLeave:"alert-wp-pop-out",backButtonText:"",backButtonIcon:"ios-arrow-back",iconMode:"ios",loadingEnter:"loading-wp-pop-in",loadingLeave:"loading-wp-pop-out",menuType:"overlay",modalEnter:"modal-md-slide-in",modalLeave:"modal-md-slide-out",pageTransition:"wp-transition",pickerEnter:"picker-slide-in",pickerLeave:"picker-slide-out",pickerRotateFactor:0,pickerScaleFactor:.81,popoverEnter:"popover-md-pop-in",popoverLeave:"popover-md-pop-out",spinner:"circles",tabsHighlight:!1,tabsPlacement:"top",tabsHideOnSubPages:!0,toastEnter:"toast-wp-slide-in",toastLeave:"toast-wp-slide-out"},e.registerModeConfigs=function(t){return function(){t.setModeConfig("ios",e.MODE_IOS),t.setModeConfig("md",e.MODE_MD),t.setModeConfig("wp",e.MODE_WP)}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(4),n(5),n(189)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../../util/util"),o=t("../../platform/platform"),a=t("./fab"),s=function(){function t(t,e,n,r){this._elementRef=t,this._renderer=e,this._plt=r,this._visible=!1,this._fabs=[],this._mode=n.get("mode")}return Object.defineProperty(t.prototype,"_setbuttons",{set:function(t){for(var e=this._fabs=t.toArray(),n="fab-"+this._mode+"-in-list",r=0,i=e;r<i.length;r++){var o=i[r];o.setElementClass("fab-in-list",!0),o.setElementClass(n,!0)}},enumerable:!0,configurable:!0}),t.prototype.setVisible=function(t){var e=this,n=i.isTrueProperty(t);if(n!==this._visible){this._visible=n;var r=this._fabs,o=1;r.forEach(n?function(t){e._plt.timeout(function(){return t.setElementClass("show",!0)},30*o),o++}:function(t){return t.setElementClass("show",!1)}),this.setElementClass("fab-list-active",n)}},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.decorators=[{type:n.Directive,args:[{selector:"ion-fab-list"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer},{type:r.Config},{type:o.Platform}]},t.propDecorators={_setbuttons:[{type:n.ContentChildren,args:[a.FabButton]}]},t}();e.FabList=s})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(35),n(12)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../content/content"),i=t("../../platform/dom-controller"),o=function(){function t(t,e,r,i){this._content=t,this._zone=e,this._elementRef=r,this._dom=i,this._lastCheck=0,this._highestY=0,this._thr="15%",this._thrPx=0,this._thrPc=.15,this._position=c,this._init=!1,this.state=a,this.ionInfinite=new n.EventEmitter,t.setElementClass("has-infinite-scroll",!0)}return Object.defineProperty(t.prototype,"threshold",{get:function(){return this._thr},set:function(t){this._thr=t,t.indexOf("%")>-1?(this._thrPx=0,this._thrPc=parseFloat(t)/100):(this._thrPx=parseFloat(t),this._thrPc=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{set:function(t){this.enable(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){t===l||t===c?this._position=t:console.error("Invalid value for ion-infinite-scroll's position input. Its value should be '"+c+"' or '"+l+"'.")},enumerable:!0,configurable:!0}),t.prototype._onScroll=function(t){var e=this;if(this.state===u||this.state===s)return 1;if(this._lastCheck+32>t.timeStamp)return 2;this._lastCheck=t.timeStamp;var n=this._elementRef.nativeElement.scrollHeight;if(!n)return 3;var r=this._content.getContentDimensions(),i=r.contentHeight,o=this._thrPc?i*this._thrPc:this._thrPx;return(this._position===c?r.scrollHeight-n-r.scrollTop-i-o:r.scrollTop-n-o)<0?(this._dom.write(function(){e._zone.run(function(){e.state!==u&&e.state!==s&&(e.state=u,e.ionInfinite.emit(e))})}),5):6},t.prototype.complete=function(){var t=this;if(this.state===u)if(this._position!==c){var e=this._content.getContentDimensions();this._dom.read(function(){var n=t._content.getContentDimensions().scrollHeight-(e.scrollHeight-e.scrollTop);t._dom.write(function(){t._content.scrollTop=n,t.state=a})})}else this.state=a},t.prototype.waitFor=function(t){var e=this.complete.bind(this);t.then(e,e)},t.prototype.enable=function(t){this.state=t?a:s,this._setListeners(t)},t.prototype._setListeners=function(t){this._init&&(t?this._scLsn||(this._scLsn=this._content.ionScroll.subscribe(this._onScroll.bind(this))):(this._scLsn&&this._scLsn.unsubscribe(),this._scLsn=null))},t.prototype.ngAfterContentInit=function(){this._init=!0,this._setListeners(this.state!==s),this._position===l&&(this._content.scrollDownOnLoad=!0)},t.prototype.ngOnDestroy=function(){this._setListeners(!1)},t.decorators=[{type:n.Directive,args:[{selector:"ion-infinite-scroll"}]}],t.ctorParameters=function(){return[{type:r.Content},{type:n.NgZone},{type:n.ElementRef},{type:i.DomController}]},t.propDecorators={threshold:[{type:n.Input}],enabled:[{type:n.Input}],position:[{type:n.Input}],ionInfinite:[{type:n.Output}]},t}();e.InfiniteScroll=o;var a="enabled",s="disabled",u="loading",l="top",c="bottom"})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(5),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../platform/platform"),i=t("../../util/util"),o=function(){function t(t,e){this._elementRef=t,this._plt=e,this.ionSwipe=new n.EventEmitter}return t.prototype.isRightSide=function(){return i.isRightSide(this.side,this._plt.isRTL,!0)},t.prototype.width=function(){return this._elementRef.nativeElement.offsetWidth},t.decorators=[{type:n.Directive,args:[{selector:"ion-item-options"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:r.Platform}]},t.propDecorators={side:[{type:n.Input}],ionSwipe:[{type:n.Output}]},t}();e.ItemOptions=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(699),n(24)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("./modal"),a=t("../../navigation/deep-linker"),s=function(){function t(t,e,n){this._app=t,this.config=e,this.deepLinker=n}return t.prototype.create=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),new o.Modal(this._app,t,e,n,this.config,this.deepLinker)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.App},{type:i.Config},{type:a.DeepLinker}]},t}();e.ModalController=s})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../util/util"),r=function(){function t(t,e,n,r){this._app=t,this._component=e,this._config=n,this._deepLinker=r}return t.prototype.getImplementation=function(){throw new Error('Child class must implement "getImplementation" method')},t.prototype.present=function(t){var e=this;void 0===t&&(t={});return n.isString(this._component)?this._deepLinker.getComponentFromName(this._component).then(function(n){return e._component=n,e.createAndPresentOverlay(t)}):this.createAndPresentOverlay(t)},t.prototype.dismiss=function(t,e,n){if(this.overlay)return this.overlay.dismiss(t,e,n)},t.prototype.onDidDismiss=function(t){this._onDidDismiss=t,this.overlay&&this.overlay.onDidDismiss(this._onDidDismiss)},t.prototype.createAndPresentOverlay=function(t){return this.overlay=this.getImplementation(),this.overlay.onWillDismiss(this._onWillDismiss),this.overlay.onDidDismiss(this._onDidDismiss),this.overlay.present(t)},t.prototype.onWillDismiss=function(t){this._onWillDismiss=t,this.overlay&&this.overlay.onWillDismiss(this._onWillDismiss)},t}();e.OverlayProxy=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(31)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../navigation/nav-controller"),i=function(){function t(t){this._nav=t,t||console.error("navPop must be within a NavController")}return t.prototype.onClick=function(){return!this._nav||(this._nav.pop().catch(function(){}),!1)},t.decorators=[{type:n.Directive,args:[{selector:"[navPop]"}]}],t.ctorParameters=function(){return[{type:r.NavController,decorators:[{type:n.Optional}]}]},t.propDecorators={onClick:[{type:n.HostListener,args:["click"]}]},t}();e.NavPop=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(31)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../navigation/nav-controller"),i=function(){function t(t){this._nav=t,t||console.error("navPush must be within a NavController")}return t.prototype.onClick=function(){return!this._nav||!this.navPush||(this._nav.push(this.navPush,this.navParams),!1)},t.decorators=[{type:n.Directive,args:[{selector:"[navPush]"}]}],t.ctorParameters=function(){return[{type:r.NavController,decorators:[{type:n.Optional}]}]},t.propDecorators={navPush:[{type:n.Input}],navParams:[{type:n.Input}],onClick:[{type:n.HostListener,args:["click"]}]},t}();e.NavPush=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=function(){function t(t){this._elementRef=t,this._selected=!1,this._disabled=!1,this.ionSelect=new n.EventEmitter}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=r.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected=r.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return r.isPresent(this._value)?this._value:this.text},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._elementRef.nativeElement.textContent},enumerable:!0,configurable:!0}),t.decorators=[{type:n.Directive,args:[{selector:"ion-option"}]}],t.ctorParameters=function(){return[{type:n.ElementRef}]},t.propDecorators={disabled:[{type:n.Input}],selected:[{type:n.Input}],value:[{type:n.Input}],ionSelect:[{type:n.Output}]},t}();e.Option=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(322),n(24)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("./popover"),a=t("../../navigation/deep-linker"),s=function(){function t(t,e,n){this._app=t,this.config=e,this._deepLinker=n}return t.prototype.create=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),new o.Popover(this._app,t,e,n,this.config,this._deepLinker)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.App},{type:i.Config},{type:a.DeepLinker}]},t}();e.PopoverController=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(317),n(707)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../navigation/overlay-proxy"),r=t("./popover-impl"),i=function(t){function e(e,n,r,i,o,a){void 0===i&&(i={});var s=t.call(this,e,n,o,a)||this;return s.data=r,s.opts=i,s.isOverlay=!0,s}return a(e,t),e.prototype.getImplementation=function(){return new r.PopoverImpl(this._app,this._component,this.data,this.opts,this._config)},e}(n.OverlayProxy);e.Popover=i})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(35),n(10),n(4),n(5),n(19),n(45)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../content/content"),i=t("../../gestures/gesture-controller"),o=t("../../util/util"),a=t("../../platform/platform"),s=t("../../util/dom"),u=t("../../gestures/ui-event-manager"),l=function(){function t(t,e,r,o){this._plt=t,this._content=e,this._zone=r,this._appliedStyles=!1,this._lastCheck=0,this._isEnabled=!0,this._top="",this.state=c,this.startY=null,this.currentY=null,this.deltaY=null,this.progress=0,this.pullMin=60,this.pullMax=this.pullMin+60,this.closeDuration=280,this.snapbackDuration=280,this.ionRefresh=new n.EventEmitter,this.ionPull=new n.EventEmitter,this.ionStart=new n.EventEmitter,this._events=new u.UIEventManager(t),e._hasRefresher=!0,this._gesture=o.createGesture({name:i.GESTURE_REFRESHER,priority:i.GESTURE_PRIORITY_REFRESHER})}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=o.isTrueProperty(t),this._setListeners(this._isEnabled)},enumerable:!0,configurable:!0}),t.prototype._onStart=function(t){if(t.touches&&t.touches.length>1)return!1;if(this.state!==c)return!1;if(this._content.getContentDimensions().scrollTop>0)return!1;if(!this._gesture.canStart())return!1;var e=s.pointerCoord(t);if(this._content.contentTop>0){var n=this._content.contentTop+"px";this._top!==n&&(this._top=n)}return this.startY=this.currentY=e.y,this.progress=0,this.state=c,!0},t.prototype._onMove=function(t){var e=this;if(t.touches&&t.touches.length>1)return 1;if(!this._gesture.canStart())return 0;if(null===this.startY||this.state===d||this.state===h||this.state===m)return 2;var n=Date.now();if(this._lastCheck+16>n)return 3;this._lastCheck=n;var r=s.pointerCoord(t);if(this.currentY=r.y,this.deltaY=r.y-this.startY,this.deltaY<=0)return this.progress=0,this.state!==c&&this._zone.run(function(){e.state=c}),this._appliedStyles?(this._setCss(0,"",!1,""),5):6;if(this.state===c){if(this._content.getContentDimensions().scrollTop>0)return this.progress=0,this.startY=null,7;this.state=f}if(t.preventDefault(),this._setCss(this.deltaY,"0ms",!0,""),!this.deltaY)return this.progress=0,8;this._zone.run(function(){e._onMoveInZone()})},t.prototype._onMoveInZone=function(){return this.progress=this.deltaY/this.pullMin,this._didStart||(this._didStart=!0,this.ionStart.emit(this)),this.ionPull.emit(this),this.deltaY<this.pullMin?(this.state=f,2):this.deltaY>this.pullMax?(this._beginRefresh(),3):(this.state=p,4)},t.prototype._onEnd=function(){var t=this;this.state===p?this._zone.run(function(){t._beginRefresh()}):this.state===f&&this._zone.run(function(){t.cancel()}),this.startY=null},t.prototype._beginRefresh=function(){this.state=d,this._setCss(this.pullMin,this.snapbackDuration+"ms",!0,""),this.ionRefresh.emit(this)},t.prototype.complete=function(){this._close(m,"120ms")},t.prototype.cancel=function(){this._close(h,"")},t.prototype._close=function(t,e){function n(t){t&&clearTimeout(r),this.state=c,this.progress=0,this._didStart=this.startY=this.currentY=this.deltaY=null,this._setCss(0,"0ms",!1,"")}var r;r=setTimeout(n.bind(this),600),this._content.onScrollElementTransitionEnd(n.bind(this)),this.state=t,this._setCss(0,"",!0,e),this._pointerEvents&&this._pointerEvents.stop()},t.prototype._setCss=function(t,e,n,r){this._appliedStyles=t>0;var i=this._content,o=this._plt.Css;i.setScrollElementStyle(o.transform,t>0?"translateY("+t+"px) translateZ(0px)":"translateZ(0px)"),i.setScrollElementStyle(o.transitionDuration,e),i.setScrollElementStyle(o.transitionDelay,r),i.setScrollElementStyle("overflow",n?"hidden":"")},t.prototype._setListeners=function(t){this._events.unlistenAll(),this._pointerEvents=null,t&&(this._pointerEvents=this._events.pointerEvents({element:this._content.getScrollElement(),pointerDown:this._onStart.bind(this),pointerMove:this._onMove.bind(this),pointerUp:this._onEnd.bind(this),zone:!1}))},t.prototype.ngOnInit=function(){this._setListeners(this._isEnabled)},t.prototype.ngOnDestroy=function(){this._setListeners(!1),this._events.destroy(),this._gesture.destroy()},t.decorators=[{type:n.Directive,args:[{selector:"ion-refresher",host:{"[class.refresher-active]":'state !== "inactive"',"[style.top]":"_top"}}]}],t.ctorParameters=function(){return[{type:a.Platform},{type:r.Content,decorators:[{type:n.Host}]},{type:n.NgZone},{type:i.GestureController}]},t.propDecorators={pullMin:[{type:n.Input}],pullMax:[{type:n.Input}],closeDuration:[{type:n.Input}],snapbackDuration:[{type:n.Input}],enabled:[{type:n.Input}],ionRefresh:[{type:n.Output}],ionPull:[{type:n.Output}],ionStart:[{type:n.Output}]},t}();e.Refresher=l;var c="inactive",f="pulling",p="ready",d="refreshing",h="cancelling",m="completing"})},,,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=function(){function t(){this.isActive=!1,this._disabled=!1,this.ionSelect=new n.EventEmitter}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=r.isTrueProperty(t)},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){this.ionSelect.emit(this)},t.prototype.ngOnInit=function(){r.isPresent(this.value)||console.warn('<ion-segment-button> requires a "value" attribute')},t.decorators=[{type:n.Component,args:[{selector:"ion-segment-button",template:'<ng-content></ng-content><div class="button-effect"></div>',host:{tappable:"",class:"segment-button",role:"button","[class.segment-button-disabled]":"_disabled","[class.segment-activated]":"isActive","[attr.aria-pressed]":"isActive"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[]},t.propDecorators={value:[{type:n.Input}],ionSelect:[{type:n.Output}],disabled:[{type:n.Input}],onClick:[{type:n.HostListener,args:["click"]}]},t}();e.SegmentButton=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){if(this._plt=e,this.zone=n,this.isMatch=!1,t){this.conditions=t.replace(/\s/g,"").split(",");for(var r=0;r<this.conditions.length;r++)if(this.conditions[r]&&e.is(this.conditions[r]))return void(this.isMatch=!0);this.orientation()&&(this.resizeObs=e.resize.subscribe(this.orientation.bind(this)))}}return t.prototype.orientation=function(){for(var t=0;t<this.conditions.length;t++){if("portrait"===this.conditions[t])return this.isMatch=this._plt.isPortrait(),!0;if("landscape"===this.conditions[t])return this.isMatch=this._plt.isLandscape(),!0}return!1},t.prototype.ngOnDestroy=function(){this.resizeObs&&this.resizeObs.unsubscribe(),this.resizeObs=null},t}();e.DisplayWhen=n})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(721),n(9),n(4),n(724),n(332),n(5),n(129),n(196),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("./swiper/swiper-keyboard"),o=t("../ion"),s=t("../../util/util"),u=t("./swiper/swiper-events"),l=t("./swiper/swiper-zoom"),c=t("../../platform/platform"),f=t("./swiper/swiper"),p=t("./swiper/swiper-effects"),d=t("../../navigation/view-controller"),h=function(t){function e(e,r,i,o,a,s){var u=t.call(this,e,a,s,"slides")||this;if(u._plt=r,u._control=null,u._effectName="slide",u._direction="horizontal",u._initialSlide=0,u._isLoop=!1,u._pager=!1,u._paginationType="bullets",u.paginationBulletRender=null,u._isParallax=!1,u._speedMs=300,u._isZoom=!1,u.virtualTranslate=!1,u.roundLengths=!1,u._spaceBetween=0,u._slidesPerView=1,u._centeredSlides=!1,u.slidesPerColumn=1,u.slidesPerColumnFill="column",u.slidesPerGroup=1,u.slidesOffsetBefore=0,u.slidesOffsetAfter=0,u.autoplayDisableOnInteraction=!0,u.autoplayStopOnLast=!1,u.freeMode=!1,u.freeModeMomentum=!0,u.freeModeMomentumRatio=1,u.freeModeMomentumBounce=!0,u.freeModeMomentumBounceRatio=1,u.freeModeMomentumVelocityRatio=1,u.freeModeSticky=!1,u.freeModeMinimumVelocity=.02,u.autoHeight=!1,u.setWrapperSize=!1,u.zoomMax=3,u.zoomMin=1,u.zoomToggle=!0,u.touchRatio=1,u.touchAngle=45,u.simulateTouch=!0,u.shortSwipes=!0,u.longSwipes=!0,u.longSwipesRatio=.5,u.longSwipesMs=300,u.followFinger=!0,u.onlyExternal=!1,u.threshold=0,u.touchMoveStopPropagation=!0,u.touchReleaseOnEdges=!1,u.iOSEdgeSwipeDetection=!1,u.iOSEdgeSwipeThreshold=20,u.paginationClickable=!1,u.paginationHide=!1,u.resistance=!0,u.resistanceRatio=.85,u.watchSlidesProgress=!1,u.watchSlidesVisibility=!1,u.preventClicks=!0,u.preventClicksPropagation=!0,u.slideToClickedSlide=!1,u.loopAdditionalSlides=0,u.loopedSlides=null,u.swipeHandler=null,u.noSwiping=!0,u.runCallbacksOnInit=!0,u.controlBy="slide",u.controlInverse=!1,u.keyboardControl=!0,u.coverflow={rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},u.flip={slideShadows:!0,limitRotation:!0},u.cube={slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},u.fade={crossFade:!1},u.prevSlideMessage="Previous slide",u.nextSlideMessage="Next slide",u.firstSlideMessage="This is the first slide",u.lastSlideMessage="This is the last slide",u.ionSlideWillChange=new n.EventEmitter,u.ionSlideDidChange=new n.EventEmitter,u.ionSlideDrag=new n.EventEmitter,u.ionSlideReachStart=new n.EventEmitter,u.ionSlideReachEnd=new n.EventEmitter,u.ionSlideAutoplay=new n.EventEmitter,u.ionSlideAutoplayStart=new n.EventEmitter,u.ionSlideAutoplayStop=new n.EventEmitter,u.ionSlideNextStart=new n.EventEmitter,u.ionSlidePrevStart=new n.EventEmitter,u.ionSlideNextEnd=new n.EventEmitter,u.ionSlidePrevEnd=new n.EventEmitter,u.ionSlideTap=new n.EventEmitter,u.ionSlideDoubleTap=new n.EventEmitter,u.ionSlideProgress=new n.EventEmitter,u.ionSlideTransitionStart=new n.EventEmitter,u.ionSlideTransitionEnd=new n.EventEmitter,u.ionSlideTouchStart=new n.EventEmitter,u.ionSlideTouchEnd=new n.EventEmitter,u._unregs=[],u._allowSwipeToNext=!0,u._allowSwipeToPrev=!0,u._zone=i,u.id=++m,u.slideId="slides-"+u.id,u.setElementClass(u.slideId,!0),o)var l=o.readReady.subscribe(function(){l.unsubscribe(),u._initSlides()});return u}return a(e,t),Object.defineProperty(e.prototype,"autoplay",{get:function(){return this._autoplayMs},set:function(t){this._autoplayMs=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},set:function(t){(t instanceof e||Array.isArray(t))&&(this._control=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effectName},set:function(t){p.SWIPER_EFFECTS[t]&&(this._effectName=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){"horizontal"!==t&&"vertical"!==t||(this._direction=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialSlide",{get:function(){return this._initialSlide},set:function(t){this._initialSlide=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._isLoop},set:function(t){this._isLoop=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pager",{get:function(){return this._pager},set:function(t){this._pager=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{set:function(t){this._rtl="rtl"===t.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginationType",{get:function(){return this._paginationType},set:function(t){"bullets"!==t&&"fraction"!==t&&"progress"!==t||(this._paginationType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parallax",{get:function(){return this._isParallax},set:function(t){this._isParallax=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speedMs},set:function(t){this._speedMs=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoom",{get:function(){return this._isZoom},set:function(t){this._isZoom=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spaceBetween",{get:function(){return this._spaceBetween},set:function(t){this._spaceBetween=parseInt(t,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slidesPerView",{get:function(){return this._slidesPerView},set:function(t){this._slidesPerView="auto"===t?"auto":parseFloat(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centeredSlides",{get:function(){return this._centeredSlides},set:function(t){this._centeredSlides=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),e.prototype._initSlides=function(){if(!this._init){var t=this._plt;this.container=this.getNativeElement().children[0],f.initSwiper(this,t),this._unregs.push(u.initEvents(this,t)),this.zoom&&this._unregs.push(l.initZoom(this,t)),this.keyboardControl&&this.enableKeyboardControl(!0),this._init=!0}},e.prototype.ngAfterContentInit=function(){var t=this;this._plt.timeout(function(){t._initSlides()},300)},e.prototype.update=function(t){var e=this;void 0===t&&(t=300),this._init&&(this._plt.cancelTimeout(this._tmr),this._tmr=this._plt.timeout(function(){f.update(e,e._plt),e.length()>10&&(e.paginationType=void 0)},t))},e.prototype.resize=function(){},e.prototype.slideTo=function(t,e,n){f.slideTo(this,this._plt,t,e,n)},e.prototype.slideNext=function(t,e){f.slideNext(this,this._plt,e,t,!0)},e.prototype.slidePrev=function(t,e){f.slidePrev(this,this._plt,e,t,!0)},e.prototype.getActiveIndex=function(){return this._activeIndex},e.prototype.getPreviousIndex=function(){return this._previousIndex},e.prototype.length=function(){return this._slides.length},e.prototype.isEnd=function(){return this._isEnd},e.prototype.isBeginning=function(){return this._isBeginning},e.prototype.startAutoplay=function(){f.startAutoplay(this,this._plt)},e.prototype.stopAutoplay=function(){f.stopAutoplay(this)},e.prototype.lockSwipeToNext=function(t){this._allowSwipeToNext=!t},e.prototype.lockSwipeToPrev=function(t){this._allowSwipeToPrev=!t},e.prototype.lockSwipes=function(t){this._allowSwipeToNext=this._allowSwipeToPrev=!t},e.prototype.enableKeyboardControl=function(t){i.enableKeyboardControl(this,this._plt,t)},e.prototype.ngOnDestroy=function(){this._init=!1,this._unregs.forEach(function(t){t()}),this._unregs.length=0,f.destroySwiper(this),this.enableKeyboardControl(!1)},e.decorators=[{type:n.Component,args:[{selector:"ion-slides",template:'<div class="swiper-container" [attr.dir]="_rtl? \'rtl\' : null"><div class="swiper-wrapper"><ng-content></ng-content></div><div [class.hide]="!pager" class="swiper-pagination"></div></div>',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:r.Config},{type:c.Platform},{type:n.NgZone},{type:d.ViewController,decorators:[{type:n.Optional}]},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={autoplay:[{type:n.Input}],control:[{type:n.Input}],effect:[{type:n.Input}],direction:[{type:n.Input}],initialSlide:[{type:n.Input}],loop:[{type:n.Input}],pager:[{type:n.Input}],dir:[{type:n.Input}],paginationType:[{type:n.Input}],parallax:[{type:n.Input}],speed:[{type:n.Input}],zoom:[{type:n.Input}],spaceBetween:[{type:n.Input}],slidesPerView:[{type:n.Input}],centeredSlides:[{type:n.Input}],ionSlideWillChange:[{type:n.Output}],ionSlideDidChange:[{type:n.Output}],ionSlideDrag:[{type:n.Output}],ionSlideReachStart:[{type:n.Output}],ionSlideReachEnd:[{type:n.Output}],ionSlideAutoplay:[{type:n.Output}],ionSlideAutoplayStart:[{type:n.Output}],ionSlideAutoplayStop:[{type:n.Output}],ionSlideNextStart:[{type:n.Output}],ionSlidePrevStart:[{type:n.Output}],ionSlideNextEnd:[{type:n.Output}],ionSlidePrevEnd:[{type:n.Output}],ionSlideTap:[{type:n.Output}],ionSlideDoubleTap:[{type:n.Output}]},e}(o.Ion);e.Slides=h;var m=-1})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n){var i,o,a,s=t._rtl?-1:1;i=e.getAttribute("data-swiper-parallax")||"0",o=e.getAttribute("data-swiper-parallax-x"),a=e.getAttribute("data-swiper-parallax-y"),o||a?(o=o||"0",a=a||"0"):r.isHorizontal(t)?(o=i,a="0"):(a=i,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*n*s+"%":o*n*s+"px",a=a.indexOf("%")>=0?parseInt(a,10)*n+"%":a*n+"px",r.transform(e,"translate3d("+o+", "+a+",0px)")}Object.defineProperty(e,"__esModule",{value:!0});var r=t("./swiper-utils");e.parallaxSetTranslate=function(t){r.eachChild(t.container,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]",function(e){n(t,e,t.progress)});for(var e=0;e<t._slides.length;e++){var i=t._slides[e];r.eachChild(i,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]",function(){var e=Math.min(Math.max(i.progress,-1),1);n(t,i,e)})}},e.parallaxSetTransition=function(t,e){void 0===e&&(e=t.speed),r.eachChild(t.container,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]",function(t){var n=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(n=0),r.transition(t,n)})}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32),n(193)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY,r=t.targetTouches[1].pageX,i=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))}function r(t,e,r){var i=t._zoom;if(t.originalEvent=r,!t._supportGestures){if("touchstart"!==r.type||"touchstart"===r.type&&r.targetTouches.length<2)return;i.gesture.scaleStart=n(r)}if(!i.gesture.slide&&(r.currentTarget&&r.currentTarget.classList.contains(l.CLS.slide)&&(i.gesture.slide=r.currentTarget),i.gesture.slide||(i.gesture.slide=t._slides[t._activeIndex]),i.gesture.image=i.gesture.slide.querySelector("img, svg, canvas, ion-img"),i.gesture.image)){if(i.gesture.imageWrap=i.gesture.image.closest("."+l.CLS.zoomContainer),!i.gesture.imageWrap)return void(i.gesture.image=void 0);i.gesture.zoomMax=parseInt(i.gesture.imageWrap.getAttribute("data-swiper-zoom")||t.zoomMax,10)}l.transition(i.gesture.image,0),i.isScaling=!0}function i(t,e,r){var i=t._zoom;if(t.originalEvent=r,!t._supportGestures){if("touchmove"!==r.type||"touchmove"===r.type&&r.targetTouches.length<2)return;i.gesture.scaleMove=n(r)}i.gesture.image&&(i.scale=t._supportGestures?r.scale*i.currentScale:i.gesture.scaleMove/i.gesture.scaleStart*i.currentScale,i.scale>i.gesture.zoomMax&&(i.scale=i.gesture.zoomMax-1+Math.pow(i.scale-i.gesture.zoomMax+1,.5)),i.scale<t.zoomMin&&(i.scale=t.zoomMin+1-Math.pow(t.zoomMin-i.scale+1,.5)),l.transform(i.gesture.image,"translate3d(0,0,0) scale("+i.scale+")"))}function o(t,e,n){var r=t._zoom;t.originalEvent=n,!t._supportGestures&&("touchend"!==n.type||"touchend"===n.type&&n.changedTouches.length<2)||r.gesture.image&&(r.scale=Math.max(Math.min(r.scale,r.gesture.zoomMax),t.zoomMin),l.transition(r.gesture.image,t.speed),l.transform(r.gesture.image,"translate3d(0,0,0) scale("+r.scale+")"),r.currentScale=r.scale,r.isScaling=!1,1===r.scale&&(r.gesture.slide=void 0))}function a(t,e,n){var r=t._zoom;if(t.originalEvent=n,r.gesture.image&&(t._allowClick=!1,r.image.isTouched&&r.gesture.slide)){r.image.isMoved||(r.image.width=r.gesture.image.offsetWidth,r.image.height=r.gesture.image.offsetHeight,r.image.startX=c.getTranslate(t,e,r.gesture.imageWrap,"x")||0,r.image.startY=c.getTranslate(t,e,r.gesture.imageWrap,"y")||0,r.gesture.slideWidth=r.gesture.slide.offsetWidth,r.gesture.slideHeight=r.gesture.slide.offsetHeight,l.transition(r.gesture.imageWrap,0),t._rtl&&(r.image.startX=-r.image.startX,r.image.startY=-r.image.startY));var i=r.image.width*r.scale,o=r.image.height*r.scale;if(!(i<r.gesture.slideWidth&&o<r.gesture.slideHeight)){if(r.image.minX=Math.min(r.gesture.slideWidth/2-i/2,0),r.image.maxX=-r.image.minX,r.image.minY=Math.min(r.gesture.slideHeight/2-o/2,0),r.image.maxY=-r.image.minY,r.image.touchesCurrent.x="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,r.image.touchesCurrent.y="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY,!r.image.isMoved&&!r.isScaling){if(l.isHorizontal(t)&&Math.floor(r.image.minX)===Math.floor(r.image.startX)&&r.image.touchesCurrent.x<r.image.touchesStart.x||Math.floor(r.image.maxX)===Math.floor(r.image.startX)&&r.image.touchesCurrent.x>r.image.touchesStart.x)return void(r.image.isTouched=!1);if(!l.isHorizontal(t)&&Math.floor(r.image.minY)===Math.floor(r.image.startY)&&r.image.touchesCurrent.y<r.image.touchesStart.y||Math.floor(r.image.maxY)===Math.floor(r.image.startY)&&r.image.touchesCurrent.y>r.image.touchesStart.y)return void(r.image.isTouched=!1)}n.preventDefault(),n.stopPropagation(),r.image.isMoved=!0,r.image.currentX=r.image.touchesCurrent.x-r.image.touchesStart.x+r.image.startX,r.image.currentY=r.image.touchesCurrent.y-r.image.touchesStart.y+r.image.startY,r.image.currentX<r.image.minX&&(r.image.currentX=r.image.minX+1-Math.pow(r.image.minX-r.image.currentX+1,.8)),r.image.currentX>r.image.maxX&&(r.image.currentX=r.image.maxX-1+Math.pow(r.image.currentX-r.image.maxX+1,.8)),r.image.currentY<r.image.minY&&(r.image.currentY=r.image.minY+1-Math.pow(r.image.minY-r.image.currentY+1,.8)),r.image.currentY>r.image.maxY&&(r.image.currentY=r.image.maxY-1+Math.pow(r.image.currentY-r.image.maxY+1,.8)),r.velocity.prevPositionX||(r.velocity.prevPositionX=r.image.touchesCurrent.x),r.velocity.prevPositionY||(r.velocity.prevPositionY=r.image.touchesCurrent.y),r.velocity.prevTime||(r.velocity.prevTime=Date.now()),r.velocity.x=(r.image.touchesCurrent.x-r.velocity.prevPositionX)/(Date.now()-r.velocity.prevTime)/2,r.velocity.y=(r.image.touchesCurrent.y-r.velocity.prevPositionY)/(Date.now()-r.velocity.prevTime)/2,Math.abs(r.image.touchesCurrent.x-r.velocity.prevPositionX)<2&&(r.velocity.x=0),Math.abs(r.image.touchesCurrent.y-r.velocity.prevPositionY)<2&&(r.velocity.y=0),r.velocity.prevPositionX=r.image.touchesCurrent.x,r.velocity.prevPositionY=r.image.touchesCurrent.y,r.velocity.prevTime=Date.now(),l.transform(r.gesture.imageWrap,"translate3d("+r.image.currentX+"px, "+r.image.currentY+"px,0)")}}}function s(t,e){u(t);var n,s=t._zoom.unRegs,c={passive:"touchstart"===t._touchEvents.start,zone:!1},f=t._slides;if(t._supportGestures)for(var p=0;p<f.length;p++)e.registerListener(n=f[p],"gesturestart",function(e){r(t,0,e)},c,s),e.registerListener(n,"gesturechange",function(e){i(t,0,e)},c,s),e.registerListener(n,"gestureend",function(e){o(t,0,e)},c,s);else if("touchstart"===t._touchEvents.start)for(p=0;p<f.length;p++)e.registerListener(n=f[p],t._touchEvents.start,function(e){r(t,0,e)},c,s),e.registerListener(n,t._touchEvents.move,function(e){i(t,0,e)},c,s),e.registerListener(n,t._touchEvents.end,function(e){o(t,0,e)},c,s);var d=t.ionSlideTouchStart.subscribe(function(n){!function(t,e,n){var r=t._zoom;t.originalEvent=n,r.gesture.image&&!r.image.isTouched&&(e.is("android")&&n.preventDefault(),r.image.isTouched=!0,r.image.touchesStart.x="touchstart"===n.type?n.targetTouches[0].pageX:n.pageX,r.image.touchesStart.y="touchstart"===n.type?n.targetTouches[0].pageY:n.pageY)}(t,e,n)});s.push(function(){d.unsubscribe()});for(p=0;p<f.length;p++)(n=f[p]).querySelector("."+l.CLS.zoomContainer)&&e.registerListener(n,"s.touchEvents.move",function(n){a(t,e,n)},c,s);var h=t.ionSlideTouchEnd.subscribe(function(){!function(t){var e=t._zoom;if(e.gesture.image){if(!e.image.isTouched||!e.image.isMoved)return e.image.isTouched=!1,void(e.image.isMoved=!1);e.image.isTouched=!1,e.image.isMoved=!1;var n=300,r=300,i=e.image.currentX+e.velocity.x*n,o=e.image.currentY+e.velocity.y*r;0!==e.velocity.x&&(n=Math.abs((i-e.image.currentX)/e.velocity.x)),0!==e.velocity.y&&(r=Math.abs((o-e.image.currentY)/e.velocity.y));var a=Math.max(n,r);e.image.currentX=i,e.image.currentY=o;var s=e.image.width*e.scale,u=e.image.height*e.scale;e.image.minX=Math.min(e.gesture.slideWidth/2-s/2,0),e.image.maxX=-e.image.minX,e.image.minY=Math.min(e.gesture.slideHeight/2-u/2,0),e.image.maxY=-e.image.minY,e.image.currentX=Math.max(Math.min(e.image.currentX,e.image.maxX),e.image.minX),e.image.currentY=Math.max(Math.min(e.image.currentY,e.image.maxY),e.image.minY),l.transition(e.gesture.imageWrap,a),l.transform(e.gesture.imageWrap,"translate3d("+e.image.currentX+"px, "+e.image.currentY+"px,0)")}}(t)});s.push(function(){h.unsubscribe()});var m=t.ionSlideTouchEnd.subscribe(function(){!function(t){var e=t._zoom;e.gesture.slide&&t._previousIndex!==t._activeIndex&&(l.transform(e.gesture.image,"translate3d(0,0,0) scale(1)"),l.transform(e.gesture.imageWrap,"translate3d(0,0,0)"),e.gesture.slide=e.gesture.image=e.gesture.imageWrap=void 0,e.scale=e.currentScale=1)}(t)});if(s.push(function(){m.unsubscribe()}),t.zoomToggle){var g=t.ionSlideDoubleTap.subscribe(function(){!function(t,e){var n=t._zoom,r=t.originalEvent;if(n.gesture.slide||(n.gesture.slide=t.clickedSlide?t.clickedSlide:t._slides[t._activeIndex],n.gesture.image=n.gesture.slide.querySelector("img, svg, canvas, ion-img"),n.gesture.imageWrap=n.gesture.image&&n.gesture.image.closest("."+l.CLS.zoomContainer)),n.gesture.imageWrap){var i,o,a,s,u,c,f,p,d,h,m,g,v,y;if(void 0===n.image.touchesStart.x&&r?(i="touchend"===r.type?r.changedTouches[0].pageX:r.pageX,o="touchend"===r.type?r.changedTouches[0].pageY:r.pageY):(i=n.image.touchesStart.x,o=n.image.touchesStart.y),n.scale&&1!==n.scale)n.scale=n.currentScale=1,l.transition(n.gesture.imageWrap,300),l.transform(n.gesture.imageWrap,"translate3d(0,0,0)"),l.transition(n.gesture.image,300),l.transform(n.gesture.image,"translate3d(0,0,0) scale(1)"),n.gesture.slide=void 0;else{if(n.scale=n.currentScale=parseInt(n.gesture.imageWrap.getAttribute("data-swiper-zoom")||t.zoomMax,10),r){v=n.gesture.slide.offsetWidth,y=n.gesture.slide.offsetHeight;var b=l.offset(n.gesture.slide,e);a=b.left+v/2-i,s=b.top+y/2-o,f=n.gesture.image.offsetWidth*n.scale,p=n.gesture.image.offsetHeight*n.scale,m=-(d=Math.min(v/2-f/2,0)),g=-(h=Math.min(y/2-p/2,0)),c=s*n.scale,(u=a*n.scale)<d&&(u=d),u>m&&(u=m),c<h&&(c=h),c>g&&(c=g)}else u=0,c=0;l.transition(n.gesture.imageWrap,300),l.transform(n.gesture.imageWrap,"translate3d("+u+"px, "+c+"px,0)"),l.transition(n.gesture.image,300),l.transform(n.gesture.image,"translate3d(0,0,0) scale("+n.scale+")")}}}(t,e)});s.push(function(){g.unsubscribe()})}}function u(t){t._zoom.unRegs.forEach(function(t){t()}),t._zoom.unRegs.length=0}Object.defineProperty(e,"__esModule",{value:!0});var l=t("./swiper-utils"),c=t("./swiper-transition");e.initZoom=function(t,e){return t._supportGestures="ongesturestart"in e.win(),t._zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:t.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},unRegs:[]},s(t,e),function(){u(t)}},e.resetZoomEvents=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(51),n(97),n(11),n(3),n(24),n(9),n(4),n(59),n(31),n(56),n(117),n(75),n(5),n(334),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("rxjs/Subject");t("rxjs/add/operator/takeUntil");var i=t("../app/app"),o=t("../../config/config"),s=t("../../navigation/deep-linker"),u=t("../ion"),l=t("../../util/util"),c=t("../../platform/keyboard"),f=t("../../navigation/nav-controller"),p=t("../../navigation/nav-util"),d=t("../../navigation/url-serializer"),h=t("../split-pane/split-pane"),m=t("../../platform/platform"),g=t("./tab-highlight"),v=t("../../navigation/view-controller"),y=function(t){function e(e,i,o,a,s,u,l,c,f){var p=t.call(this,a,s,l,"tabs")||this;p.viewCtrl=i,p._app=o,p._plt=u,p._linker=c,p._ids=-1,p._tabs=[],p._selectHistory=[],p._onDestroy=new r.Subject,p.ionChange=new n.EventEmitter,p.parent=e,p.id="t"+ ++b,p._sbPadding=a.getBoolean("statusbarPadding"),p.tabsHighlight=a.getBoolean("tabsHighlight"),p.parent?p.parent.registerChildNav(p):i&&i.getNav()?(p.parent=i.getNav(),p.parent.registerChildNav(p)):p._app&&p._app.registerRootNav(p),i&&(i._setContent(p),i._setContentRef(s));var d=a.getBoolean("keyboardResizes",!1);return f&&d&&(f.willHide.takeUntil(p._onDestroy).subscribe(function(){p._plt.timeout(function(){return p.setTabbarHidden(!1)},50)}),f.willShow.takeUntil(p._onDestroy).subscribe(function(){return p.setTabbarHidden(!0)})),p}return a(e,t),e.prototype.setTabbarHidden=function(t){this.setElementClass("tabbar-hidden",t),this.resize()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this.parent?this.parent.unregisterChildNav(this):this._app.unregisterRootNav(this)},e.prototype.ngAfterViewInit=function(){var t=this;this._setConfig("tabsPlacement","bottom"),this._setConfig("tabsLayout","icon-top"),this._setConfig("tabsHighlight",this.tabsHighlight),this.tabsHighlight&&this._plt.resize.takeUntil(this._onDestroy).subscribe(function(){return t._highlight.select(t.getSelected())}),this.initTabs()},e.prototype.initTabs=function(){var t=this,e=l.isBlank(this.selectedIndex)?0:parseInt(this.selectedIndex,10),n=this._linker.getSegmentByNavIdOrName(this.id,this.name);n&&(e=this._getSelectedTabIndex(n.secondaryId,e));var r=this._tabs.find(function(t,n){return n===e&&t.enabled&&t.show});r||(r=this._tabs.find(function(t){return t.enabled&&t.show}));var i=Promise.resolve();return r&&(r._segment=n,i=this.select(r)),i.then(function(){t._tabs.forEach(function(t){t.updateHref(t.root,t.rootParams)})})},e.prototype._setConfig=function(t,e){var n=this[t];l.isBlank(n)&&(n=this._config.get(t,e)),this.setElementAttribute(t,n)},e.prototype.add=function(t){return this._tabs.push(t),this.id+"-"+ ++this._ids},e.prototype.select=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n=!1);var i="number"==typeof t?this.getByIndex(t):t;if(l.isBlank(i))return Promise.resolve();var o=this.getSelected();if(i===o&&o.getActive())return this._updateCurrentTab(i,n);if(i.root){var a;o&&(a=o.getActive())&&a._willLeave(!1);var s=i.getActive();return s&&s._willEnter(),e.animate=!1,i.load(e).then(function(){r._tabSwitchEnd(i,s,a),!1!==e.updateUrl&&r._linker.navChange(p.DIRECTION_SWITCH),r._fireChangeEvent(i)})}return this._fireChangeEvent(i),Promise.resolve()},e.prototype._fireChangeEvent=function(t){t.ionSelect.emit(t),this.ionChange.emit(t)},e.prototype._tabSwitchEnd=function(t,e,n){for(var r,i=this._tabs,o=0;o<i.length;o++)(r=i[o]).setSelected(r===t);this.tabsHighlight&&this._highlight.select(t),e&&(e._didEnter(),this._app.viewDidEnter.emit(e)),n&&(n&&n._didLeave(),this._app.viewDidLeave.emit(n)),this._selectHistory[this._selectHistory.length-1]!==t.id&&this._selectHistory.push(t.id)},e.prototype.previousTab=function(t){var e=this;void 0===t&&(t=!0);for(var n=this._selectHistory.length-2;n>=0;n--){var r=this._tabs.find(function(t){return t.id===e._selectHistory[n]});if(r&&r.enabled&&r.show)return t&&this._selectHistory.splice(n+1),r}return null},e.prototype.getByIndex=function(t){return this._tabs[t]},e.prototype.getSelected=function(){for(var t=this._tabs,e=0;e<t.length;e++)if(t[e].isSelected)return t[e];return null},e.prototype.getActiveChildNavs=function(){var t=this.getSelected();return t?[t]:[]},e.prototype.getAllChildNavs=function(){return this._tabs},e.prototype.getIndex=function(t){return this._tabs.indexOf(t)},e.prototype.length=function(){return this._tabs.length},e.prototype._updateCurrentTab=function(t,e){var n=t.getActive();if(n){if(e&&t._segment){var r=t.getViewById(t._segment.name);return r?t.popTo(r,{animate:!1,updateUrl:!1}):0===t._views.length&&t._segment.defaultHistory&&t._segment.defaultHistory.length?this._linker.initViews(t._segment).then(function(e){return t.setPages(e,{animate:!1,updateUrl:!1})}).then(function(){t._segment=null}):t.setRoot(t._segment.name,t._segment.data,{animate:!1,updateUrl:!1}).then(function(){t._segment=null})}return n._cmp&&n._cmp.instance.ionSelected?(n._cmp.instance.ionSelected(),Promise.resolve()):t.length()>1?t.popToRoot():p.getComponent(this._linker,t.root).then(function(e){if(e.component!==n.component)return t.setRoot(t.root)}).catch(function(){})}},e.prototype.setTabbarPosition=function(t,e){if(this._top!==t||this._bottom!==e){var n=this._tabbar.nativeElement;n.style.top=t>-1?t+"px":"",n.style.bottom=e>-1?e+"px":"",n.classList.add("show-tabbar"),this._top=t,this._bottom=e}},e.prototype.resize=function(){var t=this.getSelected();t&&t.resize()},e.prototype.initPane=function(){return this._elementRef.nativeElement.hasAttribute("main")},e.prototype.paneChanged=function(t){t&&this.resize()},e.prototype.goToRoot=function(t){if(this._tabs.length)return this.select(this._tabs[0],t)},e.prototype.getType=function(){return"tabs"},e.prototype.getSecondaryIdentifier=function(){var t=this.getActiveChildNavs();return t&&t.length?this._linker._getTabSelector(t[0]):""},e.prototype._getSelectedTabIndex=function(t,e){void 0===t&&(t=""),void 0===e&&(e=0);var n=t.match(/tab-(\d+)/);if(n)return parseInt(n[1],10);var r=this._tabs.find(function(e){return l.isPresent(e.tabUrlPath)&&e.tabUrlPath===t||l.isPresent(e.tabTitle)&&d.formatUrlPart(e.tabTitle)===t});return l.isPresent(r)?r.index:e},e.decorators=[{type:n.Component,args:[{selector:"ion-tabs",template:'<div class="tabbar" role="tablist" #tabbar><a *ngFor="let t of _tabs" [tab]="t" class="tab-button" role="tab" href="#" (ionSelect)="select(t)"></a><div class="tab-highlight"></div></div><ng-content></ng-content><div #portal tab-portal></div>',encapsulation:n.ViewEncapsulation.None,providers:[{provide:h.RootNode,useExisting:n.forwardRef(function(){return e})}]}]}],e.ctorParameters=function(){return[{type:f.NavController,decorators:[{type:n.Optional}]},{type:v.ViewController,decorators:[{type:n.Optional}]},{type:i.App},{type:o.Config},{type:n.ElementRef},{type:m.Platform},{type:n.Renderer},{type:s.DeepLinker},{type:c.Keyboard}]},e.propDecorators={name:[{type:n.Input}],selectedIndex:[{type:n.Input}],tabsLayout:[{type:n.Input}],tabsPlacement:[{type:n.Input}],tabsHighlight:[{type:n.Input}],ionChange:[{type:n.Output}],_highlight:[{type:n.ViewChild,args:[g.TabHighlight]}],_tabbar:[{type:n.ViewChild,args:["tabbar"]}],portal:[{type:n.ViewChild,args:["portal",{read:n.ViewContainerRef}]}]},e}(u.Ion);e.Tabs=y;var b=-1})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(12)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../platform/dom-controller"),i=function(){function t(t,e){this._elementRef=t,this._dom=e}return t.prototype.select=function(t){var e=this;if(t){var n=this._dom;n.read(function(){var r=t.btn.getNativeElement(),i="translate3d("+r.offsetLeft+"px,0,0) scaleX("+r.offsetWidth+")";n.write(function(){var t=e._elementRef.nativeElement;t.style[n.plt.Css.transform]=i,e._init||(e._init=!0,n.write(function(){t.classList.add("animate")},80))})},32)}},t.decorators=[{type:n.Directive,args:[{selector:".tab-highlight"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:r.DomController}]},t}();e.TabHighlight=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(729)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("./toast"),a=function(){function t(t,e){this._app=t,this.config=e}return t.prototype.create=function(t){return void 0===t&&(t={}),new o.Toast(this._app,t,this.config)},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:r.App},{type:i.Config}]},t}();e.ToastController=a})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(t){this.templateRef=t}return t.decorators=[{type:n.Directive,args:[{selector:"[virtualFooter]"}]}],t.ctorParameters=function(){return[{type:n.TemplateRef}]},t}();e.VirtualFooter=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(t){this.templateRef=t}return t.decorators=[{type:n.Directive,args:[{selector:"[virtualHeader]"}]}],t.ctorParameters=function(){return[{type:n.TemplateRef}]},t}();e.VirtualHeader=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(t,e){this.templateRef=t,this.viewContainer=e}return t.decorators=[{type:n.Directive,args:[{selector:"[virtualItem]"}]}],t.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ViewContainerRef}]},t}();e.VirtualItem=r})},,function(t,e,n){"use strict";var r=n(50),i=n(135),o=n(200);e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},function(t,e,n){"use strict";var r=n(2).__extends,i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},function(t,e,n){"use strict";function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.noop}var i=n(344);e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r(t)},e.pipeFromArray=r},function(t,e,n){"use strict";e.noop=function(){}},function(t,e,n){"use strict";var r=n(21),i=n(346),o=n(203),a=n(348);e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return o.isScheduler(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.Observable?t[0]:a.mergeAll(n)(new i.ArrayObservable(t,s))}},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21),o=n(347),a=n(202),s=n(203);e.ArrayObservable=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];s.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new a.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable)},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21);e.ScalarObservable=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(i.Observable)},function(t,e,n){"use strict";var r=n(349),i=n(354);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeMap(i.identity,null,t)}},function(t,e,n){"use strict";var r=n(2).__extends,i=n(136),o=n(137);e.mergeMap=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new a(t,e,n))}};var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var s=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(i.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapSubscriber=s},function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},function(t,e,n){"use strict";e.isPromise=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}var i=n(62);e.symbolIteratorPonyfill=r,e.iterator=r(i.root),e.$$iterator=e.iterator},function(t,e,n){"use strict";var r=n(2).__extends,i=n(50);e.InnerSubscriber=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber)},function(t,e,n){"use strict";e.identity=function(t){return t}},function(t,e,n){"use strict";var r=n(356);e.share=function(){return r.share()(this)}},function(t,e,n){"use strict";function r(){return new a.Subject}var i=n(357),o=n(204),a=n(51);e.share=function(){return function(t){return o.refCount()(i.multicast(r)(t))}}},function(t,e,n){"use strict";var r=n(358);e.multicast=function(t,e){return function(n){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new i(o,e));var a=Object.create(n,r.connectableObservableDescriptor);return a.source=n,a.subjectFactory=o,a}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=i},function(t,e,n){"use strict";var r=n(2).__extends,i=n(51),o=n(21),a=(n(50),n(63)),s=n(204),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return s.refCount()(this)},e}(o.Observable);e.ConnectableObservable=u;var l=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber)},function(t,e,n){"use strict";var r=n(2).__extends,i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},function(t,e,n){"use strict";var r=n(2).__extends,i=n(63);e.SubjectSubscription=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(i.Subscription)},function(t,e,n){"use strict";var r=n(362);e.forkJoin=r.ForkJoinObservable.create},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21),o=n(202),a=n(197),s=n(136),u=n(137);e.ForkJoinObservable=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return r(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new o.EmptyObservable;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&a.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,r)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(i.Observable);var l=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=s.subscribeToResult(this,n[o],null,o);a&&(a.outerIndex=o,this.add(a))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.resultSelector,i=this.values,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(n===o){var a=r?r.apply(this,i):i;e.next(a)}e.complete()}}else e.complete()},e}(u.OuterSubscriber)},function(t,e,n){"use strict";var r=n(364);e.fromPromise=r.PromiseObservable.create},function(t,e,n){"use strict";function r(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function i(t){var e=t.subscriber;e.closed||e.error(t.err)}var o=n(2).__extends,a=n(62),s=n(21);e.PromiseObservable=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){a.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){a.root.setTimeout(function(){throw t})})},e}(s.Observable)},function(t,e,n){"use strict";var r=n(366);e.map=function(t,e){return r.map(t,e)(this)}},function(t,e,n){"use strict";var r=n(2).__extends,i=n(50);e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=o;var a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},function(t,e,n){"use strict";var r=n(368);e.takeUntil=function(t){return r.takeUntil(t)(this)}},function(t,e,n){"use strict";var r=n(2).__extends,i=n(137),o=n(136);e.takeUntil=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.notifier))},t}(),s=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},function(t,e,n){"use strict";var r=n(370);e.fromEvent=r.FromEventObservable.create},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21),o=n(199),a=n(133),s=n(134),u=n(63),l=Object.prototype.toString;e.FromEventObservable=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return r(e,t),e.create=function(t,n,r,i){return a.isFunction(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,r,i,o){var a;if(function(t){return!!t&&"[object NodeList]"===l.call(t)}(t)||function(t){return!!t&&"[object HTMLCollection]"===l.call(t)}(t))for(var s=0,c=t.length;s<c;s++)e.setupSubscription(t[s],n,r,i,o);else if(function(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var f=t;t.addEventListener(n,r,o),a=function(){return f.removeEventListener(n,r,o)}}else if(function(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var p=t;t.on(n,r),a=function(){return p.off(n,r)}}else{if(!function(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t))throw new TypeError("Invalid event target");var d=t;t.addListener(n,r),a=function(){return d.removeListener(n,r)}}i.add(new u.Subscription(a))},e.prototype._subscribe=function(t){var n=this.selector;e.setupSubscription(this.sourceObj,this.eventName,n?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var i=o.tryCatch(n).apply(void 0,e);i===s.errorObject?t.error(s.errorObject.e):t.next(i)}:function(e){return t.next(e)},t,this.options)},e}(i.Observable)},function(t,e,n){"use strict";var r=n(372);e._throw=r.ErrorObservable.create},function(t,e,n){"use strict";var r=n(2).__extends,i=n(21);e.ErrorObservable=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){t.subscriber.error(t.error)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;if(t.syncErrorThrowable=!0,r)return r.schedule(e.dispatch,0,{error:n,subscriber:t});t.error(n)},e}(i.Observable)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete s[t]}function i(t){if(u)setTimeout(i,0,t);else{var e=s[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var o,a=1,s={},u=!1,l=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){i(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},o=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;o=function(e){var n=l.createElement("script");n.onreadystatechange=function(){i(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(i,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return s[a]={callback:t,args:e},o(a),a++},c.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(20),n(18))},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);return[n,n===e?0:4-n%4]}function i(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function o(t,e,n){for(var r=[],o=e;o<n;o+=3)r.push(i((t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2])));return r.join("")}e.byteLength=function(t){var e=r(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){for(var e,n=r(t),i=n[0],o=n[1],a=new u(function(t,e,n){return 3*(e+n)/4-n}(0,i,o)),l=0,c=o>0?i-4:i,f=0;f<c;f+=4)e=s[t.charCodeAt(f)]<<18|s[t.charCodeAt(f+1)]<<12|s[t.charCodeAt(f+2)]<<6|s[t.charCodeAt(f+3)],a[l++]=e>>16&255,a[l++]=e>>8&255,a[l++]=255&e;return 2===o&&(e=s[t.charCodeAt(f)]<<2|s[t.charCodeAt(f+1)]>>4,a[l++]=255&e),1===o&&(e=s[t.charCodeAt(f)]<<10|s[t.charCodeAt(f+1)]<<4|s[t.charCodeAt(f+2)]>>2,a[l++]=e>>8&255,a[l++]=255&e),a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i=[],s=0,u=n-r;s<u;s+=16383)i.push(o(t,s,s+16383>u?u:s+16383));return 1===r?i.push(a[(e=t[n-1])>>2]+a[e<<4&63]+"=="):2===r&&i.push(a[(e=(t[n-2]<<8)+t[n-1])>>10]+a[e>>4&63]+a[e<<2&63]+"="),i.join("")};for(var a=[],s=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=l.length;c<f;++c)a[c]=l[c],s[l.charCodeAt(c)]=c;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=t[e+f];for(f+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,h=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=h,a/=256,l-=8);t[n+d-h]|=128*m}},,function(t,e,n){"use strict";function r(t,e,n){t.copy(e,n)}var i=n(8).Buffer,o=n(378);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,o=0;n;)r(n.data,e,o),o+=n.data.length,n=n.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(e,n(20))},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n(215),o=n(79);o.inherits=n(7),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(143)},function(t,e,n){t.exports=n(52)},function(t,e,n){t.exports=n(142).Transform},function(t,e,n){t.exports=n(142).PassThrough},function(t,e,n){function r(){this.init(),this._w=f,u.call(this,64,56)}function i(t){return t<<5|t>>>27}function o(t){return t<<30|t>>>2}function a(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}var s=n(7),u=n(65),l=n(8).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);s(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,s=0|this._c,u=0|this._d,l=0|this._e,f=0;f<16;++f)e[f]=t.readInt32BE(4*f);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var p=0;p<80;++p){var d=~~(p/20),h=i(n)+a(d,r,s,u)+l+e[p]+c[d]|0;l=u,u=s,s=o(r),r=n,n=h}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var t=l.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=p,l.call(this,64,56)}function i(t){return t<<1|t>>>31}function o(t){return t<<5|t>>>27}function a(t){return t<<30|t>>>2}function s(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}var u=n(7),l=n(65),c=n(8).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],p=new Array(80);u(r,l),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,u=0|this._c,l=0|this._d,c=0|this._e,p=0;p<16;++p)e[p]=t.readInt32BE(4*p);for(;p<80;++p)e[p]=i(e[p-3]^e[p-8]^e[p-14]^e[p-16]);for(var d=0;d<80;++d){var h=~~(d/20),m=o(n)+s(h,r,u,l)+c+e[d]+f[h]|0;c=l,l=u,u=a(r),r=n,n=m}this._a=n+this._a|0,this._b=r+this._b|0,this._c=u+this._c|0,this._d=l+this._d|0,this._e=c+this._e|0},r.prototype._hash=function(){var t=c.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=u,a.call(this,64,56)}var i=n(7),o=n(216),a=n(65),s=n(8).Buffer,u=new Array(64);i(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=u,a.call(this,128,112)}var i=n(7),o=n(217),a=n(65),s=n(8).Buffer,u=new Array(160);i(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=s.allocUnsafe(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=r},function(t,e,n){"use strict";function r(t,e){a.call(this,"digest"),"string"==typeof e&&(e=o.from(e)),this._alg=t,this._key=e,e.length>u?e=t(e):e.length<u&&(e=o.concat([e,s],u));for(var n=this._ipad=o.allocUnsafe(u),r=this._opad=o.allocUnsafe(u),i=0;i<u;i++)n[i]=54^e[i],r[i]=92^e[i];this._hash=[n]}var i=n(7),o=n(8).Buffer,a=n(43),s=o.alloc(128),u=64;i(r,a),r.prototype._update=function(t){this._hash.push(t)},r.prototype._final=function(){var t=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,t]))},t.exports=r},function(t,e,n){t.exports=n(220)},function(t,e,n){(function(e,r){function i(t,e,n,r,i){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)}).then(function(t){return l.from(t)})}var o,a=n(222),s=n(223),u=n(224),l=n(8).Buffer,c=e.crypto&&e.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];t.exports=function(t,n,d,h,m,g){"function"==typeof m&&(g=m,m=void 0);var v=f[(m=m||"sha1").toLowerCase()];if(!v||"function"!=typeof e.Promise)return r.nextTick(function(){var e;try{e=u(t,n,d,h,m)}catch(t){return g(t)}g(null,e)});if(a(t,n,d,h),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");l.isBuffer(t)||(t=l.from(t,s)),l.isBuffer(n)||(n=l.from(n,s)),function(t,e){t.then(function(t){r.nextTick(function(){e(null,t)})},function(t){r.nextTick(function(){e(t)})})}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==p[t])return p[t];var n=i(o=o||l.alloc(8),o,10,128,t).then(function(){return!0}).catch(function(){return!1});return p[t]=n,n}(v).then(function(e){return e?i(t,n,d,h,v):u(t,n,d,h,m)}),g)}}).call(e,n(20),n(18))},function(t,e,n){function r(t,e,n){if(t=t.toLowerCase(),s[t])return a.createCipheriv(t,e,n);if(u[t])return new o({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function i(t,e,n){if(t=t.toLowerCase(),s[t])return a.createDecipheriv(t,e,n);if(u[t])return new o({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}var o=n(393),a=n(148),s=n(149),u=n(408),l=n(103);e.createCipher=e.Cipher=function(t,e){t=t.toLowerCase();var n,i;if(s[t])n=s[t].key,i=s[t].iv;else{if(!u[t])throw new TypeError("invalid suite type");n=8*u[t].key,i=u[t].iv}var o=l(e,!1,n,i);return r(t,o.key,o.iv)},e.createCipheriv=e.Cipheriv=r,e.createDecipher=e.Decipher=function(t,e){t=t.toLowerCase();var n,r;if(s[t])n=s[t].key,r=s[t].iv;else{if(!u[t])throw new TypeError("invalid suite type");n=8*u[t].key,r=u[t].iv}var o=l(e,!1,n,r);return i(t,o.key,o.iv)},e.createDecipheriv=e.Decipheriv=i,e.listCiphers=e.getCiphers=function(){return Object.keys(u).concat(a.getCiphers())}},function(t,e,n){function r(t){i.call(this);var e,n=t.mode.toLowerCase(),r=u[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=s.concat([o,o.slice(0,8)]));var a=t.iv;s.isBuffer(a)||(a=s.from(a)),this._des=r.create({key:o,iv:a,type:e})}var i=n(43),o=n(147),a=n(7),s=n(8).Buffer,u={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],t.exports=r,a(r,i),r.prototype._update=function(t){return s.from(this._des.update(t))},r.prototype._final=function(){return s.from(this._des.final())}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=t>>>r[u]&1;for(u=s;u<r.length;u++)a<<=1,a|=e>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";function r(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var i=n(28);t.exports=r,r.prototype._init=function(){},r.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},r.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},r.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},r.prototype.final=function(t){var e;t&&(e=this.update(t));var n;return n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},r.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},r.prototype._unpad=function(t){return t},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){"use strict";function r(t){u.call(this,t);var e=new function(){this.tmp=new Array(2),this.keys=null};this._desState=e,this.deriveKeys(e,t.key)}var i=n(28),o=n(7),a=n(147),s=a.utils,u=a.Cipher;o(r,u),t.exports=r,r.create=function(t){return new r(t)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];r.prototype.deriveKeys=function(t,e){t.keys=new Array(32),i.equal(e.length,this.blockSize,"Invalid key length");var n=s.readUInt32BE(e,0),r=s.readUInt32BE(e,4);s.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=l[o>>>1];n=s.r28shl(n,a),r=s.r28shl(r,a),s.pc2(n,r,t.keys,o)}},r.prototype._update=function(t,e,n,r){var i=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),a=i.tmp[1],s.writeUInt32BE(n,o=i.tmp[0],r),s.writeUInt32BE(n,a,r+4)},r.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},r.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)i.equal(t[n],e);return t.slice(0,t.length-e)},r.prototype._encrypt=function(t,e,n,r,i){for(var o=e,a=n,u=0;u<t.keys.length;u+=2){var l=t.keys[u],c=t.keys[u+1];s.expand(a,t.tmp,0);var f=s.substitute(l^=t.tmp[0],c^=t.tmp[1]),p=a;a=(o^s.permute(f))>>>0,o=p}s.rip(a,o,r,i)},r.prototype._decrypt=function(t,e,n,r,i){for(var o=n,a=e,u=t.keys.length-2;u>=0;u-=2){var l=t.keys[u],c=t.keys[u+1];s.expand(o,t.tmp,0);var f=s.substitute(l^=t.tmp[0],c^=t.tmp[1]),p=o;o=(a^s.permute(f))>>>0,a=p}s.rip(o,a,r,i)}},function(t,e,n){"use strict";var r=n(28),i=n(7),o={};e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];e.prototype[a]=o[a]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new function(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this.constructor.super_.prototype,o=this._cbcState.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[e+a];i._update.call(this,o,0,n,r);for(a=0;a<this.blockSize;a++)o[a]=n[r+a]}else{i._update.call(this,t,e,n,r);for(a=0;a<this.blockSize;a++)n[r+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=t[e+a]}}},function(t,e,n){"use strict";function r(t){s.call(this,t);var e=new function(t,e){i.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[u.create({type:"encrypt",key:n}),u.create({type:"decrypt",key:r}),u.create({type:"encrypt",key:o})]:[u.create({type:"decrypt",key:o}),u.create({type:"encrypt",key:r}),u.create({type:"decrypt",key:n})]}(this.type,this.options.key);this._edeState=e}var i=n(28),o=n(7),a=n(147),s=a.Cipher,u=a.DES;o(r,s),t.exports=r,r.create=function(t){return new r(t)},r.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},r.prototype._pad=u.prototype._pad,r.prototype._unpad=u.prototype._unpad},function(t,e,n){function r(t,e,n){c.call(this),this._cache=new i,this._cipher=new f.AES(e),this._prev=u.from(n),this._mode=t,this._autopadding=!0}function i(){this.cache=u.allocUnsafe(0)}function o(t,e,n){var i=a[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=u.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=u.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new l(i.module,e,n):"auth"===i.type?new s(i.module,e,n):new r(i.module,e,n)}var a=n(149),s=n(228),u=n(8).Buffer,l=n(229),c=n(43),f=n(102),p=n(103);n(7)(r,c),r.prototype._update=function(t){this._cache.add(t);for(var e,n,r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return u.concat(r)};var d=u.alloc(16,16);r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},i.prototype.add=function(t){this.cache=u.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){for(var t=16-this.cache.length,e=u.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return u.concat([this.cache,e])},e.createCipheriv=o,e.createCipher=function(t,e){var n=a[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=p(e,!1,n.key,n.iv);return o(t,r.key,r.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(80);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){function r(t,e,n){var r=e.length,a=o(e,t._cache);return t._cache=t._cache.slice(r),t._prev=i.concat([t._prev,n?e:a]),a}var i=n(8).Buffer,o=n(80);e.encrypt=function(t,e,n){for(var o,a=i.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=i.allocUnsafe(0)),!(t._cache.length<=e.length)){a=i.concat([a,r(t,e,n)]);break}a=i.concat([a,r(t,e.slice(0,o=t._cache.length),n)]),e=e.slice(o)}return a}},function(t,e,n){function r(t,e,n){var r=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=i.concat([t._prev.slice(1),i.from([n?e:r])]),r}var i=n(8).Buffer;e.encrypt=function(t,e,n){for(var o=e.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(t,e[s],n);return a}},function(t,e,n){function r(t,e,n){for(var r,o,a=-1,s=0;++a<8;)s+=(128&(o=t._cipher.encryptBlock(t._prev)[0]^(r=e&1<<7-a?128:0)))>>a%8,t._prev=function(t,e){var n=t.length,r=-1,o=i.allocUnsafe(t.length);t=i.concat([t,i.from([e])]);for(;++r<n;)o[r]=t[r]<<1|t[r+1]>>7;return o}(t._prev,n?r:o);return s}var i=n(8).Buffer;e.encrypt=function(t,e,n){for(var o=e.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(t,e[s],n);return a}},function(t,e,n){(function(t){function r(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var i=n(80);e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,r(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),i(n,o)}}).call(e,n(14).Buffer)},function(t,e,n){function r(t){var e=o.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function i(t){this.h=t,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}var o=n(8).Buffer,a=o.alloc(16,0);i.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},i.prototype._multiply=function(){for(var t,e,n=function(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}(this.h),i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),e=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,e&&(n[0]=n[0]^225<<24)}this.state=r(i)},i.prototype.update=function(t){this.cache=o.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},i.prototype.final=function(t,e){return this.cache.length&&this.ghash(o.concat([this.cache,a],16)),this.ghash(r([0,t,0,e])),this.state},t.exports=i},function(t,e,n){function r(t,e,n){c.call(this),this._cache=new i,this._last=void 0,this._cipher=new f.AES(e),this._prev=s.from(n),this._mode=t,this._autopadding=!0}function i(){this.cache=s.allocUnsafe(0)}function o(t,e,n){var i=u[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=s.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=s.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===i.type?new l(i.module,e,n,!0):"auth"===i.type?new a(i.module,e,n,!0):new r(i.module,e,n)}var a=n(228),s=n(8).Buffer,u=n(149),l=n(229),c=n(43),f=n(102),p=n(103);n(7)(r,c),r.prototype._update=function(t){this._cache.add(t);for(var e,n,r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return s.concat(r)},r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var n=-1;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},i.prototype.add=function(t){this.cache=s.concat([this.cache,t])},i.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=u[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=p(e,!1,n.key,n.iv);return o(t,r.key,r.iv)},e.createDecipheriv=o},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){function r(e,n,o,u){return t.isBuffer(n)||void 0===s[n]?r(e,"binary",n,o):(n=n||"binary",u=u||"binary",o=o||new t([2]),t.isBuffer(o)||(o=new t(o,u)),"number"==typeof e?new a(i(e,o),o,!0):(t.isBuffer(e)||(e=new t(e,n)),new a(e,o,!0)))}var i=n(230),o=n(412),a=n(413),s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(o[e].prime,"hex"),r=new t(o[e].gen,"hex");return new a(n,r)},e.createDiffieHellman=e.DiffieHellman=r}).call(e,n(14).Buffer)},,,function(t,e){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(t,e,n){(function(e){function r(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new s(t),this}function i(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new s(t),this}function o(t,e,n){this.setGenerator(e),this.__prime=new s(t),this._prime=s.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=r,this.setPrivateKey=i):this._primeCode=8}function a(t,n){var r=new e(t.toArray());return n?r.toString(n):r}var s=n(15),u=new(n(231)),l=new s(24),c=new s(11),f=new s(10),p=new s(3),d=new s(7),h=n(230),m=n(64);t.exports=o;var g={};Object.defineProperty(o.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in g)return g[r];var i=0;if(t.isEven()||!h.simpleSieve||!h.fermatTest(t)||!u.test(t))return i+=1,i+="02"===n||"05"===n?8:4,g[r]=i,i;u.test(t.shrn(1))||(i+=2);var o;switch(n){case"02":t.mod(l).cmp(c)&&(i+=8);break;case"05":(o=t.mod(f)).cmp(p)&&o.cmp(d)&&(i+=8);break;default:i+=4}return g[r]=i,i}(this.__prime,this.__gen)),this._primeCode}}),o.prototype.generateKeys=function(){return this._priv||(this._priv=new s(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},o.prototype.computeSecret=function(t){var n=(t=(t=new s(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new e(n.toArray()),i=this.getPrime();if(r.length<i.length){var o=new e(i.length-r.length);o.fill(0),r=e.concat([o,r])}return r},o.prototype.getPublicKey=function(t){return a(this._pub,t)},o.prototype.getPrivateKey=function(t){return a(this._priv,t)},o.prototype.getPrime=function(t){return a(this.__prime,t)},o.prototype.getGenerator=function(t){return a(this._gen,t)},o.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new s(t),this}}).call(e,n(14).Buffer)},function(t,e,n){(function(e){function r(t){u.Writable.call(this);var e=p[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=s(e.hash),this._tag=e.id,this._signType=e.sign}function i(t){u.Writable.call(this);var e=p[t];if(!e)throw new Error("Unknown message digest");this._hash=s(e.hash),this._tag=e.id,this._signType=e.sign}function o(t){return new r(t)}function a(t){return new i(t)}var s=n(78),u=n(140),l=n(7),c=n(415),f=n(451),p=n(220);Object.keys(p).forEach(function(t){p[t].id=new e(p[t].id,"hex"),p[t.toLowerCase()]=p[t]}),l(r,u.Writable),r.prototype._write=function(t,e,n){this._hash.update(t),n()},r.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},r.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=c(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},l(i,u.Writable),i.prototype._write=function(t,e,n){this._hash.update(t),n()},i.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},i.prototype.verify=function(t,n,r){"string"==typeof n&&(n=new e(n,r)),this.end();var i=this._hash.digest();return f(n,i,t,this._signType,this._tag)},t.exports={Sign:o,Verify:a,createSign:o,createVerify:a}}).call(e,n(14).Buffer)},function(t,e,n){(function(e){function r(t,n,r,o){if((t=new e(t.toArray())).length<n.byteLength()){var s=new e(n.byteLength()-t.length);s.fill(0),t=e.concat([s,t])}var u=r.length,l=function(t,n){t=(t=i(t,n)).mod(n);var r=new e(t.toArray());if(r.length<n.byteLength()){var o=new e(n.byteLength()-r.length);o.fill(0),r=e.concat([o,r])}return r}(r,n),c=new e(u);c.fill(1);var f=new e(u);return f.fill(0),f=a(o,f).update(c).update(new e([0])).update(t).update(l).digest(),c=a(o,f).update(c).digest(),f=a(o,f).update(c).update(new e([1])).update(t).update(l).digest(),c=a(o,f).update(c).digest(),{k:f,v:c}}function i(t,e){var n=new l(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function o(t,n,r){var o,s;do{for(o=new e(0);8*o.length<t.bitLength();)n.v=a(r,n.k).update(n.v).digest(),o=e.concat([o,n.v]);s=i(o,t),n.k=a(r,n.k).update(n.v).update(new e([0])).digest(),n.v=a(r,n.k).update(n.v).digest()}while(-1!==s.cmp(t));return s}var a=n(218),s=n(150),u=n(23).ec,l=n(15),c=n(106),f=n(241);t.exports=function(t,n,a,p,d){var h=c(n);if(h.curve){if("ecdsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");return function(t,n){var r=f[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new u(r).keyFromPrivate(n.privateKey).sign(t);return new e(i.toDER())}(t,h)}if("dsa"===h.type){if("dsa"!==p)throw new Error("wrong private key type");return function(t,n,a){for(var s,u=n.params.priv_key,c=n.params.p,f=n.params.q,p=n.params.g,d=new l(0),h=i(t,f).mod(f),m=!1,g=r(u,f,t,a);!1===m;)s=o(f,g,a),d=function(t,e,n,r){return t.toRed(l.mont(n)).redPow(e).fromRed().mod(r)}(p,s,c,f),0===(m=s.invm(f).imul(h.add(u.mul(d))).mod(f)).cmpn(0)&&(m=!1,d=new l(0));return function(t,n){t=t.toArray(),n=n.toArray(),128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n));var r=[48,t.length+n.length+4,2,t.length];return r=r.concat(t,[2,n.length],n),new e(r)}(d,m)}(t,h,a)}if("rsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");t=e.concat([d,t]);for(var m=h.modulus.byteLength(),g=[0,1];t.length+g.length+1<m;)g.push(255);g.push(0);for(var v=-1;++v<t.length;)g.push(t[v]);return s(g,h)},t.exports.getKey=r,t.exports.makeKey=o}).call(e,n(14).Buffer)},function(t,e){t.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.1",_inBundle:!1,_integrity:"sha512-BsXLz5sqX8OHcsh7CqBMztyXARmGQ3LWPtGjJi6DiJHq5C/qvi9P3OqgswKSDftbu8+IoI/QDTAm2fFnQ9SZSQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.1.tgz",_shasum:"c2d0b7776911b86722c632c3c06c60f2f819939a",_spec:"elliptic@^6.0.0",_where:"G:\\testtensorflow\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.1"}},function(t,e,n){"use strict";var r=e,i=n(15),o=n(28),a=n(233);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(t,e){for(var n=[],r=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(r-1);i.isubn(o=a>(r>>1)-1?(r>>1)-a:a)}else o=0;n.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(r-1)?e+1:1,u=1;u<s;u++)n.push(0);i.iushrn(s)}return n},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0;t.cmpn(-r)>0||e.cmpn(-i)>0;){var o=t.andln(3)+r&3,a=e.andln(3)+i&3;3===o&&(o=-1),3===a&&(a=-1);var s;s=0==(1&o)?0:3!=(l=t.andln(7)+r&7)&&5!==l||2!==a?o:-o,n[0].push(s);var u;if(0==(1&a))u=0;else{var l;u=3!=(l=e.andln(7)+i&7)&&5!==l||2!==o?a:-a}n[1].push(u),2*r===s+1&&(r=1-r),2*i===u+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,n){"use strict";function r(t,e){this.type=t,this.p=new o(e.p,16),this.red=e.prime?o.red(e.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=e.n&&new o(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function i(t,e){this.curve=t,this.type=e,this.precomputed=null}var o=n(15),a=n(23).utils,s=a.getNAF,u=a.getJSF,l=a.assert;t.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(t,e){l(t.precomputed);var n=t._getDoubles(),r=s(e,1),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var o=[],a=0;a<r.length;a+=n.step){var u=0;for(e=a+n.step-1;e>=a;e--)u=(u<<1)+r[e];o.push(u)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=i;p>0;p--){for(a=0;a<o.length;a++){(u=o[a])===p?f=f.mixedAdd(n.points[a]):u===-p&&(f=f.mixedAdd(n.points[a].neg()))}c=c.add(f)}return c.toP()},r.prototype._wnafMul=function(t,e){for(var n=4,r=t._getNAFPoints(n),i=r.points,o=s(e,n=r.wnd),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(e=0;u>=0&&0===o[u];u--)e++;if(u>=0&&e++,a=a.dblp(e),u<0)break;var c=o[u];l(0!==c),a="affine"===t.type?a.mixedAdd(c>0?i[c-1>>1]:i[-c-1>>1].neg()):a.add(c>0?i[c-1>>1]:i[-c-1>>1].neg())}return"affine"===t.type?a.toP():a},r.prototype._wnafMulAdd=function(t,e,n,r,i){for(var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,f=0;f<r;f++){var p=(E=e[f])._getNAFPoints(t);o[f]=p.wnd,a[f]=p.points}for(f=r-1;f>=1;f-=2){var d=f-1,h=f;if(1===o[d]&&1===o[h]){var m=[e[d],null,null,e[h]];0===e[d].y.cmp(e[h].y)?(m[1]=e[d].add(e[h]),m[2]=e[d].toJ().mixedAdd(e[h].neg())):0===e[d].y.cmp(e[h].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[h]),m[2]=e[d].add(e[h].neg())):(m[1]=e[d].toJ().mixedAdd(e[h]),m[2]=e[d].toJ().mixedAdd(e[h].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=u(n[d],n[h]);c=Math.max(v[0].length,c),l[d]=new Array(c),l[h]=new Array(c);for(var y=0;y<c;y++){l[d][y]=g[3*((0|v[0][y])+1)+((0|v[1][y])+1)],l[h][y]=0,a[d]=m}}else l[d]=s(n[d],o[d]),l[h]=s(n[h],o[h]),c=Math.max(l[d].length,c),c=Math.max(l[h].length,c)}var b=this.jpoint(null,null,null),_=this._wnafT4;for(f=c;f>=0;f--){for(var w=0;f>=0;){var x=!0;for(y=0;y<r;y++)_[y]=0|l[y][f],0!==_[y]&&(x=!1);if(!x)break;w++,f--}if(f>=0&&w++,b=b.dblp(w),f<0)break;for(y=0;y<r;y++){var E,C=_[y];0!==C&&(C>0?E=a[y][C-1>>1]:C<0&&(E=a[y][-C-1>>1].neg()),b="affine"===E.type?b.mixedAdd(E):b.add(E))}}for(f=0;f<r;f++)a[f]=null;return i?b:b.toP()},r.BasePoint=i,i.prototype.eq=function(){throw new Error("Not implemented")},i.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(t,e){t=a.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n){6===t[0]?l(t[t.length-1]%2==0):7===t[0]&&l(t[t.length-1]%2==1);return this.point(t.slice(1,1+n),t.slice(1+n,1+2*n))}if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},i.prototype.encodeCompressed=function(t){return this.encode(t,!0)},i.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},i.prototype.encode=function(t,e){return a.encode(this._encode(e),t)},i.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},i.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},i.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},i.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){"use strict";function r(t){c.call(this,"short",t),this.a=new u(t.a,16).toRed(this.red),this.b=new u(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(t,e,n,r){c.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(e,16),this.y=new u(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(t,e,n,r){c.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(e,16),this.y=new u(n,16),this.z=new u(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var a=n(105),s=n(23),u=n(15),l=n(7),c=a.base,f=s.utils.assert;l(r,c),t.exports=r,r.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new u(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new u(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?n=i[0]:f(0===this.g.mul(n=i[1]).x.cmp(this.g.x.redMul(e)))}var o;return o=t.basis?t.basis.map(function(t){return{a:new u(t.a,16),b:new u(t.b,16)}}):this._getEndoBasis(n),{beta:e,lambda:n,basis:o}}},r.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:u.mont(t),n=new u(2).toRed(e).redInvm(),r=n.redNeg(),i=new u(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},r.prototype._getEndoBasis=function(t){for(var e,n,r,i,o,a,s,l,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=t,d=this.n.clone(),h=new u(1),m=new u(0),g=new u(0),v=new u(1),y=0;0!==p.cmpn(0);){var b=d.div(p);l=d.sub(b.mul(p)),c=g.sub(b.mul(h));var _=v.sub(b.mul(m));if(!r&&l.cmp(f)<0)e=s.neg(),n=h,r=l.neg(),i=c;else if(r&&2==++y)break;s=l,d=p,p=l,g=h,h=c,v=m,m=_}o=l.neg(),a=c;var w=r.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=e,a=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:i},{a:o,b:a}]},r.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),l=o.mul(r.b);return{k1:t.sub(a).sub(s),k2:u.add(l).neg()}},r.prototype.pointFromX=function(t,e){(t=new u(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(e&&!i||!e&&i)&&(r=r.redNeg()),this.point(t,r)},r.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,r,i,2*o,n),c=0;c<2*o;c++)r[c]=null,i[c]=null;return l},l(i,c.BasePoint),r.prototype.point=function(t,e,n){return new i(this,t,e,n)},r.prototype.pointFromJSON=function(t,e){return i.fromJSON(this,t,e)},i.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(t,e,n){function r(e){return t.point(e[0],e[1],n)}"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(t){return t=new u(t,16),this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},i.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},i.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},i.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},i.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},i.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);return this.curve.jpoint(this.x,this.y,this.curve.one)},l(o,c.BasePoint),r.prototype.jpoint=function(t,e,n){return new o(this,t,e,n)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),f=r.redMul(l),p=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(p)).redISub(o.redMul(c)),h=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(p,d,h)},o.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),c=n.redMul(u),f=s.redSqr().redIAdd(l).redISub(c).redISub(c),p=s.redMul(c.redISub(f)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(f,p,d)},o.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(n=0;n<t;n++){var c=o.redSqr(),f=l.redSqr(),p=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(u)),h=o.redMul(f),m=d.redSqr().redISub(h.redAdd(h)),g=h.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(p);var y=l.redMul(s);n+1<t&&(u=u.redMul(p)),o=m,s=y,l=v}return this.curve.jpoint(o,l.redMul(i),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(p);d=d.redIAdd(d);var h=c.redAdd(c).redIAdd(c),m=h.redSqr(),g=p.redIAdd(p);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=h.redMul(d.redISub(t)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},o.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(u)).redISub(l),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var h=p.redIAdd(p),m=(h=h.redIAdd(h)).redAdd(h);t=d.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(h.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,n)},o.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(a),c=s.redSqr().redISub(l.redAdd(l)),f=l.redISub(c),p=a.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var d=s.redMul(f).redISub(p),h=n.redAdd(n).redMul(r);return this.curve.jpoint(c,d,h)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),c=e.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(s).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var p=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,p,d)},o.prototype.mul=function(t,e){return t=new u(t,e),this.curve._wnafMul(this,t)},o.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";function r(t){u.call(this,"mont",t),this.a=new a(t.a,16).toRed(this.red),this.b=new a(t.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(t,e,n){u.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(e,16),this.z=new a(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=n(105),a=n(15),s=n(7),u=o.base,l=n(23).utils;s(r,u),t.exports=r,r.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},s(i,u.BasePoint),r.prototype.decodePoint=function(t,e){return this.point(l.toArray(t,e),1)},r.prototype.point=function(t,e){return new i(this,t,e)},r.prototype.pointFromJSON=function(t){return i.fromJSON(this,t)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(t,e){return new i(t,e[0],e[1]||t.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),a=i.redMul(r),s=e.z.redMul(o.redAdd(a).redSqr()),u=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},i.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";function r(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,l.call(this,"edwards",t),this.a=new s(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function i(t,e,n,r,i){l.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(e,16),this.y=new s(n,16),this.z=r?new s(r,16):this.curve.one,this.t=i&&new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=n(105),a=n(23),s=n(15),u=n(7),l=o.base,c=a.utils.assert;u(r,l),t.exports=r,r.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},r.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},r.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},r.prototype.pointFromX=function(t,e){(t=new s(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},r.prototype.pointFromY=function(t,e){(t=new s(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},r.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},u(i,l.BasePoint),r.prototype.pointFromJSON=function(t){return i.fromJSON(this,t)},r.prototype.point=function(t,e,n,r){return new i(this,t,e,n,r)},i.fromJSON=function(t,e){return new i(t,e[0],e[1],e[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},i.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),a=o.redSub(n),s=r.redSub(e),u=i.redMul(a),l=o.redMul(s),c=i.redMul(s),f=a.redMul(o);return this.curve.point(u,l,f,c)},i.prototype._projDbl=function(){var t,e,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(l=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=r.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),e=a.redMul(l.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),u=a.redSub(s).redISub(s);t=r.redSub(i).redISub(o).redMul(u),e=a.redMul(l.redSub(o)),n=a.redMul(u)}}else{var l=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),u=l.redSub(s).redSub(s);t=this.curve._mulC(r.redISub(l)).redMul(u),e=this.curve._mulC(l).redMul(i.redISub(o)),n=l.redMul(u)}return this.curve.point(t,e,n)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(e),l=o.redMul(a),c=s.redMul(u),f=o.redMul(u),p=a.redMul(s);return this.curve.point(l,c,p,f)},i.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),l=i.redAdd(s),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),f=r.redMul(u).redMul(c);return this.curve.twisted?(e=r.redMul(l).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(l)):(e=r.redMul(l).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(l)),this.curve.point(f,e,n)},i.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},i.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},i.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},i.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},i.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},i.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},function(t,e,n){"use strict";function r(t){this.curve="short"===t.type?new s.curve.short(t):"edwards"===t.type?new s.curve.edwards(t):new s.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(t,e){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){var n=new r(e);return Object.defineProperty(o,t,{configurable:!0,enumerable:!0,value:n}),n}})}var o=e,a=n(151),s=n(23),u=s.utils.assert;o.PresetCurve=r,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=n(429)}catch(t){l=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})},function(t,e,n){"use strict";e.sha1=n(424),e.sha224=n(425),e.sha256=n(235),e.sha384=n(426),e.sha512=n(236)},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var i=n(37),o=n(81),a=n(234),s=i.rotl32,u=i.sum32,l=i.sum32_5,c=a.ft_1,f=o.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];i.inherits(r,f),t.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var h=~~(r/20),m=l(s(i,5),c(h,o,a,f),d,n[r],p[h]);d=f,f=a,a=s(o,30),o=i,i=m}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],f),this.h[4]=u(this.h[4],d)},r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var i=n(37),o=n(235);i.inherits(r,o),t.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var i=n(37),o=n(236);i.inherits(r,o),t.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function i(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}var o=n(37),a=n(81),s=o.rotl32,u=o.sum32,l=o.sum32_3,c=o.sum32_4,f=a.BlockHash;o.inherits(r,f),e.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],g=n,v=r,y=o,b=a,_=f,w=0;w<80;w++){var x=u(s(c(n,i(w,r,o,a),t[p[w]+e],function(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}(w)),h[w]),f);n=f,f=a,a=s(o,10),o=r,r=x,x=u(s(c(g,i(79-w,v,y,b),t[d[w]+e],function(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}(w)),m[w]),_),g=_,_=b,b=s(y,10),y=v,v=x}x=l(this.h[1],o,b),this.h[1]=l(this.h[2],a,_),this.h[2]=l(this.h[3],f,g),this.h[3]=l(this.h[4],n,v),this.h[4]=l(this.h[0],r,y),this.h[0]=x},r.prototype._digest=function(t){return"hex"===t?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}var i=n(37),o=n(28);t.exports=r,r.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),o(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},r.prototype.update=function(t,e){return this.inner.update(t,e),this},r.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);"string"==typeof t&&(s(a.curves.hasOwnProperty(t),"Unknown curve "+t),t=a.curves[t]),t instanceof a.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var i=n(15),o=n(431),a=n(23),s=a.utils.assert,u=n(432),l=n(433);t.exports=r,r.prototype.keyPair=function(t){return new u(this,t)},r.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},r.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},r.prototype.genKeyPair=function(t){t||(t={});for(var e=new o({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a.rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new i(2));;){var s=new i(e.generate(n));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},r.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},r.prototype.sign=function(t,e,n,r){"object"==typeof n&&(r=n,n=null),r||(r={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new i(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),u=t.toArray("be",a),c=new o({hash:this.hash,entropy:s,nonce:u,pers:r.pers,persEnc:r.persEnc||"utf8"}),f=this.n.sub(new i(1)),p=0;;p++){var d=r.k?r.k(p):new i(c.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=d.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(h.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return r.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new l({r:g,s:v,recoveryParam:y})}}}}}},r.prototype.verify=function(t,e,n,r){t=this._truncateToN(new i(t,16)),n=this.keyFromPublic(n,r);var o=(e=new l(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),u=s.mul(t).umod(this.n),c=s.mul(o).umod(this.n);if(!this.curve._maxwellTrick){return!(f=this.g.mulAdd(u,n.getPublic(),c)).isInfinity()&&0===f.getX().umod(this.n).cmp(o)}var f;return!(f=this.g.jmulAdd(u,n.getPublic(),c)).isInfinity()&&f.eqXToP(o)},r.prototype.recoverPubKey=function(t,e,n,r){s((3&n)===n,"The recovery param is more than two bits"),e=new l(e,r);var o=this.n,a=new i(t),u=e.r,c=e.s,f=1&n,p=n>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");u=this.curve.pointFromX(p?u.add(this.curve.n):u,f);var d=e.r.invm(o),h=o.sub(a).mul(d).umod(o),m=c.mul(d).umod(o);return this.g.mulAdd(h,u,m)},r.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new l(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=o.toArray(t.entropy,t.entropyEnc||"hex"),n=o.toArray(t.nonce,t.nonceEnc||"hex"),i=o.toArray(t.pers,t.persEnc||"hex");a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,i)}var i=n(151),o=n(233),a=n(28);t.exports=r,r.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},r.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=o.toArray(t,e),n=o.toArray(n,r),a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},r.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=o.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,t);return this._update(n),this._reseed++,o.encode(a,e)}},function(t,e,n){"use strict";function r(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var i=n(15),o=n(23).utils.assert;t.exports=r,r.fromPublic=function(t,e,n){return e instanceof r?e:new r(t,{pub:e,pubEnc:n})},r.fromPrivate=function(t,e,n){return e instanceof r?e:new r(t,{priv:e,privEnc:n})},r.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},r.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?o(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||o(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},r.prototype.derive=function(t){return t.mul(this.priv).getX()},r.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},r.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";function r(t,e){if(t instanceof r)return t;this._importDER(t,e)||(l(t.r&&t.s,"Signature without r or s"),this.r=new s(t.r,16),this.s=new s(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam)}function i(t,e){var n=t[e.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,a=e.place;o<r;o++,a++)i<<=8,i|=t[a];return e.place=a,i}function o(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function a(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}var s=n(15),u=n(23).utils,l=u.assert;t.exports=r,r.prototype._importDER=function(t,e){t=u.toArray(t,e);var n=new function(){this.place=0};if(48!==t[n.place++])return!1;if(i(t,n)+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var r=i(t,n),o=t.slice(n.place,r+n.place);if(n.place+=r,2!==t[n.place++])return!1;var a=i(t,n);if(t.length!==a+n.place)return!1;var l=t.slice(n.place,a+n.place);return 0===o[0]&&128&o[1]&&(o=o.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new s(o),this.s=new s(l),this.recoveryParam=null,!0},r.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=o(e),n=o(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];a(r,e.length),(r=r.concat(e)).push(2),a(r,n.length);var i=r.concat(n),s=[48];return a(s,i.length),s=s.concat(i),u.encode(s,t)}},function(t,e,n){"use strict";function r(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof r))return new r(t);this.curve=t=o.curves[t].curve,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}var i=n(151),o=n(23),a=o.utils,s=a.assert,u=a.parseBytes,l=n(435),c=n(436);t.exports=r,r.prototype.sign=function(t,e){t=u(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},r.prototype.verify=function(t,e,n){t=u(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},r.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return a.intFromLE(t.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(t){return l.fromPublic(this,t)},r.prototype.keyFromSecret=function(t){return l.fromSecret(this,t)},r.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},r.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},r.prototype.decodePoint=function(t){var e=(t=a.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!=(128&t[e]),i=a.intFromLE(n);return this.curve.pointFromY(i,r)},r.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(t){return a.intFromLE(t)},r.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";function r(t,e){this.eddsa=t,this._secret=a(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=a(e.pub)}var i=n(23).utils,o=i.assert,a=i.parseBytes,s=i.cachedProperty;r.fromPublic=function(t,e){return e instanceof r?e:new r(t,{pub:e})},r.fromSecret=function(t,e){return e instanceof r?e:new r(t,{secret:e})},r.prototype.secret=function(){return this._secret},s(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(r,"privBytes",function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),s(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(t){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},r.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},r.prototype.getSecret=function(t){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},r.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.eddsa=t,"object"!=typeof e&&(e=u(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),a(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}var i=n(15),o=n(23).utils,a=o.assert,s=o.cachedProperty,u=o.parseBytes;s(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},t.exports=r},function(t,e,n){"use strict";var r=n(82);e.certificate=n(448);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});e.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});e.PrivateKey=u;var l=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=l;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=c,e.DSAparam=r.define("DSAparam",function(){this.int()});var f=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(p),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=f;var p=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(t,e,n){function r(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}var i=n(82),o=n(7);e.define=function(t,e){return new r(t,e)},r.prototype._createNamed=function(t){var e;try{e=n(439).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return o(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i.decoders[t])),this.decoders[t]},r.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i.encoders[t])),this.encoders[t]},r.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(440),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function i(t,e){this.path=t,this.rethrow(e)}var o=n(7);e.Reporter=r,r.prototype.isError=function(t){return t instanceof i},r.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},r.prototype.leaveKey=function(t,e,n){var r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},r.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},r.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof i;if(e=r?t:new i(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},r.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},o(i,Error),i.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){function r(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var i=n(83).Reporter,o=n(83).EncoderBuffer,a=n(83).DecoderBuffer,s=n(28),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);t.exports=r;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var t=this._baseState,e={};c.forEach(function(n){e[n]=t[n]});var n=new this.constructor(e.parent);return n._baseState=e,n},r.prototype._wrap=function(){var t=this._baseState;l.forEach(function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}},this)},r.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(s(null===e.children),e.children=n,n.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(n){n==(0|n)&&(n|=0);e[t[n]]=n}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){r.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),u.forEach(function(t){r.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(n),this}}),r.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},r.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},r.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},r.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},r.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},r.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},r.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var r=n.default,i=!0,o=null;if(null!==n.key&&(o=t.enterKey(n.key)),n.optional){var s=null;if(null!==n.explicit?s=n.explicit:null!==n.implicit?s=n.implicit:null!==n.tag&&(s=n.tag),null!==s||n.any){if(i=this._peekTag(t,s,n.any),t.isError(i))return i}else{var u=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),i=!0}catch(t){i=!1}t.restore(u)}}var l;if(n.obj&&i&&(l=t.enterObject()),i){if(null!==n.explicit){var c=this._decodeTag(t,n.explicit);if(t.isError(c))return c;t=c}var f=t.offset;if(null===n.use&&null===n.choice){if(n.any)u=t.save();var p=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(p))return p;n.any?r=t.raw(u):t=p}if(e&&e.track&&null!==n.tag&&e.track(t.path(),f,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),t.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(t,e)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new a(r);r=this._getUse(n.contains,t._reporterState.obj)._decode(d,e)}}return n.obj&&i&&(r=t.leaveObject(l)),null===n.key||null===r&&!0!==i?null!==o&&t.exitKey(o):t.leaveKey(o,n.key,r),r},r.prototype._decodeGeneric=function(t,e,n){var r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},r.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},r.prototype._decodeChoice=function(t,e){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var a=t.save(),s=n.choice[o];try{var u=s._decode(t,e);if(t.isError(u))return!1;r={type:o,value:u},i=!0}catch(e){return t.restore(a),!1}return!0},this),i?r:t.error("Choice not matched")},r.prototype._createEncoderBuffer=function(t){return new o(t,this.reporter)},r.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r.default||r.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},r.prototype._encodeValue=function(t,e,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new i);var o=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(t);else if(r.choice)o=this._encodeChoice(t,e);else if(r.contains)a=this._getUse(r.contains,n)._encode(t,e),s=!0;else if(r.children)a=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i},this).filter(function(t){return t}),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(t.map(function(n){return this._getUse(this._baseState.args[0],t)._encode(n,e)},u))}else null!==r.use?o=this._getUse(r.use,n)._encode(t,e):(a=this._encodePrimitive(r.tag,t),s=!0);if(!r.any&&null===r.choice){var l=null!==r.implicit?r.implicit:r.tag,c=null===r.implicit?"universal":"context";null===l?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(l,s,c,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},r.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},r.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},r.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,n){var r=n(238);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r._reverse(e.tag)},function(t,e,n){var r=e;r.der=n(239),r.pem=n(445)},function(t,e,n){function r(t){a.call(this,t),this.enc="pem"}var i=n(7),o=n(14).Buffer,a=n(239);i(r,a),t.exports=r,r.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,l=0;l<n.length;l++){var c=n[l].match(i);if(null!==c&&c[2]===r){if(-1!==s){if("END"!==c[1])break;u=l;break}if("BEGIN"!==c[1])break;s=l}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,u).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var p=new o(f,"base64");return a.prototype.decode.call(this,p,e)}},function(t,e,n){var r=e;r.der=n(240),r.pem=n(447)},function(t,e,n){function r(t){o.call(this,t),this.enc="pem"}var i=n(7),o=n(240);i(r,o),t.exports=r,r.prototype.encode=function(t,e){for(var n=o.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"],i=0;i<n.length;i+=64)r.push(n.slice(i,i+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},function(t,e,n){"use strict";var r=n(82),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=r.define("RelativeDistinguishedName",function(){this.setof(o)}),l=r.define("RDNSequence",function(){this.seqof(u)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),f=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),p=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(c),this.key("validity").use(f),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(p).optional())}),h=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});t.exports=h},function(t,e){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(t,e,n){(function(e){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(103),s=n(148);t.exports=function(t,n){var u,l=t.toString(),c=l.match(r);if(c){var f="aes"+c[1],p=new e(c[2],"hex"),d=new e(c[3].replace(/[\r\n]/g,""),"base64"),h=a(n,p.slice(0,8),parseInt(c[1],10)).key,m=[],g=s.createDecipheriv(f,h,p);m.push(g.update(d)),m.push(g.final()),u=e.concat(m)}else{var v=l.match(o);u=new e(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(i)[1],data:u}}}).call(e,n(14).Buffer)},function(t,e,n){(function(e){function r(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}var i=n(15),o=n(23).ec,a=n(106),s=n(241);t.exports=function(t,n,u,l,c){var f=a(u);if("ec"===f.type){if("ecdsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");return function(t,e,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));return new o(r).verify(e,t,n.data.subjectPrivateKey.data)}(t,n,f)}if("dsa"===f.type){if("dsa"!==l)throw new Error("wrong public key type");return function(t,e,n){var o=n.data.p,s=n.data.q,u=n.data.g,l=n.data.pub_key,c=a.signature.decode(t,"der"),f=c.s,p=c.r;r(f,s),r(p,s);var d=i.mont(o),h=f.invm(s);return 0===u.toRed(d).redPow(new i(e).mul(h).mod(s)).fromRed().mul(l.toRed(d).redPow(p.mul(h).mod(s)).fromRed()).mod(o).mod(s).cmp(p)}(t,n,f)}if("rsa"!==l&&"ecdsa/rsa"!==l)throw new Error("wrong public key type");n=e.concat([c,n]);for(var p=f.modulus.byteLength(),d=[1],h=0;n.length+d.length+2<p;)d.push(255),h++;d.push(0);for(var m=-1;++m<n.length;)d.push(n[m]);d=new e(d);var g=i.mont(f.modulus);t=(t=new i(t).toRed(g)).redPow(new i(f.publicExponent)),t=new e(t.fromRed().toArray());var v=h<8?1:0;for(p=Math.min(t.length,d.length),t.length!==d.length&&(v=1),m=-1;++m<p;)v|=t[m]^d[m];return 0===v}}).call(e,n(14).Buffer)},function(t,e,n){(function(e){function r(t){this.curveType=s[t],this.curveType||(this.curveType={name:t}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function i(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}var o=n(23),a=n(15);t.exports=function(t){return new r(t)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},r.prototype.computeSecret=function(t,n,r){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));return i(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[0]=n[n.length-1]%2?7:6),i(n,t)},r.prototype.getPrivateKey=function(t){return i(this.keys.getPrivate(),t)},r.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},r.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new a(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(e,n(14).Buffer)},function(t,e,n){e.publicEncrypt=n(454),e.privateDecrypt=n(455),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){function r(t,e,n){var r=e.length,i=t.modulus.byteLength();if(r>i-11)throw new Error("message too long");var a;return a=n?p.alloc(i-r-3,255):function(t){var e,n=p.allocUnsafe(t),r=0,i=o(2*t),a=0;for(;r<t;)a===i.length&&(i=o(2*t),a=0),(e=i[a++])&&(n[r++]=e);return n}(i-r-3),new l(p.concat([p.from([0,n?1:2]),a,p.alloc(1),e],i))}var i=n(106),o=n(64),a=n(78),s=n(242),u=n(243),l=n(15),c=n(244),f=n(150),p=n(8).Buffer;t.exports=function(t,e,n){var d;d=t.padding?t.padding:n?1:4;var h,m=i(t);if(4===d)h=function(t,e){var n=t.modulus.byteLength(),r=e.length,i=a("sha1").update(p.alloc(0)).digest(),c=i.length,f=2*c;if(r>n-f-2)throw new Error("message too long");var d=p.alloc(n-r-f-2),h=n-c-1,m=o(c),g=u(p.concat([i,d,p.alloc(1,1),e],h),s(m,h)),v=u(m,s(g,c));return new l(p.concat([p.alloc(1),v,g],n))}(m,e);else if(1===d)h=r(m,e,n);else{if(3!==d)throw new Error("unknown padding");if((h=new l(e)).cmp(m.modulus)>=0)throw new Error("data too long for modulus")}return n?f(h,m):c(h,m)}},function(t,e,n){function r(t,e){var n=t.modulus.byteLength(),r=l("sha1").update(f.alloc(0)).digest(),i=r.length;if(0!==e[0])throw new Error("decryption error");var s=e.slice(1,i+1),u=e.slice(i+1),c=a(s,o(u,i)),p=a(u,o(c,n-i-1));if(function(t,e){t=f.from(t),e=f.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));var i=-1;for(;++i<r;)n+=t[i]^e[i];return n}(r,p.slice(0,i)))throw new Error("decryption error");for(var d=i;0===p[d];)d++;if(1!==p[d++])throw new Error("decryption error");return p.slice(d)}var i=n(106),o=n(242),a=n(243),s=n(15),u=n(150),l=n(78),c=n(244),f=n(8).Buffer;t.exports=function(t,e,n){var o;o=t.padding?t.padding:n?1:4;var a=i(t),l=a.modulus.byteLength();if(e.length>l||new s(e).cmp(a.modulus)>=0)throw new Error("decryption error");var p;p=n?c(new s(e),a):u(e,a);var d=f.alloc(l-p.length);if(p=f.concat([d,p],l),4===o)return r(a,p);if(1===o)return function(t,e,n){for(var r=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}(0,p,n);if(3===o)return p;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>m||t<0)throw new TypeError("offset must be a uint32");if(t>d||t>e)throw new RangeError("offset out of range")}function a(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>m||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>d)throw new RangeError("buffer too small")}function s(e,n,r,i){if(!(p.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return o(n,e.length),a(r,n,e.length),u(e,n,r,i)}function u(t,e,n,i){if(r.browser){var o=t.buffer,a=new Uint8Array(o,e,n);return h.getRandomValues(a),i?void r.nextTick(function(){i(null,t)}):t}if(!i){return f(n).copy(t,e),t}f(n,function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)})}function l(e,n,r){if(void 0===n&&(n=0),!(p.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(n,e.length),void 0===r&&(r=e.length-n),a(r,n,e.length),u(e,n,r)}var c=n(8),f=n(64),p=c.Buffer,d=c.kMaxLength,h=t.crypto||t.msCrypto,m=Math.pow(2,32)-1;h&&h.getRandomValues||!r.browser?(e.randomFill=s,e.randomFillSync=l):(e.randomFill=i,e.randomFillSync=i)}).call(e,n(20),n(18))},function(t,e){t.exports=e=window.fetch,e.default=window.fetch.bind(window),e.Headers=window.Headers,e.Request=window.Request,e.Response=window.Response},function(t,e){function n(t,e,n){return e in t?t[e]:n}var r=/("(?:[^\\"]|\\.)*")|[:,\][}{]/g;t.exports=function(t,e){e=e||{};var i=JSON.stringify([1],null,n(e,"indent",2)).slice(2,-3),o=n(e,"margins",!1),a=""===i?1/0:n(e,"maxLength",80);return function t(e,n,s){e&&"function"==typeof e.toJSON&&(e=e.toJSON());var u=JSON.stringify(e);if(void 0===u)return u;var l=a-n.length-s;if(u.length<=l){var c=function(t,e){var n=e?" ":"",i={"{":"{"+n,"[":"["+n,"}":n+"}","]":n+"]",",":", ",":":": "};return t.replace(r,function(t,e){return e?t:i[t]})}(u,o);if(c.length<=l)return c}if("object"==typeof e&&null!==e){var f,p=n+i,d=[],h=function(t,e){return e===t.length-1?0:1};if(Array.isArray(e)){for(var m=0;m<e.length;m++)d.push(t(e[m],p,h(e,m))||"null");f="[]"}else Object.keys(e).forEach(function(n,r,i){var o=JSON.stringify(n)+": ",a=t(e[n],p,o.length+h(i,r));void 0!==a&&d.push(o+a)}),f="{}";if(d.length>0)return[f[0],i+d.join(",\n"+p),f[1]].join("\n"+n)}return u}(t,"",0)}},function(t,e,n){(function(n){function r(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof i)return t;if("string"!=typeof t)return null;if(t.length>x)return null;if(!(e.loose?C[V]:C[z]).test(t))return null;try{return new i(t,e)}catch(t){return null}}function i(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof i){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>x)throw new TypeError("version is longer than "+x+" characters");if(!(this instanceof i))return new i(t,e);w("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?C[V]:C[z]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>E||this.major<0)throw new TypeError("Invalid major version");if(this.minor>E||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>E||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=n[4]?n[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<E)return e}return t}):[],this.build=n[5]?n[5].split("."):[],this.format()}function o(t,e){var n=ft.test(t),r=ft.test(e);return n&&r&&(t=+t,e=+e),n&&!r?-1:r&&!n?1:t<e?-1:t>e?1:0}function a(t,e,n){return new i(t,n).compare(new i(e,n))}function s(t,e,n){return a(t,e,n)>0}function u(t,e,n){return a(t,e,n)<0}function l(t,e,n){return 0===a(t,e,n)}function c(t,e,n){return 0!==a(t,e,n)}function f(t,e,n){return a(t,e,n)>=0}function p(t,e,n){return a(t,e,n)<=0}function d(t,e,n,r){var i;switch(e){case"===":"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),i=t===n;break;case"!==":"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),i=t!==n;break;case"":case"=":case"==":i=l(t,n,r);break;case"!=":i=c(t,n,r);break;case">":i=s(t,n,r);break;case">=":i=f(t,n,r);break;case"<":i=u(t,n,r);break;case"<=":i=p(t,n,r);break;default:throw new TypeError("Invalid operator: "+e)}return i}function h(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof h){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof h))return new h(t,e);w("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.value=this.semver===pt?"":this.operator+this.semver.version,w("comp",this)}function m(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof m)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new m(t.raw,e);if(t instanceof h)return new m(t.value,e);if(!(this instanceof m))return new m(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function g(t,e){return w("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){w("caret",t,e),e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1});return t.replace(e.loose?C[rt]:C[nt],function(e,n,r,i,o){w("caret",t,e,n,r,i,o);var a;return v(n)?a="":v(r)?a=">="+n+".0.0 <"+(+n+1)+".0.0":v(i)?a="0"===n?">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":">="+n+"."+r+".0 <"+(+n+1)+".0.0":o?(w("replaceCaret pr",o),"-"!==o.charAt(0)&&(o="-"+o),a="0"===n?"0"===r?">="+n+"."+r+"."+i+o+" <"+n+"."+r+"."+(+i+1):">="+n+"."+r+"."+i+o+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+i+o+" <"+(+n+1)+".0.0"):(w("no pr"),a="0"===n?"0"===r?">="+n+"."+r+"."+i+" <"+n+"."+r+"."+(+i+1):">="+n+"."+r+"."+i+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+i+" <"+(+n+1)+".0.0"),w("caret return",a),a})}(t,e)}).join(" ")}(t,e),w("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1});return t.replace(e.loose?C[Q]:C[J],function(e,n,r,i,o){w("tilde",t,e,n,r,i,o);var a;return v(n)?a="":v(r)?a=">="+n+".0.0 <"+(+n+1)+".0.0":v(i)?a=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":o?(w("replaceTilde pr",o),"-"!==o.charAt(0)&&(o="-"+o),a=">="+n+"."+r+"."+i+o+" <"+n+"."+(+r+1)+".0"):a=">="+n+"."+r+"."+i+" <"+n+"."+(+r+1)+".0",w("tilde return",a),a})}(t,e)}).join(" ")}(t,e),w("tildes",t),t=function(t,e){return w("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){return t=t.trim(),e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t.replace(e.loose?C[Y]:C[$],function(e,n,r,i,o,a){w("xRange",t,e,n,r,i,o,a);var s=v(r),u=s||v(i),l=u||v(o),c=l;return"="===n&&c&&(n=""),s?e=">"===n||"<"===n?"<0.0.0":"*":n&&c?(u&&(i=0),l&&(o=0),">"===n?(n=">=",u?(r=+r+1,i=0,o=0):l&&(i=+i+1,o=0)):"<="===n&&(n="<",u?r=+r+1:i=+i+1),e=n+r+"."+i+"."+o):u?e=">="+r+".0.0 <"+(+r+1)+".0.0":l&&(e=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0"),w("xRange return",e),e})}(t,e)}).join(" ")}(t,e),w("xrange",t),t=function(t,e){return w("replaceStars",t,e),t.trim().replace(C[lt],"")}(t,e),w("stars",t),t}function v(t){return!t||"x"===t.toLowerCase()||"*"===t}function y(t,e,n,r,i,o,a,s,u,l,c,f,p){return e=v(n)?"":v(r)?">="+n+".0.0":v(i)?">="+n+"."+r+".0":">="+e,s=v(u)?"":v(l)?"<"+(+u+1)+".0.0":v(c)?"<"+u+"."+(+l+1)+".0":f?"<="+u+"."+l+"."+c+"-"+f:"<="+s,(e+" "+s).trim()}function b(t,e,n){try{e=new m(e,n)}catch(t){return!1}return e.test(t)}function _(t,e,n,r){t=new i(t,r),e=new m(e,r);var o,a,l,c,d;switch(n){case">":o=s,a=p,l=u,c=">",d=">=";break;case"<":o=u,a=f,l=s,c="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(b(t,e,r))return!1;for(var g=0;g<e.set.length;++g){var v=null,y=null;if(e.set[g].forEach(function(t){t.semver===pt&&(t=new h(">=0.0.0")),v=v||t,y=y||t,o(t.semver,v.semver,r)?v=t:l(t.semver,y.semver,r)&&(y=t)}),v.operator===c||v.operator===d)return!1;if((!y.operator||y.operator===c)&&a(t,y.semver))return!1;if(y.operator===d&&l(t,y.semver))return!1}return!0}e=t.exports=i;var w;w="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var x=256,E=Number.MAX_SAFE_INTEGER||9007199254740991,C=e.re=[],S=e.src=[],O=0,k=O++;S[k]="0|[1-9]\\d*";var T=O++;S[T]="[0-9]+";var P=O++;S[P]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var N=O++;S[N]="("+S[k]+")\\.("+S[k]+")\\.("+S[k]+")";var I=O++;S[I]="("+S[T]+")\\.("+S[T]+")\\.("+S[T]+")";var A=O++;S[A]="(?:"+S[k]+"|"+S[P]+")";var M=O++;S[M]="(?:"+S[T]+"|"+S[P]+")";var D=O++;S[D]="(?:-("+S[A]+"(?:\\."+S[A]+")*))";var R=O++;S[R]="(?:-?("+S[M]+"(?:\\."+S[M]+")*))";var j=O++;S[j]="[0-9A-Za-z-]+";var L=O++;S[L]="(?:\\+("+S[j]+"(?:\\."+S[j]+")*))";var z=O++,F="v?"+S[N]+S[D]+"?"+S[L]+"?";S[z]="^"+F+"$";var B="[v=\\s]*"+S[I]+S[R]+"?"+S[L]+"?",V=O++;S[V]="^"+B+"$";var U=O++;S[U]="((?:<|>)?=?)";var W=O++;S[W]=S[T]+"|x|X|\\*";var q=O++;S[q]=S[k]+"|x|X|\\*";var H=O++;S[H]="[v=\\s]*("+S[q]+")(?:\\.("+S[q]+")(?:\\.("+S[q]+")(?:"+S[D]+")?"+S[L]+"?)?)?";var G=O++;S[G]="[v=\\s]*("+S[W]+")(?:\\.("+S[W]+")(?:\\.("+S[W]+")(?:"+S[R]+")?"+S[L]+"?)?)?";var $=O++;S[$]="^"+S[U]+"\\s*"+S[H]+"$";var Y=O++;S[Y]="^"+S[U]+"\\s*"+S[G]+"$";var K=O++;S[K]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var X=O++;S[X]="(?:~>?)";var Z=O++;S[Z]="(\\s*)"+S[X]+"\\s+",C[Z]=new RegExp(S[Z],"g");var J=O++;S[J]="^"+S[X]+S[H]+"$";var Q=O++;S[Q]="^"+S[X]+S[G]+"$";var tt=O++;S[tt]="(?:\\^)";var et=O++;S[et]="(\\s*)"+S[tt]+"\\s+",C[et]=new RegExp(S[et],"g");var nt=O++;S[nt]="^"+S[tt]+S[H]+"$";var rt=O++;S[rt]="^"+S[tt]+S[G]+"$";var it=O++;S[it]="^"+S[U]+"\\s*("+B+")$|^$";var ot=O++;S[ot]="^"+S[U]+"\\s*("+F+")$|^$";var at=O++;S[at]="(\\s*)"+S[U]+"\\s*("+B+"|"+S[H]+")",C[at]=new RegExp(S[at],"g");var st=O++;S[st]="^\\s*("+S[H]+")\\s+-\\s+("+S[H]+")\\s*$";var ut=O++;S[ut]="^\\s*("+S[G]+")\\s+-\\s+("+S[G]+")\\s*$";var lt=O++;S[lt]="(<|>)?=?\\s*\\*";for(var ct=0;ct<O;ct++)w(ct,S[ct]),C[ct]||(C[ct]=new RegExp(S[ct]));e.parse=r,e.valid=function(t,e){var n=r(t,e);return n?n.version:null},e.clean=function(t,e){var n=r(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=i,i.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},i.prototype.toString=function(){return this.version},i.prototype.compare=function(t){return w("SemVer.compare",this.version,this.options,t),t instanceof i||(t=new i(t,this.options)),this.compareMain(t)||this.comparePre(t)},i.prototype.compareMain=function(t){return t instanceof i||(t=new i(t,this.options)),o(this.major,t.major)||o(this.minor,t.minor)||o(this.patch,t.patch)},i.prototype.comparePre=function(t){if(t instanceof i||(t=new i(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(w("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return o(n,r)}while(++e)},i.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new i(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(l(t,e))return null;var n=r(t),i=r(e);if(n.prerelease.length||i.prerelease.length){for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==i[o])return"pre"+o;return"prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==i[o])return o},e.compareIdentifiers=o;var ft=/^[0-9]+$/;e.rcompareIdentifiers=function(t,e){return o(e,t)},e.major=function(t,e){return new i(t,e).major},e.minor=function(t,e){return new i(t,e).minor},e.patch=function(t,e){return new i(t,e).patch},e.compare=a,e.compareLoose=function(t,e){return a(t,e,!0)},e.rcompare=function(t,e,n){return a(e,t,n)},e.sort=function(t,n){return t.sort(function(t,r){return e.compare(t,r,n)})},e.rsort=function(t,n){return t.sort(function(t,r){return e.rcompare(t,r,n)})},e.gt=s,e.lt=u,e.eq=l,e.neq=c,e.gte=f,e.lte=p,e.cmp=d,e.Comparator=h;var pt={};h.prototype.parse=function(t){var e=t.match(this.options.loose?C[it]:C[ot]);if(!e)throw new TypeError("Invalid comparator: "+t);this.operator=e[1],"="===this.operator&&(this.operator=""),this.semver=e[2]?new i(e[2],this.options.loose):pt},h.prototype.toString=function(){return this.value},h.prototype.test=function(t){return w("Comparator.test",t,this.options.loose),this.semver===pt||("string"==typeof t&&(t=new i(t,this.options)),d(t,this.operator,this.semver,this.options))},h.prototype.intersects=function(t,e){if(!(t instanceof h))throw new TypeError("a Comparator is required");e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1});var n;if(""===this.operator)return n=new m(t.value,e),b(this.value,n,e);if(""===t.operator)return n=new m(this.value,e),b(t.semver,n,e);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),s=d(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=d(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&a||s||u},e.Range=m,m.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},m.prototype.toString=function(){return this.range},m.prototype.parseRange=function(t){var e=this.options.loose;t=(t=t.trim()).replace(e?C[ut]:C[st],y),w("hyphen replace",t),t=t.replace(C[at],"$1$2$3"),w("comparator trim",t,C[at]),t=(t=(t=t.replace(C[Z],"$1~")).replace(C[et],"$1^")).split(/\s+/).join(" ");var n=e?C[it]:C[ot],r=t.split(" ").map(function(t){return g(t,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(r=r.filter(function(t){return!!t.match(n)})),r=r.map(function(t){return new h(t,this.options)},this)},m.prototype.intersects=function(t,e){if(!(t instanceof m))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return t.set.some(function(t){return t.every(function(t){return n.intersects(t,e)})})})})},e.toComparators=function(t,e){return new m(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},m.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new i(t,this.options));for(var e=0;e<this.set.length;e++)if(function(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(n||(n={}),e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(w(t[r].semver),t[r].semver!==pt&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}(this.set[e],t,this.options))return!0;return!1},e.satisfies=b,e.maxSatisfying=function(t,e,n){var r=null,o=null;try{var a=new m(e,n)}catch(t){return null}return t.forEach(function(t){a.test(t)&&(r&&-1!==o.compare(t)||(o=new i(r=t,n)))}),r},e.minSatisfying=function(t,e,n){var r=null,o=null;try{var a=new m(e,n)}catch(t){return null}return t.forEach(function(t){a.test(t)&&(r&&1!==o.compare(t)||(o=new i(r=t,n)))}),r},e.validRange=function(t,e){try{return new m(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return _(t,e,"<",n)},e.gtr=function(t,e,n){return _(t,e,">",n)},e.outside=_,e.prerelease=function(t,e){var n=r(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new m(t,n),e=new m(e,n),t.intersects(e)},e.coerce=function(t){if(t instanceof i)return t;if("string"!=typeof t)return null;var e=t.match(C[K]);return null==e?null:r((e[1]||"0")+"."+(e[2]||"0")+"."+(e[3]||"0"))}}).call(e,n(18))},,,function(t,e){t.exports={_from:"vega-lib@^4.4.0",_id:"vega-lib@4.4.0",_inBundle:!1,_integrity:"sha512-bfOsO5wks+ctnJ94fIPWH/B0qocdFs4WZ8teIgjF7m5XE+EVln+1nq9Z+sV7wdw7vftzGg0GAx9UH/kJxyopKg==",_location:"/vega-lib",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"vega-lib@^4.4.0",name:"vega-lib",escapedName:"vega-lib",rawSpec:"^4.4.0",saveSpec:null,fetchSpec:"^4.4.0"},_requiredBy:["/vega-embed"],_resolved:"https://registry.npmjs.org/vega-lib/-/vega-lib-4.4.0.tgz",_shasum:"37d99514c5496a0ce001033bdacb504361ef6880",_spec:"vega-lib@^4.4.0",_where:"G:\\testtensorflow\\node_modules\\vega-embed",author:{name:"UW Interactive Data Lab",url:"http://idl.cs.washington.edu"},browser:{buffer:!1,fs:!1},bugs:{url:"https://github.com/vega/vega-lib/issues"},bundleDependencies:!1,contributors:[{name:"Jeffrey Heer",url:"http://idl.cs.washington.edu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Ryan Russell",url:"https://github.com/RussellSprouts"},{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"},{name:"Yuri Astrakhan",url:"https://github.com/nyurik"}],dependencies:{"vega-crossfilter":"^3.0.1","vega-dataflow":"^4.1.0","vega-encode":"^3.2.2","vega-event-selector":"^2.0.0","vega-expression":"^2.4.0","vega-force":"^3.0.0","vega-geo":"^3.1.1","vega-hierarchy":"^3.1.0","vega-loader":"^3.1.0","vega-parser":"^3.9.0","vega-projection":"^1.2.0","vega-runtime":"^3.2.0","vega-scale":"^2.5.1","vega-scenegraph":"^3.2.3","vega-statistics":"^1.2.3","vega-transforms":"^2.3.1","vega-typings":"*","vega-util":"^1.7.0","vega-view":"^3.4.1","vega-view-transforms":"^2.0.3","vega-voronoi":"^3.0.0","vega-wordcloud":"^3.0.0"},deprecated:!1,description:"Include Vega in projects using minimal dependencies.",devDependencies:{eslint:"5",rollup:"0.67.4","rollup-plugin-json":"^3.1.0","rollup-plugin-node-resolve":"^3.4.0",tape:"4",terser:"3",tv4:"1"},homepage:"https://github.com/vega/vega-lib#readme",jsdelivr:"build/vega.min.js","jsnext:main":"index",keywords:["vega","visualization","interaction","dataflow","library","data","d3"],license:"BSD-3-Clause",main:"build/vega.js",module:"index",name:"vega-lib",repository:{type:"git",url:"git+https://github.com/vega/vega-lib.git"},scripts:{build:"npm run rollup && bin/rollup -e",postbuild:"terser build/vega.js -c -m -o build/vega.min.js && terser build/vega-core.js -c -m -o build/vega-core.min.js",postpublish:"git push && git push --tags",prebuild:"rm -rf build && mkdir build",prepublishOnly:"npm run test && npm run build",pretest:"npm run prebuild && npm run rollup",rollup:"bin/rollup && bin/schema > build/vega-schema.json",test:"TZ=America/Los_Angeles tape 'test/**/*-test.js' && eslint index.js test"},unpkg:"build/vega.min.js",version:"4.4.0"}},function(t,e,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var a,s,u,l=r(e),c=r(n);if(l&&c){if((s=e.length)!=n.length)return!1;for(a=s;0!=a--;)if(!t(e[a],n[a]))return!1;return!0}if(l!=c)return!1;var f=e instanceof Date,p=n instanceof Date;if(f!=p)return!1;if(f&&p)return e.getTime()==n.getTime();var d=e instanceof RegExp,h=n instanceof RegExp;if(d!=h)return!1;if(d&&h)return e.toString()==n.toString();var m=i(e);if((s=m.length)!==i(n).length)return!1;for(a=s;0!=a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!=a--;)if(u=m[a],!t(e[u],n[u]))return!1;return!0}return e!=e&&n!=n}},function(t,e,n){var r="undefined"!=typeof JSON?JSON:n(465);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a="boolean"==typeof e.cycles&&e.cycles,s=e.replacer||function(t,e){return e},u=e.cmp&&function(t){return function(e){return function(n,r){return t({key:n,value:e[n]},{key:r,value:e[r]})}}}(e.cmp),l=[];return function t(e,c,f,p){var d=n?"\n"+new Array(p+1).join(n):"",h=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=s.call(e,c,f))){if("object"!=typeof f||null===f)return r.stringify(f);if(i(f)){for(var m=[],g=0;g<f.length;g++){var v=t(f,g,f[g],p+1)||r.stringify(null);m.push(d+n+v)}return"["+m.join(",")+d+"]"}if(-1!==l.indexOf(f)){if(a)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);var y=o(f).sort(u&&u(f));for(m=[],g=0;g<y.length;g++){var b=t(f,c=y[g],f[c],p+1);if(b){var _=r.stringify(c)+h+b;m.push(d+n+_)}}return l.splice(l.indexOf(f),1),"{"+m.join(",")+d+"}"}}({"":t},"",t,0)};var i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in t)e.call(t,r)&&n.push(r);return n}},function(t,e,n){e.parse=n(466),e.stringify=n(467)},function(t,e){var n,r,i,o,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(t){throw{name:"SyntaxError",message:t,at:n,text:i}},u=function(t){return t&&t!==r&&s("Expected '"+t+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},l=function(){var t,e="";for("-"===r&&(e="-",u("-"));r>="0"&&r<="9";)e+=r,u();if("."===r)for(e+=".";u()&&r>="0"&&r<="9";)e+=r;if("e"===r||"E"===r)for(e+=r,u(),"-"!==r&&"+"!==r||(e+=r,u());r>="0"&&r<="9";)e+=r,u();if(t=+e,isFinite(t))return t;s("Bad number")},c=function(){var t,e,n,i="";if('"'===r)for(;u();){if('"'===r)return u(),i;if("\\"===r)if(u(),"u"===r){for(n=0,e=0;e<4&&(t=parseInt(u(),16),isFinite(t));e+=1)n=16*n+t;i+=String.fromCharCode(n)}else{if("string"!=typeof a[r])break;i+=a[r]}else i+=r}s("Bad string")},f=function(){for(;r&&r<=" ";)u()};o=function(){switch(f(),r){case"{":return function(){var t,e={};if("{"===r){if(u("{"),f(),"}"===r)return u("}"),e;for(;r;){if(t=c(),f(),u(":"),Object.hasOwnProperty.call(e,t)&&s('Duplicate key "'+t+'"'),e[t]=o(),f(),"}"===r)return u("}"),e;u(","),f()}}s("Bad object")}();case"[":return function(){var t=[];if("["===r){if(u("["),f(),"]"===r)return u("]"),t;for(;r;){if(t.push(o()),f(),"]"===r)return u("]"),t;u(","),f()}}s("Bad array")}();case'"':return c();case"-":return l();default:return r>="0"&&r<="9"?l():function(){switch(r){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+r+"'")}()}},t.exports=function(t,e){var a;return i=t,n=0,r=" ",a=o(),f(),r&&s("Syntax error"),"function"==typeof e?function t(n,r){var i,o,a=n[r];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=t(a,i))?a[i]=o:delete a[i]);return e.call(n,r,a)}({"":a},""):a}},function(t,e){function n(t){return s.lastIndex=0,s.test(t)?'"'+t.replace(s,function(t){var e=u[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function r(t,e){var s,u,l,c,f,p=i,d=e[t];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(t)),"function"==typeof a&&(d=a.call(e,t,d)),typeof d){case"string":return n(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(i+=o,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(c=d.length,s=0;s<c;s+=1)f[s]=r(s,d)||"null";return l=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+p+"]":"["+f.join(",")+"]",i=p,l}if(a&&"object"==typeof a)for(c=a.length,s=0;s<c;s+=1)"string"==typeof(u=a[s])&&(l=r(u,d))&&f.push(n(u)+(i?": ":":")+l);else for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&(l=r(u,d))&&f.push(n(u)+(i?": ":":")+l);return l=0===f.length?"{}":i?"{\n"+i+f.join(",\n"+i)+"\n"+p+"}":"{"+f.join(",")+"}",i=p,l}}var i,o,a,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(t,e,n){var s;if(i="",o="","number"==typeof n)for(s=0;s<n;s+=1)o+=" ";else"string"==typeof n&&(o=n);if(a=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return r("",{"":t})}},function(t,e){t.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"3.0.0-rc10",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-Lite is a concise high-level language for interactive visualization.",main:"build/vega-lite.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",module:"build/src/index",types:"build/src/index.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{prebuild:"mkdir -p build/src",build:"npm run build:only","build:only":"tsc && rollup -c",postbuild:"terser build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run build:only","postbuild:examples":"npm run data && TZ=America/Los_Angeles scripts/build-examples.sh","build:examples-full":"npm run build:only","postbuild:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"tsc -p site && webpack --config site/webpack.config.js","build:versions":"scripts/update-version.sh",clean:"rm -rf build && rm -f examples/compiled/*.png && find site/examples ! -name 'index.md' -type f -delete",data:"rsync -r node_modules/vega-datasets/data/* data",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",preschema:"npm run prebuild",schema:"node --stack-size=2800 ./node_modules/.bin/ts-json-schema-generator --no-type-check --path tsconfig.json --type TopLevelSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run prebuild && npm run data && npm run build:site && npm run build:toc && npm run build:versions && scripts/create-example-pages",site:"bundle exec jekyll serve --incremental",format:"tslint -p . --fix -e 'package.json' && prettier --write '{src,test,test-runtime}/**/*.ts'",lint:"tslint -p . -e 'package.json' && prettier --list-different '{src,test,test-runtime}/**/*.ts'",test:"jest test/ && npm run lint && npm run schema && jest examples/ && npm run test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":'TZ=America/Los_Angeles TS_NODE_COMPILER_OPTIONS=\'{"module":"commonjs"}\' wdio wdio.conf.js',"test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true npm run test:runtime","watch:build":"npm run build:only && concurrently --kill-others -n Typescript,Rollup 'tsc -w' 'rollup -c -w'","watch:site":"concurrently --kill-others -n Typescript,Webpack 'tsc -p site --watch' 'webpack --config site/webpack.config.js --mode development --watch'","watch:test":"jest --watch"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@babel/core":"^7.1.6","@types/chai":"^4.1.7","@types/d3":"^5.0.1","@types/highlight.js":"^9.12.3","@types/jest":"^23.3.9","@types/json-stable-stringify":"^1.0.32","@types/mkdirp":"^0.5.2","@types/node":"10.12.10","@types/webdriverio":"^4.13.0",ajv:"^6.5.5",chai:"^4.2.0",cheerio:"^1.0.0-rc.2",chromedriver:"^2.43.3",codecov:"^3.1.0",concurrently:"^4.1.0",d3:"^5.7.0","highlight.js":"^9.13.1",jest:"^23.6.0","json-stable-stringify":"^1.0.1",mkdirp:"^0.5.1",prettier:"^1.15.2","rollup-plugin-commonjs":"^9.2.0","rollup-plugin-json":"^3.1.0","rollup-plugin-node-resolve":"^3.4.0","rollup-plugin-sourcemaps":"^0.4.2",rollup:"^0.67.3","source-map-support":"^0.5.9","svg2png-many":"^0.0.7",terser:"^3.10.12","ts-jest":"^23.10.4","ts-json-schema-generator":"^0.36.3","ts-node":"^7.0.1","tslint-config-prettier":"^1.16.0","tslint-eslint-rules":"^5.4.0",tslint:"5.11.0",typescript:"^3.1.6","vega-datasets":"^1.20.0","vega-embed":"^3.24.1","vega-tooltip":"^0.13.0",vega:"^4.3.0","wdio-chromedriver-service":"^0.1.3","wdio-dot-reporter":"0.0.10","wdio-mocha-framework":"^0.6.4","wdio-static-server-service":"^1.0.1",webdriverio:"^4.14.0","webpack-cli":"^3.1.2",webpack:"^4.26.0","yaml-front-matter":"^4.0.0"},dependencies:{"fast-deep-equal":"^2.0.1","json-stable-stringify":"^1.0.1","json-stringify-pretty-compact":"^1.2.0",tslib:"^1.9.3","vega-event-selector":"^2.0.0","vega-typings":"0.3.51","vega-util":"^1.7.0",yargs:"^12.0.5"},jest:{testURL:"http://localhost/",transform:{"^.+\\.tsx?$":"ts-jest"},testRegex:"(/__tests__/.*|(\\.|/)(test|spec))\\.(jsx?|tsx?)$",moduleFileExtensions:["ts","tsx","js","jsx","json","node"],testPathIgnorePatterns:["node_modules","test-runtime","<rootDir>/build","_site","src"],coverageDirectory:"./coverage/",collectCoverage:!1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(t).slice(1,3);return{library:e[0],version:e[1]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(471),i=n(281),o=n(168),a=n(282),s=n(621),u=n(115),l=n(622),c=n(623),f=n(624),p=n(625),d=n(114);e.render={barchart:r.renderBarchart,table:u.renderTable,histogram:o.renderHistogram,linechart:a.renderLinechart,scatterplot:s.renderScatterplot,confusionMatrix:i.renderConfusionMatrix};e.metrics={accuracy:d.accuracy,perClassAccuracy:d.perClassAccuracy,confusionMatrix:d.confusionMatrix};e.show={history:l.history,fitCallbacks:l.fitCallbacks,perClassAccuracy:f.showPerClassAccuracy,confusionMatrix:f.showConfusionMatrix,valuesDistribution:p.valuesDistribution,layer:c.layer,modelSummary:c.modelSummary};var h=n(250);e.visor=h.visor,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(249))},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(66)),a=n(38);e.renderBarchart=function(t,e,n={}){return r(this,void 0,void 0,function*(){const r=a.getDrawArea(e),i=t,l=Object.assign({},s,n);if(u.has(r)){const t=u.get(r);if(a.shallowEquals(l,t.lastOptions)){yield a.nextFrame();const e=t.view,n=e.changeset().remove(()=>!0).insert(i);return void(yield e.change("values",n).runAsync())}}const{xLabel:c,yLabel:f,xType:p,yType:d}=l;let h=null;null!=c&&(h={title:c});let m=null;null!=f&&(m={title:f});const g={width:l.width||r.clientWidth,height:l.height||r.clientHeight,padding:5,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:l.fontSize,titleFontSize:l.fontSize},text:{fontSize:l.fontSize},legend:{labelFontSize:l.fontSize,titleFontSize:l.fontSize}},data:{values:i,name:"values"},mark:"bar",encoding:{x:{field:"index",type:p,axis:h},y:{field:"value",type:d,axis:m}}};yield a.nextFrame();const v=yield o.default(r,g,{actions:!1,mode:"vega-lite",defaultStyle:!1});u.set(r,{view:v.view,lastOptions:l})})};const s={xLabel:"",yLabel:"",xType:"ordinal",yType:"quantitative",fontSize:11},u=new Map},function(t,e,n){"use strict";function r(t){const{isFullScreen:e,fullScreenHandler:n,closeHandler:r}=t,s=o.css({display:"flex",backgroundColor:"white",border:"1px solid white",padding:"6px",paddingTop:"10px",marginBottom:"10px",borderRadius:"6px",marginTop:"-16px"}),u=o.css(Object.assign({},a.tachyons("f6 link br2 ph3 pv2 near-black"))),l=o.css({marginLeft:"auto"});return i.h("div",{className:`${s} visor-controls`},i.h("button",{className:`${u}`,onClick:n},e?"Minimize":"Maximise"),i.h("button",{className:`${u} ${l}`,onClick:r},"Hide"))}Object.defineProperty(e,"__esModule",{value:!0});const i=n(152),o=n(84),a=n(86),s=n(618),u=n(619);class l extends i.Component{static render(t,e,n){return i.render(i.h(l,Object.assign({},n)),t,e)}constructor(t){super(t),this.surfaces=new Map;this.state={isOpen:null==t.startOpen||t.startOpen,isFullscreen:!1,activeTab:null,tabs:new Set},this.keyHandler=this.keyHandler.bind(this)}close(){this.setState({isOpen:!1})}open(){this.setState({isOpen:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}toggleFullScreen(){this.setState({isFullscreen:!this.state.isFullscreen})}isOpen(){return this.state.isOpen}isFullscreen(){return this.state.isFullscreen}getSurface(t,e){const n=this.surfaceId(t,e);let r;if(!this.surfaces.has(n))throw Error(`Surface not found with id: ${n}`);return r=this.surfaces.get(n),{container:r.container,label:r.label,drawArea:r.drawArea}}bindKeys(){document.addEventListener("keydown",this.keyHandler,!1)}unbindKeys(){document.removeEventListener("keydown",this.keyHandler)}surfaceId(t,e){return t+e}setTabs(t){const e=t.map(t=>t.tab),n=this.state.tabs;let r;for(const t of e)n.has(t)||(n.add(t),r=t);null!=r&&this.setState({tabs:n,activeTab:r})}getTabs(){return this.state.tabs}registerSurface(t,e,n){const r=this.surfaceId(t,e);this.surfaces.set(r,n)}keyHandler(t){192===t.keyCode&&(t.shiftKey?this.toggleFullScreen():this.toggle())}setActiveTab(t){this.setState({activeTab:t})}componentDidMount(){this.bindKeys()}componentWillMount(){this.setTabs(this.props.surfaceList)}componentWillReceiveProps(t){this.setTabs(t.surfaceList)}render(){const{isOpen:t,isFullscreen:e,activeTab:n}=this.state,{surfaceList:a}=this.props,l=Array.from(this.getTabs().values()),c=e?"90vw":"550px",f=o.css({width:c,height:"100%",backgroundColor:"#fafafa",boxSizing:"border-box",padding:"10px",position:"fixed",top:"0px",transition:"right 0.5s cubic-bezier(0.645, 0.045, 0.355, 1), width 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.12), 0 2px 5px rgba(0, 0, 0, 0.24)",overflow:"auto",fontFamily:"sans-serif",fontSize:"14px"}),p=o.css({right:"0"}),d=o.css({right:`calc(-${c} - 10px)`}),h=t?p:d,m=o.css({});return i.h("div",{className:`${f} ${h} visor`,"data-isopen":t,"data-isfullscreen":e},i.h(r,{fullScreenHandler:this.toggleFullScreen.bind(this),closeHandler:this.close.bind(this),isFullScreen:e}),i.h(u.Tabs,{tabNames:l,activeTab:n,handleClick:this.setActiveTab.bind(this)}),i.h("div",{className:`${m} visor-surfaces`},a.map(t=>i.h(s.SurfaceComponent,{key:t.name+t.tab,name:t.name,tab:t.tab,styles:t.styles,registerSurface:this.registerSurface.bind(this),visible:n===t.tab}))))}}e.VisorComponent=l},function(t,e,n){"use strict";(function(t){function r(t){return t[t.length-1]}function i(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function o(){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-glamor",""),t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.speedy,n=t.maxLength,r=void 0===n?u&&f?4e3:65e3:n;this.isSpeedy=void 0===e?!l&&!c:e,this.sheet=void 0,this.tags=[],this.maxLength=r,this.ctr=0}Object.defineProperty(e,"__esModule",{value:!0}),e.StyleSheet=a;var s=function(t){return t&&t.__esModule?t:{default:t}}(n(153)),u="undefined"!=typeof window,l="development"===t.env.NODE_ENV||!t.env.NODE_ENV,c="test"===t.env.NODE_ENV,f=function(){if(u){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}}();(0,s.default)(a.prototype,{getSheet:function(){return i(r(this.tags))},inject:function(){var t=this;if(this.injected)throw new Error("already injected stylesheet!");u?this.tags[0]=o():this.sheet={cssRules:[],insertRule:function(e){t.sheet.cssRules.push({cssText:e})}},this.injected=!0},speedy:function(t){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy("+t+") earlier in your app, or call flush() before speedy("+t+")");this.isSpeedy=!!t},_insert:function(t){try{var e=this.getSheet();e.insertRule(t,-1!==t.indexOf("@import")?0:e.cssRules.length)}catch(e){l&&console.warn("whoops, illegal rule inserted",t)}},insert:function(t){if(u)if(this.isSpeedy&&this.getSheet().insertRule)this._insert(t);else if(-1!==t.indexOf("@import")){var e=r(this.tags);e.insertBefore(document.createTextNode(t),e.firstChild)}else r(this.tags).appendChild(document.createTextNode(t));else this.sheet.insertRule(t,-1!==t.indexOf("@import")?0:this.sheet.cssRules.length);return this.ctr++,u&&this.ctr%this.maxLength==0&&this.tags.push(o()),this.ctr-1},delete:function(t){return this.replace(t,"")},flush:function(){u?(this.tags.forEach(function(t){return t.parentNode.removeChild(t)}),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1},rules:function(){if(!u)return this.sheet.cssRules;var t=[];return this.tags.forEach(function(e){return t.splice.apply(t,[t.length,0].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Array.from(i(e).cssRules))))}),t}})}).call(e,n(18))},function(t,e,n){"use strict";var r=n(475),i=/^-ms-/;t.exports=function(t){return r(t.replace(i,"ms-"))}},function(t,e,n){"use strict";var r=/-(.)/g;t.exports=function(t){return t.replace(r,function(t,e){return e.toUpperCase()})}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(477)),o=r(n(252)),a=i.default.isUnitlessNumber,s={};e.default=function(e,n,r){if(null==n||"boolean"==typeof n||""===n)return"";if(isNaN(n)||0===n||a.hasOwnProperty(e)&&a[e])return""+n;if("string"==typeof n){if("production"!==t.env.NODE_ENV&&r&&"0"!==n){var i=r._currentElement._owner,u=i?i.getName():null;u&&!s[u]&&(s[u]={});var l=!1;if(u){var c=s[u];(l=c[e])||(c[e]=!0)}l||"production"!==t.env.NODE_ENV&&(0,o.default)(!1,"a `%s` tag (owner: `%s`) was passed a numeric string value for CSS property `%s` (value: `%s`) which will be treated as a unitless number in a future version of React.",r._currentElement.type,u||"unknown",e,n)}n=n.trim()}return n+"px"}}).call(e,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowStart:!0,gridRowEnd:!0,gridColumn:!0,gridColumnStart:!0,gridColumnEnd:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){i.forEach(function(e){r[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(e,t)]=r[t]})});e.default={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";var r=n(480),i=/^ms-/;t.exports=function(t){return r(t).replace(i,"-ms-")}},function(t,e,n){"use strict";var r=/([A-Z])/g;t.exports=function(t){return t.replace(r,"-$1").toLowerCase()}},function(t,e,n){"use strict";t.exports=function(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}},function(t,e,n){"use strict";function r(t){if(function(t){return null===t||void 0===t||!1===t||"object"===(void 0===t?"undefined":o(t))&&0===Object.keys(t).length}(t))return null;if("object"!==(void 0===t?"undefined":o(t)))return t;for(var e={},n=Object.keys(t),r=!1,a=0;a<n.length;a++){var s=t[n[a]],u=i(s);null!==u&&u===s||(r=!0),null!==u&&(e[n[a]]=u)}return 0===Object.keys(e).length?null:r?e:t}function i(t){return Array.isArray(t)?function(t){var e=!1,n=[];return t.forEach(function(t){var r=i(t);null!==r&&r===t||(e=!0),null!==r&&n.push(r)}),0==n.length?null:e?n:t}(t):r(t)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function i(t){this.fns=t||[]}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.PluginSet=i,e.fallbacks=function(t){if(Object.keys(t.style).map(function(e){return Array.isArray(t.style[e])}).indexOf(!0)>=0){var e=t.style,n=Object.keys(e).reduce(function(t,n){return t[n]=Array.isArray(e[n])?e[n].join("; "+(0,s.processStyleName)(n)+": "):e[n],t},{});return(0,a.default)({},t,{style:n})}return t},e.contentWrap=function(t){if(t.style.content){var e=t.style.content;return c.indexOf(e)>=0?t:/^(attr|calc|counters?|url)\(/.test(e)?t:e.charAt(0)!==e.charAt(e.length-1)||'"'!==e.charAt(0)&&"'"!==e.charAt(0)?o({},t,{style:o({},t.style,{content:'"'+e+'"'})}):t}return t},e.prefixes=function(t){return(0,a.default)({},t,{style:(0,u.default)(o({},t.style))})};var a=r(n(153)),s=n(251),u=r(n(484)),l=function(t){return"development"===t||!t}(t.env.NODE_ENV);(0,a.default)(i.prototype,{add:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(e){t.fns.indexOf(e)>=0?l&&console.warn("adding the same plugin again, ignoring"):t.fns=[e].concat(t.fns)})},remove:function(t){this.fns=this.fns.filter(function(e){return e!==t})},clear:function(){this.fns=[]},transform:function(t){return this.fns.reduce(function(t,e){return e(t)},t)}});var c=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit"]}).call(e,n(18))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e in t){var n=(0,a.default)(v,e,t[e],t,y);n&&(t[e]=n),(0,o.default)(y,e,t)}return t};var i=r(n(485)),o=r(n(486)),a=r(n(487)),s=r(n(488)),u=r(n(489)),l=r(n(490)),c=r(n(491)),f=r(n(492)),p=r(n(493)),d=r(n(494)),h=r(n(495)),m=r(n(496)),g=r(n(497)),v=[u.default,s.default,l.default,f.default,p.default,d.default,h.default,m.default,g.default,c.default],y=i.default.prefixMap},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["Webkit"],i=["Moz"],o=["ms"],a=["Webkit","Moz"],s=["Webkit","ms"],u=["Webkit","Moz","ms"];e.default={plugins:[],prefixMap:{appearance:a,userSelect:u,textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,clipPath:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,filter:r,fontFeatureSettings:r,breakAfter:u,breakBefore:u,breakInside:u,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,writingMode:s,flex:r,flexBasis:r,flexDirection:r,flexGrow:r,flexFlow:r,flexShrink:r,flexWrap:r,alignContent:r,alignItems:r,alignSelf:r,justifyContent:r,order:r,transform:r,transformOrigin:r,transformOriginX:r,transformOriginY:r,backfaceVisibility:r,perspective:r,perspectiveOrigin:r,transformStyle:r,transformOriginZ:r,animation:r,animationDelay:r,animationDirection:r,animationFillMode:r,animationDuration:r,animationIterationCount:r,animationName:r,animationPlayState:r,animationTimingFunction:r,backdropFilter:r,fontKerning:r,scrollSnapType:s,scrollSnapPointsX:s,scrollSnapPointsY:s,scrollSnapDestination:s,scrollSnapCoordinate:s,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,hyphens:u,flowInto:s,flowFrom:s,regionFragment:s,textAlignLast:i,tabSize:i,wrapFlow:o,wrapThrough:o,wrapMargin:o,gridTemplateColumns:o,gridTemplateRows:o,gridTemplateAreas:o,gridTemplate:o,gridAutoColumns:o,gridAutoRows:o,gridAutoFlow:o,grid:o,gridRowStart:o,gridColumnStart:o,gridRowEnd:o,gridRow:o,gridColumn:o,gridColumnEnd:o,gridColumnGap:o,gridRowGap:o,gridArea:o,gridGap:o,textSizeAdjust:s,borderImage:r,borderImageOutset:r,borderImageRepeat:r,borderImageSlice:r,borderImageSource:r,borderImageWidth:r,transitionDelay:r,transitionDuration:r,transitionProperty:r,transitionTimingFunction:r}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){if(t.hasOwnProperty(e))for(var i=t[e],o=0,a=i.length;o<a;++o)n[i[o]+(0,r.default)(e)]=n[e]};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(253));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){for(var o=0,a=t.length;o<a;++o){var s=t[o](e,n,r,i);if(s)return s}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("cursor"===t&&i.hasOwnProperty(e))return r.map(function(t){return t+e})};var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("string"==typeof e&&!(0,r.default)(e)&&e.indexOf("cross-fade(")>-1)return i.map(function(t){return e.replace(/cross-fade\(/g,t+"cross-fade(")})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(85)),i=["-webkit-",""];t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("string"==typeof e&&!(0,r.default)(e)&&e.indexOf("filter(")>-1)return i.map(function(t){return e.replace(/filter\(/g,t+"filter(")})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(85)),i=["-webkit-",""];t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("display"===t&&r.hasOwnProperty(e))return r[e]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){"flexDirection"===t&&"string"==typeof e&&(n.WebkitBoxOrient=e.indexOf("column")>-1?"vertical":"horizontal",n.WebkitBoxDirection=e.indexOf("reverse")>-1?"reverse":"normal"),i.hasOwnProperty(t)&&(n[i[t]]=r[e]||e)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("string"==typeof e&&!(0,r.default)(e)&&o.test(e))return i.map(function(t){return t+e})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(85)),i=["-webkit-","-moz-",""],o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("string"==typeof e&&!(0,r.default)(e)&&e.indexOf("image-set(")>-1)return i.map(function(t){return e.replace(/image-set\(/g,t+"image-set(")})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(85)),i=["-webkit-",""];t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if("position"===t&&"sticky"===e)return["-webkit-sticky","sticky"]},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(i.hasOwnProperty(t)&&o.hasOwnProperty(e))return r.map(function(t){return t+e})};var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){if("string"==typeof e&&s.hasOwnProperty(t)){var l=function(t,e){if((0,o.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,a=n.length;r<a;++r){var s=n[r],l=[s];for(var c in e){var f=(0,i.default)(c);if(s.indexOf(f)>-1&&"order"!==f)for(var p=e[c],d=0,h=p.length;d<h;++d)l.unshift(s.replace(f,u[p[d]]+f))}n[r]=l.join(",")}return n.join(",")}(e,r),c=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(",");if(t.indexOf("Webkit")>-1)return c;var f=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(",");return t.indexOf("Moz")>-1?f:(n["Webkit"+(0,a.default)(t)]=c,n["Moz"+(0,a.default)(t)]=f,l)}};var i=r(n(498)),o=r(n(85)),a=r(n(253)),s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(499));t.exports=e.default},function(t,e,n){"use strict";var r=/[A-Z]/g,i=/^ms-/,o={};t.exports=function(t){return t in o?o[t]:o[t]=t.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}},function(t,e,n){"use strict";function r(t,e){return t.charCodeAt(e++)+(t.charCodeAt(e++)<<8)}function i(t,e){return(65535&(t|=0))*(e|=0)+(((t>>>16)*e&65535)<<16)|0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=1540483477,o=e^t.length,a=t.length,s=0;a>=4;){var u=function(t,e){return t.charCodeAt(e++)+(t.charCodeAt(e++)<<8)+(t.charCodeAt(e++)<<16)+(t.charCodeAt(e)<<24)}(t,s);u=i(u,n),u=i(u^=u>>>24,n),o=i(o,n),o^=u,s+=4,a-=4}switch(a){case 3:o^=r(t,s),o=i(o^=t.charCodeAt(s+2)<<16,n);break;case 2:o=i(o^=r(t,s),n);break;case 1:o=i(o^=t.charCodeAt(s),n)}return o^=o>>>13,o=i(o,n),(o^=o>>>15)>>>0}},function(t,e,n){var r=n(502),i=n(559),o=n(268);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(154),i=n(261),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,l=u,c=!s;if(null==t)return!l;for(t=Object(t);u--;){var f=n[u];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<l;){var p=(f=n[u])[0],d=t[p],h=f[1];if(c&&f[2]){if(void 0===d&&!(p in t))return!1}else{var m=new r;if(s)var g=s(d,h,p,t,e,m);if(!(void 0===g?i(h,d,o|a,s,m):g))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(108),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(108);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(108);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(108);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(107);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(107),i=n(155),o=n(156),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(109),i=n(516),o=n(40),a=n(260),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,p=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?p:s).test(a(t))}},function(t,e,n){var r=n(88),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(517),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(39);t.exports=r["__core-js_shared__"]},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(520),i=n(107),o=n(155);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(521),o=n(522),a=n(523),s=n(524),u=n(525);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(110);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(110),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(110),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(110),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(111);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(111);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(111);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(111);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(154),i=n(262),o=n(537),a=n(540),s=n(554),u=n(29),l=n(158),c=n(160),f=1,p="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,v,y){var b=u(t),_=u(e),w=b?d:s(t),x=_?d:s(e),E=(w=w==p?h:w)==h,C=(x=x==p?h:x)==h,S=w==x;if(S&&l(t)){if(!l(e))return!1;b=!0,E=!1}if(S&&!E)return y||(y=new r),b||c(t)?i(t,e,n,g,v,y):o(t,e,w,n,g,v,y);if(!(n&f)){var O=E&&m.call(t,"__wrapped__"),k=C&&m.call(e,"__wrapped__");if(O||k){var T=O?t.value():t,P=k?e.value():e;return y||(y=new r),v(T,P,n,g,y)}}return!!S&&(y||(y=new r),a(t,e,n,g,v,y))}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(156),o=n(533),a=n(534);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(88),i=n(263),o=n(87),a=n(262),s=n(538),u=n(539),l=1,c=2,f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,E=x?x.valueOf:void 0;t.exports=function(t,e,n,r,x,C,S){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!C(new i(t),new i(e)));case f:case p:case m:return o(+t,+e);case d:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case h:var O=s;case v:if(O||(O=u),t.size!=e.size&&!(r&l))return!1;var k=S.get(t);if(k)return k==e;r|=c,S.set(t,e);var T=a(O(t),O(e),r,x,C,S);return S.delete(t),T;case b:if(E)return E.call(t)==E.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(541),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var l=n&i,c=r(t),f=c.length;if(f!=r(e).length&&!l)return!1;for(var p=f;p--;){var d=c[p];if(!(l?d in e:o.call(e,d)))return!1}var h=u.get(t);if(h&&u.get(e))return h==e;var m=!0;u.set(t,e),u.set(e,t);for(var g=l;++p<f;){var v=t[d=c[p]],y=e[d];if(a)var b=l?a(y,v,d,e,t,u):a(v,y,d,t,e,u);if(!(void 0===b?v===y||s(v,y,n,a,u):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(t),u.delete(e),m}},function(t,e,n){var r=n(542),i=n(543),o=n(157);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(264),i=n(29);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(544),i=n(545),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;t.exports=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(67),i=n(55),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(67),i=n(161),o=n(55),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(259),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(e,n(104)(t))},function(t,e,n){var r=n(162),i=n(553),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(266)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(555),i=n(155),o=n(556),a=n(557),s=n(558),u=n(67),l=n(260),c=l(r),f=l(i),p=l(o),d=l(a),h=l(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(54)(n(39),"DataView");t.exports=r},function(t,e,n){var r=n(54)(n(39),"Promise");t.exports=r},function(t,e,n){var r=n(54)(n(39),"Set");t.exports=r},function(t,e,n){var r=n(54)(n(39),"WeakMap");t.exports=r},function(t,e,n){var r=n(267),i=n(157);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(261),i=n(561),o=n(566),a=n(163),s=n(267),u=n(268),l=n(113),c=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,c|f)}}},function(t,e,n){var r=n(269);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(563)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(564),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(156),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var i=n(88),o=n(257),a=n(29),s=n(164),u=1/0,l=i?i.prototype:void 0,c=l?l.toString:void 0;t.exports=r},function(t,e,n){var r=n(567),i=n(568);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(270),i=n(112),o=n(29),a=n(159),s=n(161),u=n(113);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,f=!1;++l<c;){var p=u(e[l]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++l!=c?f:!!(c=null==t?0:t.length)&&s(c)&&a(p,c)&&(o(t)||i(t))}},function(t,e,n){var r=n(570),i=n(571),o=n(163),a=n(113);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(269);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(271),i=n(68);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){var r=n(272),i=n(157);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(68);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(577),i=n(592)(function(t,e,n){r(t,e,n)});t.exports=i},function(t,e,n){function r(t,e,n,f,p){t!==e&&a(e,function(a,l){if(u(a))p||(p=new i),s(t,e,l,n,r,f,p);else{var d=f?f(c(t,l),a,l+"",t,e,p):void 0;void 0===d&&(d=a),o(t,l,d)}},l)}var i=n(154),o=n(273),a=n(272),s=n(578),u=n(40),l=n(277),c=n(276);t.exports=r},function(t,e,n){var r=n(273),i=n(579),o=n(580),a=n(582),s=n(583),u=n(112),l=n(29),c=n(585),f=n(158),p=n(109),d=n(40),h=n(586),m=n(160),g=n(276),v=n(587);t.exports=function(t,e,n,y,b,_,w){var x=g(t,n),E=g(e,n),C=w.get(E);if(C)r(t,n,C);else{var S=_?_(x,E,n+"",t,e,w):void 0,O=void 0===S;if(O){var k=l(E),T=!k&&f(E),P=!k&&!T&&m(E);S=E,k||T||P?l(x)?S=x:c(x)?S=a(x):T?(O=!1,S=i(E,!0)):P?(O=!1,S=o(E,!0)):S=[]:h(E)||u(E)?(S=x,u(x)?S=v(x):d(x)&&!p(x)||(S=s(E))):O=!1}O&&(w.set(E,S),b(S,E,y,_,w),w.delete(E)),r(t,n,S)}}},function(t,e,n){(function(t){var r=n(39),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(e,n(104)(t))},function(t,e,n){var r=n(581);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(263);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(584),i=n(275),o=n(162);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(40),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(68),i=n(55);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(67),i=n(275),o=n(55),a="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,f=l.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}},function(t,e,n){var r=n(588),i=n(277);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(589),i=n(167);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},function(t,e,n){var r=n(167),i=n(87),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(40),i=n(162),o=n(591),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(593),i=n(600);t.exports=function(t){return r(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(166),i=n(594),o=n(596);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(595),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),r(t,this,l)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(597),i=n(599)(r);t.exports=i},function(t,e,n){var r=n(598),i=n(274),o=n(166);t.exports=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(87),i=n(68),o=n(159),a=n(40);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(602);t.exports=function(t){r.forEach(function(e){t.insertRule(e)})}},function(t,e){t.exports=["html { line-height: 1.15;  -ms-text-size-adjust: 100%;  -webkit-text-size-adjust: 100%;  }","body { margin: 0; }","article, aside, footer, header, nav, section { display: block; }","h1 { font-size: 2em; margin: .67em 0; }","figcaption, figure, main { display: block; }","figure { margin: 1em 40px; }","hr { box-sizing: content-box;  height: 0;  overflow: visible;  }","pre { font-family: monospace, monospace;  font-size: 1em;  }","a { background-color: transparent;  -webkit-text-decoration-skip: objects;  }","abbr[title] { border-bottom: none;  text-decoration: underline;  text-decoration: underline dotted;  }","b, strong { font-weight: inherit; }","b, strong { font-weight: bolder; }","code, kbd, samp { font-family: monospace, monospace;  font-size: 1em;  }","dfn { font-style: italic; }","mark { background-color: #ff0; color: #000; }","small { font-size: 80%; }","sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }","sub { bottom: -0.25em; }","sup { top: -0.5em; }","audio, video { display: inline-block; }","audio:not([controls]) { display: none; height: 0; }","img { border-style: none; }","svg:not(:root) { overflow: hidden; }","button, input, optgroup, select, textarea { font-family: sans-serif;  font-size: 100%;  line-height: 1.15;  margin: 0;  }","button, input { overflow: visible; }","button, select { text-transform: none; }",'button, html [type="button"], [type="reset"], [type="submit"] { -webkit-appearance: button;  }','button::-moz-focus-inner, [type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner, [type="submit"]::-moz-focus-inner { border-style: none; padding: 0; }','button:-moz-focusring, [type="button"]:-moz-focusring,[type="reset"]:-moz-focusring, [type="submit"]:-moz-focusring { outline: 1px dotted ButtonText; }',"fieldset { padding: .35em .75em .625em; }","legend { box-sizing: border-box;  color: inherit;  display: table;  max-width: 100%;  padding: 0;  white-space: normal;  }","progress { display: inline-block;  vertical-align: baseline;  }","textarea { overflow: auto; }",'[type="checkbox"], [type="radio"] { box-sizing: border-box;  padding: 0;  }','[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button { height: auto; }','[type="search"] { -webkit-appearance: textfield;  outline-offset: -2px;  }','[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }',"::-webkit-file-upload-button { -webkit-appearance: button;  font: inherit;  }","details, menu { display: block; }","summary { display: list-item; }","canvas { display: inline-block; }","template { display: none; }","[hidden] { display: none; }",'html, body, div, article, section, main, footer, header, form, fieldset, legend,pre, code, a, h1, h2, h3, h4, h5, h6, p, ul, ol, li, dl, dt, dd, textarea, table,td, th, tr, input[type="email"], input[type="number"], input[type="password"],input[type="tel"], input[type="text"], input[type="url"], .border-box { box-sizing: border-box; }',"img { max-width: 100%; }","code, .code { font-family: Consolas, monaco, monospace; }"]},function(t,e,n){"use strict";var r=n(279),i=n(40),o=n(109),a=n(254);t.exports=function t(e,n){return r(e,function(e,r,s){return e[s]=!0===i(r)?t(r,n):o(n)?n(a(r)):a(r),e},{})}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}},function(t,e,n){"use strict";var r=n(255),i=n(256),o=n(279),a=n(606),s=n(615),u=n(278);t.exports=function(t){var e;e="string"==typeof t?t.split(" "):t;var n=i(e,function(t){var e=u[t];if("string"==typeof e){e=u[e]}return e?function(t,e){var n=u[r.getAtRuleSize(t)];return o(e,function(e,r,i){var o="."+t+"{"+a(i)+":"+r+";}";return"string"==typeof n&&(o=n+"{"+o+"}"),e.push(o),e},[])}(t,e):(console.error(t+" is not in the list of available Tachyons classes"),[])});return s(n)}},function(t,e,n){var r=n(607)(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});t.exports=r},function(t,e,n){var r=n(280),i=n(608),o=n(611),a=RegExp("[']","g");t.exports=function(t){return function(e){return r(o(i(e).replace(a,"")),t,"")}}},function(t,e,n){var r=n(609),i=n(165),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,r).replace(a,"")}},function(t,e,n){var r=n(610)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});t.exports=r},function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},function(t,e,n){var r=n(612),i=n(613),o=n(165),a=n(614);t.exports=function(t,e,n){return t=o(t),void 0===(e=n?void 0:e)?i(t)?a(t):r(t):t.match(e)||[]}},function(t,e){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(n)||[]}},function(t,e){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return n.test(t)}},function(t,e){var n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+i+"]",a="\\d+",s="[\\u2700-\\u27bf]",u="["+n+"]",l="[^\\ud800-\\udfff"+i+a+"\\u2700-\\u27bf"+n+r+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+r+"]",d="(?:"+u+"|"+l+")",h="(?:"+p+"|"+l+")",m="(?:['](?:d|ll|m|re|s|t|ve))?",g="(?:['](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?"+v+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,f].join("|")+")[\\ufe0e\\ufe0f]?"+v+")*"),b="(?:"+[s,c,f].join("|")+")"+y,_=RegExp([p+"?"+u+"+"+m+"(?="+[o,p,"$"].join("|")+")",h+"+"+g+"(?="+[o,p+d,"$"].join("|")+")",p+"?"+d+"+"+m,p+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,b].join("|"),"g");t.exports=function(t){return t.match(_)||[]}},function(t,e,n){var r=n(616);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){function r(t,e,n,a,s){var u=-1,l=t.length;for(n||(n=o),s||(s=[]);++u<l;){var c=t[u];e>0&&n(c)?e>1?r(c,e-1,n,a,s):i(s,c):a||(s[s.length]=c)}return s}var i=n(264),o=n(617);t.exports=r},function(t,e,n){var r=n(88),i=n(112),o=n(29),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(152),i=n(84),o=n(86);class a extends r.Component{componentDidMount(){const{name:t,tab:e}=this.props;this.props.registerSurface(t,e,this)}componentDidUpdate(){return!1}render(){const{name:t,visible:e,styles:n}=this.props,s=Object.assign({},a.defaultStyles,n),{width:u,height:l}=s;let{maxHeight:c,maxWidth:f}=s;c=l===a.defaultStyles.height?c:l,f=u===a.defaultStyles.width?f:u;const p=i.css({display:e?"block":"none",backgroundColor:"white",marginTop:"10px",marginBottom:"10px",boxShadow:"0 0 6px -3px #777",padding:"10px !important",height:l,width:u,maxHeight:c,maxWidth:f,overflow:"auto"}),d=i.css(Object.assign({backgroundColor:"white",boxSizing:"border-box",borderBottom:"1px solid #357EDD",lineHeight:"2em",marginBottom:"20px"},o.tachyons("fw6 tc"))),h=i.css({boxSizing:"border-box"});return r.h("div",{className:`${p} tf-surface`,ref:t=>this.container=t,"data-visible":e},r.h("div",{className:`${d} tf-label`,ref:t=>this.label=t},t),r.h("div",{className:`${h} tf-draw-area`,ref:t=>this.drawArea=t}))}}a.defaultStyles={maxWidth:"580px",maxHeight:"580px",height:"auto",width:"auto"},e.SurfaceComponent=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(152),i=n(84),o=n(86);e.Tabs=class extends r.Component{render(){const{tabNames:t,activeTab:e,handleClick:n}=this.props,i=t.length>0?t.map(t=>r.h(a,{key:t,id:t,handleClick:n,isActive:t===e},t)):null;return r.h("div",{className:"bb b--light-gray pb2 mt3 visor-tabs"},i)}};class a extends r.Component{render(){const{children:t,isActive:e,handleClick:n,id:a}=this.props,s=i.css(Object.assign({borderBottomColor:e?"#357EDD":"#AAAAAA",borderBottomWidth:"1px",borderBottomStyle:"solid",cursor:"pointer",":hover":{color:"#357EDD"}},o.tachyons("b f5 mr3 pa2")));return r.h("a",{className:`${s} tf-tab`,"data-isactive":e,onClick:()=>n(a)},t)}}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error("string"==typeof e?e:e())}function i(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.assert=r,e.assertShapesMatch=function(t,e,n=""){r(i(t,e),n+` Shapes ${t} and ${e} must match`)},e.arraysEqual=i,e.DECIMAL_PLACES_TO_CHECK=4},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(66)),a=n(38);e.renderScatterplot=function(t,e,n={}){return r(this,void 0,void 0,function*(){let r=t.values;const i=null==t.series?[]:t.series,u=[];(r=Array.isArray(r[0])?r:[r]).forEach((t,e)=>{const n=null!=i[e]?i[e]:`Series ${e+1}`,r=t.map(t=>Object.assign({},t,{series:n}));u.push(...r)});const l=a.getDrawArea(e),c=Object.assign({},s,n);return yield o.default(l,{width:c.width||l.clientWidth,height:c.height||l.clientHeight,padding:5,autosize:{type:"fit",contains:"padding",resize:!0},config:{axis:{labelFontSize:c.fontSize,titleFontSize:c.fontSize},text:{fontSize:c.fontSize},legend:{labelFontSize:c.fontSize,titleFontSize:c.fontSize}},data:{values:u},mark:{type:"point",clip:!0},encoding:{x:{field:"x",type:c.xType,title:c.xLabel,scale:c.zoomToFit?{zero:!1}:null!=c.xAxisDomain?{domain:c.xAxisDomain}:void 0},y:{field:"y",type:c.yType,title:c.yLabel,scale:c.zoomToFit?{zero:!1}:null!=c.yAxisDomain?{domain:c.yAxisDomain}:void 0},color:{field:"series",type:"nominal"},shape:{field:"series",type:"nominal"},tooltip:{field:"value",type:c.yType}}},{actions:!1,mode:"vega-lite",defaultStyle:!1}),Promise.resolve()})};const s={xLabel:"x",yLabel:"y",xType:"quantitative",yType:"quantitative",zoomToFit:!1,fontSize:11}},function(t,e,n){"use strict";function r(t,e,n,r={}){return a(this,void 0,void 0,function*(){const a=u.getDrawArea(t),c={};for(const t of n)if(/val_/.test(t)){const r=t.replace("val_","");i(c,r);const a=o(e,t,n.indexOf(t));c[r].series.push(t),c[r].values.push(a)}else{const r=o(e,t,n.indexOf(t));i(c,t),c[t].series.push(t),c[t].values.push(r)}const f=Object.keys(c),p=Object.assign({},{xLabel:"Iteration",yLabel:"Value"},r),d=[];for(const t of f){const e=l.subSurface(a,t),n=c[t].series,r=c[t].values;n.every(t=>Boolean(t.match("acc")))&&(p.zoomToFitAccuracy?p.zoomToFit=!0:(p.yAxisDomain=[0,1],delete p.zoomToFit));const i=s.renderLinechart({values:r,series:n},e,p);d.push(i)}yield Promise.all(d)})}function i(t,e){null==t[e]&&(t[e]={series:[],values:[]})}function o(t,e,n){if(Array.isArray(t)){const r=Array.isArray(t[0])?t[n]:t,i=[];for(let t=0;t<r.length;t++){i.push({x:t,y:r[t][e]})}return i}return t.history[e].map((t,e)=>({x:e,y:t}))}var a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const s=n(282),u=n(38),l=n(169);e.history=r,e.fitCallbacks=function(t,e,n={}){const i={},o=n.callbacks||["onEpochEnd","onBatchEnd"],s=u.getDrawArea(t),c=Object.assign({},n);delete c.callbacks;const f={};return o.forEach(t=>{f[t]=function(t){return(n,o)=>a(this,void 0,void 0,function*(){/batch/i.test(t)?c.xLabel="Batch":/epoch/i.test(t)&&(c.xLabel="Epoch");const n=[],a=[];for(const r of e)if(null!=o[r]){a.push(r);const e=function(t,e,n){return null==t[e]&&(t[e]={}),null==t[e][n]&&(t[e][n]=[]),t[e][n]}(i,t,r);e.push({[r]:o[r]}),n.push(e)}r(l.subSurface(s,t,{title:t}),n,a,c),yield u.nextFrame()})}(t)}),f}},function(t,e,n){"use strict";function r(t){let e;if(Array.isArray(t.outputShape[0])){e=`[${t.outputShape.map(t=>i(t)).join(", ")}]`}else e=i(t.outputShape);return{name:t.name,trainable:t.trainable,parameters:t.countParams(),outputShape:e}}function i(t){const e=t.slice();return 0===e.length?"Scalar":(null===e[0]&&(e[0]="batch"),`[${e.join(",")}]`)}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const a=n(168),s=n(38),u=n(115),l=n(169),c=n(114);e.modelSummary=function(t,e){return o(this,void 0,void 0,function*(){const n=s.getDrawArea(t),i=function(t){return{layers:t.layers.map(r)}}(e).layers.map(t=>[t.name,t.outputShape,t.parameters,t.trainable]);u.renderTable({headers:["Layer Name","Output Shape","# Of Params","Trainable"],values:i},n)})},e.layer=function(t,e){return o(this,void 0,void 0,function*(){const n=s.getDrawArea(t),r=yield function(t){return o(this,void 0,void 0,function*(){const e=t.getWeights(),n=t.weights,r=e.map(c.tensorStats),o=yield Promise.all(r),a=e.map(t=>t.shape);return e.map((t,e)=>({name:n[e].name,stats:o[e],shape:i(a[e]),weight:t}))})}(e),f=l.subSurface(n,"layer-weights-info"),p=r.map(t=>[t.name,t.shape,t.stats.min,t.stats.max,t.weight.size,t.stats.numZeros,t.stats.numNans,t.stats.numInfs]);u.renderTable({headers:["Weight Name","Shape","Min","Max","# Params","# Zeros","# NaNs","# Infinity"],values:p},f);const d=l.subSurface(n,"select-layer"),h=l.subSurface(n,"param-distribution");!function(t,e,n){const r=`\n    <select>\n      ${t.map(t=>`<option value=${t}>${t}</option>`)}\n    </select>\n  `;e.innerHTML=`<div><button>Show Values Distribution for:</button>${r}</div>`;const i=e.querySelector("button"),o=e.querySelector("select");i.addEventListener("click",()=>{n(o.selectedOptions[0].label)})}(r.map(t=>t.name),d,t=>o(this,void 0,void 0,function*(){const e=yield r.filter(e=>e.name===t)[0].weight.data();a.renderHistogram(e,h,{height:150,width:460,stats:!1})}))})}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(281),o=n(38),a=n(115);e.showPerClassAccuracy=function(t,e,n){return r(this,void 0,void 0,function*(){const r=o.getDrawArea(t),i=[];for(let t=0;t<e.length;t++){const r=n?n[t]:t.toString(),o=e[t];i.push([r,o.accuracy,o.count])}return a.renderTable({headers:["Class","Accuracy","# Samples"],values:i},r)})},e.showConfusionMatrix=function(t,e,n){return r(this,void 0,void 0,function*(){const r=o.getDrawArea(t);return i.renderConfusionMatrix({values:e,labels:n},r,{height:450})})}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(168),o=n(38),a=n(114);e.valuesDistribution=function(t,e){return r(this,void 0,void 0,function*(){const n=o.getDrawArea(t),r=yield a.tensorStats(e),s=yield e.data();i.renderHistogram(s,n,{height:150,stats:r})})}},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.data={}}return t.prototype.parseUrl=function(t){if(t){var e=t.indexOf("?");if(e>-1)for(var n=t.slice(e+1).split("&"),r=0;r<n.length;r++)if(n[r].indexOf("=")>0){var i=n[r].split("=");i.length>1&&(this.data[i[0].toLowerCase()]=i[1].split("#")[0])}}},t.prototype.get=function(t){return this.data[t.toLowerCase()]},t}();e.QueryParams=n})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(4),n(90)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../animations/animation"),r=t("../util/util"),i="opacity",o="translateX",s="show-back-button",u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.plt,a=e.isRTL?"-99.5%":"99.5%",u=e.isRTL?"33%":"-33%",l=this.enteringView,c=this.leavingView,f=this.opts;this.duration(r.isPresent(f.duration)?f.duration:500),this.easing(r.isPresent(f.easing)?f.easing:"cubic-bezier(0.36,0.66,0.04,1)");var p="back"===f.direction,d=l&&l.hasNavbar(),h=c&&c.hasNavbar();if(l){var m=l.pageRef().nativeElement,g=new n.Animation(e,l.contentRef());if(g.element(m.querySelectorAll("ion-header > *:not(ion-navbar),ion-footer > *")),this.add(g),p?g.fromTo(o,u,"0%",!0).fromTo(i,.8,1,!0):g.beforeClearStyles([i]).fromTo(o,a,"0%",!0),d){var v=m.querySelector("ion-navbar"),y=new n.Animation(e,v);this.add(y);var b=new n.Animation(e,v.querySelector("ion-title")),_=new n.Animation(e,v.querySelectorAll("ion-buttons,[menuToggle]")),w=new n.Animation(e,v.querySelector(".toolbar-background")),x=new n.Animation(e,v.querySelector(".back-button"));if(y.add(b).add(_).add(w).add(x),b.fromTo(i,.01,1,!0),_.fromTo(i,.01,1,!0),p)b.fromTo(o,u,"0%",!0),l.enableBack()&&x.beforeAddClass(s).fromTo(i,.01,1,!0);else if(b.fromTo(o,a,"0%",!0),w.beforeClearStyles([i]).fromTo(o,a,"0%",!0),l.enableBack()){x.beforeAddClass(s).fromTo(i,.01,1,!0);var E=new n.Animation(e,v.querySelector(".back-button-text"));E.fromTo(o,e.isRTL?"-100px":"100px","0px"),y.add(E)}else x.beforeRemoveClass(s)}}if(c&&c.pageRef()){var C=c.pageRef().nativeElement,S=new n.Animation(e,c.contentRef());if(S.element(C.querySelectorAll("ion-header > *:not(ion-navbar),ion-footer > *")),this.add(S),p?S.beforeClearStyles([i]).fromTo(o,"0%",e.isRTL?"-100%":"100%"):S.fromTo(o,"0%",u).fromTo(i,1,.8).afterClearStyles(["transform",i]),h){var O=C.querySelector("ion-navbar"),k=new n.Animation(e,O),T=new n.Animation(e,O.querySelector("ion-title")),P=new n.Animation(e,O.querySelectorAll("ion-buttons,[menuToggle]")),N=new n.Animation(e,O.querySelector(".toolbar-background")),I=new n.Animation(e,O.querySelector(".back-button"));if(k.add(T).add(P).add(I).add(N),this.add(k),I.fromTo(i,.99,0),T.fromTo(i,.99,0),P.fromTo(i,.99,0),p){T.fromTo(o,"0%",e.isRTL?"-100%":"100%"),N.beforeClearStyles([i]).fromTo(o,"0%",e.isRTL?"-100%":"100%");var A=new n.Animation(e,O.querySelector(".back-button-text"));A.fromTo(o,"0%",(e.isRTL?-300:300)+"px"),k.add(A)}else T.fromTo(o,"0%",u).afterClearStyles(["transform"]),I.afterClearStyles([i]),T.afterClearStyles([i]),P.afterClearStyles([i])}}},e}(t("./page-transition").PageTransition);e.IOSTransition=u})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(4),n(90)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../animations/animation"),r=t("../util/util"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.plt,i=this.enteringView,o=this.leavingView,a=this.opts,s="back"===a.direction;if(i&&(s?this.duration(r.isPresent(a.duration)?a.duration:200).easing("cubic-bezier(0.47,0,0.745,0.715)"):(this.duration(r.isPresent(a.duration)?a.duration:280).easing("cubic-bezier(0.36,0.66,0.04,1)"),this.enteringPage.fromTo("translateY","40px","0px",!0).fromTo("opacity",.01,1,!0)),i.hasNavbar())){var u=i.pageRef().nativeElement.querySelector("ion-navbar"),l=new n.Animation(e,u);this.add(l);var c=new n.Animation(e,u.querySelector(".back-button"));this.add(c),i.enableBack()?c.beforeAddClass("show-back-button"):c.beforeRemoveClass("show-back-button")}if(o&&s){this.duration(a.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var f=new n.Animation(e,o.pageRef());this.add(f.fromTo("translateY","0px","40px").fromTo("opacity",1,0))}},e}(t("./page-transition").PageTransition);e.MDTransition=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(4),n(90)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../animations/animation"),r=t("../util/util"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.plt,i=this.enteringView,o=this.leavingView,a=this.opts,s="back"===a.direction;if(i&&(s?(this.duration(r.isPresent(a.duration)?a.duration:120).easing("cubic-bezier(0.47,0,0.745,0.715)"),this.enteringPage.beforeClearStyles(["scale"])):(this.duration(r.isPresent(a.duration)?a.duration:280).easing("cubic-bezier(0,0,0.05,1)"),this.enteringPage.fromTo("scale",.95,1,!0).fromTo("opacity",.01,1,!0)),i.hasNavbar())){var u=i.pageRef().nativeElement.querySelector("ion-navbar"),l=new n.Animation(e,u);this.add(l);var c=new n.Animation(e,u.querySelector(".back-button"));this.add(c),i.enableBack()?c.beforeAddClass("show-back-button"):c.beforeRemoveClass("show-back-button")}if(o&&s){this.duration(a.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var f=new n.Animation(e,o.pageRef());this.add(f.fromTo("scale",1,.95).fromTo("opacity",.99,0))}},e}(t("./page-transition").PageTransition);e.WPTransition=i})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(10),n(284)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../util/util"),r=t("../gestures/gesture-controller"),i=function(t){function e(e,n,i,o){var a=t.call(this,e,e.doc().body,{direction:"x",edge:"start",maxEdgeStart:75,threshold:5,zone:!1,domController:o,gesture:i.createGesture({name:r.GESTURE_GO_BACK_SWIPE,priority:r.GESTURE_PRIORITY_GO_BACK_SWIPE,disableScroll:!0})})||this;return a._nav=n,a}return a(e,t),e.prototype.canStart=function(e){return this._nav.canSwipeBack()&&t.prototype.canStart.call(this,e)},e.prototype.onSlideBeforeStart=function(t){this._nav.swipeBackStart()},e.prototype.onSlide=function(t,e){e.preventDefault(),e.stopPropagation();this._nav.swipeBackProgress(t.distance/t.max)},e.prototype.onSlideEnd=function(t,e){var r=t.velocity,i=t.distance/t.max,o=r<0,a=Math.abs(t.velocity)>.4,s=Math.abs(t.delta)<.5*Math.abs(t.max),u=!n.swipeShouldReset(o,a,s);this._nav.swipeBackEnd(u,i,r)},e}(t("../gestures/slide-edge-gesture").SlideEdgeGesture);e.SwipeBackGesture=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(172),n(4),n(19)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./pan-gesture"),r=t("../util/util"),i=t("../util/dom"),o=function(t){function e(e,n,r){void 0===r&&(r={});var i=t.call(this,e,n,r)||this;return i.slide=null,i}return a(e,t),e.prototype.getSlideBoundaries=function(t,e){return{min:0,max:this.getNativeElement().offsetWidth}},e.prototype.getElementStartPos=function(t,e){return 0},e.prototype.onDragStart=function(t){this.onSlideBeforeStart(t);var e=i.pointerCoord(t)[this.direction];this.slide={min:0,max:0,pointerStartPos:e,pos:e,timestamp:Date.now(),elementStartPos:0,started:!0,delta:0,distance:0,velocity:0};var n=this.getSlideBoundaries(this.slide,t),r=n.max;this.slide.min=n.min,this.slide.max=r,this.slide.elementStartPos=this.getElementStartPos(this.slide,t),this.onSlideStart(this.slide,t)},e.prototype.onDragMove=function(t){var e=this.slide,n=i.pointerCoord(t)[this.direction],o=Date.now(),a=(this.plt.isRTL?e.pos-n:n-e.pos)/(o-e.timestamp);e.pos=n,e.timestamp=o,e.distance=r.clamp(e.min,(this.plt.isRTL?e.pointerStartPos-n:n-e.pointerStartPos)+e.elementStartPos,e.max),e.velocity=a,e.delta=this.plt.isRTL?e.pointerStartPos-n:n-e.pointerStartPos,this.onSlide(e,t)},e.prototype.onDragEnd=function(t){this.onSlideEnd(this.slide,t),this.slide=null},e.prototype.onSlideBeforeStart=function(t){},e.prototype.onSlideStart=function(t,e){},e.prototype.onSlide=function(t,e){},e.prototype.onSlideEnd=function(t,e){},e}(n.PanGesture);e.SlideGesture=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.direction=t,this.dirty=!1,this._angle=0,this._isPan=0;var r=n*(Math.PI/180);this.maxCosine=Math.cos(r),this.threshold=e*e}return t.prototype.start=function(t){this.startCoord=t,this._angle=0,this._isPan=0,this.dirty=!0},t.prototype.detect=function(t){if(!this.dirty)return!1;var e=t.x-this.startCoord.x,n=t.y-this.startCoord.y;if(e*e+n*n>=this.threshold){var r=Math.atan2(n,e),i="y"===this.direction?Math.sin(r):Math.cos(r);return this._angle=r,this._isPan=i>this.maxCosine?1:i<-this.maxCosine?-1:0,this.dirty=!1,!0}return!1},t.prototype.angle=function(){return this._angle},t.prototype.pan=function(){return this._isPan},t}();e.PanRecognizer=n})},function(t,e,n){"use strict";function r(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"div",[["class","action-sheet-title"]],[[8,"id",0]],null,null,null,null)),(t()(),c["ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,c["inlineInterpolate"](1,"",n.hdrId,""));t(e,1,0,n.d.title)})}function i(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"div",[["class","action-sheet-sub-title"]],[[8,"id",0]],null,null,null,null)),(t()(),c["ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,c["inlineInterpolate"](1,"",n.descId,""));t(e,1,0,n.d.subTitle)})}function o(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-icon",[["class","action-sheet-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),c["did"](1,147456,null,0,f.Icon,[p.Config,c.ElementRef,c.Renderer],{name:[0,"name"]},null)],function(t,e){t(e,1,0,e.parent.context.$implicit.icon)},function(t,e){t(e,0,0,c["nov"](e,1)._hidden)})}function a(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,5,"button",[["class","disable-hover"],["ion-button","action-sheet-button"]],[[1,"icon-start",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.click(t.context.$implicit)&&r}return r},d.b,d.a)),c["did"](1,278528,null,0,h.NgClass,[c.IterableDiffers,c.KeyValueDiffers,c.ElementRef,c.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c["did"](2,1097728,null,0,m.Button,[[8,"action-sheet-button"],p.Config,c.ElementRef,c.Renderer],null,null),(t()(),c["and"](16777216,null,0,1,null,o)),c["did"](4,16384,null,0,h.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),c["ted"](5,0,["",""]))],function(t,e){t(e,1,0,"disable-hover",e.context.$implicit.cssClass);t(e,4,0,e.context.$implicit.icon)},function(t,e){t(e,0,0,e.context.$implicit.icon?"":null);t(e,5,0,e.context.$implicit.text)})}function s(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-icon",[["class","action-sheet-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),c["did"](1,147456,null,0,f.Icon,[p.Config,c.ElementRef,c.Renderer],{name:[0,"name"]},null)],function(t,e){t(e,1,0,e.component.cancelButton.icon)},function(t,e){t(e,0,0,c["nov"](e,1)._hidden)})}function u(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,6,"div",[["class","action-sheet-group action-sheet-group-cancel"]],null,null,null,null,null)),(t()(),c["eld"](1,0,null,null,5,"button",[["class","action-sheet-cancel disable-hover"],["ion-button","action-sheet-button"]],[[1,"icon-start",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;if("click"===e){r=!1!==i.click(i.cancelButton)&&r}return r},d.b,d.a)),c["did"](2,278528,null,0,h.NgClass,[c.IterableDiffers,c.KeyValueDiffers,c.ElementRef,c.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c["did"](3,1097728,null,0,m.Button,[[8,"action-sheet-button"],p.Config,c.ElementRef,c.Renderer],null,null),(t()(),c["and"](16777216,null,0,1,null,s)),c["did"](5,16384,null,0,h.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),c["ted"](6,0,["",""]))],function(t,e){var n=e.component;t(e,2,0,"action-sheet-cancel disable-hover",n.cancelButton.cssClass);t(e,5,0,n.cancelButton.icon)},function(t,e){var n=e.component;t(e,1,0,n.cancelButton.icon?"":null);t(e,6,0,n.cancelButton.text)})}function l(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],[[2,"backdrop-no-tappable",null]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.bdClick()&&r}return r},null,null)),c["did"](1,16384,null,0,g.Backdrop,[c.ElementRef,c.Renderer],null,null),(t()(),c["eld"](2,0,null,null,10,"div",[["class","action-sheet-wrapper"]],null,null,null,null,null)),(t()(),c["eld"](3,0,null,null,9,"div",[["class","action-sheet-container"]],null,null,null,null,null)),(t()(),c["eld"](4,0,null,null,6,"div",[["class","action-sheet-group"]],null,null,null,null,null)),(t()(),c["and"](16777216,null,null,1,null,r)),c["did"](6,16384,null,0,h.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),c["and"](16777216,null,null,1,null,i)),c["did"](8,16384,null,0,h.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),c["and"](16777216,null,null,1,null,a)),c["did"](10,802816,null,0,h.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),c["and"](16777216,null,null,1,null,u)),c["did"](12,16384,null,0,h.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,6,0,n.d.title);t(e,8,0,n.d.subTitle);t(e,10,0,n.d.buttons);t(e,12,0,n.cancelButton)},function(t,e){t(e,0,0,!e.component.d.enableBackdropDismiss)})}n.d(e,"a",function(){return x});var c=n(0),f=n(91),p=n(3),d=(n.n(p),n(47)),h=n(16),m=n(27),g=n(48),v=n(173),y=n(6),b=(n.n(y),n(10)),_=(n.n(b),n(17)),w=(n.n(_),c["crt"]({encapsulation:2,styles:[],data:{}})),x=c["ccf"]("ion-action-sheet",v.ActionSheetCmp,function(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-action-sheet",[["role","dialog"]],[[1,"aria-labelledby",0],[1,"aria-describedby",0]],[["body","keyup"]],function(t,e,n){var r=!0;return"body:keyup"===e&&(r=!1!==c["nov"](t,1).keyUp(n)&&r),r},l,w)),c["did"](1,180224,null,0,v.ActionSheetCmp,[y.ViewController,p.Config,c.ElementRef,b.GestureController,_.NavParams,c.Renderer],null,null)],null,function(t,e){t(e,0,0,c["nov"](e,1).hdrId,c["nov"](e,1).descId)})},{},{},[])},,,,function(t,e,n){"use strict";function r(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,0,"h2",[["class","alert-title"]],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,h["inlineInterpolate"](1,"",n.hdrId,""),n.d.title)})}function i(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,0,"h3",[["class","alert-sub-title"]],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,h["inlineInterpolate"](1,"",n.subHdrId,""),n.d.subTitle)})}function o(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,5,"button",[["class","alert-tappable alert-radio"],["ion-button","alert-radio-button"],["role","radio"]],[[1,"aria-checked",0],[8,"disabled",0],[1,"id",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.rbClick(t.context.$implicit)&&r}return r},m.b,m.a)),h["did"](1,1097728,null,0,g.Button,[[8,"alert-radio-button"],v.Config,h.ElementRef,h.Renderer],null,null),(t()(),h["eld"](2,0,null,0,1,"div",[["class","alert-radio-icon"]],null,null,null,null,null)),(t()(),h["eld"](3,0,null,null,0,"div",[["class","alert-radio-inner"]],null,null,null,null,null)),(t()(),h["eld"](4,0,null,0,1,"div",[["class","alert-radio-label"]],null,null,null,null,null)),(t()(),h["ted"](5,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.checked,e.context.$implicit.disabled,e.context.$implicit.id);t(e,5,0,e.context.$implicit.label)})}function a(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,2,"div",[["class","alert-radio-group"],["role","radiogroup"]],[[1,"aria-labelledby",0],[1,"aria-activedescendant",0]],null,null,null,null)),(t()(),h["and"](16777216,null,null,1,null,o)),h["did"](2,802816,null,0,y.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.d.inputs)},function(t,e){var n=e.component;t(e,0,0,n.hdrId,n.activeId)})}function s(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,5,"button",[["class","alert-tappable alert-checkbox"],["ion-button","alert-checkbox-button"],["role","checkbox"]],[[1,"aria-checked",0],[1,"id",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.cbClick(t.context.$implicit)&&r}return r},m.b,m.a)),h["did"](1,1097728,null,0,g.Button,[[8,"alert-checkbox-button"],v.Config,h.ElementRef,h.Renderer],null,null),(t()(),h["eld"](2,0,null,0,1,"div",[["class","alert-checkbox-icon"]],null,null,null,null,null)),(t()(),h["eld"](3,0,null,null,0,"div",[["class","alert-checkbox-inner"]],null,null,null,null,null)),(t()(),h["eld"](4,0,null,0,1,"div",[["class","alert-checkbox-label"]],null,null,null,null,null)),(t()(),h["ted"](5,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.checked,e.context.$implicit.id,e.context.$implicit.disabled);t(e,5,0,e.context.$implicit.label)})}function u(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,2,"div",[["class","alert-checkbox-group"]],null,null,null,null,null)),(t()(),h["and"](16777216,null,null,1,null,s)),h["did"](2,802816,null,0,y.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.d.inputs)},null)}function l(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,6,"div",[["class","alert-input-wrapper"]],null,null,null,null,null)),(t()(),h["eld"](1,0,null,null,5,"input",[["class","alert-input"],["dir","auto"]],[[8,"placeholder",0],[8,"type",0],[8,"min",0],[8,"max",0],[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;if("input"===e){r=!1!==h["nov"](t,2)._handleInput(n.target.value)&&r}if("blur"===e){r=!1!==h["nov"](t,2).onTouched()&&r}if("compositionstart"===e){r=!1!==h["nov"](t,2)._compositionStart()&&r}if("compositionend"===e){r=!1!==h["nov"](t,2)._compositionEnd(n.target.value)&&r}if("ngModelChange"===e){r=!1!==(t.context.$implicit.value=n)&&r}return r},null,null)),h["did"](2,16384,null,0,b.DefaultValueAccessor,[h.Renderer2,h.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),h["prd"](1024,null,b.NG_VALUE_ACCESSOR,function(t){return[t]},[b.DefaultValueAccessor]),h["did"](4,671744,null,0,b.NgModel,[[8,null],[8,null],[8,null],[2,b.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),h["prd"](2048,null,b.NgControl,null,[b.NgModel]),h["did"](6,16384,null,0,b.NgControlStatus,[b.NgControl],null,null)],function(t,e){t(e,4,0,e.context.$implicit.value)},function(t,e){t(e,1,1,[e.context.$implicit.placeholder,e.context.$implicit.type,e.context.$implicit.min,e.context.$implicit.max,e.context.$implicit.id,h["nov"](e,6).ngClassUntouched,h["nov"](e,6).ngClassTouched,h["nov"](e,6).ngClassPristine,h["nov"](e,6).ngClassDirty,h["nov"](e,6).ngClassValid,h["nov"](e,6).ngClassInvalid,h["nov"](e,6).ngClassPending])})}function c(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,2,"div",[["class","alert-input-group"]],null,null,null,null,null)),(t()(),h["and"](16777216,null,null,1,null,l)),h["did"](2,802816,null,0,y.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.d.inputs)},null)}function f(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),h["did"](1,16384,null,0,y.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),h["and"](16777216,null,null,1,null,a)),h["did"](3,278528,null,0,y.NgSwitchCase,[h.ViewContainerRef,h.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),h["and"](16777216,null,null,1,null,u)),h["did"](5,278528,null,0,y.NgSwitchCase,[h.ViewContainerRef,h.TemplateRef,y.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),h["and"](16777216,null,null,1,null,c)),h["did"](7,16384,null,0,y.NgSwitchDefault,[h.ViewContainerRef,h.TemplateRef,y.NgSwitch],null,null)],function(t,e){t(e,1,0,e.component.inputType);t(e,3,0,"radio");t(e,5,0,"checkbox")},null)}function p(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,3,"button",[["ion-button","alert-button"]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.btnClick(t.context.$implicit)&&r}return r},m.b,m.a)),h["did"](1,278528,null,0,y.NgClass,[h.IterableDiffers,h.KeyValueDiffers,h.ElementRef,h.Renderer2],{ngClass:[0,"ngClass"]},null),h["did"](2,1097728,null,0,g.Button,[[8,"alert-button"],v.Config,h.ElementRef,h.Renderer],null,null),(t()(),h["ted"](3,0,["",""]))],function(t,e){t(e,1,0,e.context.$implicit.cssClass)},function(t,e){t(e,3,0,e.context.$implicit.text)})}function d(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],[[2,"backdrop-no-tappable",null]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.bdClick()&&r}return r},null,null)),h["did"](1,16384,null,0,_.Backdrop,[h.ElementRef,h.Renderer],null,null),(t()(),h["eld"](2,0,null,null,13,"div",[["class","alert-wrapper"]],null,null,null,null,null)),(t()(),h["eld"](3,0,null,null,4,"div",[["class","alert-head"]],null,null,null,null,null)),(t()(),h["and"](16777216,null,null,1,null,r)),h["did"](5,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),h["and"](16777216,null,null,1,null,i)),h["did"](7,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),h["eld"](8,0,null,null,0,"div",[["class","alert-message"]],[[8,"id",0],[8,"innerHTML",1]],null,null,null,null)),(t()(),h["and"](16777216,null,null,1,null,f)),h["did"](10,16384,null,0,y.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),h["eld"](11,0,null,null,4,"div",[["class","alert-button-group"]],null,null,null,null,null)),h["did"](12,278528,null,0,y.NgClass,[h.IterableDiffers,h.KeyValueDiffers,h.ElementRef,h.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),h["pod"](13,{"alert-button-group-vertical":0}),(t()(),h["and"](16777216,null,null,1,null,p)),h["did"](15,802816,null,0,y.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,5,0,n.d.title);t(e,7,0,n.d.subTitle);t(e,10,0,n.d.inputs.length);t(e,12,0,"alert-button-group",t(e,13,0,n.d.buttons.length>2));t(e,15,0,n.d.buttons)},function(t,e){var n=e.component;t(e,0,0,!n.d.enableBackdropDismiss);t(e,8,0,h["inlineInterpolate"](1,"",n.msgId,""),n.d.message)})}n.d(e,"a",function(){return k});var h=n(0),m=n(47),g=n(27),v=n(3),y=(n.n(v),n(16)),b=n(13),_=n(48),w=n(174),x=n(6),E=(n.n(x),n(10)),C=(n.n(E),n(17)),S=(n.n(C),n(5)),O=(n.n(S),h["crt"]({encapsulation:2,styles:[],data:{}})),k=h["ccf"]("ion-alert",w.AlertCmp,function(t){return h["vid"](0,[(t()(),h["eld"](0,0,null,null,1,"ion-alert",[["role","dialog"]],[[1,"aria-labelledby",0],[1,"aria-describedby",0]],[["body","keyup"]],function(t,e,n){var r=!0;return"body:keyup"===e&&(r=!1!==h["nov"](t,1).keyUp(n)&&r),r},d,O)),h["did"](1,180224,null,0,w.AlertCmp,[x.ViewController,h.ElementRef,v.Config,E.GestureController,C.NavParams,h.Renderer,S.Platform],null,null)],null,function(t,e){t(e,0,0,h["nov"](e,1).hdrId,h["nov"](e,1).descId)})},{},{},[])},function(t,e,n){"use strict";function r(t){return i["vid"](0,[i["qud"](402653184,1,{_viewport:0}),i["qud"](402653184,2,{_modalPortal:0}),i["qud"](402653184,3,{_overlayPortal:0}),i["qud"](402653184,4,{_loadingPortal:0}),i["qud"](402653184,5,{_toastPortal:0}),(t()(),i["eld"](5,16777216,[[1,3],["viewport",1]],null,0,"div",[["app-viewport",""]],null,null,null,null,null)),(t()(),i["eld"](6,16777216,[["modalPortal",1]],null,1,"div",[["overlay-portal",""]],null,null,null,null,null)),i["did"](7,147456,[[2,4]],0,o.OverlayPortal,[a.App,s.Config,u.Platform,i.ElementRef,i.NgZone,i.Renderer,i.ComponentFactoryResolver,l.GestureController,c.TransitionController,[2,f.DeepLinker],i.ViewContainerRef,p.DomController,i.ErrorHandler],{_overlayPortal:[0,"_overlayPortal"]},null),(t()(),i["eld"](8,16777216,[["overlayPortal",1]],null,1,"div",[["overlay-portal",""]],null,null,null,null,null)),i["did"](9,147456,[[3,4]],0,o.OverlayPortal,[a.App,s.Config,u.Platform,i.ElementRef,i.NgZone,i.Renderer,i.ComponentFactoryResolver,l.GestureController,c.TransitionController,[2,f.DeepLinker],i.ViewContainerRef,p.DomController,i.ErrorHandler],{_overlayPortal:[0,"_overlayPortal"]},null),(t()(),i["eld"](10,16777216,[["loadingPortal",1]],null,1,"div",[["class","loading-portal"],["overlay-portal",""]],null,null,null,null,null)),i["did"](11,147456,[[4,4]],0,o.OverlayPortal,[a.App,s.Config,u.Platform,i.ElementRef,i.NgZone,i.Renderer,i.ComponentFactoryResolver,l.GestureController,c.TransitionController,[2,f.DeepLinker],i.ViewContainerRef,p.DomController,i.ErrorHandler],{_overlayPortal:[0,"_overlayPortal"]},null),(t()(),i["eld"](12,16777216,[["toastPortal",1]],null,1,"div",[["class","toast-portal"]],null,null,null,null,null)),i["did"](13,147456,[[5,4]],0,o.OverlayPortal,[a.App,s.Config,u.Platform,i.ElementRef,i.NgZone,i.Renderer,i.ComponentFactoryResolver,l.GestureController,c.TransitionController,[2,f.DeepLinker],i.ViewContainerRef,p.DomController,i.ErrorHandler],{_overlayPortal:[0,"_overlayPortal"]},null),(t()(),i["eld"](14,0,null,null,1,"div",[["class","click-block"]],null,null,null,null,null)),i["did"](15,16384,null,0,d.ClickBlock,[a.App,s.Config,u.Platform,i.ElementRef,i.Renderer],null,null)],function(t,e){t(e,7,0,"");t(e,9,0,"");t(e,11,0,"");t(e,13,0,1e4)},null)}n.d(e,"a",function(){return g});var i=n(0),o=n(170),a=n(11),s=n(3),u=(n.n(s),n(5)),l=(n.n(u),n(10)),c=(n.n(l),n(46)),f=(n.n(c),n(24)),p=(n.n(f),n(12)),d=(n.n(p),n(286)),h=n(116),m=i["crt"]({encapsulation:2,styles:[],data:{}}),g=i["ccf"]("ion-app",h.IonicApp,function(t){return i["vid"](0,[(t()(),i["eld"](0,0,null,null,1,"ion-app",[],null,null,null,r,m)),i["did"](1,114688,null,0,h.IonicApp,[h.AppRootToken,i.ComponentFactoryResolver,i.ElementRef,i.Renderer,s.Config,u.Platform,a.App],null,null)],function(t,e){t(e,1,0)},null)},{color:"color",mode:"mode"},{},[])},function(t,e,n){"use strict";function r(t){return l["vid"](0,[(t()(),l["eld"](0,0,null,null,2,":svg:svg",[["viewBox","0 0 64 64"]],null,null,null,null,null)),l["did"](1,278528,null,0,c.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),l["eld"](2,0,null,null,0,":svg:circle",[["transform","translate(32,32)"]],[[1,"r",0]],null,null,null,null))],function(t,e){t(e,1,0,e.context.$implicit.style)},function(t,e){t(e,2,0,e.context.$implicit.r)})}function i(t){return l["vid"](0,[(t()(),l["eld"](0,0,null,null,2,":svg:svg",[["viewBox","0 0 64 64"]],null,null,null,null,null)),l["did"](1,278528,null,0,c.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(t()(),l["eld"](2,0,null,null,0,":svg:line",[["transform","translate(32,32)"]],[[1,"y1",0],[1,"y2",0]],null,null,null,null))],function(t,e){t(e,1,0,e.context.$implicit.style)},function(t,e){t(e,2,0,e.context.$implicit.y1,e.context.$implicit.y2)})}function o(t){return l["vid"](2,[(t()(),l["and"](16777216,null,null,1,null,r)),l["did"](1,802816,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),l["and"](16777216,null,null,1,null,i)),l["did"](3,802816,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,n._c);t(e,3,0,n._l)},null)}function a(t){return l["vid"](0,[(t()(),l["eld"](0,0,null,null,2,"div",[["class","loading-spinner"]],null,null,null,null,null)),(t()(),l["eld"](1,0,null,null,1,"ion-spinner",[],[[2,"spinner-paused",null]],null,null,o,d)),l["did"](2,114688,null,0,f.Spinner,[p.Config,l.ElementRef,l.Renderer],{name:[0,"name"]},null)],function(t,e){t(e,2,0,e.component.d.spinner)},function(t,e){t(e,1,0,l["nov"](e,2)._paused)})}function s(t){return l["vid"](0,[(t()(),l["eld"](0,0,null,null,0,"div",[["class","loading-content"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.d.content)})}function u(t){return l["vid"](0,[(t()(),l["eld"](0,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],[[8,"hidden",0],[2,"backdrop-no-tappable",null]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.bdClick()&&r}return r},null,null)),l["did"](1,16384,null,0,h.Backdrop,[l.ElementRef,l.Renderer],null,null),(t()(),l["eld"](2,0,null,null,4,"div",[["class","loading-wrapper"]],null,null,null,null,null)),(t()(),l["and"](16777216,null,null,1,null,a)),l["did"](4,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["and"](16777216,null,null,1,null,s)),l["did"](6,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.showSpinner);t(e,6,0,n.d.content)},function(t,e){var n=e.component;t(e,0,0,!n.d.showBackdrop,!n.d.enableBackdropDismiss)})}var l=n(0),c=n(16),f=n(175),p=n(3),d=l["crt"]({encapsulation:2,styles:[],data:{}}),h=n(48),m=n(176),g=n(6),v=n(10),y=n(17);n.d(e,"a",function(){return _});var b=l["crt"]({encapsulation:2,styles:[],data:{}}),_=l["ccf"]("ion-loading",m.LoadingCmp,function(t){return l["vid"](0,[(t()(),l["eld"](0,0,null,null,1,"ion-loading",[["role","dialog"]],null,[["body","keyup"]],function(t,e,n){var r=!0;return"body:keyup"===e&&(r=!1!==l["nov"](t,1).keyUp(n)&&r),r},u,b)),l["did"](1,245760,null,0,m.LoadingCmp,[g.ViewController,p.Config,l.ElementRef,v.GestureController,y.NavParams,l.Renderer],null,null)],function(t,e){t(e,1,0)},null)},{},{},[])},,function(t,e,n){"use strict";function r(t){return i["vid"](0,[i["qud"](402653184,1,{_viewport:0}),(t()(),i["eld"](1,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],[[2,"backdrop-no-tappable",null]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component._bdClick()&&r}return r},null,null)),i["did"](2,16384,null,0,o.Backdrop,[i.ElementRef,i.Renderer],null,null),(t()(),i["eld"](3,0,null,null,1,"div",[["class","modal-wrapper"]],null,null,null,null,null)),(t()(),i["eld"](4,16777216,[[1,3],["viewport",1]],null,0,"div",[["nav-viewport",""]],null,null,null,null,null))],null,function(t,e){t(e,1,0,!e.component._bdDismiss)})}n.d(e,"a",function(){return p});var i=n(0),o=n(48),a=n(177),s=n(17),u=(n.n(s),n(6)),l=(n.n(u),n(10)),c=(n.n(l),n(73)),f=(n.n(c),i["crt"]({encapsulation:2,styles:[],data:{}})),p=i["ccf"]("ion-modal",a.ModalCmp,function(t){return i["vid"](0,[(t()(),i["eld"](0,0,null,null,1,"ion-modal",[],null,[["body","keyup"]],function(t,e,n){var r=!0;return"body:keyup"===e&&(r=!1!==i["nov"](t,1)._keyUp(n)&&r),r},r,f)),i["did"](1,180224,null,0,a.ModalCmp,[i.ComponentFactoryResolver,i.Renderer,i.ElementRef,s.NavParams,u.ViewController,l.GestureController,c.ModuleLoader],null,null)],null,null)},{},{},[])},function(t,e,n){"use strict";function r(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"div",[["class","picker-prefix"]],[[4,"width",null]],null,null,null,null)),(t()(),c["ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n.col.prefixWidth);t(e,1,0,n.col.prefix)})}function i(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"button",[["class","picker-opt"],["disable-activated",""]],[[2,"picker-opt-disabled",null]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.optClick(n,t.context.index)&&r}return r},null,null)),(t()(),c["ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,e.context.$implicit.disabled);t(e,1,0,e.context.$implicit.text)})}function o(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"div",[["class","picker-suffix"]],[[4,"width",null]],null,null,null,null)),(t()(),c["ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n.col.suffixWidth);t(e,1,0,n.col.suffix)})}function a(t){return c["vid"](0,[c["qud"](402653184,1,{colEle:0}),(t()(),c["and"](16777216,null,null,1,null,r)),c["did"](2,16384,null,0,f.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),c["eld"](3,0,[[1,0],["colEle",1]],null,2,"div",[["class","picker-opts"]],[[4,"max-width",null]],null,null,null,null)),(t()(),c["and"](16777216,null,null,1,null,i)),c["did"](5,802816,null,0,f.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),c["and"](16777216,null,null,1,null,o)),c["did"](7,16384,null,0,f.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.col.prefix);t(e,5,0,n.col.options);t(e,7,0,n.col.suffix)},function(t,e){t(e,3,0,e.component.col.optionsWidth)})}function s(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,7,"div",[["class","picker-toolbar-button"]],null,null,null,null,null)),c["did"](1,278528,null,0,f.NgClass,[c.IterableDiffers,c.KeyValueDiffers,c.ElementRef,c.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),c["ted"](-1,null,["\n          "])),(t()(),c["eld"](3,0,null,null,3,"button",[["class","picker-button"],["clear",""],["ion-button",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.btnClick(t.context.$implicit)&&r}return r},p.b,p.a)),c["did"](4,278528,null,0,f.NgClass,[c.IterableDiffers,c.KeyValueDiffers,c.ElementRef,c.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c["did"](5,1097728,null,0,d.Button,[[8,""],h.Config,c.ElementRef,c.Renderer],{clear:[0,"clear"]},null),(t()(),c["ted"](6,0,["\n            ","\n          "])),(t()(),c["ted"](-1,null,["\n        "]))],function(t,e){t(e,1,0,"picker-toolbar-button",e.context.$implicit.cssRole);t(e,4,0,"picker-button",e.context.$implicit.cssClass);t(e,5,0,"")},function(t,e){t(e,6,0,e.context.$implicit.text)})}function u(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"div",[["class","picker-col"]],[[4,"max-width",null],[2,"picker-opts-left",null],[2,"picker-opts-right",null]],[[null,"ionChange"]],function(t,e,n){var r=!0;if("ionChange"===e){r=!1!==t.component._colChange(n)&&r}return r},a,b)),c["did"](1,4374528,[[1,4]],0,m.PickerColumnCmp,[h.Config,g.Platform,c.ElementRef,c.NgZone,v.Haptic,g.Platform,y.DomController],{col:[0,"col"]},{ionChange:"ionChange"})],function(t,e){t(e,1,0,e.context.$implicit)},function(t,e){t(e,0,0,c["nov"](e,1).col.columnWidth,"left"==c["nov"](e,1).col.align,"right"==c["nov"](e,1).col.align)})}function l(t){return c["vid"](0,[c["qud"](671088640,1,{_cols:1}),(t()(),c["ted"](-1,null,["\n    "])),(t()(),c["eld"](2,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.bdClick()&&r}return r},null,null)),c["did"](3,16384,null,0,_.Backdrop,[c.ElementRef,c.Renderer],null,null),(t()(),c["ted"](-1,null,["\n    "])),(t()(),c["eld"](5,0,null,null,17,"div",[["class","picker-wrapper"]],null,null,null,null,null)),(t()(),c["ted"](-1,null,["\n      "])),(t()(),c["eld"](7,0,null,null,4,"div",[["class","picker-toolbar"]],null,null,null,null,null)),(t()(),c["ted"](-1,null,["\n        "])),(t()(),c["and"](16777216,null,null,1,null,s)),c["did"](10,802816,null,0,f.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),c["ted"](-1,null,["\n      "])),(t()(),c["ted"](-1,null,["\n      "])),(t()(),c["eld"](13,0,null,null,8,"div",[["class","picker-columns"]],null,null,null,null,null)),(t()(),c["ted"](-1,null,["\n        "])),(t()(),c["eld"](15,0,null,null,0,"div",[["class","picker-above-highlight"]],null,null,null,null,null)),(t()(),c["ted"](-1,null,["\n        "])),(t()(),c["and"](16777216,null,null,1,null,u)),c["did"](18,802816,null,0,f.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),c["ted"](-1,null,["\n        "])),(t()(),c["eld"](20,0,null,null,0,"div",[["class","picker-below-highlight"]],null,null,null,null,null)),(t()(),c["ted"](-1,null,["\n      "])),(t()(),c["ted"](-1,null,["\n    "])),(t()(),c["ted"](-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,10,0,n.d.buttons);t(e,18,0,n.d.columns)},null)}var c=n(0),f=n(16),p=n(47),d=n(27),h=n(3),m=n(121),g=n(5),v=n(58),y=n(12),b=c["crt"]({encapsulation:2,styles:[],data:{}}),_=n(48),w=n(179),x=n(6),E=n(10),C=n(17);n.d(e,"a",function(){return O});var S=c["crt"]({encapsulation:2,styles:[],data:{}}),O=c["ccf"]("ion-picker-cmp",w.PickerCmp,function(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-picker-cmp",[["role","dialog"]],null,[["body","keyup"]],function(t,e,n){var r=!0;return"body:keyup"===e&&(r=!1!==c["nov"](t,1)._keyUp(n)&&r),r},l,S)),c["did"](1,180224,null,0,w.PickerCmp,[x.ViewController,c.ElementRef,h.Config,E.GestureController,C.NavParams,c.Renderer],null,null)],null,null)},{},{},[])},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PICKER_OPT_SELECTED="picker-opt-selected",e.DECELERATION_FRICTION=.97,e.FRAME_MS=1e3/60,e.MAX_PICKER_SPEED=60})},function(t,e,n){"use strict";function r(t){return i["vid"](0,[i["qud"](402653184,1,{_viewport:0}),(t()(),i["eld"](1,0,null,null,1,"ion-backdrop",[["disable-activated",""],["role","presentation"],["tappable",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component._bdClick()&&r}return r},null,null)),i["did"](2,16384,null,0,o.Backdrop,[i.ElementRef,i.Renderer],null,null),(t()(),i["eld"](3,0,null,null,4,"div",[["class","popover-wrapper"]],null,null,null,null,null)),(t()(),i["eld"](4,0,null,null,0,"div",[["class","popover-arrow"]],null,null,null,null,null)),(t()(),i["eld"](5,0,null,null,2,"div",[["class","popover-content"]],null,null,null,null,null)),(t()(),i["eld"](6,0,null,null,1,"div",[["class","popover-viewport"]],null,null,null,null,null)),(t()(),i["eld"](7,16777216,[[1,3],["viewport",1]],null,0,"div",[["nav-viewport",""]],null,null,null,null,null))],null,function(t,e){t(e,1,0,!e.component.d.showBackdrop)})}n.d(e,"a",function(){return d});var i=n(0),o=n(48),a=n(180),s=n(3),u=(n.n(s),n(17)),l=(n.n(u),n(6)),c=(n.n(l),n(10)),f=(n.n(c),n(73)),p=(n.n(f),i["crt"]({encapsulation:2,styles:[],data:{}})),d=i["ccf"]("ion-popover",a.PopoverCmp,function(t){return i["vid"](0,[(t()(),i["eld"](0,0,null,null,1,"ion-popover",[],null,[["body","keyup"]],function(t,e,n){var r=!0;return"body:keyup"===e&&(r=!1!==i["nov"](t,1)._keyUp(n)&&r),r},r,p)),i["did"](1,180224,null,0,a.PopoverCmp,[i.ComponentFactoryResolver,i.ElementRef,i.Renderer,s.Config,u.NavParams,l.ViewController,c.GestureController,f.ModuleLoader],null,null)],null,null)},{},{},[])},function(t,e,n){"use strict";function r(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-icon",[["name","reorder"],["role","img"]],[[2,"hide",null]],null,null,null,null)),c["did"](1,147456,null,0,d.Icon,[p.Config,c.ElementRef,c.Renderer],{name:[0,"name"]},null)],function(t,e){t(e,1,0,"reorder")},function(t,e){t(e,0,0,c["nov"](e,1)._hidden)})}function i(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,2,"ion-label",[],null,null,null,null,null)),c["did"](1,16384,[[1,4]],0,f.Label,[p.Config,c.ElementRef,c.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),c["ncd"](null,2)],null,null)}function o(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ion-reorder",[],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==c["nov"](t,1).onClick(n)&&r}return r},r,m)),c["did"](1,49152,null,0,h.Reorder,[c.ElementRef],null,null)],null,null)}function a(t){return c["vid"](2,[c["qud"](671088640,1,{viewLabel:0}),c["ncd"](null,0),(t()(),c["eld"](2,0,null,null,8,"div",[["class","item-inner"]],null,null,null,null,null)),(t()(),c["eld"](3,0,null,null,4,"div",[["class","input-wrapper"]],null,null,null,null,null)),c["ncd"](null,1),(t()(),c["and"](16777216,null,null,1,null,i)),c["did"](6,16384,null,0,g.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),c["ncd"](null,3),c["ncd"](null,4),(t()(),c["and"](16777216,null,null,1,null,o)),c["did"](10,16384,null,0,g.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),c["eld"](11,0,null,null,0,"div",[["class","button-effect"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,6,0,n._viewLabel);t(e,10,0,n._hasReorder)},null)}function s(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,3,"div",[["class","radio-icon"]],[[2,"radio-checked",null]],null,null,null,null)),(t()(),c["ted"](-1,null,[" "])),(t()(),c["eld"](2,0,null,null,0,"div",[["class","radio-inner"]],null,null,null,null,null)),(t()(),c["ted"](-1,null,[" "])),(t()(),c["ted"](-1,null,[" "])),(t()(),c["eld"](5,0,null,null,2,"button",[["class","item-cover"],["ion-button","item-cover"],["role","radio"],["type","button"]],[[8,"id",0],[1,"aria-checked",0],[1,"aria-labelledby",0],[1,"aria-disabled",0]],null,null,x.b,x.a)),c["did"](6,1097728,null,0,E.Button,[[8,"item-cover"],p.Config,c.ElementRef,c.Renderer],null,null),(t()(),c["ted"](-1,0,[" "]))],null,function(t,e){var n=e.component;t(e,0,0,n._checked);t(e,5,0,n.id,n._checked,n._labelId,n._disabled)})}function u(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,13,"ion-item",[["class","item item-block"]],null,null,null,a,_)),c["did"](1,1097728,null,3,v.Item,[y.Form,p.Config,c.ElementRef,c.Renderer,[2,b.ItemReorder]],null,null),c["qud"](335544320,2,{contentLabel:0}),c["qud"](603979776,3,{_buttons:1}),c["qud"](603979776,4,{_icons:1}),c["did"](5,16384,null,0,w.ItemContent,[],null,null),(t()(),c["ted"](-1,2,["\n        "])),(t()(),c["eld"](7,0,null,1,2,"ion-label",[],null,null,null,null,null)),c["did"](8,16384,[[2,4]],0,f.Label,[p.Config,c.ElementRef,c.Renderer,[8,null],[8,null],[8,null],[8,null]],null,null),(t()(),c["ted"](9,null,["",""])),(t()(),c["ted"](-1,2,["\n        "])),(t()(),c["eld"](11,0,null,4,1,"ion-radio",[],[[2,"radio-disabled",null]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==c["nov"](t,12)._click(n)&&r}return r},s,O)),c["did"](12,245760,null,0,C.RadioButton,[y.Form,p.Config,c.ElementRef,c.Renderer,[2,v.Item],[2,S.RadioGroup]],{value:[0,"value"],checked:[1,"checked"],disabled:[2,"disabled"]},null),(t()(),c["ted"](-1,2,["\n      "]))],function(t,e){t(e,12,0,e.context.$implicit.value,e.context.$implicit.checked,e.context.$implicit.disabled)},function(t,e){t(e,9,0,e.context.$implicit.text);t(e,11,0,c["nov"](e,12)._disabled)})}function l(t){return c["vid"](0,[(t()(),c["ted"](-1,null,["\n    "])),(t()(),c["eld"](1,0,null,null,11,"ion-list",[["radio-group",""],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;if("ngModelChange"===e){r=!1!==(t.component.value=n)&&r}return r},null,null)),c["did"](2,1064960,null,1,S.RadioGroup,[c.Renderer,c.ElementRef,c.ChangeDetectorRef],null,null),c["qud"](335544320,1,{_header:0}),c["prd"](1024,null,k.NG_VALUE_ACCESSOR,function(t){return[t]},[S.RadioGroup]),c["did"](5,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[2,k.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),c["prd"](2048,null,k.NgControl,null,[k.NgModel]),c["did"](7,16384,null,0,k.NgControlStatus,[k.NgControl],null,null),c["did"](8,16384,null,0,T.List,[p.Config,c.ElementRef,c.Renderer,P.Platform,N.GestureController,I.DomController],null,null),(t()(),c["ted"](-1,null,["\n      "])),(t()(),c["and"](16777216,null,null,1,null,u)),c["did"](11,802816,null,0,g.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),c["ted"](-1,null,["\n    "])),(t()(),c["ted"](-1,null,["\n  "]))],function(t,e){var n=e.component;t(e,5,0,n.value);t(e,11,0,n.options)},function(t,e){t(e,1,0,c["nov"](e,7).ngClassUntouched,c["nov"](e,7).ngClassTouched,c["nov"](e,7).ngClassPristine,c["nov"](e,7).ngClassDirty,c["nov"](e,7).ngClassValid,c["nov"](e,7).ngClassInvalid,c["nov"](e,7).ngClassPending)})}var c=n(0),f=n(122),p=n(3),d=n(91),h=n(181),m=c["crt"]({encapsulation:2,styles:[],data:{}}),g=n(16),v=n(25),y=n(22),b=n(123),_=c["crt"]({encapsulation:2,styles:[],data:{}}),w=n(290),x=n(47),E=n(27),C=n(182),S=n(124),O=c["crt"]({encapsulation:2,styles:[],data:{}}),k=n(13),T=n(183),P=n(5),N=n(10),I=n(12),A=n(184),M=n(17),D=n(6);n.d(e,"a",function(){return j});var R=c["crt"]({encapsulation:2,styles:[],data:{}}),j=c["ccf"]("ng-component",A.SelectPopover,function(t){return c["vid"](0,[(t()(),c["eld"](0,0,null,null,1,"ng-component",[],null,null,null,l,R)),c["did"](1,114688,null,0,A.SelectPopover,[M.NavParams,D.ViewController],null,null)],function(t,e){t(e,1,0)},null)},{},{},[])},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(288),n(19),n(45)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./item-reorder-util"),r=t("../../util/dom"),i=t("../../gestures/ui-event-manager"),o=function(){function t(t,e){this.plt=t,this.reorderList=e,this.selectedItemEle=null,this.events=new i.UIEventManager(t),this.events.pointerEvents({element:this.reorderList.getNativeElement(),pointerDown:this.onDragStart.bind(this),pointerMove:this.onDragMove.bind(this),pointerUp:this.onDragEnd.bind(this),zone:!1})}return t.prototype.onDragStart=function(t){if(this.selectedItemEle)return!1;var e=t.target;if("ION-REORDER"!==e.nodeName)return!1;var i=e.$ionComponent;if(!i)return console.error("ion-reorder does not contain $ionComponent"),!1;this.reorderList._reorderPrepare();var o=i.getReorderNode();return o?(t.preventDefault(),this.selectedItemEle=o,this.selectedItemHeight=o.offsetHeight,this.lastYcoord=-100,this.lastToIndex=n.indexForItem(o),this.windowHeight=this.plt.height()-a,this.lastScrollPosition=this.reorderList._scrollContent(0),this.offset=r.pointerCoord(t),this.offset.y+=this.lastScrollPosition,o.classList.add(u),this.reorderList._reorderStart(),!0):(console.error("reorder node not found"),!1)},t.prototype.onDragMove=function(t){var e=this.selectedItemEle;if(e){t.preventDefault();var i=r.pointerCoord(t),o=i.y,a=this.scroll(o);if(Math.abs(o-this.lastYcoord)>30){var s=this.itemForCoord(i);if(s){var u=n.indexForItem(s);if(void 0!==u&&(u!==this.lastToIndex||this.emptyZone)){var l=n.indexForItem(e);this.lastToIndex=u,this.lastYcoord=o,this.emptyZone=!1,this.reorderList._reorderMove(l,u,this.selectedItemHeight)}}else this.emptyZone=!0}var c=Math.round(o-this.offset.y+a);e.style[this.plt.Css.transform]="translateY("+c+"px)"}},t.prototype.onDragEnd=function(t){var e=this,r=this.selectedItemEle;if(r){t&&(t.preventDefault(),t.stopPropagation());var i=this.lastToIndex,o=n.indexForItem(r),a=function(){e.selectedItemEle.style.transition="",e.selectedItemEle.classList.remove(u),e.selectedItemEle=null};i===o?(r.style.transition="transform 200ms ease-in-out",setTimeout(a,200)):a(),this.reorderList._reorderEmit(o,i)}},t.prototype.itemForCoord=function(t){var e=this.plt.getElementFromPoint(this.offset.x+(this.reorderList._isStart===this.plt.isRTL?-100:100),t.y);return n.findReorderItem(e,this.reorderList.getNativeElement())},t.prototype.scroll=function(t){return t<a?this.lastScrollPosition=this.reorderList._scrollContent(-s):t>this.windowHeight&&(this.lastScrollPosition=this.reorderList._scrollContent(s)),this.lastScrollPosition},t.prototype.destroy=function(){this.onDragEnd(null),this.events.destroy(),this.events=null,this.reorderList=null},t}();e.ItemReorderGesture=o;var a=60,s=10,u="reorder-active"})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(10),n(172),n(19)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../gestures/gesture-controller"),r=t("../../gestures/pan-gesture"),i=t("../../util/dom"),o=function(t){function e(e,r,i,o){var a=t.call(this,e,r.getNativeElement(),{maxAngle:20,threshold:5,zone:!1,domController:o,gesture:i.createGesture({name:n.GESTURE_ITEM_SWIPE,priority:n.GESTURE_PRIORITY_SLIDING_ITEM,disableScroll:!0})})||this;return a.list=r,a.preSelectedContainer=null,a.selectedContainer=null,a.openContainer=null,a}return a(e,t),e.prototype.canStart=function(t){if(this.selectedContainer)return!1;var e=function(t){var e=t.target.closest("ion-item-sliding");return e?e.$ionComponent:null}(t);if(!e)return this.closeOpened(),!1;e!==this.openContainer&&this.closeOpened();var n=i.pointerCoord(t);return this.preSelectedContainer=e,this.firstCoordX=n.x,this.firstTimestamp=Date.now(),!0},e.prototype.onDragStart=function(t){t.preventDefault();var e=i.pointerCoord(t);this.selectedContainer=this.openContainer=this.preSelectedContainer,this.selectedContainer.startSliding(e.x)},e.prototype.onDragMove=function(t){t.preventDefault(),this.selectedContainer.moveSliding(i.pointerCoord(t).x)},e.prototype.onDragEnd=function(t){t.preventDefault();var e=i.pointerCoord(t).x-this.firstCoordX,n=Date.now()-this.firstTimestamp;this.selectedContainer.endSliding(e/n),this.selectedContainer=null,this.preSelectedContainer=null},e.prototype.notCaptured=function(t){(function(t){return!!t.target.closest("ion-item-options>button")})(t)||this.closeOpened()},e.prototype.closeOpened=function(){return this.selectedContainer=null,!!this.openContainer&&(this.openContainer.close(),this.openContainer=null,!0)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.closeOpened(),this.list=null,this.preSelectedContainer=null,this.selectedContainer=null,this.openContainer=null},e}(r.PanGesture);e.ItemSlidingGesture=o})},function(t,e,n){"use strict";function r(t){return a["vid"](0,[(t()(),a["eld"](0,0,null,null,1,"div",[["class","toast-message"]],[[8,"id",0]],null,null,null,null)),(t()(),a["ted"](1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,a["inlineInterpolate"](1,"",n.hdrId,""));t(e,1,0,n.d.message)})}function i(t){return a["vid"](0,[(t()(),a["eld"](0,0,null,null,2,"button",[["class","toast-button"],["clear",""],["ion-button",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.cbClick()&&r}return r},s.b,s.a)),a["did"](1,1097728,null,0,u.Button,[[8,""],l.Config,a.ElementRef,a.Renderer],{clear:[0,"clear"]},null),(t()(),a["ted"](2,0,[" "," "]))],function(t,e){t(e,1,0,"")},function(t,e){t(e,2,0,e.component.d.closeButtonText||"Close")})}function o(t){return a["vid"](0,[(t()(),a["eld"](0,0,null,null,10,"div",[["class","toast-wrapper"]],[[2,"toast-bottom",null],[2,"toast-middle",null],[2,"toast-top",null]],null,null,null,null)),(t()(),a["ted"](-1,null,[" "])),(t()(),a["eld"](2,0,null,null,7,"div",[["class","toast-container"]],null,null,null,null,null)),(t()(),a["ted"](-1,null,[" "])),(t()(),a["and"](16777216,null,null,1,null,r)),a["did"](5,16384,null,0,c.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),a["ted"](-1,null,[" "])),(t()(),a["and"](16777216,null,null,1,null,i)),a["did"](8,16384,null,0,c.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),a["ted"](-1,null,[" "])),(t()(),a["ted"](-1,null,[" "]))],function(t,e){var n=e.component;t(e,5,0,n.d.message);t(e,8,0,n.d.showCloseButton)},function(t,e){var n=e.component;t(e,0,0,"bottom"===n.d.position,"middle"===n.d.position,"top"===n.d.position)})}n.d(e,"a",function(){return m});var a=n(0),s=n(47),u=n(27),l=n(3),c=(n.n(l),n(16)),f=n(185),p=n(6),d=(n.n(p),n(17)),h=(n.n(d),a["crt"]({encapsulation:2,styles:[],data:{}})),m=a["ccf"]("ion-toast",f.ToastCmp,function(t){return a["vid"](0,[(t()(),a["eld"](0,0,null,null,1,"ion-toast",[["role","dialog"]],[[1,"aria-labelledby",0],[1,"aria-describedby",0]],null,null,o,h)),a["did"](1,4243456,null,0,f.ToastCmp,[p.ViewController,l.Config,a.ElementRef,d.NavParams,a.Renderer],null,null)],null,function(t,e){t(e,0,0,a["nov"](e,1).hdrId,a["nov"](e,1).descId)})},{},{},[])},function(t,e,n){"use strict";function r(t){return i["vid"](0,[i["qud"](402653184,1,{_vp:0}),(t()(),i["eld"](1,16777216,[[1,3],["viewport",1]],null,0,"div",[["nav-viewport",""]],null,null,null,null,null)),(t()(),i["eld"](2,0,null,null,0,"div",[["class","nav-decor"]],null,null,null,null,null))],null,null)}n.d(e,"a",function(){return d}),e.b=r;var i=n(0),o=n(6),a=(n.n(o),n(31)),s=(n.n(a),n(3)),u=(n.n(s),n(5)),l=(n.n(u),n(10)),c=(n.n(l),n(46)),f=(n.n(c),n(24)),p=(n.n(f),n(12)),d=(n.n(p),i["crt"]({encapsulation:2,styles:[],data:{}}))},,function(t,e,n){"use strict";function r(t){return i["vid"](0,[(t()(),i["eld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),i["did"](1,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),i["eld"](2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.backButtonClick(n)&&r}return r},a.b,a.a)),i["did"](3,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["did"](4,1097728,null,0,s.Button,[[8,"bar-button"],u.Config,i.ElementRef,i.Renderer],null,null),(t()(),i["eld"](5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i["did"](6,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["did"](7,147456,null,0,l.Icon,[u.Config,i.ElementRef,i.Renderer],{name:[0,"name"]},null),(t()(),i["eld"](8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),i["did"](9,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),i["ted"](10,null,["",""])),i["ncd"](null,0),i["ncd"](null,1),i["ncd"](null,2),(t()(),i["eld"](14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),i["did"](15,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ncd"](null,3)],function(t,e){var n=e.component;t(e,1,0,"toolbar-background","toolbar-background-"+n._mode);t(e,3,0,"back-button","back-button-"+n._mode);t(e,6,0,"back-button-icon","back-button-icon-"+n._mode);t(e,7,0,n._bbIcon);t(e,9,0,"back-button-text","back-button-text-"+n._mode);t(e,15,0,"toolbar-content","toolbar-content-"+n._mode)},function(t,e){var n=e.component;t(e,2,0,n._hideBb);t(e,5,0,i["nov"](e,7)._hidden);t(e,10,0,n._backText)})}n.d(e,"a",function(){return p}),e.b=r;var i=n(0),o=n(16),a=n(47),s=n(27),u=n(3),l=(n.n(u),n(91)),c=n(6),f=(n.n(c),n(31)),p=(n.n(f),i["crt"]({encapsulation:2,styles:[],data:{}}))},function(t,e,n){"use strict";function r(t){return i["vid"](2,[(t()(),i["eld"](0,0,null,null,2,"div",[["class","toolbar-title"]],null,null,null,null,null)),i["did"](1,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ncd"](null,0)],function(t,e){t(e,1,0,"toolbar-title","toolbar-title-"+e.component._mode)},null)}n.d(e,"a",function(){return s}),e.b=r;var i=n(0),o=n(16),a=n(3),s=(n.n(a),i["crt"]({encapsulation:2,styles:[],data:{}}))},function(t,e,n){"use strict";function r(t){return i["vid"](2,[(t()(),i["eld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),i["did"](1,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ncd"](null,0),i["ncd"](null,1),i["ncd"](null,2),(t()(),i["eld"](5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),i["did"](6,278528,null,0,o.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ncd"](null,3)],function(t,e){var n=e.component;t(e,1,0,"toolbar-background","toolbar-background-"+n._mode);t(e,6,0,"toolbar-content","toolbar-content-"+n._mode)},null)}n.d(e,"a",function(){return s}),e.b=r;var i=n(0),o=n(16),a=n(3),s=(n.n(a),i["crt"]({encapsulation:2,styles:[],data:{}}))},function(t,e,n){"use strict";function r(t){return i["vid"](2,[i["qud"](402653184,1,{_fixedContent:0}),i["qud"](402653184,2,{_scrollContent:0}),(t()(),i["eld"](2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),i["ncd"](null,0),(t()(),i["eld"](4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),i["ncd"](null,1),i["ncd"](null,2)],null,null)}n.d(e,"a",function(){return f}),e.b=r;var i=n(0),o=n(3),a=(n.n(o),n(5)),s=(n.n(a),n(12)),u=(n.n(s),n(59)),l=(n.n(u),n(6)),c=(n.n(l),n(31)),f=(n.n(c),i["crt"]({encapsulation:2,styles:[],data:{}}))},function(t,e,n){"use strict";function r(t){return u["vid"](0,[(t()(),u["eld"](0,0,[[1,0],["textInput",1]],null,1,"input",[["class","text-input"],["dir","auto"]],[[8,"type",0],[1,"aria-labelledby",0],[1,"min",0],[1,"max",0],[1,"step",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;if("input"===e){r=!1!==i.onInput(n)&&r}if("blur"===e){r=!1!==i.onBlur(n)&&r}if("focus"===e){r=!1!==i.onFocus(n)&&r}if("keydown"===e){r=!1!==i.onKeydown(n)&&r}return r},null,null)),u["did"](1,278528,null,0,l.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(t,e){t(e,1,0,"text-input","text-input-"+e.component._mode)},function(t,e){var n=e.component;t(e,0,0,n._type,n._labelId,n.min,n.max,n.step,n.autocomplete,n.autocorrect,n.placeholder,n._disabled,n._readonly)})}function i(t){return u["vid"](0,[(t()(),u["eld"](0,0,[[1,0],["textInput",1]],null,1,"textarea",[["class","text-input"]],[[1,"aria-labelledby",0],[1,"autocomplete",0],[1,"autocorrect",0],[8,"placeholder",0],[8,"disabled",0],[8,"readOnly",0]],[[null,"input"],[null,"blur"],[null,"focus"],[null,"keydown"]],function(t,e,n){var r=!0,i=t.component;if("input"===e){r=!1!==i.onInput(n)&&r}if("blur"===e){r=!1!==i.onBlur(n)&&r}if("focus"===e){r=!1!==i.onFocus(n)&&r}if("keydown"===e){r=!1!==i.onKeydown(n)&&r}return r},null,null)),u["did"](1,278528,null,0,l.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(t,e){t(e,1,0,"text-input","text-input-"+e.component._mode)},function(t,e){var n=e.component;t(e,0,0,n._labelId,n.autocomplete,n.autocorrect,n.placeholder,n._disabled,n._readonly)})}function o(t){return u["vid"](0,[(t()(),u["eld"](0,0,null,null,1,"button",[["class","text-input-clear-icon"],["clear",""],["ion-button",""],["tabindex","-1"],["type","button"]],null,[[null,"click"],[null,"mousedown"]],function(t,e,n){var r=!0,i=t.component;if("click"===e){r=!1!==i.clearTextInput(n)&&r}if("mousedown"===e){r=!1!==i.clearTextInput(n)&&r}return r},c.b,c.a)),u["did"](1,1097728,null,0,f.Button,[[8,""],p.Config,u.ElementRef,u.Renderer],{clear:[0,"clear"]},null)],function(t,e){t(e,1,0,"")},null)}function a(t){return u["vid"](0,[(t()(),u["eld"](0,0,null,null,0,"div",[["class","input-cover"]],null,[[null,"touchstart"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(t,e,n){var r=!0,i=t.component;if("touchstart"===e){r=!1!==i._pointerStart(n)&&r}if("touchend"===e){r=!1!==i._pointerEnd(n)&&r}if("mousedown"===e){r=!1!==i._pointerStart(n)&&r}if("mouseup"===e){r=!1!==i._pointerEnd(n)&&r}return r},null,null))],null,null)}function s(t){return u["vid"](2,[u["qud"](671088640,1,{_native:0}),(t()(),u["and"](16777216,null,null,1,null,r)),u["did"](2,16384,null,0,l.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),u["and"](16777216,null,null,1,null,i)),u["did"](4,16384,null,0,l.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),u["and"](16777216,null,null,1,null,o)),u["did"](6,16384,null,0,l.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),u["and"](16777216,null,null,1,null,a)),u["did"](8,16384,null,0,l.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,!n._isTextarea);t(e,4,0,n._isTextarea);t(e,6,0,n._clearInput);t(e,8,0,n._useAssist)},null)}n.d(e,"a",function(){return g}),e.b=s;var u=n(0),l=n(16),c=n(47),f=n(27),p=n(3),d=(n.n(p),n(5)),h=(n.n(d),n(22)),m=(n.n(h),n(12)),g=(n.n(m),u["crt"]({encapsulation:2,styles:[],data:{}}))},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(72)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=t("../../transitions/transition"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.01,.4),r.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(r)},e}(r.Transition);e.ActionSheetSlideIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.4,0),r.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(e).add(r)},e}(r.Transition);e.ActionSheetSlideOut=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.01,.26),r.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(r)},e}(r.Transition);e.ActionSheetMdSlideIn=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.26,0),r.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e).add(r)},e}(r.Transition);e.ActionSheetMdSlideOut=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.01,.16),r.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(r)},e}(r.Transition);e.ActionSheetWpSlideIn=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".action-sheet-wrapper"));e.fromTo("opacity",.1,0),r.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e).add(r)},e}(r.Transition);e.ActionSheetWpSlideOut=c})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(72)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=t("../../transitions/transition"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".alert-wrapper"));r.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.3),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.AlertPopIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".alert-wrapper"));r.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.3,0),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.AlertPopOut=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".alert-wrapper"));r.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.5),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.AlertMdPopIn=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".alert-wrapper"));r.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.5,0),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.AlertMdPopOut=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".alert-wrapper"));r.fromTo("opacity",.01,1).fromTo("scale",1.3,1),e.fromTo("opacity",.01,.5),this.easing("cubic-bezier(0,0,0.05,1)").duration(200).add(e).add(r)},e}(r.Transition);e.AlertWpPopIn=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".alert-wrapper"));r.fromTo("opacity",.99,0).fromTo("scale",1,1.3),e.fromTo("opacity",.5,0),this.easing("ease-out").duration(150).add(e).add(r)},e}(r.Transition);e.AlertWpPopOut=c})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(89),n(176),n(664),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../util/util"),r=t("../app/app-constants"),i=t("./loading-component"),o=t("./loading-transitions"),s=function(t){function e(e,r,a){void 0===r&&(r={});var s=this;return r.showBackdrop=!n.isPresent(r.showBackdrop)||!!r.showBackdrop,r.enableBackdropDismiss=!!n.isPresent(r.enableBackdropDismiss)&&!!r.enableBackdropDismiss,r.dismissOnPageChange=!!n.isPresent(r.dismissOnPageChange)&&!!r.dismissOnPageChange,s=t.call(this,i.LoadingCmp,r,null)||this,s._app=e,s.isOverlay=!0,a.setTransition("loading-pop-in",o.LoadingPopIn),a.setTransition("loading-pop-out",o.LoadingPopOut),a.setTransition("loading-md-pop-in",o.LoadingMdPopIn),a.setTransition("loading-md-pop-out",o.LoadingMdPopOut),a.setTransition("loading-wp-pop-in",o.LoadingWpPopIn),a.setTransition("loading-wp-pop-out",o.LoadingWpPopOut),s}return a(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"loadingLeave":"loadingEnter")},e.prototype.setContent=function(t){return this.data.content=t,this},e.prototype.setSpinner=function(t){return this.data.spinner=t,this},e.prototype.setCssClass=function(t){return this.data.cssClass=t,this},e.prototype.setShowBackdrop=function(t){return this.data.showBackdrop=t,this},e.prototype.setDuration=function(t){return this.data.duration=t,this},e.prototype.present=function(t){return void 0===t&&(t={}),this._app.present(this,t,r.PORTAL_LOADING)},e.prototype.dismissAll=function(){this._nav&&this._nav.popAll()},e}(t("../../navigation/view-controller").ViewController);e.Loading=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(72)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=t("../../transitions/transition"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".loading-wrapper"));r.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.3),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.LoadingPopIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".loading-wrapper"));r.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.3,0),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.LoadingPopOut=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".loading-wrapper"));r.fromTo("opacity",.01,1).fromTo("scale",1.1,1),e.fromTo("opacity",.01,.5),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.LoadingMdPopIn=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".loading-wrapper"));r.fromTo("opacity",.99,0).fromTo("scale",1,.9),e.fromTo("opacity",.5,0),this.easing("ease-in-out").duration(200).add(e).add(r)},e}(r.Transition);e.LoadingMdPopOut=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".loading-wrapper"));r.fromTo("opacity",.01,1).fromTo("scale",1.3,1),e.fromTo("opacity",.01,.16),this.easing("cubic-bezier(0,0,0.05,1)").duration(200).add(e).add(r)},e}(r.Transition);e.LoadingWpPopIn=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".loading-wrapper"));r.fromTo("opacity",.99,0).fromTo("scale",1,1.3),e.fromTo("opacity",.16,0),this.easing("ease-out").duration(150).add(e).add(r)},e}(r.Transition);e.LoadingWpPopOut=c})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(16),n(36),n(13),n(16),n(11),n(116),n(3),n(24),n(12),n(304),n(22),n(10),n(299),n(58),n(59),n(73),n(178),n(5),n(306),n(308),n(311),n(46),n(117),n(173),n(300),n(174),n(302),n(286),n(116),n(170),n(668),n(48),n(670),n(27),n(672),n(673),n(674),n(675),n(676),n(678),n(35),n(680),n(189),n(685),n(312),n(686),n(687),n(688),n(91),n(689),n(313),n(691),n(187),n(25),n(290),n(692),n(693),n(315),n(123),n(694),n(181),n(122),n(183),n(292),n(176),n(305),n(695),n(697),n(70),n(698),n(177),n(316),n(126),n(318),n(702),n(319),n(703),n(704),n(320),n(179),n(121),n(188),n(180),n(321),n(182),n(124),n(709),n(710),n(324),n(711),n(712),n(714),n(716),n(717),n(184),n(327),n(718),n(719),n(720),n(330),n(175),n(75),n(725),n(726),n(334),n(333),n(727),n(185),n(335),n(731),n(733),n(295),n(76),n(297),n(186),n(61),n(734),n(337),n(338),n(339),n(736)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n){return"path"===n.get("locationStrategy")?new i.PathLocationStrategy(t,e):new i.HashLocationStrategy(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var r=t("@angular/core"),i=t("@angular/common"),o=t("@angular/platform-browser"),a=t("@angular/forms"),s=t("@angular/common"),u=t("./components/app/app"),l=t("./components/app/app-root"),c=t("./config/config"),f=t("./navigation/deep-linker"),p=t("./platform/dom-controller"),d=t("./util/events"),h=t("./util/form"),m=t("./gestures/gesture-controller"),g=t("./gestures/gesture-config"),v=t("./tap-click/haptic"),y=t("./platform/keyboard"),b=t("./util/module-loader"),_=t("./util/ng-module-loader"),w=t("./platform/platform"),x=t("./platform/platform-registry"),E=t("./tap-click/tap-click"),C=t("./config/mode-registry"),S=t("./transitions/transition-controller"),O=t("./navigation/url-serializer"),k=t("./components/action-sheet/action-sheet-component"),T=t("./components/action-sheet/action-sheet-controller"),P=t("./components/alert/alert-component"),N=t("./components/alert/alert-controller"),I=t("./components/app/click-block"),A=t("./components/app/app-root"),M=t("./components/app/overlay-portal"),D=t("./components/avatar/avatar"),R=t("./components/backdrop/backdrop"),j=t("./components/badge/badge"),L=t("./components/button/button"),z=t("./components/card/card"),F=t("./components/card/card-content"),B=t("./components/card/card-header"),V=t("./components/card/card-title"),U=t("./components/checkbox/checkbox"),W=t("./components/chip/chip"),q=t("./components/content/content"),H=t("./components/datetime/datetime"),G=t("./components/fab/fab"),$=t("./components/fab/fab-container"),Y=t("./components/fab/fab-list"),K=t("./components/grid/col"),X=t("./components/grid/grid"),Z=t("./components/grid/row"),J=t("./components/icon/icon"),Q=t("./components/img/img"),tt=t("./components/infinite-scroll/infinite-scroll"),et=t("./components/infinite-scroll/infinite-scroll-content"),nt=t("./components/input/input"),rt=t("./components/item/item"),it=t("./components/item/item-content"),ot=t("./components/item/item-divider"),at=t("./components/item/item-group"),st=t("./components/item/item-options"),ut=t("./components/item/item-reorder"),lt=t("./components/item/item-sliding"),ct=t("./components/item/reorder"),ft=t("./components/label/label"),pt=t("./components/list/list"),dt=t("./components/list/list-header"),ht=t("./components/loading/loading-component"),mt=t("./components/loading/loading-controller"),gt=t("./components/menu/menu"),vt=t("./components/menu/menu-close"),yt=t("./components/app/menu-controller"),bt=t("./components/menu/menu-toggle"),_t=t("./components/modal/modal-component"),wt=t("./components/modal/modal-controller"),xt=t("./components/nav/nav"),Et=t("./components/nav/nav-pop"),Ct=t("./components/nav/nav-pop-anchor"),St=t("./components/nav/nav-push"),Ot=t("./components/nav/nav-push-anchor"),kt=t("./components/note/note"),Tt=t("./components/option/option"),Pt=t("./components/picker/picker-component"),Nt=t("./components/picker/picker-column"),It=t("./components/picker/picker-controller"),At=t("./components/popover/popover-component"),Mt=t("./components/popover/popover-controller"),Dt=t("./components/radio/radio-button"),Rt=t("./components/radio/radio-group"),jt=t("./components/range/range"),Lt=t("./components/range/range-knob"),zt=t("./components/refresher/refresher"),Ft=t("./components/refresher/refresher-content"),Bt=t("./components/scroll/scroll"),Vt=t("./components/searchbar/searchbar"),Ut=t("./components/segment/segment"),Wt=t("./components/select/select"),qt=t("./components/select/select-popover-component"),Ht=t("./components/segment/segment-button"),Gt=t("./components/show-hide-when/show-when"),$t=t("./components/show-hide-when/hide-when"),Yt=t("./components/slides/slide"),Kt=t("./components/slides/slides"),Xt=t("./components/spinner/spinner"),Zt=t("./components/split-pane/split-pane"),Jt=t("./components/tabs/tab"),Qt=t("./components/tabs/tab-button"),te=t("./components/tabs/tab-highlight"),ee=t("./components/tabs/tabs"),ne=t("./components/thumbnail/thumbnail"),re=t("./components/toast/toast-component"),ie=t("./components/toast/toast-controller"),oe=t("./components/toggle/toggle"),ae=t("./components/toolbar/toolbar-footer"),se=t("./components/toolbar/toolbar-header"),ue=t("./components/toolbar/toolbar"),le=t("./components/toolbar/toolbar-item"),ce=t("./components/toolbar/toolbar-title"),fe=t("./components/toolbar/navbar"),pe=t("./components/typography/typography"),de=t("./components/virtual-scroll/virtual-footer"),he=t("./components/virtual-scroll/virtual-header"),me=t("./components/virtual-scroll/virtual-item"),ge=t("./components/virtual-scroll/virtual-scroll"),ve=function(){function t(){}return t.forRoot=function(e,a,s){return void 0===a&&(a=null),void 0===s&&(s=null),{ngModule:t,providers:[{provide:l.AppRootToken,useValue:e},{provide:c.ConfigToken,useValue:a},{provide:O.DeepLinkConfigToken,useValue:s},{provide:i.APP_BASE_HREF,useValue:"/"},{provide:x.PlatformConfigToken,useFactory:x.providePlatformConfigs},{provide:w.Platform,useFactory:w.setupPlatform,deps:[o.DOCUMENT,x.PlatformConfigToken,r.NgZone]},{provide:c.Config,useFactory:c.setupConfig,deps:[c.ConfigToken,w.Platform]},{provide:r.APP_INITIALIZER,useFactory:C.registerModeConfigs,deps:[c.Config],multi:!0},{provide:r.APP_INITIALIZER,useFactory:d.setupProvideEvents,deps:[w.Platform,p.DomController],multi:!0},{provide:r.APP_INITIALIZER,useFactory:E.setupTapClick,deps:[c.Config,w.Platform,p.DomController,u.App,m.GestureController],multi:!0},{provide:r.APP_INITIALIZER,useFactory:b.setupPreloading,deps:[c.Config,O.DeepLinkConfigToken,b.ModuleLoader,r.NgZone],multi:!0},{provide:o.HAMMER_GESTURE_CONFIG,useClass:g.IonicGestureConfig},{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:e,multi:!0},T.ActionSheetController,N.AlertController,u.App,p.DomController,d.Events,h.Form,m.GestureController,v.Haptic,y.Keyboard,mt.LoadingController,i.Location,yt.MenuController,wt.ModalController,_.NgModuleLoader,It.PickerController,Mt.PopoverController,E.TapClick,ie.ToastController,S.TransitionController,{provide:b.ModuleLoader,useFactory:b.provideModuleLoader,deps:[_.NgModuleLoader,r.Injector]},{provide:i.LocationStrategy,useFactory:n,deps:[i.PlatformLocation,[new r.Inject(i.APP_BASE_HREF),new r.Optional],c.Config]},{provide:O.UrlSerializer,useFactory:O.setupUrlSerializer,deps:[u.App,O.DeepLinkConfigToken]},{provide:f.DeepLinker,useFactory:f.setupDeepLinker,deps:[u.App,O.UrlSerializer,i.Location,b.ModuleLoader,r.ComponentFactoryResolver]}]}},t.decorators=[{type:r.NgModule,args:[{declarations:[k.ActionSheetCmp,P.AlertCmp,I.ClickBlock,A.IonicApp,M.OverlayPortal,D.Avatar,R.Backdrop,j.Badge,L.Button,z.Card,F.CardContent,B.CardHeader,V.CardTitle,U.Checkbox,W.Chip,K.Col,q.Content,H.DateTime,G.FabButton,$.FabContainer,Y.FabList,X.Grid,Q.Img,J.Icon,tt.InfiniteScroll,et.InfiniteScrollContent,rt.Item,it.ItemContent,ot.ItemDivider,at.ItemGroup,st.ItemOptions,ut.ItemReorder,lt.ItemSliding,ft.Label,pt.List,dt.ListHeader,ct.Reorder,ht.LoadingCmp,gt.Menu,vt.MenuClose,bt.MenuToggle,_t.ModalCmp,xt.Nav,Et.NavPop,Ct.NavPopAnchor,St.NavPush,Ot.NavPushAnchor,kt.Note,Tt.Option,Pt.PickerCmp,Nt.PickerColumnCmp,At.PopoverCmp,Dt.RadioButton,Rt.RadioGroup,jt.Range,Lt.RangeKnob,zt.Refresher,Ft.RefresherContent,Z.Row,Bt.Scroll,Vt.Searchbar,Ut.Segment,Ht.SegmentButton,Wt.Select,qt.SelectPopover,Gt.ShowWhen,$t.HideWhen,Yt.Slide,Kt.Slides,Xt.Spinner,Zt.SplitPane,Jt.Tab,Qt.TabButton,te.TabHighlight,ee.Tabs,nt.TextInput,ne.Thumbnail,re.ToastCmp,oe.Toggle,ae.Footer,se.Header,ue.Toolbar,le.ToolbarItem,ce.ToolbarTitle,fe.Navbar,pe.Typography,de.VirtualFooter,he.VirtualHeader,me.VirtualItem,ge.VirtualScroll],imports:[s.CommonModule,a.FormsModule,a.ReactiveFormsModule],exports:[s.CommonModule,a.FormsModule,a.ReactiveFormsModule,k.ActionSheetCmp,P.AlertCmp,I.ClickBlock,A.IonicApp,M.OverlayPortal,D.Avatar,R.Backdrop,j.Badge,L.Button,z.Card,F.CardContent,B.CardHeader,V.CardTitle,U.Checkbox,W.Chip,K.Col,q.Content,H.DateTime,G.FabButton,$.FabContainer,Y.FabList,X.Grid,Q.Img,J.Icon,tt.InfiniteScroll,et.InfiniteScrollContent,rt.Item,it.ItemContent,ot.ItemDivider,at.ItemGroup,st.ItemOptions,ut.ItemReorder,lt.ItemSliding,ft.Label,pt.List,dt.ListHeader,ct.Reorder,ht.LoadingCmp,gt.Menu,vt.MenuClose,bt.MenuToggle,_t.ModalCmp,xt.Nav,Et.NavPop,Ct.NavPopAnchor,St.NavPush,Ot.NavPushAnchor,kt.Note,Tt.Option,Pt.PickerCmp,Nt.PickerColumnCmp,At.PopoverCmp,Dt.RadioButton,Rt.RadioGroup,jt.Range,Lt.RangeKnob,zt.Refresher,Ft.RefresherContent,Z.Row,Bt.Scroll,Vt.Searchbar,Ut.Segment,Ht.SegmentButton,Wt.Select,qt.SelectPopover,Gt.ShowWhen,$t.HideWhen,Yt.Slide,Kt.Slides,Xt.Spinner,Zt.SplitPane,Jt.Tab,Qt.TabButton,te.TabHighlight,ee.Tabs,nt.TextInput,ne.Thumbnail,re.ToastCmp,oe.Toggle,ae.Footer,se.Header,ue.Toolbar,le.ToolbarItem,ce.ToolbarTitle,fe.Navbar,pe.Typography,de.VirtualFooter,he.VirtualHeader,me.VirtualItem,ge.VirtualScroll],entryComponents:[k.ActionSheetCmp,P.AlertCmp,A.IonicApp,ht.LoadingCmp,_t.ModalCmp,Pt.PickerCmp,At.PopoverCmp,qt.SelectPopover,re.ToastCmp]}]}],t.ctorParameters=function(){return[]},t}();e.IonicModule=ve;var ye=function(){function t(){}return t.forChild=function(e){return{ngModule:t,providers:[{provide:b.LAZY_LOADED_TOKEN,useValue:e},{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,useValue:e,multi:!0}]}},t.decorators=[{type:r.NgModule,args:[{imports:[ve],exports:[ve]}]}],t.ctorParameters=function(){return[]},t}();e.IonicPageModule=ye,e.provideLocationStrategy=n})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(310),n(309),n(19)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./activator-base"),r=t("./activator"),i=t("../util/dom"),o=function(){function t(t,e,n){this.dom=n,this.highlight=new r.Activator(t,e,n)}return t.prototype.clickAction=function(t,e,n){this.highlight&&this.highlight.clickAction(t,e,n),this._clickAction(t,e,n)},t.prototype.downAction=function(t,e,n){this.highlight&&this.highlight.downAction(t,e,n),this._downAction(t,e,n)},t.prototype.upAction=function(t,e,n){this.highlight&&this.highlight.upAction(t,e,n),this._upAction(t,e,n)},t.prototype.clearState=function(t){this.highlight&&this.highlight.clearState(t)},t.prototype._downAction=function(t,e,r){if(!n.isActivatedDisabled(t,e))for(var i=e.childElementCount;i--;){var o=e.children[i];if(o.classList.contains("button-effect")){var a=e.getBoundingClientRect();o.$top=a.top,o.$left=a.left,o.$width=a.width,o.$height=a.height;break}}},t.prototype._upAction=function(t,e,n){if(!i.hasPointerMoved(6,n,i.pointerCoord(t)))for(var r=e.childElementCount;r--;){var o=e.children[r];if(o.classList.contains("button-effect")){this.startRippleEffect(o,e,n);break}}},t.prototype._clickAction=function(t,e,n){},t.prototype.startRippleEffect=function(t,e,n){if(n){var r=n.x-t.$left,i=n.y-t.$top,o=2*Math.max(Math.abs(t.$width-r),r),s=2*Math.max(Math.abs(t.$height-i),i),u=Math.min(Math.max(Math.hypot(o,s),64),240);e.hasAttribute("ion-item")&&(u=Math.min(u,140)),r-=u/2,i-=u/2,r=Math.round(r),i=Math.round(i),u=Math.round(u);var l=this.dom.plt.Css;t.style.opacity="",t.style[l.transform]="translate3d("+r+"px, "+i+"px, 0px) scale(0.001)",t.style[l.transition]="";var c=Math.sqrt(t.$width+t.$height),f=Math.max(1600*Math.sqrt(c/a)+.5,260),p=Math.round(.7*f),d=Math.round(f-p),h="translate3d("+r+"px, "+i+"px, 0px) scale(1)",m="transform "+(f=Math.round(f))+"ms,opacity "+p+"ms "+d+"ms";this.dom.write(function(){t.style.width=t.style.height=u+"px",t.style.opacity="0",t.style[l.transform]=h,t.style[l.transition]=m},16)}},t}();e.RippleActivator=o;var a=300})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-avatar"}]}],t.ctorParameters=function(){return[]},t}();e.Avatar=r})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"badge")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-badge"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.Badge=i})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"card")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-card"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.Card=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"card-content")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-card-content"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.CardContent=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"card-header")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-card-header"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.CardHeader=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"card-title")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-card-title"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.CardTitle=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(3),n(4),n(22),n(49),n(25)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../../config/config"),o=t("../../util/util"),s=t("../../util/form"),u=t("../../util/base-input"),l=t("../item/item"),c=function(t){function e(e,n,r,i,o){return t.call(this,e,i,o,"checkbox",!1,n,r,null)||this}return a(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.value=!this.value,this._fireTouched()},e.prototype._inputNormalize=function(t){return o.isTrueProperty(t)},e.prototype._inputUpdated=function(){this._item&&this._item.setElementClass("item-checkbox-checked",this._value)},e.decorators=[{type:n.Component,args:[{selector:"ion-checkbox",template:'<div class="checkbox-icon" [class.checkbox-checked]="_value"><div class="checkbox-inner"></div></div><button role="checkbox" type="button" ion-button="item-cover" [id]="id" [attr.aria-checked]="_value" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"> </button>',host:{"[class.checkbox-disabled]":"_disabled"},providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:i.Config},{type:s.Form},{type:l.Item,decorators:[{type:n.Optional}]},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={checked:[{type:n.Input}],_click:[{type:n.HostListener,args:["click",["$event"]]}]},e}(u.BaseInput);e.Checkbox=c})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"chip")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-chip"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.Chip=i})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(3),n(188),n(22),n(49),n(25),n(4),n(682)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){p.isString(t)&&(t=t.replace(/\[|\]|\s/g,"").split(","));var n;return p.isArray(t)&&(n=t.map(function(t){return parseInt(t,10)}).filter(isFinite)),n&&n.length||console.warn('Invalid "'+e+'Values". Must be an array of numbers, or a comma separated string of numbers.'),n}Object.defineProperty(e,"__esModule",{value:!0});var r=t("@angular/core"),i=t("@angular/forms"),o=t("../../config/config"),u=t("../picker/picker-controller"),l=t("../../util/form"),c=t("../../util/base-input"),f=t("../item/item"),p=t("../../util/util"),d=t("../../util/datetime-util"),h=function(t){function e(e,n,i,o,a,s){var u=t.call(this,n,i,o,"datetime",{},e,a,null)||this;return u._pickerCtrl=s,u._text="",u._locale={},u.cancelText="Cancel",u.doneText="Done",u.pickerOptions={},u.placeholder="",u.ionCancel=new r.EventEmitter,u}return a(e,t),e.prototype.ngAfterContentInit=function(){var t=this;["monthNames","monthShortNames","dayNames","dayShortNames"].forEach(function(e){t._locale[e]=function(t,e){if(p.isPresent(t)){p.isString(t)&&(t=t.replace(/\[|\]/g,"").split(","));var n;return p.isArray(t)&&(n=t.map(function(t){return t.trim()})),n&&n.length||console.warn('Invalid "'+e+'Names". Must be an array of strings, or a comma separated string.'),n}}(p.isPresent(t[e])?t[e]:t._config.get(e),e)}),this._initialize()},e.prototype._inputNormalize=function(t){return d.updateDate(this._value,t),this._value},e.prototype._inputUpdated=function(){t.prototype._inputUpdated.call(this),this.updateText()},e.prototype._inputShouldChange=function(){return!0},e.prototype._inputChangeEvent=function(){return this.value},e.prototype._inputNgModelEvent=function(){return d.convertDataToISO(this.value)},e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.open()},e.prototype._keyup=function(){this.open()},e.prototype.open=function(){var t=this;if(!this.isFocus()&&!this._disabled){var e=s({},this.pickerOptions);e.buttons=(e.buttons||[]).concat([{text:this.cancelText,role:"cancel",handler:function(){return t.ionCancel.emit(t)}},{text:this.doneText,handler:function(e){return t.value=e}}]);var n=this._picker=this._pickerCtrl.create(e);n.ionChange.subscribe(function(){t.validate(),n.refresh()}),this.generate(),this.validate(),this._fireFocus(),n.present(e),n.onDidDismiss(function(){t._fireBlur()})}},e.prototype.generate=function(){var t=this,e=this._picker,r=this.pickerFormat||this.displayFormat||m;if(p.isPresent(r)){this.calcMinMax(),-1===(r=r.replace("DDDD","{~}").replace("DDD","{~}")).indexOf("D")&&(r=r.replace("{~}","D")),r=r.replace(/{~}/g,""),d.parseTemplate(r).forEach(function(r){var i=d.convertFormatToKey(r),o={name:i,selectedIndex:0,options:(p.isPresent(t[i+"Values"])?n(t[i+"Values"],i):d.dateValueRange(r,t._min,t._max)).map(function(e){return{value:e,text:d.renderTextFormat(r,e,null,t._locale)}})},a=d.getValueFromFormat(t.getValueOrDefault(),r),s=o.options.findIndex(function(t){return t.value===a});s>=0&&(o.selectedIndex=s),e.addColumn(o)});var i=this._min,o=this._max,a=this._picker.getColumns();["month","day","hour","minute"].filter(function(t){return!a.find(function(e){return e.name===t})}).forEach(function(t){i[t]=0,o[t]=0}),this.divyColumns()}},e.prototype.validateColumn=function(t,e,n,r,i,o){var a=this._picker.getColumn(t);if(!a)return 0;for(var s=i.slice(),u=o.slice(),l=a.options,c=l.length-1,f=0,h=0;h<l.length;h++){var m=l[h],g=m.value;s[e]=m.value,u[e]=m.value;(m.disabled=g<i[e]||g>o[e]||d.dateSortValue(u[0],u[1],u[2],u[3],u[4])<n||d.dateSortValue(s[0],s[1],s[2],s[3],s[4])>r)||(c=Math.min(c,h),f=Math.max(f,h))}var v=a.selectedIndex=p.clamp(c,a.selectedIndex,f);return(m=a.options[v])?m.value:0},e.prototype.validate=function(){var t=new Date,e=d.dateDataSortValue(this._min),n=d.dateDataSortValue(this._max),r=this._picker.getColumn("year"),i=t.getFullYear();if(r){r.options.find(function(e){return e.value===t.getFullYear()})||(i=r.options[0].value);var o=r.options[r.selectedIndex];o&&(i=o.value)}var a=this.validateColumn("month",1,e,n,[i,0,0,0,0],[i,12,31,23,59]),s=d.daysInMonth(a,i),u=this.validateColumn("day",2,e,n,[i,a,0,0,0],[i,a,s,23,59]),l=this.validateColumn("hour",3,e,n,[i,a,u,0,0],[i,a,u,23,59]);this.validateColumn("minute",4,e,n,[i,a,u,l,0],[i,a,u,l,59])},e.prototype.divyColumns=function(){for(var t,e,n=this._picker.getColumns(),r=[],i=0;i<n.length;i++){t=n[i],r.push(0);for(var o=0;o<t.options.length;o++)(e=t.options[o].text.length)>r[i]&&(r[i]=e)}2===r.length?(e=Math.max(r[0],r[1]),n[0].align="right",n[1].align="left",n[0].optionsWidth=n[1].optionsWidth=17*e+"px"):3===r.length&&(e=Math.max(r[0],r[2]),n[0].align="right",n[1].columnWidth=17*r[1]+"px",n[0].optionsWidth=n[2].optionsWidth=17*e+"px",n[2].align="left")},e.prototype.updateText=function(){this._text=d.renderDateTime(this.displayFormat||this.pickerFormat||m,this.getValue(),this._locale)},e.prototype.getValue=function(){return this._value},e.prototype.getValueOrDefault=function(){if(this.hasValue())return this._value;var t=this.getDefaultValueDateString(),e={};return d.updateDate(e,t),e},e.prototype.getDefaultValueDateString=function(){if(this.initialValue)return this.initialValue;var t=(new Date).toISOString();if(this.max){var e=d.parseDate(t),n=d.parseDate(this.max);for(var r in n)null===n[r]&&(n[r]=e[r]);if(d.compareDates(e,n)>0)return this.max}return t},e.prototype.hasValue=function(){var t=this._value;return p.isPresent(t)&&p.isObject(t)&&Object.keys(t).length>0},e.prototype.calcMinMax=function(t){var e=(t||new Date).getFullYear();if(p.isPresent(this.yearValues)){var r=n(this.yearValues,"year");p.isBlank(this.min)&&(this.min=Math.min.apply(Math,r)),p.isBlank(this.max)&&(this.max=Math.max.apply(Math,r))}else p.isBlank(this.min)&&(this.min=(e-100).toString()),p.isBlank(this.max)&&(this.max=e.toString());var i=this._min=d.parseDate(this.min),o=this._max=d.parseDate(this.max);i.year=i.year||e,o.year=o.year||e,i.month=i.month||1,o.month=o.month||12,i.day=i.day||1,o.day=o.day||31,i.hour=i.hour||0,o.hour=o.hour||23,i.minute=i.minute||0,o.minute=o.minute||59,i.second=i.second||0,o.second=o.second||59,i.year>o.year&&(console.error("min.year > max.year"),i.year=o.year-100),i.year===o.year&&(i.month>o.month?(console.error("min.month > max.month"),i.month=1):i.month===o.month&&i.day>o.day&&(console.error("min.day > max.day"),i.day=1))},e.decorators=[{type:r.Component,args:[{selector:"ion-datetime",template:'<div *ngIf="!_text" class="datetime-text datetime-placeholder">{{placeholder}}</div><div *ngIf="_text" class="datetime-text">{{_text}}</div><button aria-haspopup="true" type="button" [id]="id" ion-button="item-cover" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"></button>',host:{"[class.datetime-disabled]":"_disabled"},providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],encapsulation:r.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:l.Form},{type:o.Config},{type:r.ElementRef},{type:r.Renderer},{type:f.Item,decorators:[{type:r.Optional}]},{type:u.PickerController,decorators:[{type:r.Optional}]}]},e.propDecorators={min:[{type:r.Input}],max:[{type:r.Input}],displayFormat:[{type:r.Input}],initialValue:[{type:r.Input}],pickerFormat:[{type:r.Input}],cancelText:[{type:r.Input}],doneText:[{type:r.Input}],yearValues:[{type:r.Input}],monthValues:[{type:r.Input}],dayValues:[{type:r.Input}],hourValues:[{type:r.Input}],minuteValues:[{type:r.Input}],monthNames:[{type:r.Input}],monthShortNames:[{type:r.Input}],dayNames:[{type:r.Input}],dayShortNames:[{type:r.Input}],pickerOptions:[{type:r.Input}],placeholder:[{type:r.Input}],ionCancel:[{type:r.Output}],_click:[{type:r.HostListener,args:["click",["$event"]]}],_keyup:[{type:r.HostListener,args:["keyup.space"]}]},e}(c.BaseInput);e.DateTime=h;var m="MMM D, YYYY"})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n,r){if(t===b||t===_){try{return e=new Date(n.year,n.month-1,n.day).getDay(),t===b?(c.isPresent(r.dayNames)?r.dayNames:D)[e]:(c.isPresent(r.dayShortNames)?r.dayShortNames:R)[e]}catch(t){}return""}if(t===I)return n?n.hour<12?"AM":"PM":c.isPresent(e)?e.toUpperCase():"";if(t===A)return n?n.hour<12?"am":"pm":c.isPresent(e)?e:"";if(c.isBlank(e))return"";if(t===h||t===v||t===w||t===E||t===k||t===P)return s(e);if(t===d)return l(e);if(t===m)return(c.isPresent(r.monthNames)?r.monthNames:j)[e-1];if(t===g)return(c.isPresent(r.monthShortNames)?r.monthShortNames:L)[e-1];if(t===S||t===O){if(0===e)return"12";if(e>12&&(e-=12),t===S&&e<10)return"0"+e}return e.toString()}function r(t,e,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),parseInt("1"+l(t)+s(e)+s(n)+s(r)+s(i),10)}function i(t){return t%4==0&&t%100!=0||t%400==0}function o(t){var e;if(c.isPresent(t)&&""!==t&&(e=p.exec(t),c.isPresent(e)?(e.unshift(void 0,void 0),e[2]=e[3]=void 0):e=f.exec(t)),c.isBlank(e))return null;for(var n=1;n<8;n++)e[n]=void 0!==e[n]?parseInt(e[n],10):null;var r=0;return c.isPresent(e[9])&&c.isPresent(e[10])&&(r=60*parseInt(e[10],10),c.isPresent(e[11])&&(r+=parseInt(e[11],10)),"-"===e[9]&&(r*=-1)),{year:e[1],month:e[2],day:e[3],hour:e[4],minute:e[5],second:e[6],millisecond:e[7],tzOffset:r}}function a(t){for(var e in M)if(M[e].f===t)return M[e].k;return null}function s(t){return("0"+(c.isPresent(t)?Math.abs(t):"0")).slice(-2)}function u(t){return("00"+(c.isPresent(t)?Math.abs(t):"0")).slice(-3)}function l(t){return("000"+(c.isPresent(t)?Math.abs(t):"0")).slice(-4)}Object.defineProperty(e,"__esModule",{value:!0});var c=t("./util");e.renderDateTime=function(t,e,r){if(c.isBlank(e))return"";var i=[],o=!1;if(M.forEach(function(a,s){if(t.indexOf(a.f)>-1){var u="{"+s+"}",l=n(a.f,e[a.k],e,r);!o&&l&&c.isPresent(e[a.k])&&(o=!0),i.push(u,l),t=t.replace(a.f,u)}}),!o)return"";for(var a=0;a<i.length;a+=2)t=t.replace(i[a],i[a+1]);return t},e.renderTextFormat=n,e.dateValueRange=function(t,e,n){var r,i=[];if(t===d||t===h)for(r=n.year;r>=e.year;)i.push(r--);else if(t===m||t===g||t===v||t===y||t===S||t===O)for(r=1;r<13;r++)i.push(r);else if(t===b||t===_||t===w||t===x)for(r=1;r<32;r++)i.push(r);else if(t===E||t===C)for(r=0;r<24;r++)i.push(r);else if(t===k||t===T)for(r=0;r<60;r++)i.push(r);else if(t===P||t===N)for(r=0;r<60;r++)i.push(r);else t!==I&&t!==A||i.push("am","pm");return i},e.dateSortValue=r,e.dateDataSortValue=function(t){return t?r(t.year,t.month,t.day,t.hour,t.minute):-1},e.daysInMonth=function(t,e){return 4===t||6===t||9===t||11===t?30:2===t?i(e)?29:28:31},e.isLeapYear=i;var f=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,p=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/;e.parseDate=o,e.compareDates=function(t,e){var n=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second),r=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second);return n.getTime()-r.getTime()},e.updateDate=function(t,e){if(c.isPresent(e)&&""!==e){if(c.isString(e)){if(e=o(e))return Object.assign(t,e),!0}else if(c.isPresent(e.year)||c.isPresent(e.hour)||c.isPresent(e.month)||c.isPresent(e.day)||c.isPresent(e.minute)||c.isPresent(e.second)){c.isPresent(e.ampm)&&c.isPresent(e.hour)&&(e.hour.value="pm"===e.ampm.value?12===e.hour.value?12:e.hour.value+12:12===e.hour.value?0:e.hour.value);for(var n in e)t[n]=e[n].value;return!0}console.warn('Error parsing date: "'+e+'". Please provide a valid ISO 8601 datetime format: https://www.w3.org/TR/NOTE-datetime')}else for(var n in t)delete t[n];return!1},e.parseTemplate=function(t){var e=[];t=t.replace(/[^\w\s]/gi," "),M.forEach(function(e){e.f.length>1&&t.indexOf(e.f)>-1&&t.indexOf(e.f+e.f.charAt(0))<0&&(t=t.replace(e.f," "+e.f+" "))});var n=t.split(" ").filter(function(t){return t.length>0});return n.forEach(function(t,r){M.forEach(function(i){if(t===i.f){if((t===I||t===A)&&(e.indexOf(O)<0&&e.indexOf(S)<0||-1===z.indexOf(n[r-1])))return;e.push(t)}})}),e},e.getValueFromFormat=function(t,e){return e===I||e===A?t.hour<12?"am":"pm":e===S||e===O?t.hour>12?t.hour-12:t.hour:t[a(e)]},e.convertFormatToKey=a,e.convertDataToISO=function(t){var e="";return c.isPresent(t)&&(c.isPresent(t.year)?(e=l(t.year),c.isPresent(t.month)&&(e+="-"+s(t.month),c.isPresent(t.day)&&(e+="-"+s(t.day),c.isPresent(t.hour)&&(e+="T"+s(t.hour)+":"+s(t.minute)+":"+s(t.second),t.millisecond>0&&(e+="."+u(t.millisecond)),c.isBlank(t.tzOffset)||0===t.tzOffset?e+="Z":e+=(t.tzOffset>0?"+":"-")+s(Math.floor(t.tzOffset/60))+":"+s(t.tzOffset%60))))):c.isPresent(t.hour)&&(e=s(t.hour)+":"+s(t.minute),c.isPresent(t.second)&&(e+=":"+s(t.second),c.isPresent(t.millisecond)&&(e+="."+u(t.millisecond))))),e};var d="YYYY",h="YY",m="MMMM",g="MMM",v="MM",y="M",b="DDDD",_="DDD",w="DD",x="D",E="HH",C="H",S="hh",O="h",k="mm",T="m",P="ss",N="s",I="A",A="a",M=[{f:d,k:"year"},{f:m,k:"month"},{f:b,k:"day"},{f:g,k:"month"},{f:_,k:"day"},{f:h,k:"year"},{f:v,k:"month"},{f:w,k:"day"},{f:E,k:"hour"},{f:S,k:"hour"},{f:k,k:"minute"},{f:P,k:"second"},{f:y,k:"month"},{f:x,k:"day"},{f:C,k:"hour"},{f:O,k:"hour"},{f:T,k:"minute"},{f:N,k:"second"},{f:I,k:"ampm"},{f:A,k:"ampm"}],D=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],z=[S,O,k,T,P,N]})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(179),n(684),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=t("./picker-component"),o=t("./picker-transitions"),s=function(t){function e(e,a,s){void 0===a&&(a={});var u=this;return a||(a={}),a.columns=a.columns||[],a.buttons=a.buttons||[],a.enableBackdropDismiss=!r.isPresent(a.enableBackdropDismiss)||Boolean(a.enableBackdropDismiss),u=t.call(this,i.PickerCmp,a,null)||this,u._app=e,u.isOverlay=!0,u.ionChange=new n.EventEmitter,s.setTransition("picker-slide-in",o.PickerSlideIn),s.setTransition("picker-slide-out",o.PickerSlideOut),u}return a(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"pickerLeave":"pickerEnter")},e.prototype.addButton=function(t){this.data.buttons.push(t)},e.prototype.addColumn=function(t){this.data.columns.push(t)},e.prototype.getColumns=function(){return this.data.columns},e.prototype.getColumn=function(t){return this.getColumns().find(function(e){return e.name===t})},e.prototype.refresh=function(){this._cmp&&this._cmp.instance.refresh&&this._cmp.instance.refresh()},e.prototype.setCssClass=function(t){this.data.cssClass=t},e.prototype.present=function(t){return void 0===t&&(t={}),this._app.present(this,t)},e.propDecorators={ionChange:[{type:n.Output}]},e}(t("../../navigation/view-controller").ViewController);e.Picker=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(72)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=t("../../transitions/transition"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".picker-wrapper"));e.fromTo("opacity",.01,.26),r.fromTo("translateY","100%","0%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(e).add(r)},e}(r.Transition);e.PickerSlideIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".picker-wrapper"));e.fromTo("opacity",.26,0),r.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e).add(r)},e}(r.Transition);e.PickerSlideOut=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(5),n(45),n(189),n(312)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../platform/platform"),i=t("../../gestures/ui-event-manager"),o=t("./fab"),a=t("./fab-list"),s=function(){function t(t){this._listsActive=!1,this._events=new i.UIEventManager(t)}return t.prototype.ngAfterContentInit=function(){var t=this._mainButton;t&&t.getNativeElement()?this._events.listen(t.getNativeElement(),"click",this.clickHandler.bind(this),{zone:!0}):console.error("FAB container needs a main <button ion-fab>")},t.prototype.clickHandler=function(t){this.canActivateList(t)&&this.toggleList()},t.prototype.canActivateList=function(t){if(this._fabLists.length>0&&this._mainButton&&t.target){var e=t.target.closest("ion-fab>[ion-fab]");return e&&e===this._mainButton.getNativeElement()}return!1},t.prototype.toggleList=function(){this.setActiveLists(!this._listsActive)},t.prototype.setActiveLists=function(t){if(t!==this._listsActive){for(var e=0,n=this._fabLists.toArray();e<n.length;e++){n[e].setVisible(t)}this._mainButton.setActiveClose(t),this._listsActive=t}},t.prototype.close=function(){this.setActiveLists(!1)},t.prototype.ngOnDestroy=function(){this._events.destroy()},t.decorators=[{type:n.Component,args:[{selector:"ion-fab",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[{type:r.Platform}]},t.propDecorators={_mainButton:[{type:n.ContentChild,args:[o.FabButton]}],_fabLists:[{type:n.ContentChildren,args:[a.FabList]}]},t}();e.FabContainer=s})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-col, [ion-col]",host:{class:"col"}}]}],t.ctorParameters=function(){return[]},t}();e.Col=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-grid, [ion-grid]",host:{class:"grid"}}]}],t.ctorParameters=function(){return[]},t}();e.Grid=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-row, [ion-row]",host:{class:"row"}}]}],t.ctorParameters=function(){return[]},t}();e.Row=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(35),n(12),n(4),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){if(a.isPresent(t))if("string"==typeof t){if(t.indexOf("%")>-1||t.indexOf("px")>-1)return t;if(t.length)return t+"px"}else if("number"==typeof t)return t+"px";return""}Object.defineProperty(e,"__esModule",{value:!0});var r=t("@angular/core"),i=t("../content/content"),o=t("../../platform/dom-controller"),a=t("../../util/util"),s=t("../../platform/platform"),u=function(){function t(t,e,n,r,i){this._elementRef=t,this._renderer=e,this._plt=n,this._content=r,this._dom=i,this._cache=!0,this._w="",this._h="",this._wQ="",this._hQ="",this.alt="",this._content?this._content.addImg(this):console.warn("ion-img can only be used within an ion-content"),this._isLoaded(!1)}return Object.defineProperty(t.prototype,"src",{get:function(){return this._src},set:function(t){t!==this._src&&(this.reset(),this._src=t,this._hasLoaded=0===t.indexOf("data:"),this.update())},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._requestingSrc&&(this._srcAttr(""),this._requestingSrc=null),this._renderedSrc&&(this._renderedSrc=null,this._isLoaded(!1))},t.prototype.update=function(){var t=this;this._src&&this._content.isImgsUpdatable()&&(this.canRequest&&this._src!==this._renderedSrc&&this._src!==this._requestingSrc&&!this._hasLoaded&&(this._requestingSrc=this._src,this._isLoaded(!1),this._srcAttr(this._src),this._setDims()),this.canRender&&this._hasLoaded&&this._src!==this._renderedSrc&&(this._renderedSrc=this._src,this._setDims(),this._dom.write(function(){t._hasLoaded&&(t._isLoaded(!0),t._srcAttr(t._src))})))},t.prototype._isLoaded=function(t){var e=this._renderer,n=this._elementRef.nativeElement;e.setElementClass(n,"img-loaded",t),e.setElementClass(n,"img-unloaded",!t)},t.prototype._srcAttr=function(t){var e=this._img,n=this._renderer;e&&e.src!==t&&(n.setElementAttribute(this._img,"src",t),n.setElementAttribute(this._img,"alt",this.alt))},Object.defineProperty(t.prototype,"top",{get:function(){var t=this._getBounds();return t&&t.top||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){var t=this._getBounds();return t&&t.bottom||0},enumerable:!0,configurable:!0}),t.prototype._getBounds=function(){return this._bounds?this._bounds:(this._rect||(this._rect=this._elementRef.nativeElement.getBoundingClientRect()),this._rect)},Object.defineProperty(t.prototype,"bounds",{set:function(t){a.isPresent(t)&&(this._bounds=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cache",{get:function(){return this._cache},set:function(t){this._cache=a.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{set:function(t){this._wQ=n(t),this._setDims()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(t){this._hQ=n(t),this._setDims()},enumerable:!0,configurable:!0}),t.prototype._setDims=function(){var t=this;if(this.canRender&&(this._w!==this._wQ||this._h!==this._hQ)){var e=this._elementRef.nativeElement,n=this._renderer;this._dom.write(function(){t._w!==t._wQ&&(t._w=t._wQ,n.setElementStyle(e,"width",t._w)),t._h!==t._hQ&&(t._h=t._hQ,n.setElementStyle(e,"height",t._h))})}},t.prototype.ngAfterContentInit=function(){var t=this;this._img=this._elementRef.nativeElement.firstChild,this._unreg=this._plt.registerListener(this._img,"load",function(){t._hasLoaded=!0,t.update()},{passive:!0})},t.prototype.ngOnDestroy=function(){this._unreg&&this._unreg(),this._content&&this._content.removeImg(this)},t.decorators=[{type:r.Component,args:[{selector:"ion-img",template:"<img>",changeDetection:r.ChangeDetectionStrategy.OnPush,encapsulation:r.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer},{type:s.Platform},{type:i.Content,decorators:[{type:r.Optional}]},{type:o.DomController}]},t.propDecorators={src:[{type:r.Input}],bounds:[{type:r.Input}],cache:[{type:r.Input}],width:[{type:r.Input}],height:[{type:r.Input}],alt:[{type:r.Input}]},t}();e.Img=u})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(313)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("./infinite-scroll"),o=function(){function t(t,e){this.inf=t,this._config=e}return t.prototype.ngOnInit=function(){this.loadingSpinner||(this.loadingSpinner=this._config.get("infiniteLoadingSpinner",this._config.get("spinner","ios")))},t.decorators=[{type:n.Component,args:[{selector:"ion-infinite-scroll-content",template:'<div class="infinite-loading"><div class="infinite-loading-spinner" *ngIf="loadingSpinner"><ion-spinner [name]="loadingSpinner"></ion-spinner></div><div class="infinite-loading-text" [innerHTML]="loadingText" *ngIf="loadingText"></div></div>',host:{"[attr.state]":"inf.state"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:i.InfiniteScroll},{type:r.Config}]},t.propDecorators={loadingSpinner:[{type:n.Input}],loadingText:[{type:n.Input}]},t}();e.InfiniteScrollContent=o})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"item-divider")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-item-divider",host:{class:"item-divider"}}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.ItemDivider=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-item-group"}]}],t.ctorParameters=function(){return[]},t}();e.ItemGroup=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4),n(25),n(183),n(5),n(315)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=t("./item"),o=t("../list/list"),a=t("../../platform/platform"),s=t("./item-options"),u=function(){function t(t,e,r,i,o){this._plt=e,this._renderer=r,this._elementRef=i,this._zone=o,this._openAmount=0,this._startX=0,this._optsWidthRightSide=0,this._optsWidthLeftSide=0,this._tmr=null,this._optsDirty=!0,this._state=2,this.ionDrag=new n.EventEmitter,t&&t.containsSlidingItem(!0),i.nativeElement.$ionComponent=this,this.setElementClass("item-wrapper",!0)}return Object.defineProperty(t.prototype,"_itemOptions",{set:function(t){var e=0;this._leftOptions=this._rightOptions=null;for(var n=0,r=t.toArray();n<r.length;n++){var i=r[n];i.isRightSide()?(this._rightOptions=i,e|=2):(this._leftOptions=i,e|=1)}this._optsDirty=!0,this._sides=e},enumerable:!0,configurable:!0}),t.prototype.getOpenAmount=function(){return this._openAmount},t.prototype.getSlidingPercent=function(){var t=this._openAmount;return t>0?t/this._optsWidthRightSide:t<0?t/this._optsWidthLeftSide:0},t.prototype.startSliding=function(t){this._tmr&&(this._plt.cancelTimeout(this._tmr),this._tmr=null),0===this._openAmount&&(this._optsDirty=!0,this._setState(4)),this._startX=t+this._openAmount,this.item.setElementStyle(this._plt.Css.transition,"none")},t.prototype.moveSliding=function(t){if(!this._optsDirty){var e=this._startX-t;switch(this._sides){case 2:e=Math.max(0,e);break;case 1:e=Math.min(0,e);break;case 3:break;case 0:return}if(e>this._optsWidthRightSide){e=(n=this._optsWidthRightSide)+.55*(e-n)}else if(e<-this._optsWidthLeftSide){var n;e=(n=-this._optsWidthLeftSide)+.55*(e-n)}return this._setOpenAmount(e,!1),e}this.calculateOptsWidth()},t.prototype.endSliding=function(t){var e=this._openAmount>0?this._optsWidthRightSide:-this._optsWidthLeftSide,n=this._openAmount>0==!(t<0),i=Math.abs(t)>.3,o=Math.abs(this._openAmount)<Math.abs(e/2);return r.swipeShouldReset(n,i,o)&&(e=0),this.fireSwipeEvent(),this._setOpenAmount(e,!0),e},t.prototype.fireSwipeEvent=function(){var t=this;32&this._state?this._zone.run(function(){return t._rightOptions.ionSwipe.emit(t)}):64&this._state&&this._zone.run(function(){return t._leftOptions.ionSwipe.emit(t)})},t.prototype.calculateOptsWidth=function(){this._optsDirty&&(this._optsWidthRightSide=0,this._rightOptions&&(this._optsWidthRightSide=this._rightOptions.width()),this._optsWidthLeftSide=0,this._leftOptions&&(this._optsWidthLeftSide=this._leftOptions.width()),this._optsDirty=!1)},t.prototype._setOpenAmount=function(t,e){var n=this,r=this._plt;if(this._tmr&&(r.cancelTimeout(this._tmr),this._tmr=null),this._openAmount=t,e&&this.item.setElementStyle(r.Css.transition,""),t>0){this._setState(t>=this._optsWidthRightSide+30?40:8)}else{if(!(t<0))return this._tmr=r.timeout(function(){n._setState(2),n._tmr=null},600),void this.item.setElementStyle(r.Css.transform,"");this._setState(t<=-this._optsWidthLeftSide-30?80:16)}this.item.setElementStyle(r.Css.transform,"translate3d("+-t+"px,0,0)");var i=this.ionDrag;i.observers.length>0&&i.emit(this)},t.prototype._setState=function(t){t!==this._state&&(this.setElementClass("active-slide",2!==t),this.setElementClass("active-options-right",!!(8&t)),this.setElementClass("active-options-left",!!(16&t)),this.setElementClass("active-swipe-right",!!(32&t)),this.setElementClass("active-swipe-left",!!(64&t)),this._state=t)},t.prototype.close=function(){this._setOpenAmount(0,!0)},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.decorators=[{type:n.Component,args:[{selector:"ion-item-sliding",template:'\n    <ng-content select="ion-item,[ion-item]"></ng-content>\n    <ng-content select="ion-item-options"></ng-content>\n  ',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:o.List,decorators:[{type:n.Optional}]},{type:a.Platform},{type:n.Renderer},{type:n.ElementRef},{type:n.NgZone}]},t.propDecorators={item:[{type:n.ContentChild,args:[i.Item]}],ionDrag:[{type:n.Output}],_itemOptions:[{type:n.ContentChildren,args:[n.forwardRef(function(){return s.ItemOptions})]}]},t}();e.ItemSliding=u})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(48),n(3),n(35),n(12),n(10),n(4),n(59),n(696),n(70),n(126),n(5),n(45),n(75)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../backdrop/backdrop"),o=t("../../config/config"),a=t("../content/content"),s=t("../../platform/dom-controller"),u=t("../../gestures/gesture-controller"),l=t("../../util/util"),c=t("../../platform/keyboard"),f=t("./menu-gestures"),p=t("../app/menu-controller"),d=t("../nav/nav"),h=t("../../platform/platform"),m=t("../../gestures/ui-event-manager"),g=t("../split-pane/split-pane"),v=function(){function t(t,e,r,i,o,a,s,l,c){this._menuCtrl=t,this._elementRef=e,this._config=r,this._plt=i,this._renderer=o,this._keyboard=a,this._gestureCtrl=s,this._domCtrl=l,this._app=c,this._isSwipeEnabled=!0,this._isAnimating=!1,this._isPersistent=!1,this._init=!1,this._isPane=!1,this.isOpen=!1,this.isRightSide=!1,this.ionDrag=new n.EventEmitter,this.ionOpen=new n.EventEmitter,this.ionClose=new n.EventEmitter,this._events=new m.UIEventManager(i),this._gestureBlocker=s.createBlocker({disable:[u.GESTURE_GO_BACK_SWIPE]}),this.side="start"}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){var e=l.isTrueProperty(t);this.enable(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"side",{get:function(){return this._side},set:function(t){this.isRightSide=l.isRightSide(t,this._plt.isRTL),this._side=this.isRightSide?"right":"left"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeEnabled",{get:function(){return this._isSwipeEnabled},set:function(t){var e=l.isTrueProperty(t);this.swipeEnable(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"persistent",{get:function(){return this._isPersistent},set:function(t){this._isPersistent=l.isTrueProperty(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._init=!0;var e=this.content;if(this._cntEle=e instanceof Node?e:e&&e.getNativeElement&&e.getNativeElement(),!this._cntEle)return console.error('Menu: must have a [content] element to listen for drag events on. Example:\n\n<ion-menu [content]="content"></ion-menu>\n\n<ion-nav #content></ion-nav>');this.setElementAttribute("side",this._side),this.type||(this.type=this._config.get("menuType")),this.setElementAttribute("type",this.type),this._gesture=new f.MenuContentGesture(this._plt,this,this._gestureCtrl,this._domCtrl),this._cntEle.classList.add("menu-content"),this._cntEle.classList.add("menu-content-"+this.type);var n=this._isEnabled;!0!==n&&void 0!==n||(n=!this._menuCtrl.getMenus().some(function(e){return e.side===t.side&&e.enabled})),this._menuCtrl._register(this),this.enable(n)},t.prototype.onBackdropClick=function(t){t.preventDefault(),t.stopPropagation(),this._menuCtrl.close()},t.prototype._getType=function(){return this._type||(this._type=p.MenuController.create(this.type,this,this._plt),!1===this._config.get("animate")&&this._type.ani.duration(0)),this._type},t.prototype.setOpen=function(t,e){var n=this;return void 0===e&&(e=!0),t===this.isOpen||!this._canOpen()||this._isAnimating?Promise.resolve(this.isOpen):new Promise(function(r){n._before(),n._getType().setOpen(t,e,function(){n._after(t),r(n.isOpen)})})},t.prototype._forceClosing=function(){var t=this;this._isAnimating=!0,this._getType().setOpen(!1,!1,function(){t._after(!1)})},t.prototype.canSwipe=function(){return this._isSwipeEnabled&&!this._isAnimating&&this._canOpen()&&this._app.isEnabled()},t.prototype.isAnimating=function(){return this._isAnimating},t.prototype._swipeBeforeStart=function(){this.canSwipe()&&this._before()},t.prototype._swipeStart=function(){this._isAnimating&&this._getType().setProgressStart(this.isOpen)},t.prototype._swipeProgress=function(t){if(this._isAnimating){this._getType().setProgessStep(t);var e=this.ionDrag;e.observers.length>0&&e.emit(t)}},t.prototype._swipeEnd=function(t,e,n,r){var i=this;if(this._isAnimating){var o=this.isRightSide,a=this._plt.isRTL,s=!this.isOpen?o!==a?t:e:o!==a?e:t;this._getType().setProgressEnd(s,n,r,function(t){i._after(t)})}},t.prototype._before=function(){this.setElementClass("show-menu",!0),this.backdrop.setElementClass("show-backdrop",!0),this.resize(),this._keyboard.close(),this._isAnimating=!0},t.prototype._after=function(t){if(this._app.setEnabled(!1,100),this.isOpen=t,this._isAnimating=!1,this._events.unlistenAll(),t){this._gestureBlocker.block(),this._cntEle.classList.add("menu-content-open");var e=this.onBackdropClick.bind(this);this._events.listen(this._cntEle,"click",e,{capture:!0}),this._events.listen(this.backdrop.getNativeElement(),"click",e,{capture:!0}),this.ionOpen.emit(!0)}else this._gestureBlocker.unblock(),this._cntEle.classList.remove("menu-content-open"),this.setElementClass("show-menu",!1),this.backdrop.setElementClass("show-menu",!1),this.ionClose.emit(!0)},t.prototype.open=function(){return this.setOpen(!0)},t.prototype.close=function(){return this.setOpen(!1)},t.prototype.resize=function(){var t=this.menuContent?this.menuContent:this.menuNav;t&&t.resize()},t.prototype.toggle=function(){return this.setOpen(!this.isOpen)},t.prototype._canOpen=function(){return this._isEnabled&&!this._isPane},t.prototype._updateState=function(){var t=this._canOpen();if(!t&&this.isOpen&&this._forceClosing(),this._isEnabled&&this._menuCtrl&&this._menuCtrl._setActiveMenu(this),this._init){var e=this._gesture;t&&this._isSwipeEnabled&&!e.isListening?e.listen():!e.isListening||t&&this._isSwipeEnabled||e.unlisten(),(this.isOpen||this._isPane&&this._isEnabled)&&this.resize()}},t.prototype.enable=function(t){return this._isEnabled=t,this.setElementClass("menu-enabled",t),this._updateState(),this},t.prototype.initPane=function(){return!1},t.prototype.paneChanged=function(t){this._isPane=t,this._updateState()},t.prototype.swipeEnable=function(t){return this._isSwipeEnabled=t,this._updateState(),this},t.prototype.getNativeElement=function(){return this._elementRef.nativeElement},t.prototype.getMenuElement=function(){return this.getNativeElement().querySelector(".menu-inner")},t.prototype.getContentElement=function(){return this._cntEle},t.prototype.getBackdropElement=function(){return this.backdrop.getNativeElement()},t.prototype.width=function(){return this.getMenuElement().offsetWidth},t.prototype.getMenuController=function(){return this._menuCtrl},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.prototype.setElementAttribute=function(t,e){this._renderer.setElementAttribute(this._elementRef.nativeElement,t,e)},t.prototype.getElementRef=function(){return this._elementRef},t.prototype.ngOnDestroy=function(){this._menuCtrl._unregister(this),this._events.destroy(),this._gesture&&this._gesture.destroy(),this._type&&this._type.destroy(),this._gesture=null,this._type=null,this._cntEle=null},t.decorators=[{type:n.Component,args:[{selector:"ion-menu",template:'<div class="menu-inner"><ng-content></ng-content></div><ion-backdrop></ion-backdrop>',host:{role:"navigation"},changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,providers:[{provide:g.RootNode,useExisting:n.forwardRef(function(){return t})}]}]}],t.ctorParameters=function(){return[{type:p.MenuController},{type:n.ElementRef},{type:o.Config},{type:h.Platform},{type:n.Renderer},{type:c.Keyboard},{type:u.GestureController},{type:s.DomController},{type:r.App}]},t.propDecorators={backdrop:[{type:n.ViewChild,args:[i.Backdrop]}],menuContent:[{type:n.ContentChild,args:[a.Content]}],menuNav:[{type:n.ContentChild,args:[d.Nav]}],content:[{type:n.Input}],id:[{type:n.Input}],type:[{type:n.Input}],enabled:[{type:n.Input}],side:[{type:n.Input}],swipeEnabled:[{type:n.Input}],persistent:[{type:n.Input}],maxEdgeStart:[{type:n.Input}],ionDrag:[{type:n.Output}],ionOpen:[{type:n.Output}],ionClose:[{type:n.Output}]},t}();e.Menu=v})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(10),n(284)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../gestures/gesture-controller"),r=function(t){function e(e,r,i,o){var a=t.call(this,e,e.doc().body,{direction:"x",edge:r.side,threshold:5,maxEdgeStart:r.maxEdgeStart||50,zone:!1,passive:!0,domController:o,gesture:i.createGesture({name:n.GESTURE_MENU_SWIPE,priority:n.GESTURE_PRIORITY_MENU_SWIPE,disableScroll:!0})})||this;return a.menu=r,a}return a(e,t),e.prototype.canStart=function(e){var n=this.menu;return!!n.canSwipe()&&(!!n.isOpen||!n.getMenuController().getOpen()&&t.prototype.canStart.call(this,e))},e.prototype.onSlideBeforeStart=function(){this.menu._swipeBeforeStart()},e.prototype.onSlideStart=function(){this.menu._swipeStart()},e.prototype.onSlide=function(t){this.menu._swipeProgress(t.distance/(this.menu.isRightSide!==this.plt.isRTL?t.min:t.max))},e.prototype.onSlideEnd=function(t){var e=this.menu.isRightSide!==this.plt.isRTL?t.min:t.max,n=t.distance/e,r=t.velocity;e=Math.abs(.5*e);this.menu._swipeEnd(r<=0&&(r<-.2||t.delta<-e),r>=0&&(r>.2||t.delta>e),n,r)},e.prototype.getElementStartPos=function(t){var e=this.menu;return e.isRightSide!==this.plt.isRTL?e.isOpen?t.min:t.max:e.isOpen?t.max:t.min},e.prototype.getSlideBoundaries=function(){var t=this.menu;return t.isRightSide!==this.plt.isRTL?{min:-t.width(),max:0}:{min:0,max:t.width()}},e}(t("../../gestures/slide-edge-gesture").SlideEdgeGesture);e.MenuContentGesture=r})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(70)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/menu-controller"),i=function(){function t(t){this._menu=t}return t.prototype.close=function(){var t=this._menu.get(this.menuClose);t&&t.close()},t.decorators=[{type:n.Directive,args:[{selector:"[menuClose]"}]}],t.ctorParameters=function(){return[{type:r.MenuController}]},t.propDecorators={menuClose:[{type:n.Input}],close:[{type:n.HostListener,args:["click"]}]},t}();e.MenuClose=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(27),n(70),n(61),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../button/button"),i=t("../app/menu-controller"),o=t("../toolbar/navbar"),a=t("../../navigation/view-controller"),s=function(){function t(t,e,n,r){this._menu=t,this._viewCtrl=e,this._button=n,this._isButton=!!n,this._inNavbar=!!r}return t.prototype.ngAfterContentInit=function(){this._isButton&&this._button._setClass("menutoggle",!0)},t.prototype.toggle=function(){var t=this._menu.get(this.menuToggle);t&&t.toggle()},Object.defineProperty(t.prototype,"isHidden",{get:function(){var t=this._menu.get(this.menuToggle);if(this._inNavbar&&this._viewCtrl){if(!t||!t._canOpen())return!0;if(this._viewCtrl.isFirst())return!1;if(t)return!t.persistent}return!1},enumerable:!0,configurable:!0}),t.decorators=[{type:n.Directive,args:[{selector:"[menuToggle]",host:{"[hidden]":"isHidden"}}]}],t.ctorParameters=function(){return[{type:i.MenuController},{type:a.ViewController,decorators:[{type:n.Optional}]},{type:r.Button,decorators:[{type:n.Optional}]},{type:o.Navbar,decorators:[{type:n.Optional}]}]},t.propDecorators={menuToggle:[{type:n.Input}],toggle:[{type:n.HostListener,args:["click"]}]},t}();e.MenuToggle=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(317),n(700)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../navigation/overlay-proxy"),r=t("./modal-impl"),i=function(t){function e(e,n,r,i,o,a){void 0===i&&(i={});var s=t.call(this,e,n,o,a)||this;return s.data=r,s.opts=i,s.isOverlay=!0,s}return a(e,t),e.prototype.getImplementation=function(){return new r.ModalImpl(this._app,this._component,this.data,this.opts,this._config)},e}(n.OverlayProxy);e.Modal=i})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(89),n(177),n(701),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../util/util"),r=t("../app/app-constants"),i=t("./modal-component"),o=t("./modal-transitions"),s=function(t){function e(e,r,a,s,u){void 0===s&&(s={});var l=this;return a=a||{},a.component=r,s.showBackdrop=!n.isPresent(s.showBackdrop)||!!s.showBackdrop,s.enableBackdropDismiss=!n.isPresent(s.enableBackdropDismiss)||!!s.enableBackdropDismiss,a.opts=s,l=t.call(this,i.ModalCmp,a,null)||this,l._app=e,l._enterAnimation=s.enterAnimation,l._leaveAnimation=s.leaveAnimation,l.isOverlay=!0,u.setTransition("modal-slide-in",o.ModalSlideIn),u.setTransition("modal-slide-out",o.ModalSlideOut),u.setTransition("modal-md-slide-in",o.ModalMDSlideIn),u.setTransition("modal-md-slide-out",o.ModalMDSlideOut),l}return a(e,t),e.prototype.getTransitionName=function(t){var e;if("back"===t){if(this._leaveAnimation)return this._leaveAnimation;e="modalLeave"}else{if(this._enterAnimation)return this._enterAnimation;e="modalEnter"}return this._nav&&this._nav.config.get(e)},e.prototype.present=function(t){return void 0===t&&(t={}),t.minClickBlockDuration=t.minClickBlockDuration||400,this._app.present(this,t,r.PORTAL_MODAL)},e}(t("../../navigation/view-controller").ViewController);e.ModalImpl=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(90)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=t("../../transitions/page-transition"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.enteringView.pageRef().nativeElement,r=e.querySelector("ion-backdrop"),i=new n.Animation(this.plt,r),o=new n.Animation(this.plt,e.querySelector(".modal-wrapper"));o.beforeStyles({opacity:1}),o.fromTo("translateY","100%","0%"),i.fromTo("opacity",.01,.4),this.element(this.enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(400).add(i).add(o)},e}(r.PageTransition);e.ModalSlideIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.leavingView.pageRef().nativeElement,r=new n.Animation(this.plt,e.querySelector("ion-backdrop")),i=e.querySelector(".modal-wrapper"),o=i.getBoundingClientRect(),a=new n.Animation(this.plt,i);a.fromTo("translateY","0px",this.plt.height()-o.top+"px"),r.fromTo("opacity",.4,0),this.element(this.leavingView.pageRef()).easing("ease-out").duration(250).add(r).add(a)},e}(r.PageTransition);e.ModalSlideOut=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.enteringView.pageRef().nativeElement,r=new n.Animation(this.plt,e.querySelector("ion-backdrop")),i=new n.Animation(this.plt,e.querySelector(".modal-wrapper"));r.fromTo("opacity",.01,.4),i.fromTo("translateY","40px","0px"),i.fromTo("opacity",.01,1);this.element(this.enteringView.pageRef()).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).add(r).add(i)},e}(r.PageTransition);e.ModalMDSlideIn=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){t.prototype.init.call(this);var e=this.leavingView.pageRef().nativeElement,r=new n.Animation(this.plt,e.querySelector("ion-backdrop")),i=new n.Animation(this.plt,e.querySelector(".modal-wrapper"));r.fromTo("opacity",.4,0),i.fromTo("translateY","0px","40px"),i.fromTo("opacity",.99,0),this.element(this.leavingView.pageRef()).duration(200).easing("cubic-bezier(0.47,0,0.745,0.715)").add(i).add(r)},e}(r.PageTransition);e.ModalMDSlideOut=u})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(24),n(6),n(318)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../navigation/deep-linker"),i=t("../../navigation/view-controller"),o=t("./nav-pop"),a=function(){function t(t,e,n){this.host=t,this.linker=e,this.viewCtrl=n}return t.prototype.updateHref=function(){if(this.host&&this.viewCtrl){var t=this.host._nav.getPrevious(this.viewCtrl);this._href=t&&this.linker.createUrl(this.host._nav,this.viewCtrl.component,this.viewCtrl.data)||"#"}else this._href="#"},t.prototype.ngAfterContentInit=function(){this.updateHref()},t.decorators=[{type:n.Directive,args:[{selector:"a[navPop]",host:{"[attr.href]":"_href"}}]}],t.ctorParameters=function(){return[{type:o.NavPop,decorators:[{type:n.Optional}]},{type:r.DeepLinker},{type:i.ViewController,decorators:[{type:n.Optional}]}]},t}();e.NavPopAnchor=a})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(24),n(319)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../navigation/deep-linker"),i=t("./nav-push"),o=function(){function t(t,e){this.host=t,this.linker=e}return t.prototype.updateHref=function(){this._href=this.host&&this.linker?this.linker.createUrl(this.host._nav,this.host.navPush,this.host.navParams)||"#":"#"},t.prototype.ngAfterContentInit=function(){this.updateHref()},t.decorators=[{type:n.Directive,args:[{selector:"a[navPush]",host:{"[attr.href]":"_href"}}]}],t.ctorParameters=function(){return[{type:i.NavPush,decorators:[{type:n.Host}]},{type:r.DeepLinker,decorators:[{type:n.Optional}]}]},t}();e.NavPushAnchor=o})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"note")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-note"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.Note=i})},,,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(180),n(708),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../util/util"),r=t("./popover-component"),i=t("./popover-transitions"),o=function(t){function e(e,o,a,s,u){void 0===a&&(a={}),void 0===s&&(s={});var l=this;return s.showBackdrop=!n.isPresent(s.showBackdrop)||!!s.showBackdrop,s.enableBackdropDismiss=!n.isPresent(s.enableBackdropDismiss)||!!s.enableBackdropDismiss,a.component=o,a.opts=s,l=t.call(this,r.PopoverCmp,a,null)||this,l._app=e,l.isOverlay=!0,u.setTransition("popover-pop-in",i.PopoverPopIn),u.setTransition("popover-pop-out",i.PopoverPopOut),u.setTransition("popover-md-pop-in",i.PopoverMdPopIn),u.setTransition("popover-md-pop-out",i.PopoverMdPopOut),l}return a(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("back"===t?"popoverLeave":"popoverEnter")},e.prototype.present=function(t){return void 0===t&&(t={}),this._app.present(this,t)},e}(t("../../navigation/view-controller").ViewController);e.PopoverImpl=o})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(90)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.mdPositionView=function(t,e){var n="top",r="left",i=t.querySelector(".popover-wrapper"),o=t.querySelector(".popover-content"),a=o.getBoundingClientRect(),s=a.width,u=a.height,l=this.plt.width(),f=this.plt.height(),p=e&&e.target&&e.target.getBoundingClientRect(),d=p&&"top"in p?p.top:f/2-u/2,h=p&&p.height||0,m={top:d,left:p&&"left"in p?p.left:l/2-s/2};m.left<c?m.left=c:s+c+m.left>l&&(m.left=l-s-c,r="right"),d+h+u>f&&d-u>0?(m.top=d-u,t.className=t.className+" popover-bottom",n="bottom"):d+h+u>f&&(o.style.bottom=c+"px"),o.style.top=m.top+"px",o.style.left=m.left+"px",o.style[this.plt.Css.transformOrigin]=n+" "+r,i.style.opacity="1"},e.prototype.iosPositionView=function(t,e){var n="top",r="left",i=t.querySelector(".popover-wrapper"),o=t.querySelector(".popover-content"),a=o.getBoundingClientRect(),s=a.width,u=a.height,c=this.plt.width(),f=this.plt.height(),p=e&&e.target&&e.target.getBoundingClientRect(),d=p&&"top"in p?p.top:f/2-u/2,h=p&&"left"in p?p.left:c/2,m=p&&p.width||0,g=p&&p.height||0,v=t.querySelector(".popover-arrow"),y=v.getBoundingClientRect(),b=y.width,_=y.height;p||(v.style.display="none");var w={top:d+g,left:h+m/2-b/2},x={top:d+g+(_-1),left:h+m/2-s/2},E=!1,C=!1;x.left<l+25?(E=!0,x.left=l):s+l+x.left+25>c&&(C=!0,x.left=c-s-l,r="right"),d+g+u>f&&d-u>0?(w.top=d-(_+1),x.top=d-u-(_-1),t.className=t.className+" popover-bottom",n="bottom"):d+g+u>f&&(o.style.bottom=l+"%"),v.style.top=w.top+"px",v.style.left=w.left+"px",o.style.top=x.top+"px",o.style.left=x.left+"px",E&&(CSS.supports("left","constant(safe-area-inset-left)")?o.style.left="calc("+x.left+"px + constant(safe-area-inset-left)":CSS.supports("left","env(safe-area-inset-left)")&&(o.style.left="calc("+x.left+"px + env(safe-area-inset-left)")),C&&(CSS.supports("right","constant(safe-area-inset-right)")?o.style.left="calc("+x.left+"px - constant(safe-area-inset-right)":CSS.supports("right","env(safe-area-inset-right)")&&(o.style.left="calc("+x.left+"px - env(safe-area-inset-right)")),o.style[this.plt.Css.transformOrigin]=n+" "+r,i.style.opacity="1"},e}(t("../../transitions/page-transition").PageTransition);e.PopoverTransition=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".popover-wrapper"));r.fromTo("opacity",.01,1),e.fromTo("opacity",.01,.08),this.easing("ease").duration(100).add(e).add(r)},e.prototype.play=function(){var e=this;this.plt.raf(function(){e.iosPositionView(e.enteringView.pageRef().nativeElement,e.opts.ev),t.prototype.play.call(e)})},e}(r);e.PopoverPopIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector("ion-backdrop")),r=new n.Animation(this.plt,t.querySelector(".popover-wrapper"));r.fromTo("opacity",.99,0),e.fromTo("opacity",.08,0),this.easing("ease").duration(500).add(e).add(r)},e}(r);e.PopoverPopOut=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector(".popover-content")),r=new n.Animation(this.plt,t.querySelector(".popover-viewport"));e.fromTo("scale",.001,1),r.fromTo("opacity",.01,1),this.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).add(e).add(r)},e.prototype.play=function(){var e=this;this.plt.raf(function(){e.mdPositionView(e.enteringView.pageRef().nativeElement,e.opts.ev),t.prototype.play.call(e)})},e}(r);e.PopoverMdPopIn=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement,e=new n.Animation(this.plt,t.querySelector(".popover-wrapper"));e.fromTo("opacity",.99,0),this.easing("ease").duration(500).fromTo("opacity",.01,1).add(e)},e}(r);e.PopoverMdPopOut=u;var l=2,c=12})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(4),n(3),n(12),n(22),n(58),n(49),n(25),n(5),n(19),n(45)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../../util/util"),o=t("../../config/config"),s=t("../../platform/dom-controller"),u=t("../../util/form"),l=t("../../tap-click/haptic"),c=t("../../util/base-input"),f=t("../item/item"),p=t("../../platform/platform"),d=t("../../util/dom"),h=t("../../gestures/ui-event-manager"),m=function(t){function e(e,n,r,i,o,a,s,u,l){var c=t.call(this,i,a,s,"range",0,e,r,null)||this;return c._haptic=n,c._plt=o,c._dom=u,c._cd=l,c._min=0,c._max=100,c._step=1,c._valA=0,c._valB=0,c._ratioA=0,c._ratioB=0,c._events=new h.UIEventManager(o),c}return a(e,t),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){t=Math.round(t),isNaN(t)||(this._min=t,this._inputUpdated())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){t=Math.round(t),isNaN(t)||(this._max=t,this._inputUpdated())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){t=Math.round(t),!isNaN(t)&&t>0&&(this._step=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snaps",{get:function(){return this._snaps},set:function(t){this._snaps=i.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pin",{get:function(){return this._pin},set:function(t){this._pin=i.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debounce",{get:function(){return this._debouncer.wait},set:function(t){this._debouncer.wait=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dualKnobs",{get:function(){return this._dual},set:function(t){this._dual=i.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._dual?Math.min(this._ratioA,this._ratioB):this._ratioA},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratioUpper",{get:function(){return this._dual?Math.max(this._ratioA,this._ratioB):null},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._initialize(),this._events.pointerEvents({element:this._slider.nativeElement,pointerDown:this._pointerDown.bind(this),pointerMove:this._pointerMove.bind(this),pointerUp:this._pointerUp.bind(this),zone:!0}),this._createTicks()},e.prototype._pointerDown=function(t){if(this._disabled)return!1;this._fireFocus(),t.preventDefault(),t.stopPropagation();var e=d.pointerCoord(t),n=this._rect=this._plt.getElementBoundingClientRect(this._slider.nativeElement),r=i.clamp(0,(e.x-n.left)/n.width,1);return this._activeB=this._dual&&Math.abs(r-this._ratioA)>Math.abs(r-this._ratioB),this._update(e,n,!0),this._haptic.gestureSelectionStart(),!0},e.prototype._pointerMove=function(t){if(!this._disabled){t.preventDefault(),t.stopPropagation();this._update(d.pointerCoord(t),this._rect,!0)&&this._snaps&&this._haptic.gestureSelectionChanged()}},e.prototype._pointerUp=function(t){this._disabled||(t.preventDefault(),t.stopPropagation(),this._update(d.pointerCoord(t),this._rect,!1),this._haptic.gestureSelectionEnd(),this._fireBlur())},e.prototype._update=function(t,e,n){var r=i.clamp(0,(t.x-e.left)/e.width,1),o=this._ratioToValue(r);this._snaps&&(r=this._valueToRatio(o)),this._pressed=n;var a=!1;if(this._activeB?(this._pressedB=n,this._pressedA=!1,this._ratioB=r,a=o===this._valB,this._valB=o):(this._pressedA=n,this._pressedB=!1,this._ratioA=r,a=o===this._valA,this._valA=o),this._updateBar(),a)return!1;var s;return s=this._dual?{lower:Math.min(this._valA,this._valB),upper:Math.max(this._valA,this._valB)}:this._valA,this.value=s,!0},e.prototype._updateBar=function(){var t=this._ratioA,e=this._ratioB;this._dual?(this._barL=100*Math.min(t,e)+"%",this._barR=100-100*Math.max(t,e)+"%"):(this._barL="",this._barR=100-100*t+"%"),this._updateTicks()},e.prototype._createTicks=function(){var t=this;this._snaps&&this._dom.write(function(){t._ticks=[];for(var e=t._min;e<=t._max;e+=t._step){var n=t._valueToRatio(e);t._ticks.push({ratio:n,left:100*n+"%"})}t._updateTicks()})},e.prototype._updateTicks=function(){var t=this._ticks,e=this.ratio;if(this._snaps&&t)if(this._dual){var n=this.ratioUpper;t.forEach(function(t){t.active=t.ratio>=e&&t.ratio<=n})}else t.forEach(function(t){t.active=t.ratio<=e})},e.prototype._keyChg=function(t,e){var n=this._step;e?(t?this._valB+=n:this._valB-=n,this._valB=i.clamp(this._min,this._valB,this._max),this._ratioB=this._valueToRatio(this._valB)):(t?this._valA+=n:this._valA-=n,this._valA=i.clamp(this._min,this._valA,this._max),this._ratioA=this._valueToRatio(this._valA)),this._updateBar()},e.prototype._ratioToValue=function(t){return t=Math.round((this._max-this._min)*t),t=Math.round(t/this._step)*this._step+this._min,i.clamp(this._min,t,this._max)},e.prototype._valueToRatio=function(t){return t=Math.round((t-this._min)/this._step)*this._step,t/=this._max-this._min,i.clamp(0,t,1)},e.prototype._inputNormalize=function(t){return this._dual?t:(t=parseFloat(t),isNaN(t)?void 0:t)},e.prototype._inputUpdated=function(){var t=this.value;this._dual?(this._valA=t.lower,this._valB=t.upper,this._ratioA=this._valueToRatio(t.lower),this._ratioB=this._valueToRatio(t.upper)):(this._valA=t,this._ratioA=this._valueToRatio(t)),this._updateBar(),this._cd.detectChanges()},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._events.destroy()},e.decorators=[{type:n.Component,args:[{selector:"ion-range",template:'<ng-content select="[range-left]"></ng-content><div class="range-slider" #slider><div class="range-tick" *ngFor="let t of _ticks" [style.left]="t.left" [class.range-tick-active]="t.active" role="presentation"></div><div class="range-bar" role="presentation"></div><div class="range-bar range-bar-active" [style.left]="_barL" [style.right]="_barR" #bar role="presentation"></div><div class="range-knob-handle" (ionIncrease)="_keyChg(true, false)" (ionDecrease)="_keyChg(false, false)" [ratio]="_ratioA" [val]="_valA" [pin]="_pin" [pressed]="_pressedA" [min]="_min" [max]="_max" [disabled]="_disabled" [labelId]="_labelId"></div><div class="range-knob-handle" (ionIncrease)="_keyChg(true, true)" (ionDecrease)="_keyChg(false, true)" [ratio]="_ratioB" [val]="_valB" [pin]="_pin" [pressed]="_pressedB" [min]="_min" [max]="_max" [disabled]="_disabled" [labelId]="_labelId" *ngIf="_dual"></div></div><ng-content select="[range-right]"></ng-content>',host:{"[class.range-disabled]":"_disabled","[class.range-pressed]":"_pressed","[class.range-has-pin]":"_pin"},providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:u.Form},{type:l.Haptic},{type:f.Item,decorators:[{type:n.Optional}]},{type:o.Config},{type:p.Platform},{type:n.ElementRef},{type:n.Renderer},{type:s.DomController},{type:n.ChangeDetectorRef}]},e.propDecorators={_slider:[{type:n.ViewChild,args:["slider"]}],min:[{type:n.Input}],max:[{type:n.Input}],step:[{type:n.Input}],snaps:[{type:n.Input}],pin:[{type:n.Input}],debounce:[{type:n.Input}],dualKnobs:[{type:n.Input}]},e}(c.BaseInput);e.Range=m})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(42)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../platform/key"),i=function(){function t(){this.ionIncrease=new n.EventEmitter,this.ionDecrease=new n.EventEmitter}return Object.defineProperty(t.prototype,"ratio",{set:function(t){this._x=100*t+"%"},enumerable:!0,configurable:!0}),t.prototype._keyup=function(t){var e=t.keyCode;e===r.KEY_LEFT||e===r.KEY_DOWN?(this.ionDecrease.emit(),t.preventDefault(),t.stopPropagation()):e!==r.KEY_RIGHT&&e!==r.KEY_UP||(this.ionIncrease.emit(),t.preventDefault(),t.stopPropagation())},t.decorators=[{type:n.Component,args:[{selector:".range-knob-handle",template:'<div class="range-pin" *ngIf="pin" role="presentation">{{val}}</div><div class="range-knob" role="presentation"></div>',host:{"[class.range-knob-pressed]":"pressed","[class.range-knob-min]":"val===min||val===undefined","[class.range-knob-max]":"val===max","[style.left]":"_x","[attr.aria-valuenow]":"val","[attr.aria-valuemin]":"min","[attr.aria-valuemax]":"max","[attr.aria-disabled]":"disabled","[attr.aria-labelledby]":"labelId","[tabindex]":"disabled?-1:0",role:"slider"}}]}],t.ctorParameters=function(){return[]},t.propDecorators={ratio:[{type:n.Input}],pressed:[{type:n.Input}],pin:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],val:[{type:n.Input}],disabled:[{type:n.Input}],labelId:[{type:n.Input}],ionIncrease:[{type:n.Output}],ionDecrease:[{type:n.Output}],_keyup:[{type:n.HostListener,args:["keydown",["$event"]]}]},t}();e.RangeKnob=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(324)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("./refresher"),o=function(){function t(t,e){this.r=t,this._config=e}return t.prototype.ngOnInit=function(){this.pullingIcon||(this.pullingIcon=this._config.get("ionPullIcon","arrow-down")),this.refreshingSpinner||(this.refreshingSpinner=this._config.get("ionRefreshingSpinner",this._config.get("spinner","ios")))},t.decorators=[{type:n.Component,args:[{selector:"ion-refresher-content",template:'<div class="refresher-pulling"><div class="refresher-pulling-icon" *ngIf="pullingIcon"><ion-icon [name]="pullingIcon"></ion-icon></div><div class="refresher-pulling-text" [innerHTML]="pullingText" *ngIf="pullingText"></div></div><div class="refresher-refreshing"><div class="refresher-refreshing-icon"><ion-spinner [name]="refreshingSpinner"></ion-spinner></div><div class="refresher-refreshing-text" [innerHTML]="refreshingText" *ngIf="refreshingText"></div></div>',host:{"[attr.state]":"r.state"},encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:i.Refresher},{type:r.Config}]},t.propDecorators={pullingIcon:[{type:n.Input}],pullingText:[{type:n.Input}],refreshingSpinner:[{type:n.Input}],refreshingText:[{type:n.Input}]},t}();e.RefresherContent=o})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(4)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../util/util"),i=function(){function t(){this._scrollX=!1,this._scrollY=!1,this._zoom=!1,this._maxZoom=1,this.maxScale=3,this.zoomDuration=250}return Object.defineProperty(t.prototype,"scrollX",{get:function(){return this._scrollX},set:function(t){this._scrollX=r.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollY",{get:function(){return this._scrollY},set:function(t){this._scrollY=r.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(t){this._zoom=r.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoom",{get:function(){return this._maxZoom},set:function(t){this._maxZoom=t},enumerable:!0,configurable:!0}),t.prototype.addScrollEventListener=function(t){var e=this._scrollContent.nativeElement;return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}},t.decorators=[{type:n.Component,args:[{selector:"ion-scroll",template:'<div class="scroll-content" #scrollContent><div class="scroll-zoom-wrapper"><ng-content></ng-content></div></div>',host:{"[class.scroll-x]":"scrollX","[class.scroll-y]":"scrollY"},changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[]},t.propDecorators={scrollX:[{type:n.Input}],scrollY:[{type:n.Input}],zoom:[{type:n.Input}],maxZoom:[{type:n.Input}],_scrollContent:[{type:n.ViewChild,args:["scrollContent",{read:n.ElementRef}]}]},t}();e.Scroll=i})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(3),n(49),n(4),n(298),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../../config/config"),o=t("../../util/base-input"),s=t("../../util/util"),u=t("../../util/debouncer"),l=t("../../platform/platform"),c=function(t){function e(e,r,i,o,a){var s=t.call(this,e,i,o,"searchbar","",null,null,a)||this;return s._plt=r,s._shouldBlur=!0,s._shouldAlignLeft=!0,s._isCancelVisible=!1,s._spellcheck=!1,s._autocomplete="off",s._autocorrect="off",s._isActive=!1,s._showCancelButton=!1,s._animated=!1,s._inputDebouncer=new u.TimeoutDebouncer(0),s.cancelButtonText="Cancel",s.placeholder="Search",s.type="search",s.ionInput=new n.EventEmitter,s.ionCancel=new n.EventEmitter,s.ionClear=new n.EventEmitter,s.debounce=250,s}return a(e,t),Object.defineProperty(e.prototype,"showCancelButton",{get:function(){return this._showCancelButton},set:function(t){this._showCancelButton=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debounce",{get:function(){return this._debouncer.wait},set:function(t){this._debouncer.wait=t,this._inputDebouncer.wait=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autocomplete",{set:function(t){this._autocomplete=""===t||"on"===t?"on":this._config.get("autocomplete","off")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autocorrect",{set:function(t){this._autocorrect=""===t||"on"===t?"on":this._config.get("autocorrect","off")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spellcheck",{set:function(t){this._spellcheck=""===t||"true"===t||!0===t||this._config.getBoolean("spellcheck",!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animated",{get:function(){return this._animated},set:function(t){this._animated=s.isTrueProperty(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this.showCancelButton;"string"==typeof t&&(this.showCancelButton=""===t||"true"===t)},e.prototype._inputUpdated=function(){var t=this._searchbarInput.nativeElement,e=this._value;t.value!==e&&(t.value=e),this.positionElements()},e.prototype.positionElements=function(){var t=this._animated,e=this._shouldAlignLeft,n=!t||this._value&&""!==this._value.toString().trim()||!0===this._isFocus;this._shouldAlignLeft=n,"ios"===this._mode&&(e!==n&&this.positionPlaceholder(),t&&this.positionCancelButton())},e.prototype.positionPlaceholder=function(){var t=this._searchbarInput.nativeElement,e=this._searchbarIcon.nativeElement;if(this._shouldAlignLeft)t.removeAttribute("style"),e.removeAttribute("style");else{var n=this._plt.doc(),r=n.createElement("span");r.innerHTML=this.placeholder,n.body.appendChild(r);var i=r.offsetWidth;n.body.removeChild(r);var o="calc(50% - "+i/2+"px)";this._plt.isRTL?t.style.paddingRight=o:t.style.paddingLeft=o;var a="calc(50% - "+(i/2+30)+"px)";this._plt.isRTL?e.style.marginRight=a:e.style.marginLeft=a}},e.prototype.positionCancelButton=function(){var t=this._isFocus;if(t!==this._isCancelVisible){var e=this._cancelButton.nativeElement,n=e.style;if(this._isCancelVisible=t,t)this._plt.isRTL?n.marginLeft="0":n.marginRight="0";else{var r=e.offsetWidth;r>0&&(this._plt.isRTL?n.marginLeft=-r+"px":n.marginRight=-r+"px")}}},e.prototype.inputChanged=function(t){var e=this;this.value=t.target.value,this._inputDebouncer.debounce(function(){e.ionInput.emit(t)})},e.prototype.inputFocused=function(){this._isActive=!0,this._fireFocus(),this.positionElements()},e.prototype.inputBlurred=function(){if(!1===this._shouldBlur)return this._searchbarInput.nativeElement.focus(),void(this._shouldBlur=!0);this._fireBlur(),this.positionElements()},e.prototype.clearInput=function(t){var e=this;this.ionClear.emit(t),setTimeout(function(){var n=e._value;s.isPresent(n)&&""!==n&&(e.value="",e.ionInput.emit(t))},64),this._shouldBlur=!1},e.prototype.cancelSearchbar=function(t){this.ionCancel.emit(t),this.clearInput(t),this._shouldBlur=!0,this._isActive=!1},e.prototype.setFocus=function(){this._renderer.invokeElementMethod(this._searchbarInput.nativeElement,"focus")},e.decorators=[{type:n.Component,args:[{selector:"ion-searchbar",template:'<div class="searchbar-input-container"><button ion-button mode="md" (click)="cancelSearchbar($event)" (mousedown)="cancelSearchbar($event)" clear color="dark" class="searchbar-md-cancel" type="button"><ion-icon name="md-arrow-back"></ion-icon></button><div #searchbarIcon class="searchbar-search-icon"></div><input #searchbarInput class="searchbar-input" (input)="inputChanged($event)" (blur)="inputBlurred()" (focus)="inputFocused()" dir="auto" [attr.placeholder]="placeholder" [attr.type]="type" [attr.autocomplete]="_autocomplete" [attr.autocorrect]="_autocorrect" [attr.spellcheck]="_spellcheck"><button ion-button clear class="searchbar-clear-icon" [mode]="_mode" (click)="clearInput($event)" (mousedown)="clearInput($event)" type="button"></button></div><button ion-button #cancelButton mode="ios" [tabindex]="_isActive ? 1 : -1" clear (click)="cancelSearchbar($event)" (mousedown)="cancelSearchbar($event)" class="searchbar-ios-cancel" type="button">{{cancelButtonText}}</button>',host:{"[class.searchbar-animated]":"_animated","[class.searchbar-has-value]":"_value","[class.searchbar-active]":"_isActive","[class.searchbar-show-cancel]":"_showCancelButton","[class.searchbar-left-aligned]":"_shouldAlignLeft","[class.searchbar-has-focus]":"_isFocus"},encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:i.Config},{type:l.Platform},{type:n.ElementRef},{type:n.Renderer},{type:r.NgControl,decorators:[{type:n.Optional}]}]},e.propDecorators={cancelButtonText:[{type:n.Input}],showCancelButton:[{type:n.Input}],debounce:[{type:n.Input}],placeholder:[{type:n.Input}],autocomplete:[{type:n.Input}],autocorrect:[{type:n.Input}],spellcheck:[{type:n.Input}],type:[{type:n.Input}],animated:[{type:n.Input}],ionInput:[{type:n.Output}],ionCancel:[{type:n.Output}],ionClear:[{type:n.Output}],_searchbarInput:[{type:n.ViewChild,args:["searchbarInput"]}],_searchbarIcon:[{type:n.ViewChild,args:["searchbarIcon"]}],_cancelButton:[{type:n.ViewChild,args:["cancelButton",{read:n.ElementRef}]}]},e}(o.BaseInput);e.Searchbar=c})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(3),n(49),n(327)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../../config/config"),o=t("../../util/base-input"),s=t("./segment-button"),u=function(t){function e(e,n,r,i){return t.call(this,e,n,r,"segment",null,null,null,i)||this}return a(e,t),e.prototype.ngAfterContentInit=function(){var t=this;this._initialize(),this._buttons.forEach(function(e){e.ionSelect.subscribe(function(e){t.value=e.value,t._fireTouched()})})},e.prototype._inputUpdated=function(){if(this._buttons)for(var t=this._buttons.toArray(),e=this.value,n=0,r=t;n<r.length;n++){var i=r[n];i.isActive=i.value===e}},e.decorators=[{type:n.Directive,args:[{selector:"ion-segment",host:{"[class.segment-disabled]":"_disabled"}}]}],e.ctorParameters=function(){return[{type:i.Config},{type:n.ElementRef},{type:n.Renderer},{type:r.NgControl,decorators:[{type:n.Optional}]}]},e.propDecorators={_buttons:[{type:n.ContentChildren,args:[s.SegmentButton]}]},e}(o.BaseInput);e.Segment=u})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(301),n(303),n(322),n(11),n(3),n(24),n(22),n(49),n(4),n(25),n(320),n(184)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../action-sheet/action-sheet"),o=t("../alert/alert"),s=t("../popover/popover"),u=t("../app/app"),l=t("../../config/config"),c=t("../../navigation/deep-linker"),f=t("../../util/form"),p=t("../../util/base-input"),d=t("../../util/util"),h=t("../item/item"),m=t("../option/option"),g=t("./select-popover-component"),v=function(t){function e(e,r,i,o,a,s,u){var l=t.call(this,i,o,a,"select",[],r,s,null)||this;return l._app=e,l.config=i,l.deepLinker=u,l._multi=!1,l._texts=[],l._text="",l._compareWith=d.isCheckedProperty,l.cancelText="Cancel",l.okText="OK",l.selectOptions={},l.interface="",l.selectedText="",l.ionCancel=new n.EventEmitter,l}return a(e,t),Object.defineProperty(e.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),e.prototype._click=function(t){t.preventDefault(),t.stopPropagation(),this.open(t)},e.prototype._keyup=function(){this.open()},e.prototype.getValues=function(){return Array.isArray(this._value)?this._value:[this._value]},e.prototype.open=function(t){var e=this;if(!this.isFocus()&&!this._disabled){var n=d.deepCopy(this.selectOptions);n.buttons=[{text:this.cancelText,role:"cancel",handler:function(){e.ionCancel.emit(e)}}],!n.title&&this._item&&(n.title=this._item.getLabelText());var r=this._options.toArray();"action-sheet"!==this.interface&&"popover"!==this.interface||!this._multi||(console.warn('Interface cannot be "'+this.interface+'" with a multi-value select. Using the "alert" interface.'),this.interface="alert"),"popover"!==this.interface||t||(console.warn('Interface cannot be "popover" without UIEvent.'),this.interface="alert");var a;if("action-sheet"===this.interface){n.buttons=n.buttons.concat(r.map(function(t){return{role:t.selected?"selected":"",text:t.text,handler:function(){e.value=t.value,t.ionSelect.emit(t.value)}}}));var u="select-action-sheet";n.cssClass=u+=n.cssClass?" "+n.cssClass:"",a=new i.ActionSheet(this._app,n,this.config)}else if("popover"===this.interface){var l=r.map(function(t){return{text:t.text,checked:t.selected,disabled:t.disabled,value:t.value,handler:function(){e.value=t.value,t.ionSelect.emit(t.value)}}}),c="select-popover";a=new s.Popover(this._app,g.SelectPopover,{options:l},{cssClass:c+=n.cssClass?" "+n.cssClass:""},this.config,this.deepLinker),Object.defineProperty(t,"target",{value:t.currentTarget}),n.ev=t}else{this.interface="alert",n.inputs=this._options.map(function(t){return{type:e._multi?"checkbox":"radio",label:t.text,value:t.value,checked:t.selected,disabled:t.disabled,handler:function(e){e.checked&&t.ionSelect.emit(t.value)}}});var f="select-alert";a=new o.Alert(this._app,n,this.config),f+=this._multi?" multiple-select-alert":" single-select-alert",a.setCssClass(f+=n.cssClass?" "+n.cssClass:""),a.addButton({text:this.okText,handler:function(t){return e.value=t}})}a.present(n),this._fireFocus(),a.onDidDismiss(function(){e._fireBlur(),e._overlay=void 0}),this._overlay=a}},e.prototype.close=function(){if(this._overlay&&this.isFocus())return this._overlay.dismiss()},Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multi},set:function(t){this._multi=d.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._multi?this._texts:this._texts.join()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{set:function(t){this._options=t;0===this.getValues().length?this.writeValue(t.filter(function(t){return t.selected}).map(function(t){return t.value})):this._updateText()},enumerable:!0,configurable:!0}),e.prototype._inputShouldChange=function(t){return!d.deepEqual(this._value,t)},e.prototype._inputChangeEvent=function(){return this.value},e.prototype._updateText=function(){var t=this;this._texts.length=0,this._options&&this._options.forEach(function(e){e.selected=t.getValues().some(function(n){return t._compareWith(n,e.value)}),e.selected&&t._texts.push(e.text)}),this._text=this._texts.join(", ")},e.prototype._inputUpdated=function(){this._updateText(),t.prototype._inputUpdated.call(this)},e.decorators=[{type:n.Component,args:[{selector:"ion-select",template:'<div *ngIf="!_text" class="select-placeholder select-text">{{placeholder}}</div><div *ngIf="_text" class="select-text">{{selectedText || _text}}</div><div class="select-icon"><div class="select-icon-inner"></div></div><button aria-haspopup="true" type="button" [id]="id" ion-button="item-cover" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover"></button>',host:{"[class.select-disabled]":"_disabled"},providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:u.App},{type:f.Form},{type:l.Config},{type:n.ElementRef},{type:n.Renderer},{type:h.Item,decorators:[{type:n.Optional}]},{type:c.DeepLinker}]},e.propDecorators={cancelText:[{type:n.Input}],okText:[{type:n.Input}],placeholder:[{type:n.Input}],selectOptions:[{type:n.Input}],interface:[{type:n.Input}],selectedText:[{type:n.Input}],compareWith:[{type:n.Input}],ionCancel:[{type:n.Output}],_click:[{type:n.HostListener,args:["click",["$event"]]}],_keyup:[{type:n.HostListener,args:["keyup.space"]}],multiple:[{type:n.Input}],options:[{type:n.ContentChildren,args:[m.Option]}]},e}(p.BaseInput);e.Select=v})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(328),n(5)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./display-when"),i=t("../../platform/platform"),o=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"[showWhen]",host:{"[class.hidden-show-when]":"!isMatch"}}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Attribute,args:["showWhen"]}]},{type:i.Platform},{type:n.NgZone}]},e}(r.DisplayWhen);e.ShowWhen=o})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(5),n(328)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../platform/platform"),i=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"[hideWhen]",host:{"[class.hidden-hide-when]":"isMatch"}}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Attribute,args:["hideWhen"]}]},{type:r.Platform},{type:n.NgZone}]},e}(t("./display-when").DisplayWhen);e.HideWhen=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(330)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./slides"),i=function(){function t(t,e,n){this._slides=n,e.setElementClass(t.nativeElement,"swiper-slide",!0),n.update(10)}return t.prototype.ngOnDestroy=function(){this._slides.update(10)},t.decorators=[{type:n.Component,args:[{selector:"ion-slide",template:'<div class="slide-zoom"><ng-content></ng-content></div>',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer},{type:r.Slides}]},t}();e.Slide=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32),n(129)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./swiper-utils"),r=t("./swiper");e.enableKeyboardControl=function(t,e,i){i&&!t._keyboardUnReg?t._keyboardUnReg=e.registerListener(e.doc(),"keydown",function(i){!function(t,e,i){var o=e.win(),a=i.keyCode||i.charCode;if(!t._allowSwipeToNext&&(n.isHorizontal(t)&&39===a||!n.isHorizontal(t)&&40===a))return!1;if(!t._allowSwipeToPrev&&(n.isHorizontal(t)&&37===a||!n.isHorizontal(t)&&38===a))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey)){var s=e.getActiveElement();if(!s||!s.nodeName||"input"!==s.nodeName.toLowerCase()&&"textarea"!==s.nodeName.toLowerCase()){if(37===a||39===a||38===a||40===a){var u=!1;if(t.container.closest("."+n.CLS.slide)&&!t.container.closest("."+n.CLS.slideActive))return;var l={left:o.pageXOffset,top:o.pageYOffset},c=e.width(),f=e.height(),p=n.offset(t.container,e);t._rtl&&(p.left=p.left-t.container.scrollLeft);for(var d=[[p.left,p.top],[p.left+t.renderedWidth,p.top],[p.left,p.top+t.renderedHeight],[p.left+t.renderedWidth,p.top+t.renderedHeight]],h=0;h<d.length;h++){var m=d[h];m[0]>=l.left&&m[0]<=l.left+c&&m[1]>=l.top&&m[1]<=l.top+f&&(u=!0)}if(!u)return}n.isHorizontal(t)?(37!==a&&39!==a||(i.preventDefault?i.preventDefault():i.returnValue=!1),(39===a&&!t._rtl||37===a&&t._rtl)&&r.slideNext(t,e),(37===a&&!t._rtl||39===a&&t._rtl)&&r.slidePrev(t,e)):(38!==a&&40!==a||(i.preventDefault?i.preventDefault():i.returnValue=!1),40===a&&r.slideNext(t,e),38===a&&r.slidePrev(t,e))}}}(t,e,i)},{zone:!1}):!i&&t._keyboardUnReg&&t._keyboardUnReg()}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t){t.setAttribute("tabIndex","0")}function r(t,e){t.setAttribute("role",e)}function i(t,e){t.setAttribute("aria-label",e)}Object.defineProperty(e,"__esModule",{value:!0});var o=t("./swiper-utils");e.initA11y=function(t,e){var a=[];return t._liveRegion=e.doc().createElement("span"),t._liveRegion.className=o.CLS.notification,t._liveRegion.setAttribute("aria-live","assertive"),t._liveRegion.setAttribute("aria-atomic","true"),t.container.appendChild(t._liveRegion),t.nextButton&&(n(t.nextButton),r(t.nextButton,"button"),i(t.nextButton,t.nextSlideMessage),e.registerListener(t.nextButton,"keydown",function(t){},{zone:!1},a)),t.prevButton&&(n(t.prevButton),r(t.prevButton,"button"),i(t.prevButton,t.prevSlideMessage),e.registerListener(t.prevButton,"keydown",function(t){},{zone:!1},a)),function(){a.forEach(function(t){t()}),a=null,t._liveRegion&&t._liveRegion.parentElement.removeChild(t._liveRegion)}},e.makeFocusable=n,e.addRole=r,e.addLabel=i,e.ariaDisable=function(t,e){e?t.setAttribute("aria-disabled","true"):t.hasAttribute("aria-disabled")&&t.removeAttribute("aria-disabled")},e.ariaHidden=function(t,e){e?t.setAttribute("aria-hidden","true"):t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden")}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(129),n(131),n(32),n(130)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./swiper"),r=t("./swiper-index"),i=t("./swiper-utils"),o=t("./swiper-progress");e.SWIPER_CONTROLLER={LinearSpline:function(t,e,n,r){this.x=n,this.y=r,this.lastIndex=n.length-1;var i,o;this.interpolate=function(t){return t?(o=a(this.x,t),i=o-1,(t-this.x[i])*(this.y[o]-this.y[i])/(this.x[o]-this.x[i])+this.y[i]):0};var a=function(){var t,e,n;return function(r,i){for(e=-1,t=r.length;t-e>1;)r[n=t+e>>1]<=i?e=n:t=n;return t}}()},getInterpolateFunction:function(t,n,r){t._spline||(t._spline=t.loop?new e.SWIPER_CONTROLLER.LinearSpline(t,n,t._slidesGrid,r._slidesGrid):new e.SWIPER_CONTROLLER.LinearSpline(t,n,t._snapGrid,r._snapGrid))},setTranslate:function(t,n,a,s,u){function l(s){a=s._rtl&&i.isHorizontal(s)?-t._translate:t._translate,"slide"===t.controlBy&&(e.SWIPER_CONTROLLER.getInterpolateFunction(t,n,s),f=-t._spline.interpolate(-a)),f&&"container"!==t.controlBy||(c=(i.maxTranslate(s)-i.minTranslate(s))/(i.maxTranslate(t)-i.minTranslate(t)),f=(a-i.minTranslate(t))*c+i.minTranslate(s)),t.controlInverse&&(f=i.maxTranslate(s)-f),o.updateProgress(s,f),u(s,n,f,!1,t),r.updateActiveIndex(s)}var c,f,p=t.control;if(Array.isArray(p))for(var d=0;d<p.length;d++)p[d]!==s&&l(p[d]);else s!==p&&l(p)},setTransition:function(t,e,r,i,o){function a(i){o(i,e,r,t),0!==r&&(n.onTransitionStart(i),e.transitionEnd(i._wrapper,function(){u&&(i.loop&&"slide"===t.controlBy&&n.fixLoop(i,e),n.onTransitionEnd(i,e))}))}var s,u=t.control;if(Array.isArray(u))for(s=0;s<u.length;s++)u[s]!==i&&a(u[s]);else i!==u&&a(u)}}})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(32),n(193),n(129),n(130),n(131),n(195),n(194)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e){var n=t.target;if(!n.matches(e))if("string"==typeof e)n=n.closest(e);else if(e.nodeType){for(var r=n.parentElement;r;)if(r===e)return e;return}return n}function r(t,e,r){if(r.originalEvent&&(r=r.originalEvent),t.originalEvent=r,(E="touchstart"===r.type)||!("which"in r)||3!==r.which)if(t.noSwiping&&n(r,"."+a.CLS.noSwiping))t._allowClick=!0;else if(!t.swipeHandler||n(r,t.swipeHandler)){var i=t._touches.currentX="touchstart"===r.type?r.targetTouches[0].pageX:r.pageX,o=t._touches.currentY="touchstart"===r.type?r.targetTouches[0].pageY:r.pageY;if(!(e.is("ios")&&t.iOSEdgeSwipeDetection&&i<=t.iOSEdgeSwipeThreshold)){if(d=!0,h=!1,m=!0,v=void 0,void 0,t._touches.startX=i,t._touches.startY=o,g=Date.now(),t._allowClick=!0,u.updateContainerSize(t,e),t.swipeDirection=void 0,t.threshold>0&&(_=!1),"touchstart"!==r.type){var s=!0;a.isFormElement(r.target)&&(s=!1),e.focusOutActiveElement(),s&&r.preventDefault()}t.ionSlideTouchStart.emit(r)}}}function i(t,e,n){if(n.originalEvent&&(n=n.originalEvent),t.originalEvent=n,!E||"mousemove"!==n.type){if(n.preventedByNestedSwiper)return t._touches.startX="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,void(t._touches.startY="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY);if(t.onlyExternal)return t._allowClick=!1,void(d&&(t._touches.startX=t._touches.currentX="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,t._touches.startY=t._touches.currentY="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY,g=Date.now()));if(E&&t.touchReleaseOnEdges&&!t.loop)if(a.isHorizontal(t)){if(t._touches.currentX<t._touches.startX&&t._translate<=a.maxTranslate(t)||t._touches.currentX>t._touches.startX&&t._translate>=a.minTranslate(t))return}else if(t._touches.currentY<t._touches.startY&&t._translate<=a.maxTranslate(t)||t._touches.currentY>t._touches.startY&&t._translate>=a.minTranslate(t))return;var r=e.getActiveElement();if(E&&r&&n.target===r&&a.isFormElement(n.target))return h=!0,void(t._allowClick=!1);if(!(n.targetTouches&&n.targetTouches.length>1)){if(t._touches.currentX="touchmove"===n.type?n.targetTouches[0].pageX:n.pageX,t._touches.currentY="touchmove"===n.type?n.targetTouches[0].pageY:n.pageY,void 0===v){var i;a.isHorizontal(t)&&t._touches.currentY===t._touches.startY||!a.isHorizontal(t)&&t._touches.currentX===t._touches.startX?v=!1:(i=180*Math.atan2(Math.abs(t._touches.currentY-t._touches.startY),Math.abs(t._touches.currentX-t._touches.startX))/Math.PI,v=a.isHorizontal(t)?i>t.touchAngle:90-i>t.touchAngle)}if(d)if(v)d=!1;else{t._allowClick=!1,t.ionSlideDrag.emit(t),n.preventDefault(),t.touchMoveStopPropagation&&n.stopPropagation(),h||(t.loop&&u.fixLoop(t,e),b=s.getWrapperTranslate(t,e),s.setWrapperTransition(t,e,0),t._animating&&a.triggerTransitionEnd(e,t._wrapper),t.autoplay&&t._autoplaying&&(t.autoplayDisableOnInteraction?u.stopAutoplay(t):u.pauseAutoplay(t,e)),x=!1),h=!0;var o=t._touches.diff=a.isHorizontal(t)?t._touches.currentX-t._touches.startX:t._touches.currentY-t._touches.startY;o*=t.touchRatio,t._rtl&&(o=-o),t.swipeDirection=o>0?"prev":"next",y=o+b;var f=!0;if(o>0&&y>a.minTranslate(t)?(f=!1,t.resistance&&(y=a.minTranslate(t)-1+Math.pow(-a.minTranslate(t)+b+o,t.resistanceRatio))):o<0&&y<a.maxTranslate(t)&&(f=!1,t.resistance&&(y=a.maxTranslate(t)+1-Math.pow(a.maxTranslate(t)-b-o,t.resistanceRatio))),f&&(n.preventedByNestedSwiper=!0),!t._allowSwipeToNext&&"next"===t.swipeDirection&&y<b&&(y=b),!t._allowSwipeToPrev&&"prev"===t.swipeDirection&&y>b&&(y=b),t.threshold>0){if(!(Math.abs(o)>t.threshold||_))return void(y=b);if(!_)return _=!0,t._touches.startX=t._touches.currentX,t._touches.startY=t._touches.currentY,y=b,void(t._touches.diff=a.isHorizontal(t)?t._touches.currentX-t._touches.startX:t._touches.currentY-t._touches.startY)}t.followFinger&&((t.freeMode||t.watchSlidesProgress)&&c.updateActiveIndex(t),t.freeMode&&(0===O.length&&O.push({position:t._touches[a.isHorizontal(t)?"startX":"startY"],time:g}),O.push({position:t._touches[a.isHorizontal(t)?"currentX":"currentY"],time:(new Date).getTime()})),l.updateProgress(t,y),s.setWrapperTranslate(t,e,y))}}}}function o(t,e,r){if(r.originalEvent&&(r=r.originalEvent),t.originalEvent=r,m&&t.ionSlideTouchEnd.emit(r),m=!1,d){var i=Date.now(),o=i-g;if(t._allowClick&&(!function(t,e,r){var i=n(r,"."+a.CLS.slide),o=-1;if(i)for(var s=0;s<t._slides.length;s++)if(t._slides[s]===i){o=s;break}if(!(i&&o>-1))return t.clickedSlide=void 0,void(t.clickedIndex=void 0);if(t.clickedSlide=i,t.clickedIndex=o,t.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t._activeIndex){var l,c=t.clickedIndex,f="auto"===t.slidesPerView?u.currentSlidesPerView(t):t.slidesPerView;if(t.loop){if(t._animating)return;l=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?c<t.loopedSlides-f/2||c>t._slides.length-t.loopedSlides+f/2?(u.fixLoop(t,e),c=a.getElementIndex(t._wrapper.querySelector("."+a.CLS.slide+'[data-swiper-slide-index="'+l+'"]:not(.'+a.CLS.slideDuplicate+")")),e.timeout(function(){u.slideTo(t,e,c)})):u.slideTo(t,e,c):c>t._slides.length-f?(u.fixLoop(t,e),c=a.getElementIndex(t._wrapper.querySelector("."+a.CLS.slide+'[data-swiper-slide-index="'+l+'"]:not(.'+a.CLS.slideDuplicate+")")),e.timeout(function(){u.slideTo(t,e,c)})):u.slideTo(t,e,c)}else u.slideTo(t,e,c)}}(t,e,r),t._zone.run(function(){t.ionSlideTap.emit(t),o<300&&i-S>300&&(w&&e.cancelTimeout(w),w=e.timeout(function(){t&&t.paginationHide&&t._paginationContainer&&!r.target.classList.contains(a.CLS.bullet)&&t._paginationContainer.classList.toggle(a.CLS.paginationHidden)},300)),o<300&&i-S<300&&(w&&clearTimeout(w),t.ionSlideDoubleTap.emit(t))})),S=Date.now(),e.timeout(function(){t&&(t._allowClick=!0)}),d&&h&&t.swipeDirection&&0!==t._touches.diff&&y!==b){d=h=!1;var f;if(f=t.followFinger?t._rtl?t._translate:-t._translate:-y,t.freeMode){if(f<-a.minTranslate(t))return void u.slideTo(t,e,t._activeIndex);if(f>-a.maxTranslate(t))return void u.slideTo(t,e,t._slides.length<t._snapGrid.length?t._snapGrid.length-1:t._slides.length-1);if(t.freeModeMomentum){if(O.length>1){var p=O.pop(),v=O.pop(),_=p.time-v.time;t.velocity=(p.position-v.position)/_,t.velocity=t.velocity/2,Math.abs(t.velocity)<t.freeModeMinimumVelocity&&(t.velocity=0),(_>150||(new Date).getTime()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity=t.velocity*t.freeModeMomentumVelocityRatio,O.length=0;var E=1e3*t.freeModeMomentumRatio,C=t._translate+t.velocity*E;t._rtl&&(C=-C);var k,T=!1,P=20*Math.abs(t.velocity)*t.freeModeMomentumBounceRatio;if(C<a.maxTranslate(t))t.freeModeMomentumBounce?(C+a.maxTranslate(t)<-P&&(C=a.maxTranslate(t)-P),k=a.maxTranslate(t),T=!0,x=!0):C=a.maxTranslate(t);else if(C>a.minTranslate(t))t.freeModeMomentumBounce?(C-a.minTranslate(t)>P&&(C=a.minTranslate(t)+P),k=a.minTranslate(t),T=!0,x=!0):C=a.minTranslate(t);else if(t.freeModeSticky){var N,I=0;for(I=0;I<t._snapGrid.length;I+=1)if(t._snapGrid[I]>-C){N=I;break}C=Math.abs(t._snapGrid[N]-C)<Math.abs(t._snapGrid[N-1]-C)||"next"===t.swipeDirection?t._snapGrid[N]:t._snapGrid[N-1],t._rtl||(C=-C)}if(0!==t.velocity)E=t._rtl?Math.abs((-C-t._translate)/t.velocity):Math.abs((C-t._translate)/t.velocity);else if(t.freeModeSticky)return void u.slideReset(t,e);t.freeModeMomentumBounce&&T?(l.updateProgress(t,k),s.setWrapperTransition(t,e,E),s.setWrapperTranslate(t,e,C),u.onTransitionStart(t),t._animating=!0,e.transitionEnd(t._wrapper,function(){t&&x&&(s.setWrapperTransition(t,e,t.speed),s.setWrapperTranslate(t,e,k),e.transitionEnd(t._wrapper,function(){t&&u.onTransitionEnd(t,e)}))})):t.velocity?(l.updateProgress(t,C),s.setWrapperTransition(t,e,E),s.setWrapperTranslate(t,e,C),u.onTransitionStart(t),t._animating||(t._animating=!0,e.transitionEnd(t._wrapper,function(){t&&u.onTransitionEnd(t,e)}))):l.updateProgress(t,C),c.updateActiveIndex(t)}(!t.freeModeMomentum||o>=t.longSwipesMs)&&(l.updateProgress(t),c.updateActiveIndex(t))}else{for(var A=0,M=t._slidesSizesGrid[0],D=0;D<t._slidesGrid.length;D+=t.slidesPerGroup)void 0!==t._slidesGrid[D+t.slidesPerGroup]?f>=t._slidesGrid[D]&&f<t._slidesGrid[D+t.slidesPerGroup]&&(A=D,M=t._slidesGrid[D+t.slidesPerGroup]-t._slidesGrid[D]):f>=t._slidesGrid[D]&&(A=D,M=t._slidesGrid[t._slidesGrid.length-1]-t._slidesGrid[t._slidesGrid.length-2]);var R=(f-t._slidesGrid[A])/M;if(o>t.longSwipesMs){if(!t.longSwipes)return void u.slideTo(t,e,t._activeIndex);"next"===t.swipeDirection&&u.slideTo(t,e,R>=t.longSwipesRatio?A+t.slidesPerGroup:A),"prev"===t.swipeDirection&&u.slideTo(t,e,R>1-t.longSwipesRatio?A+t.slidesPerGroup:A)}else{if(!t.shortSwipes)return void u.slideTo(t,e,t._activeIndex);"next"===t.swipeDirection&&u.slideTo(t,e,A+t.slidesPerGroup),"prev"===t.swipeDirection&&u.slideTo(t,e,A)}}}else d=h=!1}}Object.defineProperty(e,"__esModule",{value:!0});var a=t("./swiper-utils"),s=t("./swiper-transition"),u=t("./swiper"),l=t("./swiper-progress"),c=t("./swiper-index"),f=t("./swiper-pagination"),p=t("./swiper-classes");e.initEvents=function(t,e){var n=e.win(),l=e.doc();t._supportTouch=!!("ontouchstart"in n||n.DocumentTouch&&l instanceof n.DocumentTouch),t._touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},n.navigator.pointerEnabled?t._touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:n.navigator.msPointerEnabled&&(t._touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),t._touchEvents={start:t._supportTouch||!t.simulateTouch?"touchstart":t._touchEventsDesktop.start,move:t._supportTouch||!t.simulateTouch?"touchmove":t._touchEventsDesktop.move,end:t._supportTouch||!t.simulateTouch?"touchend":t._touchEventsDesktop.end},(n.navigator.pointerEnabled||n.navigator.msPointerEnabled)&&("container"===t.touchEventsTarget?t.container:t._wrapper).classList.add("swiper-wp8-"+t.direction);var d=[],h="container"===t.touchEventsTarget?t.container:t._wrapper;t._supportTouch&&(e.registerListener(h,t._touchEvents.start,function(n){r(t,e,n)},{passive:!0,zone:!1},d),e.registerListener(h,t._touchEvents.move,function(n){i(t,e,n)},{zone:!1},d),e.registerListener(h,t._touchEvents.end,function(n){o(t,e,n)},{passive:!0,zone:!1},d)),(t.simulateTouch&&!e.is("ios")&&!e.is("android")||t.simulateTouch&&!t._supportTouch&&e.is("ios")||e.getQueryParam("ionicPlatform"))&&(e.registerListener(h,"mousedown",function(n){r(t,e,n)},{zone:!1},d),e.registerListener(h,"mousemove",function(n){i(t,e,n)},{zone:!1},d),e.registerListener(h,"mouseup",function(n){o(t,e,n)},{zone:!1},d));var m=e.resize.subscribe(function(){return function(t,e,n){C&&(e.cancelTimeout(C),C=null),C=e.timeout(function(){return function(t,e,n){C=null;var r=t._allowSwipeToPrev,i=t._allowSwipeToNext;if(t._allowSwipeToPrev=t._allowSwipeToNext=!0,u.updateContainerSize(t,e),u.updateSlidesSize(t,e),("auto"===t.slidesPerView||t.freeMode||n)&&f.updatePagination(t),t._spline&&(t._spline=void 0),t.freeMode){var o=Math.min(Math.max(t._translate,a.maxTranslate(t)),a.minTranslate(t));s.setWrapperTranslate(t,e,o),c.updateActiveIndex(t),p.updateClasses(t),t.autoHeight&&u.updateAutoHeight(t)}else p.updateClasses(t),u.slideTo(t,e,("auto"===t.slidesPerView||t.slidesPerView>1)&&t._isEnd&&!t.centeredSlides?t._slides.length-1:t._activeIndex,0,!1,!0);t._allowSwipeToPrev=r,t._allowSwipeToNext=i}(t,e,n)},200)}(t,e,!1)});return t.nextButton&&e.registerListener(t.nextButton,"click",function(n){!function(t,e,n){n.preventDefault(),(!t._isEnd||t.loop)&&u.slideNext(t,e)}(t,e,n)},{zone:!1},d),t.prevButton&&e.registerListener(t.prevButton,"click",function(n){!function(t,e,n){n.preventDefault(),(!t._isBeginning||t.loop)&&u.slidePrev(t,e)}(t,e,n)},{zone:!1},d),t.paginationType&&e.registerListener(t._paginationContainer,"click",function(n){!function(t,e,n){var r=n.target.getAttribute("data-slide-index");if(r){var i=parseInt(r,10);n.preventDefault(),t.loop&&(i+=t.loopedSlides),u.slideTo(t,e,i)}}(t,e,n)},{zone:!1},d),(t.preventClicks||t.preventClicksPropagation)&&e.registerListener(h,"click",function(e){!function(t,e){t._allowClick||(t.preventClicks&&e.preventDefault(),t.preventClicksPropagation&&t._animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}(t,e)},{zone:!1,capture:!0},d),function(){m.unsubscribe(),d.forEach(function(t){t()}),d=null}};var d,h,m,g,v,y,b,_,w,x,E,C,S=Date.now(),O=[]})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(11),n(3),n(24),n(12),n(10),n(4),n(171),n(5),n(333),n(46)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../app/app"),i=t("../../config/config"),o=t("../../navigation/deep-linker"),s=t("../../platform/dom-controller"),u=t("../../gestures/gesture-controller"),l=t("../../util/util"),c=t("../../navigation/nav-controller-base"),f=t("../../platform/platform"),p=t("./tabs"),d=t("../../transitions/transition-controller"),h=function(t){function e(e,r,i,o,a,s,u,l,c,f,p,d,h,m){var g=t.call(this,e,r,i,o,a,s,u,l,f,p,d,h,m)||this;return g._cd=c,g.linker=d,g._dom=h,g._isEnabled=!0,g._isShown=!0,g.ionSelect=new n.EventEmitter,g.id=e.add(g),g._tabsHideOnSubPages=i.getBoolean("tabsHideOnSubPages"),g._tabId="tabpanel-"+g.id,g._btnId="tab-"+g.id,g}return a(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._isEnabled},set:function(t){this._isEnabled=l.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return this._isShown},set:function(t){this._isShown=l.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsHideOnSubPages",{get:function(){return this._tabsHideOnSubPages},set:function(t){this._tabsHideOnSubPages=l.isTrueProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_vp",{set:function(t){this.setViewport(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.tabBadgeStyle=this.tabBadgeStyle?this.tabBadgeStyle:"default"},e.prototype.load=function(t){var e=this,n=this._segment;if(n||!this._loaded&&this.root){this.setElementClass("show-tab",!0);for(var r=n&&n.name?n.name:this.root,i=n?n.data:this.rootParams,o=this.length()-1,a=o;a>=0;a--){var s=this.getByIndex(a);if(s&&(s.id===r||s.component===r))return a===o?Promise.resolve():this.popTo(s,{animate:!1,updateUrl:!1})}return(n&&n.defaultHistory&&n.defaultHistory.length&&0===this._views.length?this.linker.initViews(n).then(function(n){return e.setPages(n,t)}):this.push(r,i,t)).then(function(){e._segment=null,e._loaded=!0})}return this._dom.read(function(){e.resize()}),Promise.resolve()},e.prototype.resize=function(){var t=this.getActive();if(t){var e=t.getIONContent();e&&e.resize()}},e.prototype._viewAttachToDOM=function(e,n,r){var i=this._tabsHideOnSubPages&&e.index>0;if(i&&(r=this.parent.portal),t.prototype._viewAttachToDOM.call(this,e,n,r),i){var o=e.pageRef();o&&this._renderer.setElementClass(o.nativeElement,"tab-subpage",!0)}},e.prototype.setSelected=function(t){this.isSelected=t,this.setElementClass("show-tab",t),this.setElementAttribute("aria-hidden",(!t).toString()),t?this._cd.reattach():this._cd.detach()},Object.defineProperty(e.prototype,"index",{get:function(){return this.parent.getIndex(this)},enumerable:!0,configurable:!0}),e.prototype.updateHref=function(t,e){if(this.btn&&this.linker){var n=this.linker.createUrl(this.parent,t,e)||"#";this.btn.updateHref(n)}},e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.getType=function(){return"tab"},e.prototype.goToRoot=function(t){return this.setRoot(this.root,this.rootParams,t,null)},e.decorators=[{type:n.Component,args:[{selector:"ion-tab",template:'<div #viewport></div><div class="nav-decor"></div>',host:{"[attr.id]":"_tabId","[attr.aria-labelledby]":"_btnId",role:"tabpanel"},encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:p.Tabs},{type:r.App},{type:i.Config},{type:f.Platform},{type:n.ElementRef},{type:n.NgZone},{type:n.Renderer},{type:n.ComponentFactoryResolver},{type:n.ChangeDetectorRef},{type:u.GestureController},{type:d.TransitionController},{type:o.DeepLinker,decorators:[{type:n.Optional}]},{type:s.DomController},{type:n.ErrorHandler}]},e.propDecorators={root:[{type:n.Input}],rootParams:[{type:n.Input}],tabUrlPath:[{type:n.Input}],tabTitle:[{type:n.Input}],tabIcon:[{type:n.Input}],tabBadge:[{type:n.Input}],tabBadgeStyle:[{type:n.Input}],enabled:[{type:n.Input}],show:[{type:n.Input}],tabsHideOnSubPages:[{type:n.Input}],ionSelect:[{type:n.Output}],_vp:[{type:n.ViewChild,args:["viewport",{read:n.ViewContainerRef}]}]},e}(c.NavControllerBase);e.Tab=h})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,r,i){var o=t.call(this,e,r,i)||this;return o.ionSelect=new n.EventEmitter,o.disHover=!1===e.get("hoverCSS"),o.layout=e.get("tabsLayout"),o}return a(e,t),e.prototype.ngOnInit=function(){this.tab.btn=this,this.layout=this.tab.parent.tabsLayout||this.layout,this.hasTitle=!!this.tab.tabTitle,this.hasIcon=!!this.tab.tabIcon&&"icon-hide"!==this.layout,this.hasTitleOnly=this.hasTitle&&!this.hasIcon,this.hasIconOnly=this.hasIcon&&!this.hasTitle,this.hasBadge=!!this.tab.tabBadge},e.prototype.onClick=function(){return this.ionSelect.emit(this.tab),!1},e.prototype.updateHref=function(t){this.setElementAttribute("href",t)},e.decorators=[{type:n.Component,args:[{selector:".tab-button",template:'<ion-icon *ngIf="tab.tabIcon" [name]="tab.tabIcon" [isActive]="tab.isSelected" class="tab-button-icon"></ion-icon><span *ngIf="tab.tabTitle" class="tab-button-text">{{tab.tabTitle}}</span><ion-badge *ngIf="tab.tabBadge" class="tab-badge" [color]="tab.tabBadgeStyle">{{tab.tabBadge}}</ion-badge><div class="button-effect"></div>',host:{"[attr.id]":"tab._btnId","[attr.aria-controls]":"tab._tabId","[attr.aria-selected]":"tab.isSelected","[class.has-title]":"hasTitle","[class.has-icon]":"hasIcon","[class.has-title-only]":"hasTitleOnly","[class.icon-only]":"hasIconOnly","[class.has-badge]":"hasBadge","[class.disable-hover]":"disHover","[class.tab-disabled]":"!tab.enabled","[class.tab-hidden]":"!tab.show"}}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e.propDecorators={tab:[{type:n.Input}],ionSelect:[{type:n.Output}],onClick:[{type:n.HostListener,args:["click"]}]},e}(t("../ion").Ion);e.TabButton=i})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"ion-thumbnail"}]}],t.ctorParameters=function(){return[]},t}();e.Thumbnail=r})},,function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(4),n(89),n(185),n(730),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../util/util"),r=t("../app/app-constants"),i=t("./toast-component"),o=t("./toast-transitions"),s=function(t){function e(e,r,a){void 0===r&&(r={});var s=this;return r.dismissOnPageChange=!!n.isPresent(r.dismissOnPageChange)&&!!r.dismissOnPageChange,s=t.call(this,i.ToastCmp,r,null)||this,s._app=e,r.position&&s.isValidPosition(r.position)||(r.position=c),s.isOverlay=!0,a.setTransition("toast-slide-in",o.ToastSlideIn),a.setTransition("toast-slide-out",o.ToastSlideOut),a.setTransition("toast-md-slide-in",o.ToastMdSlideIn),a.setTransition("toast-md-slide-out",o.ToastMdSlideOut),a.setTransition("toast-wp-slide-out",o.ToastWpPopOut),a.setTransition("toast-wp-slide-in",o.ToastWpPopIn),s}return a(e,t),e.prototype.getTransitionName=function(t){return this._nav&&this._nav.config.get("toast"+("back"===t?"Leave":"Enter"))},e.prototype.isValidPosition=function(t){return t===u||t===l||t===c},e.prototype.setMessage=function(t){return this.data.message=t,this},e.prototype.setDuration=function(t){return this.data.duration=t,this},e.prototype.setPosition=function(t){return this.data.position=t,this},e.prototype.setCssClass=function(t){return this.data.cssClass=t,this},e.prototype.setShowCloseButton=function(t){return this.data.showCloseButton=t,this},e.prototype.present=function(t){return void 0===t&&(t={}),t.disableApp=!1,t.keyboardClose=!1,this._app.present(this,t,r.PORTAL_TOAST)},e.prototype.dismissAll=function(){this._nav&&this._nav.popAll()},e}(t("../../navigation/view-controller").ViewController);e.Toast=s;var u="top",l="middle",c="bottom"})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(30),n(72)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../animations/animation"),r=t("../../transitions/transition"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=t.querySelector(".toast-wrapper"),r=new n.Animation(this.plt,e);if(this.enteringView.data&&this.enteringView.data.position===f)r.fromTo("translateY","-100%","10px");else if(this.enteringView.data&&this.enteringView.data.position===p){var i=Math.floor(t.clientHeight/2-e.clientHeight/2);e.style.top=i+"px",r.fromTo("opacity",.01,1)}else r.fromTo("translateY","100%","-10px");this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(r)},e}(r.Transition);e.ToastSlideIn=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement.querySelector(".toast-wrapper"),e=new n.Animation(this.plt,t);this.leavingView.data&&this.leavingView.data.position===f?e.fromTo("translateY","10px","-100%"):this.leavingView.data&&this.leavingView.data.position===p?e.fromTo("opacity",.99,0):e.fromTo("translateY","-10px","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(300).add(e)},e}(r.Transition);e.ToastSlideOut=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=t.querySelector(".toast-wrapper"),r=new n.Animation(this.plt,e);if(this.enteringView.data&&this.enteringView.data.position===f)r.fromTo("translateY","-100%","0%");else if(this.enteringView.data&&this.enteringView.data.position===p){var i=Math.floor(t.clientHeight/2-e.clientHeight/2);e.style.top=i+"px",r.fromTo("opacity",.01,1)}else r.fromTo("translateY","100%","0%");this.easing("cubic-bezier(.36,.66,.04,1)").duration(400).add(r)},e}(r.Transition);e.ToastMdSlideIn=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement.querySelector(".toast-wrapper"),e=new n.Animation(this.plt,t);this.leavingView.data&&this.leavingView.data.position===f?e.fromTo("translateY","0%","-100%"):this.leavingView.data&&this.leavingView.data.position===p?e.fromTo("opacity",.99,0):e.fromTo("translateY","0%","100%"),this.easing("cubic-bezier(.36,.66,.04,1)").duration(450).add(e)},e}(r.Transition);e.ToastMdSlideOut=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.enteringView.pageRef().nativeElement,e=t.querySelector(".toast-wrapper"),r=new n.Animation(this.plt,e);if(this.enteringView.data&&this.enteringView.data.position===f)r.fromTo("opacity",.01,1),r.fromTo("scale",1.3,1);else if(this.enteringView.data&&this.enteringView.data.position===p){var i=Math.floor(t.clientHeight/2-e.clientHeight/2);e.style.top=i+"px",r.fromTo("opacity",.01,1),r.fromTo("scale",1.3,1)}else r.fromTo("opacity",.01,1),r.fromTo("scale",1.3,1);this.easing("cubic-bezier(0,0,0.05,1)").duration(200).add(r)},e}(r.Transition);e.ToastWpPopIn=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this.leavingView.pageRef().nativeElement.querySelector(".toast-wrapper"),e=new n.Animation(this.plt,t);e.fromTo("opacity",.99,0),e.fromTo("scale",1,1.3);this.easing("ease-out").duration(150).add(e)},e}(r.Transition);e.ToastWpPopOut=c;var f="top",p="middle"})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(13),n(3),n(12),n(22),n(10),n(58),n(4),n(49),n(25),n(42),n(5),n(732)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("@angular/forms"),i=t("../../config/config"),o=t("../../platform/dom-controller"),s=t("../../util/form"),u=t("../../gestures/gesture-controller"),l=t("../../tap-click/haptic"),c=t("../../util/util"),f=t("../../util/base-input"),p=t("../item/item"),d=t("../../platform/key"),h=t("../../platform/platform"),m=t("./toggle-gesture"),g=function(t){function e(e,n,r,i,o,a,s,u,l,c){var f=t.call(this,n,i,o,"toggle",!1,e,s,null)||this;return f._plt=r,f._haptic=a,f._gestureCtrl=u,f._domCtrl=l,f._zone=c,f._activated=!1,f}return a(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._initialize(),this._gesture=new m.ToggleGesture(this._plt,this,this._gestureCtrl,this._domCtrl),this._gesture.listen()},e.prototype._inputUpdated=function(){},e.prototype._inputNormalize=function(t){return c.isTrueProperty(t)},e.prototype._onDragStart=function(t){var e=this;this._zone.run(function(){e._startX=t,e._fireFocus(),e._activated=!0})},e.prototype._onDragMove=function(t){var e=this;this._startX&&this._shouldToggle(t,-15)&&this._zone.run(function(){e.value=!e.value,e._startX=t,e._haptic.selection()})},e.prototype._onDragEnd=function(t){var e=this;this._startX&&this._zone.run(function(){e._shouldToggle(t,4)&&(e.value=!e.value,e._haptic.selection()),e._activated=!1,e._fireBlur(),e._startX=null})},e.prototype._shouldToggle=function(t,e){var n=!this._plt.isRTL,r=this._startX;return this._value?n&&r+e>t||!n&&r-e<t:n&&r-e<t||!n&&r+e>t},e.prototype._keyup=function(t){t.keyCode!==d.KEY_SPACE&&t.keyCode!==d.KEY_ENTER||(t.preventDefault(),t.stopPropagation(),this.value=!this.value)},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._gesture&&this._gesture.destroy()},e.decorators=[{type:n.Component,args:[{selector:"ion-toggle",template:'<div class="toggle-icon"><div class="toggle-inner"></div></div><button role="checkbox" type="button" ion-button="item-cover" [id]="id" [attr.aria-checked]="_value" [attr.aria-labelledby]="_labelId" [attr.aria-disabled]="_disabled" class="item-cover" disable-activated></button>',host:{"[class.toggle-disabled]":"_disabled","[class.toggle-checked]":"_value","[class.toggle-activated]":"_activated"},providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e,multi:!0}],encapsulation:n.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:s.Form},{type:i.Config},{type:h.Platform},{type:n.ElementRef},{type:n.Renderer},{type:l.Haptic},{type:p.Item,decorators:[{type:n.Optional}]},{type:u.GestureController},{type:o.DomController},{type:n.NgZone}]},e.propDecorators={checked:[{type:n.Input}],_keyup:[{type:n.HostListener,args:["keyup",["$event"]]}]},e}(f.BaseInput);e.Toggle=g})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(10),n(172),n(19)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("../../gestures/gesture-controller"),r=t("../../gestures/pan-gesture"),i=t("../../util/dom"),o=function(t){function e(e,r,i,o){var a=t.call(this,e,r.getNativeElement(),{threshold:0,zone:!1,domController:o,gesture:i.createGesture({name:n.GESTURE_TOGGLE,priority:n.GESTURE_PRIORITY_TOGGLE})})||this;return a.toggle=r,a}return a(e,t),e.prototype.canStart=function(){return!0},e.prototype.onDragStart=function(t){t.preventDefault(),this.toggle._onDragStart(i.pointerCoord(t).x)},e.prototype.onDragMove=function(t){t.preventDefault(),this.toggle._onDragMove(i.pointerCoord(t).x)},e.prototype.onDragEnd=function(t){t.preventDefault(),this.toggle._onDragEnd(i.pointerCoord(t).x)},e}(r.PanGesture);e.ToggleGesture=o})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9),n(6)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=t("../ion"),o=t("../../navigation/view-controller"),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,"footer")||this;return i&&i._setFooter(o),o}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"ion-footer"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer},{type:o.ViewController,decorators:[{type:n.Optional}]}]},e}(i.Ion);e.Footer=s})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(3),n(9)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("../../config/config"),i=function(t){function e(e,n,r){return t.call(this,e,n,r,"text")||this}return a(e,t),e.decorators=[{type:n.Directive,args:[{selector:"[ion-text]"}]}],e.ctorParameters=function(){return[{type:r.Config},{type:n.ElementRef},{type:n.Renderer}]},e}(t("../ion").Ion);e.Typography=i})},,function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0),n(737),n(3),n(35),n(12),n(4),n(5),n(6),n(339),n(337),n(338)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("@angular/core"),r=t("./virtual-util"),i=t("../../config/config"),o=t("../content/content"),a=t("../../platform/dom-controller"),s=t("../../util/util"),u=t("../../platform/platform"),l=t("../../navigation/view-controller"),c=t("./virtual-item"),f=t("./virtual-footer"),p=t("./virtual-header"),d=function(){function t(t,e,n,r,i,o,a,s,u,l){var c=this;this._iterableDiffers=t,this._elementRef=e,this._renderer=n,this._zone=r,this._cd=i,this._content=o,this._plt=a,this._ctrl=s,this._config=u,this._dom=l,this._init=!1,this._lastEle=!1,this._records=[],this._cells=[],this._nodes=[],this._vHeight=0,this._lastCheck=0,this._recordSize=0,this._data={scrollTop:0},this._queue=1,this.bufferRatio=3,this.approxItemWidth="100%",this.approxHeaderWidth="100%",this.approxHeaderHeight="40px",this.approxFooterWidth="100%",this.approxFooterHeight="40px",this.setElementClass("virtual-loading",!0);var f=s.readReady.subscribe(function(){f.unsubscribe(),c.readUpdate(!0)}),p=s.writeReady.subscribe(function(){p.unsubscribe(),c._init=!0,c.writeUpdate(!0),c._listeners()})}return Object.defineProperty(t.prototype,"virtualScroll",{get:function(){return this._records},set:function(t){this._records=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFn",{set:function(t){s.isFunction(t)&&(this._hdrFn=t.bind(this._ctrl._cmp||this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerFn",{set:function(t){s.isFunction(t)&&(this._ftrFn=t.bind(this._ctrl._cmp||this))},enumerable:!0,configurable:!0}),t.prototype.firstRecord=function(){var t=this._cells;return t.length>0?t[0].record:0},t.prototype.lastRecord=function(){var t=this._cells;return t.length>0?t[t.length-1].record:0},t.prototype.ngOnChanges=function(t){if("virtualScroll"in t){var e=t.virtualScroll.currentValue;if(!s.isPresent(this._differ)&&s.isPresent(e))try{this._differ=this._iterableDiffers.find(e).create(this.virtualTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._init){var t=s.isPresent(this._differ)?this._differ.diff(this.virtualScroll):null;if(s.isPresent(t)){var e=!1,n=this._recordSize;t.forEachOperation(function(t,r,i){null===r&&i<n?e=!0:r<n&&null===i&&(e=!0)}),this._recordSize=this._records?this._records.length:0,this.readUpdate(e),this.writeUpdate(e)}}},t.prototype.readUpdate=function(t){t&&(this._cells.length=0,this.calcDimensions())},t.prototype.writeUpdate=function(t){var e=this._data,n=e.scrollTop+e.renderHeight;e.scrollDiff=h+1,r.processRecords(n,this._records,this._cells,this._hdrFn,this._ftrFn,this._data),this.renderVirtual(t)},t.prototype.calcDimensions=function(){r.calcDimensions(this._data,this._elementRef.nativeElement,this.approxItemWidth,this.approxItemHeight,this.approxHeaderWidth,this.approxHeaderHeight,this.approxFooterWidth,this.approxFooterHeight,this.bufferRatio)},t.prototype.renderVirtual=function(t){var e=this;this._plt.raf(function(){var n=e._nodes,i=e._cells,o=e._data,a=e._records;t&&(r.updateDimensions(e._plt,n,i,o,!0),o.topCell=0,o.bottomCell=i.length-1),r.adjustRendered(i,o),e._zone.run(function(){r.populateNodeData(o.topCell,o.bottomCell,!0,i,a,n,e._itmTmp.viewContainer,e._itmTmp.templateRef,e._hdrTmp&&e._hdrTmp.templateRef,e._ftrTmp&&e._ftrTmp.templateRef)}),t&&e._cd.detectChanges(),e._dom.read(function(){return r.initReadNodes(e._plt,n,i,o)}),e._dom.write(function(){if(r.updateNodeContext(n,i,o),e._stepChangeDetection(),e._stepDOMWrite(),e._content.imgsUpdate(),!e._lastEle){e._renderer.createElement(e._elementRef.nativeElement,"div").className="virtual-last",e._lastEle=!0,e.setElementClass("virtual-scroll",!0),e.setElementClass("virtual-loading",!1)}})})},t.prototype.resize=function(){this._init&&null!==this._elementRef.nativeElement.offsetParent&&(this.calcDimensions(),this.writeUpdate(!1))},t.prototype._stepDOMWrite=function(){var t=this._cells;r.writeToNodes(this._plt,this._nodes,t,this._recordSize),this._setHeight(r.estimateHeight(this._recordSize,t[t.length-1],this._vHeight,.25)),this._queue=1},t.prototype._stepChangeDetection=function(){for(var t=this._nodes,e=0;e<t.length;e++)t[e].hasChanges&&t[e].view.detectChanges();this._queue=3},t.prototype._stepNoChanges=function(){var t=this._data,e=t.scrollDiff=t.scrollTop-this._lastCheck;if(!(Math.abs(e)<h)){var n=this._cells,i=this._nodes,o=this._records;if(this._lastCheck=t.scrollTop,e>0){r.processRecords(t.scrollTop+t.renderHeight,o,n,this._hdrFn,this._ftrFn,t)}r.updateDimensions(this._plt,i,n,t,!1),r.adjustRendered(n,t);r.populateNodeData(t.topCell,t.bottomCell,e>0,n,o,i,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef)&&(this._queue=2,r.updateNodeContext(i,n,t))}},t.prototype.scrollUpdate=function(t){var e=this;this._data.scrollTop=t.scrollTop;var n=this._queue;1===n?this._stepNoChanges():this._dom.write(2===n?function(){return e._stepChangeDetection()}:function(){return e._stepDOMWrite()})},t.prototype.scrollEnd=function(){var t=this;r.updateDimensions(this._plt,this._nodes,this._cells,this._data,!1),r.adjustRendered(this._cells,this._data),r.populateNodeData(this._data.topCell,this._data.bottomCell,!0,this._cells,this._records,this._nodes,this._itmTmp.viewContainer,this._itmTmp.templateRef,this._hdrTmp&&this._hdrTmp.templateRef,this._ftrTmp&&this._ftrTmp.templateRef),this._dom.write(function(){r.updateNodeContext(t._nodes,t._cells,t._data),t._stepChangeDetection(),t._stepDOMWrite()})},t.prototype._listeners=function(){this._scrollSub||(this._config.getBoolean("virtualScrollEventAssist")&&this._content.enableJsScroll(),this._resizeSub=this._plt.resize.subscribe(this.resize.bind(this)),this._scrollSub=this._content.ionScroll.subscribe(this.scrollUpdate.bind(this)),this._scrollEndSub=this._content.ionScrollEnd.subscribe(this.scrollEnd.bind(this)))},t.prototype._setHeight=function(t){t!==this._vHeight&&(this._renderer.setElementStyle(this._elementRef.nativeElement,"height",t>0?t+"px":""),this._vHeight=t)},t.prototype.ngAfterContentInit=function(){this.approxItemHeight||(this.approxItemHeight="40px",console.warn('Virtual Scroll: Please provide an "approxItemHeight" input to ensure proper virtual scroll rendering'))},t.prototype.setElementClass=function(t,e){this._renderer.setElementClass(this._elementRef.nativeElement,t,e)},t.prototype.ngOnDestroy=function(){this._resizeSub&&this._resizeSub.unsubscribe(),this._scrollSub&&this._scrollSub.unsubscribe(),this._scrollEndSub&&this._scrollEndSub.unsubscribe(),this._resizeSub=this._scrollEndSub=this._scrollSub=null,this._hdrFn=this._ftrFn=this._records=this._cells=this._nodes=this._data=null},t.decorators=[{type:n.Directive,args:[{selector:"[virtualScroll]"}]}],t.ctorParameters=function(){return[{type:n.IterableDiffers},{type:n.ElementRef},{type:n.Renderer},{type:n.NgZone},{type:n.ChangeDetectorRef},{type:o.Content},{type:u.Platform},{type:l.ViewController},{type:i.Config},{type:a.DomController}]},t.propDecorators={_itmTmp:[{type:n.ContentChild,args:[c.VirtualItem]}],_hdrTmp:[{type:n.ContentChild,args:[p.VirtualHeader]}],_ftrTmp:[{type:n.ContentChild,args:[f.VirtualFooter]}],virtualScroll:[{type:n.Input}],bufferRatio:[{type:n.Input}],approxItemWidth:[{type:n.Input}],approxItemHeight:[{type:n.Input}],approxHeaderWidth:[{type:n.Input}],approxHeaderHeight:[{type:n.Input}],approxFooterWidth:[{type:n.Input}],approxFooterHeight:[{type:n.Input}],headerFn:[{type:n.Input}],footerFn:[{type:n.Input}],virtualTrackBy:[{type:n.Input}]},t}();e.VirtualScroll=d;var h=40})},function(t,e,n){var r,i,o;!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";function n(t,e,n,r,i,o,a){var s={record:e,tmpl:n,width:i,height:o,reads:0};return t.left+t.width+i>a?(s.row=t.row+1,s.top=t.top+t.height,s.left=0):(s.row=t.row,s.top=t.top,s.left=t.left+t.width),r&&(s.data=r),s}function r(t,e,n,r,i){for(var o,a,u,l=n.length,c=0;c<e.length;c++)(a=n[(o=e[c]).cell])&&a.reads<f&&(function(t,e,n){var r=t.getElementComputedStyle(n);e.left=n.clientLeft-parseFloat(r.marginLeft),e.width=n.offsetWidth+parseFloat(r.marginLeft)+parseFloat(r.marginRight),e.height=n.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom)}(t,a,s(o)),i&&(1===a.tmpl?(r.hdrHeight=a.height,0===a.left&&(r.hdrWidth=a.width)):2===a.tmpl?(r.ftrHeight=a.height,0===a.left&&(r.ftrWidth=a.width)):(r.itmHeight=a.height,0===a.left&&(r.itmWidth=a.width))),a.reads++);var p=r.scrollTop+r.viewHeight;if(r.topViewCell=l,r.bottomViewCell=0,l>0){u={row:0,width:0,height:0,top:(a=n[0]).top,left:0,tmpl:-1};for(var d=0;d<l;d++)u.left+u.width+(a=n[d]).width>r.viewWidth?(a.row++,a.top=u.top+u.height,a.left=0):(a.row=u.row,a.top=u.top,a.left=u.left+u.width),a.top+a.height>r.scrollTop&&d<r.topViewCell?r.topViewCell=d:a.top<p&&d>r.bottomViewCell&&(r.bottomViewCell=d),u=a}}function i(t,e){if(e.record>=t-1)return e.top+e.height;var n=t-e.record-1,r=e.top+e.height;return Math.ceil(r+r/(t-n)*n)}function o(t,e){if(e.indexOf("%")>0)return t*(parseFloat(e)/100);if(e.indexOf("px")>0)return parseFloat(e);throw new Error('virtual scroll width can only use "%" or "px" units')}function a(t,e){if(e.indexOf("px")>0)return parseFloat(e);throw new Error('virtual scroll height must use "px" units')}function s(t){for(var e=t.view.rootNodes,n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];return null}Object.defineProperty(e,"__esModule",{value:!0});var u={row:0,width:0,height:0,top:0,left:0,tmpl:-1};e.processRecords=function(t,e,r,i,o,a){var s,l,c,f,p=e?e.length-1:-1;if(r.length){if((c=r[r.length-1]).top+c.height>t)return;l=c.record+1}else c=u,l=0;for(var d=0,h=l;h<=p;h++)if(s=e[h],i&&null!==(f=i(s,h,e))&&(c=n(c,h,1,f,a.hdrWidth,a.hdrHeight,a.viewWidth),r.push(c)),c=n(c,h,0,null,a.itmWidth,a.itmHeight,a.viewWidth),r.push(c),o&&null!==(f=o(s,h,e))&&(c=n(c,h,2,f,a.ftrWidth,a.ftrHeight,a.viewWidth),r.push(c)),c.record===p&&(c.isLast=!0),d++,c.top+c.height+a.itmHeight>t&&d>3)return},e.populateNodeData=function(t,e,n,r,i,o,a,s,u,c){if(!i||0===i.length)return o.length=0,a.clear(),!0;var f,p,d,h=i.length,m=!1,g=null,v=o.length;t=Math.max(t,0),e=Math.min(e,r.length-1);for(var y=[],b=t;b<=e;b++){p=r[b],f=null;var _=o.find(function(t){return t.cell===b&&t.tmpl===p.tmpl});if(_){if(_.view.context.$implicit===i[p.record]){y.push(_);continue}f=_}else for(var w=0;w<v;w++)p.tmpl!==(E=o[w]).tmpl||0===w&&0!==b||(E.cell<t||E.cell>e)&&(f?n?E.cell<f.cell&&(f=E):E.cell>f.cell&&(f=E):f=E);if(!f){if(null===g){g=-1;for(var x=v-1;x>=0;x--){var E;if(E=o[x]){g=a.indexOf(E.view);break}}}if(!(d=1===p.tmpl?u:2===p.tmpl?c:s)){console.error("virtual"+(1===p.tmpl?"Header":2===p.tmpl?"Footer":"Item")+" template required");continue}f={tmpl:p.tmpl,view:a.createEmbeddedView(d,new l(null,null,null),g)},v=o.push(f)}f.cell=b;var C=f.view.context;C.$implicit=p.data||i[p.record],C.index=b,C.count=h,f.hasChanges=!0,f.lastTransform=null,m=!0,y.push(f)}var S=o.filter(function(t){return y.indexOf(t)<0});return S.forEach(function(t){var e=a.indexOf(t.view);a.remove(e);var n=o.findIndex(function(e){return e===t});o.splice(n,1)}),y.length=0,S.length=0,m},e.initReadNodes=function(t,e,n,i){if(e.length&&n.length){var o=s(e[0]),a=n[0];a.top=o.clientTop,a.left=o.clientLeft,a.row=0,r(t,e,n,i,!0)}},e.updateDimensions=r,e.updateNodeContext=function(t,e,n){for(var r,i,o,a=0,s=t.length;a<s;a++)i=e[(r=t[a]).cell],r&&i&&((o=r.view.context.bounds).top=i.top+n.viewTop,o.bottom=o.top+i.height,o.left=i.left+n.viewLeft,o.right=o.left+i.width,o.width=i.width,o.height=i.height)},e.writeToNodes=function(t,e,n,r){for(var i,o,a,u,l=Math.max(r,n.length),c=0,f=e.length;c<f;c++)(i=e[c]).lastTransform!==(u="translate3d("+(a=n[i.cell]).left+"px,"+a.top+"px,0px)")&&(o=s(i))&&(o.style[t.Css.transform]=i.lastTransform=u,o.classList.add("virtual-position"),o.setAttribute("aria-posinset",i.cell+1),o.setAttribute("aria-setsize",l))},e.adjustRendered=function(t,e){var n=e.renderHeight-e.itmHeight,r=t.length,i=e.itmHeight<90?c:0;if(e.scrollDiff>0){e.topCell=Math.max(e.topViewCell-i,0),e.bottomCell=e.topCell;for(var o=0,a=e.topCell;a<r&&(o+=t[a].height,a>e.bottomCell&&(e.bottomCell=a),!(o>=n));a++);if(o<n)for(a=e.topCell-1;a>=0&&(o+=t[a].height,e.topCell=a,!(o>=n));a--);}else{for(e.bottomCell=Math.min(e.bottomViewCell+i,r-1),e.topCell=e.bottomCell,o=0,a=e.bottomCell;a>=0&&(o+=t[a].height,a<e.topCell&&(e.topCell=a),!(o>=n));a--);if(o<n)for(a=e.bottomCell;a<r&&(o+=t[a].height,e.bottomCell=a,!(o>=n));a++);}},e.getVirtualHeight=i,e.estimateHeight=function(t,e,n,r){if(!t||!e)return 0;var o=i(t,e),a=e.record/(t-1);return Math.abs(n-o)>o*r||a>.995?o:n},e.calcDimensions=function(t,e,n,r,i,s,u,l,c){var f=e.parentElement;t.viewWidth=f.offsetWidth,t.viewHeight=f.offsetHeight,t.viewTop=e.offsetTop,t.viewLeft=e.offsetLeft,t.renderHeight=t.viewHeight*c,t.viewWidth>0&&t.viewHeight>0&&(t.itmWidth=o(t.viewWidth,n),t.itmHeight=a(0,r),t.hdrWidth=o(t.viewWidth,i),t.hdrHeight=a(0,s),t.ftrWidth=o(t.viewWidth,u),t.ftrHeight=a(0,l),t.valid=!0)};var l=function(){function t(t,e,n){this.$implicit=t,this.index=e,this.count=n,this.bounds={}}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}();e.VirtualContext=l;var c=3,f=2})},function(t,e,n){var r,i,o,a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(a){if("object"==typeof t&&"object"==typeof t.exports){var s=a(!function(){var t=new Error('Cannot find module "."');throw t.code="MODULE_NOT_FOUND",t}(),e);void 0!==s&&(t.exports=s)}else i=[n,e,n(0)],void 0===(o="function"==typeof(r=a)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.handleError=function(e){t.prototype.handleError.call(this,e);try{var n=window,r=void 0;(r=n.IonicDevServer)&&r.handleError&&r.handleError(e),(r=(n.Ionic=n.Ionic||{}).Monitor)&&r.handleError&&r.handleError(e)}catch(t){}},e}(t("@angular/core").ErrorHandler);e.IonicErrorHandler=n})}]);